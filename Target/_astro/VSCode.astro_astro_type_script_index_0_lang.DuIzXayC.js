var C7=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Yse=C7((Qi,S7)=>{var D7=Object.defineProperty,Wp=(t,e)=>D7(t,"name",{value:e,configurable:!0});function ik(t,e){const i=Object.create(null);for(const s of t){const n=e(s);let o=i[n];o||(o=i[n]=[]),o.push(s)}return i}Wp(ik,"groupBy");function sk(t,e){const i=[],s=[];for(const n of t)e.has(n)||i.push(n);for(const n of e)t.has(n)||s.push(n);return{removed:i,added:s}}Wp(sk,"diffSets");function A7(t,e){const i=[],s=[];for(const[n,o]of t)e.has(n)||i.push(o);for(const[n,o]of e)t.has(n)||s.push(o);return{removed:i,added:s}}Wp(A7,"diffMaps");function nk(t,e){const i=new Set;for(const s of e)t.has(s)&&i.add(s);return i}Wp(nk,"intersection");class E7{constructor(e,i){this.toKey=i;for(const s of e)this.add(s)}static{Wp(this,"SetWithKey")}_map=new Map;get size(){return this._map.size}add(e){const i=this.toKey(e);return this._map.set(i,e),this}delete(e){return this._map.delete(this.toKey(e))}has(e){return this._map.has(this.toKey(e))}*entries(){for(const e of this._map.values())yield[e,e]}keys(){return this.values()}*values(){for(const e of this._map.values())yield e}clear(){this._map.clear()}forEach(e,i){this._map.forEach(s=>e.call(i,s,s,this))}[Symbol.iterator](){return this.values()}[Symbol.toStringTag]="SetWithKey"}var I7=Object.defineProperty,rs=(t,e)=>I7(t,"name",{value:e,configurable:!0});class T7{static{rs(this,"ErrorHandler")}unexpectedErrorHandler;listeners;constructor(){this.listeners=[],this.unexpectedErrorHandler=e=>{setTimeout(()=>{throw e.stack?Sh.isErrorNoTelemetry(e)?new Sh(e.message+`

`+e.stack):new Error(e.message+`

`+e.stack):e},0)}}addListener(e){return this.listeners.push(e),()=>{this._removeListener(e)}}emit(e){this.listeners.forEach(i=>{i(e)})}_removeListener(e){this.listeners.splice(this.listeners.indexOf(e),1)}setUnexpectedErrorHandler(e){this.unexpectedErrorHandler=e}getUnexpectedErrorHandler(){return this.unexpectedErrorHandler}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}}const qw=new T7;function ok(t){qw.setUnexpectedErrorHandler(t)}rs(ok,"setUnexpectedErrorHandler");function k7(t){if(!t||typeof t!="object")return!1;const e=t;return e.code==="EPIPE"&&e.syscall?.toUpperCase()==="WRITE"}rs(k7,"isSigPipeError");function Kf(t){qw.onUnexpectedError(t)}rs(Kf,"onBugIndicatingError");function ss(t){qh(t)||qw.onUnexpectedError(t)}rs(ss,"onUnexpectedError");function x7(t){qh(t)||qw.onUnexpectedExternalError(t)}rs(x7,"onUnexpectedExternalError");function L7(t){if(t instanceof Error){const{name:e,message:i}=t,s=t.stacktrace||t.stack;return{$isError:!0,name:e,message:i,stack:s,noTelemetry:Sh.isErrorNoTelemetry(t)}}return t}rs(L7,"transformErrorForSerialization");function P7(t){let e;return t.noTelemetry?e=new Sh:(e=new Error,e.name=t.name),e.message=t.message,e.stack=t.stack,e}rs(P7,"transformErrorFromSerialization");const bv="Canceled";function qh(t){return t instanceof qr?!0:t instanceof Error&&t.name===bv&&t.message===bv}rs(qh,"isCancellationError");class qr extends Error{static{rs(this,"CancellationError")}constructor(){super(bv),this.name=this.message}}function R7(){const t=new Error(bv);return t.name=t.message,t}rs(R7,"canceled");function Yw(t){return t?new Error(`Illegal argument: ${t}`):new Error("Illegal argument")}rs(Yw,"illegalArgument");function BS(t){return t?new Error(`Illegal state: ${t}`):new Error("Illegal state")}rs(BS,"illegalState");class Qse extends TypeError{static{rs(this,"ReadonlyError")}constructor(e){super(e?`${e} is read-only and cannot be changed`:"Cannot change read-only property")}}function MS(t){return t?t.message?t.message:t.stack?t.stack.split(`
`)[0]:String(t):"Error"}rs(MS,"getErrorMessage");class Jse extends Error{static{rs(this,"NotImplementedError")}constructor(e){super("NotImplemented"),e&&(this.message=e)}}class ene extends Error{static{rs(this,"NotSupportedError")}constructor(e){super("NotSupported"),e&&(this.message=e)}}class tne extends Error{static{rs(this,"ExpectedError")}isExpected=!0}class Sh extends Error{static{rs(this,"ErrorNoTelemetry")}name;constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof Sh)return e;const i=new Sh;return i.message=e.message,i.stack=e.stack,i}static isErrorNoTelemetry(e){return e.name==="CodeExpectedError"}}class Ro extends Error{static{rs(this,"BugIndicatingError")}constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,Ro.prototype)}}var N7=Object.defineProperty,O7=(t,e)=>N7(t,"name",{value:e,configurable:!0});function Up(t,e){let i=!1,s;return()=>{if(i)return s;if(i=!0,e)try{s=t.apply(this,arguments)}finally{e()}else s=t.apply(this,arguments);return s}}O7(Up,"createSingleCallFunction");var B7=Object.defineProperty,lo=(t,e)=>B7(t,"name",{value:e,configurable:!0});function M7(t,e){const i=rk(t,e);if(i!==-1)return t[i]}lo(M7,"findLast");function rk(t,e,i=t.length-1){for(let s=i;s>=0;s--){const n=t[s];if(e(n))return s}return-1}lo(rk,"findLastIdx");function F7(t,e){const i=FS(t,e);return i===-1?void 0:t[i]}lo(F7,"findLastMonotonous");function FS(t,e,i=0,s=t.length){let n=i,o=s;for(;n<o;){const r=Math.floor((n+o)/2);e(t[r])?n=r+1:o=r}return n-1}lo(FS,"findLastIdxMonotonous");function V7(t,e){const i=Xw(t,e);return i===t.length?void 0:t[i]}lo(V7,"findFirstMonotonous");function Xw(t,e,i=0,s=t.length){let n=i,o=s;for(;n<o;){const r=Math.floor((n+o)/2);e(t[r])?o=r:n=r+1}return n}lo(Xw,"findFirstIdxMonotonousOrArrLen");function H7(t,e,i=0,s=t.length){const n=Xw(t,e,i,s);return n===t.length?-1:n}lo(H7,"findFirstIdxMonotonous");class ine{constructor(e){this._array=e}static{lo(this,"MonotonousArray")}static assertInvariants=!1;_findLastMonotonousLastIdx=0;_prevFindLastPredicate;findLastMonotonous(e){const i=FS(this._array,e,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=i+1,i===-1?void 0:this._array[i]}}function ak(t,e){if(t.length===0)return;let i=t[0];for(let s=1;s<t.length;s++){const n=t[s];e(n,i)>0&&(i=n)}return i}lo(ak,"findFirstMax");function W7(t,e){if(t.length===0)return;let i=t[0];for(let s=1;s<t.length;s++){const n=t[s];e(n,i)>=0&&(i=n)}return i}lo(W7,"findLastMax");function U7(t,e){return ak(t,(i,s)=>-e(i,s))}lo(U7,"findFirstMin");function z7(t,e){if(t.length===0)return-1;let i=0;for(let s=1;s<t.length;s++){const n=t[s];e(n,t[i])>0&&(i=s)}return i}lo(z7,"findMaxIdx");function $7(t,e){for(const i of t){const s=e(i);if(s!==void 0)return s}}lo($7,"mapFindFirst");var K7=Object.defineProperty,Ge=(t,e)=>K7(t,"name",{value:e,configurable:!0});function wn(t,e=0){return t[t.length-(1+e)]}Ge(wn,"tail");function Ei(t){if(t.length===0)throw new Error("Invalid tail call");return[t.slice(0,t.length-1),t[t.length-1]]}Ge(Ei,"tail2");function Pn(t,e,i=(s,n)=>s===n){if(t===e)return!0;if(!t||!e||t.length!==e.length)return!1;for(let s=0,n=t.length;s<n;s++)if(!i(t[s],e[s]))return!1;return!0}Ge(Pn,"equals");function lk(t,e){const i=t.length-1;e<i&&(t[e]=t[i]),t.pop()}Ge(lk,"removeFastWithoutKeepingOrder");function ck(t,e,i){return hk(t.length,s=>i(t[s],e))}Ge(ck,"binarySearch");function hk(t,e){let i=0,s=t-1;for(;i<=s;){const n=(i+s)/2|0,o=e(n);if(o<0)i=n+1;else if(o>0)s=n-1;else return n}return-(i+1)}Ge(hk,"binarySearch2");function g_(t,e,i){if(t=t|0,t>=e.length)throw new TypeError("invalid index");const s=e[Math.floor(e.length*Math.random())],n=[],o=[],r=[];for(const a of e){const l=i(a,s);l<0?n.push(a):l>0?o.push(a):r.push(a)}return t<n.length?g_(t,n,i):t<n.length+r.length?r[0]:g_(t-(n.length+r.length),o,i)}Ge(g_,"quickSelect");function G7(t,e){const i=[];let s;for(const n of t.slice(0).sort(e))!s||e(s[0],n)!==0?(s=[n],i.push(s)):s.push(n);return i}Ge(G7,"groupBy");function*j7(t,e){let i,s;for(const n of t)s!==void 0&&e(s,n)?i.push(n):(i&&(yield i),i=[n]),s=n;i&&(yield i)}Ge(j7,"groupAdjacentBy");function q7(t,e){for(let i=0;i<=t.length;i++)e(i===0?void 0:t[i-1],i===t.length?void 0:t[i])}Ge(q7,"forEachAdjacent");function Y7(t,e){for(let i=0;i<t.length;i++)e(i===0?void 0:t[i-1],t[i],i+1===t.length?void 0:t[i+1])}Ge(Y7,"forEachWithNeighbors");function dk(t,e,i){const s=[];function n(a,l,h){if(l===0&&h.length===0)return;const d=s[s.length-1];d&&d.start+d.deleteCount===a?(d.deleteCount+=l,d.toInsert.push(...h)):s.push({start:a,deleteCount:l,toInsert:h})}Ge(n,"pushSplice");let o=0,r=0;for(;;){if(o===t.length){n(o,0,e.slice(r));break}if(r===e.length){n(o,t.length-o,[]);break}const a=t[o],l=e[r],h=i(a,l);h===0?(o+=1,r+=1):h<0?(n(o,1,[]),o+=1):h>0&&(n(o,0,[l]),r+=1)}return s}Ge(dk,"sortedDiff");function X7(t,e,i){const s=dk(t,e,i),n=[],o=[];for(const r of s)n.push(...t.slice(r.start,r.start+r.deleteCount)),o.push(...r.toInsert);return{removed:n,added:o}}Ge(X7,"delta");function Z7(t,e,i){if(i===0)return[];const s=t.slice(0,i).sort(e);return VS(t,e,s,i,t.length),s}Ge(Z7,"top");function Q7(t,e,i,s,n){return i===0?Promise.resolve([]):new Promise((o,r)=>{(async()=>{const a=t.length,l=t.slice(0,i).sort(e);for(let h=i,d=Math.min(i+s,a);h<a;h=d,d=Math.min(d+s,a)){if(h>i&&await new Promise(u=>setTimeout(u)),n&&n.isCancellationRequested)throw new qr;VS(t,e,l,h,d)}return l})().then(o,r)})}Ge(Q7,"topAsync");function VS(t,e,i,s,n){for(const o=i.length;s<n;s++){const r=t[s];if(e(r,i[o-1])<0){i.pop();const a=Xw(i,l=>e(r,l)<0);i.splice(a,0,r)}}}Ge(VS,"topStep");function Tn(t){return t.filter(e=>!!e)}Ge(Tn,"coalesce");function f_(t){let e=0;for(let i=0;i<t.length;i++)t[i]&&(t[e]=t[i],e+=1);t.length=e}Ge(f_,"coalesceInPlace");function J7(t,e,i){t.splice(i,0,t.splice(e,1)[0])}Ge(J7,"move");function e2(t){return!Array.isArray(t)||t.length===0}Ge(e2,"isFalsyOrEmpty");function Gf(t){return Array.isArray(t)&&t.length>0}Ge(Gf,"isNonEmptyArray");function vu(t,e=i=>i){const i=new Set;return t.filter(s=>{const n=e(s);return i.has(n)?!1:(i.add(n),!0)})}Ge(vu,"distinct");function t2(t){const e=new Set;return i=>{const s=t(i);return e.has(s)?!1:(e.add(s),!0)}}Ge(t2,"uniqueFilter");function i2(t,e,i=(s,n)=>s===n){let s=0;for(let n=0,o=Math.min(t.length,e.length);n<o&&i(t[n],e[n]);n++)s++;return s}Ge(i2,"commonPrefixLength");function Ds(t,e){let i=typeof e=="number"?t:0;typeof e=="number"?i=t:(i=0,e=t);const s=[];if(i<=e)for(let n=i;n<e;n++)s.push(n);else for(let n=i;n>e;n--)s.push(n);return s}Ge(Ds,"range");function s2(t,e,i){return t.reduce((s,n)=>(s[e(n)]=i?i(n):n,s),Object.create(null))}Ge(s2,"index");function n2(t,e){return t.push(e),()=>uk(t,e)}Ge(n2,"insert");function uk(t,e){const i=t.indexOf(e);if(i>-1)return t.splice(i,1),e}Ge(uk,"remove");function o2(t,e,i){const s=t.slice(0,e),n=t.slice(e);return s.concat(i,n)}Ge(o2,"arrayInsert");function p_(t,e){let i;if(typeof e=="number"){let s=e;i=Ge(()=>{const n=Math.sin(s++)*179426549;return n-Math.floor(n)},"rand")}else i=Math.random;for(let s=t.length-1;s>0;s-=1){const n=Math.floor(i()*(s+1)),o=t[s];t[s]=t[n],t[n]=o}}Ge(p_,"shuffle");function Cb(t,e){const i=t.indexOf(e);i>-1&&(t.splice(i,1),t.unshift(e))}Ge(Cb,"pushToStart");function zg(t,e){const i=t.indexOf(e);i>-1&&(t.splice(i,1),t.push(e))}Ge(zg,"pushToEnd");function r2(t,e){for(const i of e)t.push(i)}Ge(r2,"pushMany");function a2(t,e){return Array.isArray(t)?t.map(e):e(t)}Ge(a2,"mapArrayOrNot");function gk(t){return Array.isArray(t)?t:[t]}Ge(gk,"asArray");function l2(t){return t[Math.floor(Math.random()*t.length)]}Ge(l2,"getRandomElement");function fk(t,e,i){const s=HS(t,e),n=t.length,o=i.length;t.length=n+o;for(let r=n-1;r>=s;r--)t[r+o]=t[r];for(let r=0;r<o;r++)t[r+s]=i[r]}Ge(fk,"insertInto");function m_(t,e,i,s){const n=HS(t,e);let o=t.splice(n,i);return o===void 0&&(o=[]),fk(t,n,s),o}Ge(m_,"splice");function HS(t,e){return e<0?Math.max(e+t.length,0):Math.min(e,t.length)}Ge(HS,"getActualStartIndex");var jf;(t=>{function e(o){return o<0}t.isLessThan=e,Ge(e,"isLessThan");function i(o){return o<=0}t.isLessThanOrEqual=i,Ge(i,"isLessThanOrEqual");function s(o){return o>0}t.isGreaterThan=s,Ge(s,"isGreaterThan");function n(o){return o===0}t.isNeitherLessOrGreaterThan=n,Ge(n,"isNeitherLessOrGreaterThan"),t.greaterThan=1,t.lessThan=-1,t.neitherLessOrGreaterThan=0})(jf||(jf={}));function pk(t,e){return(i,s)=>e(t(i),t(s))}Ge(pk,"compareBy");function c2(...t){return(e,i)=>{for(const s of t){const n=s(e,i);if(!jf.isNeitherLessOrGreaterThan(n))return n}return jf.neitherLessOrGreaterThan}}Ge(c2,"tieBreakComparators");const h2=Ge((t,e)=>t-e,"numberComparator");function d2(t){return(e,i)=>-t(e,i)}Ge(d2,"reverseOrder");class sne{constructor(e){this.items=e}static{Ge(this,"ArrayQueue")}firstIdx=0;lastIdx=this.items.length-1;get length(){return this.lastIdx-this.firstIdx+1}takeWhile(e){let i=this.firstIdx;for(;i<this.items.length&&e(this.items[i]);)i++;const s=i===this.firstIdx?null:this.items.slice(this.firstIdx,i);return this.firstIdx=i,s}takeFromEndWhile(e){let i=this.lastIdx;for(;i>=0&&e(this.items[i]);)i--;const s=i===this.lastIdx?null:this.items.slice(i+1,this.lastIdx+1);return this.lastIdx=i,s}peek(){if(this.length!==0)return this.items[this.firstIdx]}peekLast(){if(this.length!==0)return this.items[this.lastIdx]}dequeue(){const e=this.items[this.firstIdx];return this.firstIdx++,e}removeLast(){const e=this.items[this.lastIdx];return this.lastIdx--,e}takeCount(e){const i=this.items.slice(this.firstIdx,this.firstIdx+e);return this.firstIdx+=e,i}}class Db{constructor(e){this.iterate=e}static{Ge(this,"CallbackIterable")}static empty=new Db(e=>{});forEach(e){this.iterate(i=>(e(i),!0))}toArray(){const e=[];return this.iterate(i=>(e.push(i),!0)),e}filter(e){return new Db(i=>this.iterate(s=>e(s)?i(s):!0))}map(e){return new Db(i=>this.iterate(s=>i(e(s))))}some(e){let i=!1;return this.iterate(s=>(i=e(s),!i)),i}findFirst(e){let i;return this.iterate(s=>e(s)?(i=s,!1):!0),i}findLast(e){let i;return this.iterate(s=>(e(s)&&(i=s),!0)),i}findLastMaxBy(e){let i,s=!0;return this.iterate(n=>((s||jf.isGreaterThan(e(n,i)))&&(s=!1,i=n),!0)),i}}class b_{constructor(e){this._indexMap=e}static{Ge(this,"Permutation")}static createSortPermutation(e,i){const s=Array.from(e.keys()).sort((n,o)=>i(e[n],e[o]));return new b_(s)}apply(e){return e.map((i,s)=>e[this._indexMap[s]])}inverse(){const e=this._indexMap.slice();for(let i=0;i<this._indexMap.length;i++)e[this._indexMap[i]]=i;return new b_(e)}}async function u2(t,e){return(await Promise.all(t.map(async(s,n)=>({element:s,ok:await e(s,n)})))).find(s=>s.ok)?.element}Ge(u2,"findAsync");var g2=Object.defineProperty,bs=(t,e)=>g2(t,"name",{value:e,configurable:!0}),ut;(t=>{function e(B){return B&&typeof B=="object"&&typeof B[Symbol.iterator]=="function"}t.is=e,bs(e,"is");const i=Object.freeze([]);function s(){return i}t.empty=s,bs(s,"empty");function*n(B){yield B}t.single=n,bs(n,"single");function o(B){return e(B)?B:n(B)}t.wrap=o,bs(o,"wrap");function r(B){return B||i}t.from=r,bs(r,"from");function*a(B){for(let M=B.length-1;M>=0;M--)yield B[M]}t.reverse=a,bs(a,"reverse");function l(B){return!B||B[Symbol.iterator]().next().done===!0}t.isEmpty=l,bs(l,"isEmpty");function h(B){return B[Symbol.iterator]().next().value}t.first=h,bs(h,"first");function d(B,M){let X=0;for(const ee of B)if(M(ee,X++))return!0;return!1}t.some=d,bs(d,"some");function u(B,M){for(const X of B)if(M(X))return X}t.find=u,bs(u,"find");function*g(B,M){for(const X of B)M(X)&&(yield X)}t.filter=g,bs(g,"filter");function*p(B,M){let X=0;for(const ee of B)yield M(ee,X++)}t.map=p,bs(p,"map");function*m(B,M){let X=0;for(const ee of B)yield*M(ee,X++)}t.flatMap=m,bs(m,"flatMap");function*b(...B){for(const M of B)yield*M}t.concat=b,bs(b,"concat");function C(B,M,X){let ee=X;for(const z of B)ee=M(ee,z);return ee}t.reduce=C,bs(C,"reduce");function*x(B,M,X=B.length){for(M<0&&(M+=B.length),X<0?X+=B.length:X>B.length&&(X=B.length);M<X;M++)yield B[M]}t.slice=x,bs(x,"slice");function E(B,M=Number.POSITIVE_INFINITY){const X=[];if(M===0)return[X,B];const ee=B[Symbol.iterator]();for(let z=0;z<M;z++){const se=ee.next();if(se.done)return[X,t.empty()];X.push(se.value)}return[X,{[Symbol.iterator](){return ee}}]}t.consume=E,bs(E,"consume");async function F(B){const M=[];for await(const X of B)M.push(X);return Promise.resolve(M)}t.asyncToArray=F,bs(F,"asyncToArray")})(ut||(ut={}));var f2=Object.defineProperty,_s=(t,e)=>f2(t,"name",{value:e,configurable:!0});function vv(t,e,i){let s=t.get(e);return s===void 0&&(s=i,t.set(e,s)),s}_s(vv,"getOrSet");function p2(t){const e=[];return t.forEach((i,s)=>{e.push(`${s} => ${i}`)}),`Map(${t.size}) {${e.join(", ")}}`}_s(p2,"mapToString");function m2(t){const e=[];return t.forEach(i=>{e.push(i)}),`Set(${t.size}) {${e.join(", ")}}`}_s(m2,"setToString");class b2{constructor(e,i){this.uri=e,this.value=i}static{_s(this,"ResourceMapEntry")}}function mk(t){return Array.isArray(t)}_s(mk,"isEntries");class xs{static{_s(this,"ResourceMap")}static defaultToKey=_s(e=>e.toString(),"defaultToKey");[Symbol.toStringTag]="ResourceMap";map;toKey;constructor(e,i){if(e instanceof xs)this.map=new Map(e.map),this.toKey=i??xs.defaultToKey;else if(mk(e)){this.map=new Map,this.toKey=i??xs.defaultToKey;for(const[s,n]of e)this.set(s,n)}else this.map=new Map,this.toKey=e??xs.defaultToKey}set(e,i){return this.map.set(this.toKey(e),new b2(e,i)),this}get(e){return this.map.get(this.toKey(e))?.value}has(e){return this.map.has(this.toKey(e))}get size(){return this.map.size}clear(){this.map.clear()}delete(e){return this.map.delete(this.toKey(e))}forEach(e,i){typeof i<"u"&&(e=e.bind(i));for(const[s,n]of this.map)e(n.value,n.uri,this)}*values(){for(const e of this.map.values())yield e.value}*keys(){for(const e of this.map.values())yield e.uri}*entries(){for(const e of this.map.values())yield[e.uri,e.value]}*[Symbol.iterator](){for(const[,e]of this.map)yield[e.uri,e.value]}}class nne{static{_s(this,"ResourceSet")}[Symbol.toStringTag]="ResourceSet";_map;constructor(e,i){!e||typeof e=="function"?this._map=new xs(e):(this._map=new xs(i),e.forEach(this.add,this))}get size(){return this._map.size}add(e){return this._map.set(e,e),this}clear(){this._map.clear()}delete(e){return this._map.delete(e)}forEach(e,i){this._map.forEach((s,n)=>e.call(i,n,n,this))}has(e){return this._map.has(e)}entries(){return this._map.entries()}keys(){return this._map.keys()}values(){return this._map.keys()}[Symbol.iterator](){return this.keys()}}class v2{static{_s(this,"LinkedMap")}[Symbol.toStringTag]="LinkedMap";_map;_head;_tail;_size;_state;constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,i=0){const s=this._map.get(e);if(s)return i!==0&&this.touch(s,i),s.value}set(e,i,s=0){let n=this._map.get(e);if(n)n.value=i,s!==0&&this.touch(n,s);else{switch(n={key:e,value:i,next:void 0,previous:void 0},s){case 0:this.addItemLast(n);break;case 1:this.addItemFirst(n);break;case 2:this.addItemLast(n);break;default:this.addItemLast(n);break}this._map.set(e,n),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const i=this._map.get(e);if(i)return this._map.delete(e),this.removeItem(i),this._size--,i.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,i){const s=this._state;let n=this._head;for(;n;){if(i?e.bind(i)(n.value,n.key,this):e(n.value,n.key,this),this._state!==s)throw new Error("LinkedMap got modified during iteration.");n=n.next}}keys(){const e=this,i=this._state;let s=this._head;const n={[Symbol.iterator](){return n},next(){if(e._state!==i)throw new Error("LinkedMap got modified during iteration.");if(s){const o={value:s.key,done:!1};return s=s.next,o}else return{value:void 0,done:!0}}};return n}values(){const e=this,i=this._state;let s=this._head;const n={[Symbol.iterator](){return n},next(){if(e._state!==i)throw new Error("LinkedMap got modified during iteration.");if(s){const o={value:s.value,done:!1};return s=s.next,o}else return{value:void 0,done:!0}}};return n}entries(){const e=this,i=this._state;let s=this._head;const n={[Symbol.iterator](){return n},next(){if(e._state!==i)throw new Error("LinkedMap got modified during iteration.");if(s){const o={value:[s.key,s.value],done:!1};return s=s.next,o}else return{value:void 0,done:!0}}};return n}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let i=this._head,s=this.size;for(;i&&s>e;)this._map.delete(i.key),i=i.next,s--;this._head=i,this._size=s,i&&(i.previous=void 0),this._state++}trimNew(e){if(e>=this.size)return;if(e===0){this.clear();return}let i=this._tail,s=this.size;for(;i&&s>e;)this._map.delete(i.key),i=i.previous,s--;this._tail=i,this._size=s,i&&(i.next=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const i=e.next,s=e.previous;if(!i||!s)throw new Error("Invalid list");i.previous=s,s.next=i}e.next=void 0,e.previous=void 0,this._state++}touch(e,i){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(i!==1&&i!==2)){if(i===1){if(e===this._head)return;const s=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(s.previous=n,n.next=s),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(i===2){if(e===this._tail)return;const s=e.next,n=e.previous;e===this._head?(s.previous=void 0,this._head=s):(s.previous=n,n.next=s),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((i,s)=>{e.push([s,i])}),e}fromJSON(e){this.clear();for(const[i,s]of e)this.set(i,s)}}let bk=class extends v2{static{_s(this,"Cache")}_limit;_ratio;constructor(e,i=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,i),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,i=2){return super.get(e,i)}peek(e){return super.get(e,0)}set(e,i){return super.set(e,i,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}};class w2 extends bk{static{_s(this,"LRUCache")}constructor(e,i=1){super(e,i)}trim(e){this.trimOld(e)}set(e,i){return super.set(e,i),this.checkTrim(),this}}class rne extends bk{static{_s(this,"MRUCache")}constructor(e,i=1){super(e,i)}trim(e){this.trimNew(e)}set(e,i){return this._limit<=this.size&&!this.has(e)&&this.trim(Math.round(this._limit*this._ratio)-1),super.set(e,i),this}}class ane{static{_s(this,"CounterSet")}map=new Map;add(e){return this.map.set(e,(this.map.get(e)||0)+1),this}delete(e){let i=this.map.get(e)||0;return i===0?!1:(i--,i===0?this.map.delete(e):this.map.set(e,i),!0)}has(e){return this.map.has(e)}}class lne{static{_s(this,"BidirectionalMap")}_m1=new Map;_m2=new Map;constructor(e){if(e)for(const[i,s]of e)this.set(i,s)}clear(){this._m1.clear(),this._m2.clear()}set(e,i){this._m1.set(e,i),this._m2.set(i,e)}get(e){return this._m1.get(e)}getKey(e){return this._m2.get(e)}delete(e){const i=this._m1.get(e);return i===void 0?!1:(this._m1.delete(e),this._m2.delete(i),!0)}forEach(e,i){this._m1.forEach((s,n)=>{e.call(i,s,n,this)})}keys(){return this._m1.keys()}values(){return this._m1.values()}}class WS{static{_s(this,"SetMap")}map=new Map;add(e,i){let s=this.map.get(e);s||(s=new Set,this.map.set(e,s)),s.add(i)}delete(e,i){const s=this.map.get(e);s&&(s.delete(i),s.size===0&&this.map.delete(e))}forEach(e,i){const s=this.map.get(e);s&&s.forEach(i)}get(e){const i=this.map.get(e);return i||new Set}}function vk(t,e){if(t===e)return!0;if(t.size!==e.size)return!1;for(const[i,s]of t)if(!e.has(i)||e.get(i)!==s)return!1;for(const[i]of e)if(!t.has(i))return!1;return!0}_s(vk,"mapsStrictEqualIgnoreOrder");class zE{static{_s(this,"TwoKeyMap")}_data={};set(e,i,s){this._data[e]||(this._data[e]={}),this._data[e][i]=s}get(e,i){return this._data[e]?.[i]}clear(){this._data={}}*values(){for(const e in this._data)for(const i in this._data[e]){const s=this._data[e][i];s&&(yield s)}}}class cne{static{_s(this,"FourKeyMap")}_data=new zE;set(e,i,s,n,o){this._data.get(e,i)||this._data.set(e,i,new zE),this._data.get(e,i).set(s,n,o)}get(e,i,s,n){return this._data.get(e,i)?.get(s,n)}clear(){this._data.clear()}}var y2=Object.defineProperty,ri=(t,e)=>y2(t,"name",{value:e,configurable:!0});let Ch=null;class wk{static{ri(this,"DisposableTracker")}static idx=0;livingDisposables=new Map;getDisposableData(e){let i=this.livingDisposables.get(e);return i||(i={parent:null,source:null,isSingleton:!1,value:e,idx:wk.idx++},this.livingDisposables.set(e,i)),i}trackDisposable(e){const i=this.getDisposableData(e);i.source||(i.source=new Error().stack)}setParent(e,i){const s=this.getDisposableData(e);s.parent=i}markAsDisposed(e){this.livingDisposables.delete(e)}markAsSingleton(e){this.getDisposableData(e).isSingleton=!0}getRootParent(e,i){const s=i.get(e);if(s)return s;const n=e.parent?this.getRootParent(this.getDisposableData(e.parent),i):e;return i.set(e,n),n}getTrackedDisposables(){const e=new Map;return[...this.livingDisposables.entries()].filter(([,s])=>s.source!==null&&!this.getRootParent(s,e).isSingleton).flatMap(([s])=>s)}computeLeakingDisposables(e=10,i){let s;if(i)s=i;else{const l=new Map,h=[...this.livingDisposables.values()].filter(u=>u.source!==null&&!this.getRootParent(u,l).isSingleton);if(h.length===0)return;const d=new Set(h.map(u=>u.value));if(s=h.filter(u=>!(u.parent&&d.has(u.parent))),s.length===0)throw new Error("There are cyclic diposable chains!")}if(!s)return;function n(l){function h(u,g){for(;u.length>0&&g.some(p=>typeof p=="string"?p===u[0]:u[0].match(p));)u.shift()}ri(h,"removePrefix");const d=l.source.split(`
`).map(u=>u.trim().replace("at ","")).filter(u=>u!=="");return h(d,["Error",/^trackDisposable \(.*\)$/,/^DisposableTracker.trackDisposable \(.*\)$/]),d.reverse()}ri(n,"getStackTracePath");const o=new WS;for(const l of s){const h=n(l);for(let d=0;d<=h.length;d++)o.add(h.slice(0,d).join(`
`),l)}s.sort(pk(l=>l.idx,h2));let r="",a=0;for(const l of s.slice(0,e)){a++;const h=n(l),d=[];for(let u=0;u<h.length;u++){let g=h[u];g=`(shared with ${o.get(h.slice(0,u+1).join(`
`)).size}/${s.length} leaks) at ${g}`;const m=o.get(h.slice(0,u).join(`
`)),b=ik([...m].map(C=>n(C)[u]),C=>C);delete b[h[u]];for(const[C,x]of Object.entries(b))d.unshift(`    - stacktraces of ${x.length} other leaks continue with ${C}`);d.unshift(g)}r+=`


==================== Leaking disposable ${a}/${s.length}: ${l.value.constructor.name} ====================
${d.join(`
`)}
============================================================

`}return s.length>e&&(r+=`


... and ${s.length-e} more leaking disposables

`),{leaks:s,details:r}}}function _2(t){Ch=t}ri(_2,"setDisposableTracker");function uc(t){return Ch?.trackDisposable(t),t}ri(uc,"trackDisposable");function gc(t){Ch?.markAsDisposed(t)}ri(gc,"markAsDisposed");function wu(t,e){Ch?.setParent(t,e)}ri(wu,"setParentOfDisposable");function yk(t,e){if(Ch)for(const i of t)Ch.setParent(i,e)}ri(yk,"setParentOfDisposables");function yu(t){return Ch?.markAsSingleton(t),t}ri(yu,"markAsSingleton");function zp(t){return typeof t=="object"&&t!==null&&typeof t.dispose=="function"&&t.dispose.length===0}ri(zp,"isDisposable");function ai(t){if(ut.is(t)){const e=[];for(const i of t)if(i)try{i.dispose()}catch(s){e.push(s)}if(e.length===1)throw e[0];if(e.length>1)throw new AggregateError(e,"Encountered errors while disposing of store");return Array.isArray(t)?[]:t}else if(t)return t.dispose(),t}ri(ai,"dispose");function S2(t){for(const e of t)zp(e)&&e.dispose();return[]}ri(S2,"disposeIfDisposable");function Hr(...t){const e=Se(()=>ai(t));return yk(t,e),e}ri(Hr,"combinedDisposable");function Se(t){const e=uc({dispose:Up(()=>{gc(e),t()})});return e}ri(Se,"toDisposable");class Z{static{ri(this,"DisposableStore")}static DISABLE_DISPOSED_WARNING=!1;_toDispose=new Set;_isDisposed=!1;constructor(){uc(this)}dispose(){this._isDisposed||(gc(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{ai(this._toDispose)}finally{this._toDispose.clear()}}add(e){if(!e)return e;if(e===this)throw new Error("Cannot register a disposable on itself!");return wu(e,this),this._isDisposed?Z.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(e),e}delete(e){if(e){if(e===this)throw new Error("Cannot dispose a disposable on itself!");this._toDispose.delete(e),e.dispose()}}deleteAndLeak(e){e&&this._toDispose.has(e)&&(this._toDispose.delete(e),wu(e,null))}}class q{static{ri(this,"Disposable")}static None=Object.freeze({dispose(){}});_store=new Z;constructor(){uc(this),wu(this._store,this)}dispose(){gc(this),this._store.dispose()}_register(e){if(e===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(e)}}class fr{static{ri(this,"MutableDisposable")}_value;_isDisposed=!1;constructor(){uc(this)}get value(){return this._isDisposed?void 0:this._value}set value(e){this._isDisposed||e===this._value||(this._value?.dispose(),e&&wu(e,this),this._value=e)}clear(){this.value=void 0}dispose(){this._isDisposed=!0,gc(this),this._value?.dispose(),this._value=void 0}clearAndLeak(){const e=this._value;return this._value=void 0,e&&wu(e,null),e}}class hne{static{ri(this,"MandatoryMutableDisposable")}_disposable=new fr;_isDisposed=!1;constructor(e){this._disposable.value=e}get value(){return this._disposable.value}set value(e){this._isDisposed||e===this._disposable.value||(this._disposable.value=e)}dispose(){this._isDisposed=!0,this._disposable.dispose()}}class dne{constructor(e){this._disposable=e}static{ri(this,"RefCountedDisposable")}_counter=1;acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}class une{static{ri(this,"SafeDisposable")}dispose=ri(()=>{},"dispose");unset=ri(()=>{},"unset");isset=ri(()=>!1,"isset");constructor(){uc(this)}set(e){let i=e;return this.unset=()=>i=void 0,this.isset=()=>i!==void 0,this.dispose=()=>{i&&(i(),i=void 0,gc(this))},this}}class gne{static{ri(this,"ReferenceCollection")}references=new Map;acquire(e,...i){let s=this.references.get(e);s||(s={counter:0,object:this.createReferencedObject(e,...i)},this.references.set(e,s));const{object:n}=s,o=Up(()=>{--s.counter===0&&(this.destroyReferencedObject(e,s.object),this.references.delete(e))});return s.counter++,{object:n,dispose:o}}}class fne{constructor(e){this.referenceCollection=e}static{ri(this,"AsyncReferenceCollection")}async acquire(e,...i){const s=this.referenceCollection.acquire(e,...i);try{return{object:await s.object,dispose:ri(()=>s.dispose(),"dispose")}}catch(n){throw s.dispose(),n}}}class pne{constructor(e){this.object=e}static{ri(this,"ImmortalReference")}dispose(){}}function C2(t){const e=new Z;try{t(e)}finally{e.dispose()}}ri(C2,"disposeOnReturn");class fc{static{ri(this,"DisposableMap")}_store=new Map;_isDisposed=!1;constructor(){uc(this)}dispose(){gc(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{ai(this._store.values())}finally{this._store.clear()}}has(e){return this._store.has(e)}get size(){return this._store.size}get(e){return this._store.get(e)}set(e,i,s=!1){this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),s||this._store.get(e)?.dispose(),this._store.set(e,i)}deleteAndDispose(e){this._store.get(e)?.dispose(),this._store.delete(e)}deleteAndLeak(e){const i=this._store.get(e);return this._store.delete(e),i}keys(){return this._store.keys()}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}}var D2=Object.defineProperty,_k=(t,e)=>D2(t,"name",{value:e,configurable:!0});let ki=class Ab{static{_k(this,"Node")}static Undefined=new Ab(void 0);element;next;prev;constructor(e){this.element=e,this.next=Ab.Undefined,this.prev=Ab.Undefined}};class Xa{static{_k(this,"LinkedList")}_first=ki.Undefined;_last=ki.Undefined;_size=0;get size(){return this._size}isEmpty(){return this._first===ki.Undefined}clear(){let e=this._first;for(;e!==ki.Undefined;){const i=e.next;e.prev=ki.Undefined,e.next=ki.Undefined,e=i}this._first=ki.Undefined,this._last=ki.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,i){const s=new ki(e);if(this._first===ki.Undefined)this._first=s,this._last=s;else if(i){const o=this._last;this._last=s,s.prev=o,o.next=s}else{const o=this._first;this._first=s,s.next=o,o.prev=s}this._size+=1;let n=!1;return()=>{n||(n=!0,this._remove(s))}}shift(){if(this._first!==ki.Undefined){const e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==ki.Undefined){const e=this._last.element;return this._remove(this._last),e}}_remove(e){if(e.prev!==ki.Undefined&&e.next!==ki.Undefined){const i=e.prev;i.next=e.next,e.next.prev=i}else e.prev===ki.Undefined&&e.next===ki.Undefined?(this._first=ki.Undefined,this._last=ki.Undefined):e.next===ki.Undefined?(this._last=this._last.prev,this._last.next=ki.Undefined):e.prev===ki.Undefined&&(this._first=this._first.next,this._first.prev=ki.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==ki.Undefined;)yield e.element,e=e.next}}var A2=Object.defineProperty,E2=(t,e)=>A2(t,"name",{value:e,configurable:!0});const I2=globalThis.performance&&typeof globalThis.performance.now=="function";class US{static{E2(this,"StopWatch")}_startTime;_stopTime;_now;static create(e){return new US(e)}constructor(e){this._now=I2&&e===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}var T2=Object.defineProperty,Le=(t,e)=>T2(t,"name",{value:e,configurable:!0}),R;(t=>{t.None=Le(()=>q.None,"None");function e(ve){}Le(e,"_addLeakageTraceLogic");function i(ve,ae){return p(ve,()=>{},0,void 0,!0,void 0,ae)}t.defer=i,Le(i,"defer");function s(ve){return(ae,Te=null,pe)=>{let Be=!1,Ne;return Ne=ve(gt=>{if(!Be)return Ne?Ne.dispose():Be=!0,ae.call(Te,gt)},null,pe),Be&&Ne.dispose(),Ne}}t.once=s,Le(s,"once");function n(ve,ae){return t.once(t.filter(ve,ae))}t.onceIf=n,Le(n,"onceIf");function o(ve,ae,Te){return u((pe,Be=null,Ne)=>ve(gt=>pe.call(Be,ae(gt)),null,Ne),Te)}t.map=o,Le(o,"map");function r(ve,ae,Te){return u((pe,Be=null,Ne)=>ve(gt=>{ae(gt),pe.call(Be,gt)},null,Ne),Te)}t.forEach=r,Le(r,"forEach");function a(ve,ae,Te){return u((pe,Be=null,Ne)=>ve(gt=>ae(gt)&&pe.call(Be,gt),null,Ne),Te)}t.filter=a,Le(a,"filter");function l(ve){return ve}t.signal=l,Le(l,"signal");function h(...ve){return(ae,Te=null,pe)=>{const Be=Hr(...ve.map(Ne=>Ne(gt=>ae.call(Te,gt))));return g(Be,pe)}}t.any=h,Le(h,"any");function d(ve,ae,Te,pe){let Be=Te;return o(ve,Ne=>(Be=ae(Be,Ne),Be),pe)}t.reduce=d,Le(d,"reduce");function u(ve,ae){let Te;const pe={onWillAddFirstListener(){Te=ve(Be.fire,Be)},onDidRemoveLastListener(){Te?.dispose()}},Be=new I(pe);return ae?.add(Be),Be.event}Le(u,"snapshot");function g(ve,ae){return ae instanceof Array?ae.push(ve):ae&&ae.add(ve),ve}Le(g,"addAndReturnDisposable");function p(ve,ae,Te=100,pe=!1,Be=!1,Ne,gt){let at,Ut,yt,_i=0,ms;const Js={leakWarningThreshold:Ne,onWillAddFirstListener(){at=ve(da=>{_i++,Ut=ae(Ut,da),pe&&!yt&&(Mn.fire(Ut),Ut=void 0),ms=Le(()=>{const gd=Ut;Ut=void 0,yt=void 0,(!pe||_i>1)&&Mn.fire(gd),_i=0},"doFire"),typeof Te=="number"?(clearTimeout(yt),yt=setTimeout(ms,Te)):yt===void 0&&(yt=0,queueMicrotask(ms))})},onWillRemoveListener(){Be&&_i>0&&ms?.()},onDidRemoveLastListener(){ms=void 0,at.dispose()}},Mn=new I(Js);return gt?.add(Mn),Mn.event}t.debounce=p,Le(p,"debounce");function m(ve,ae=0,Te){return t.debounce(ve,(pe,Be)=>pe?(pe.push(Be),pe):[Be],ae,void 0,!0,void 0,Te)}t.accumulate=m,Le(m,"accumulate");function b(ve,ae=(pe,Be)=>pe===Be,Te){let pe=!0,Be;return a(ve,Ne=>{const gt=pe||!ae(Ne,Be);return pe=!1,Be=Ne,gt},Te)}t.latch=b,Le(b,"latch");function C(ve,ae,Te){return[t.filter(ve,ae,Te),t.filter(ve,pe=>!ae(pe),Te)]}t.split=C,Le(C,"split");function x(ve,ae=!1,Te=[],pe){let Be=Te.slice(),Ne=ve(Ut=>{Be?Be.push(Ut):at.fire(Ut)});pe&&pe.add(Ne);const gt=Le(()=>{Be?.forEach(Ut=>at.fire(Ut)),Be=null},"flush"),at=new I({onWillAddFirstListener(){Ne||(Ne=ve(Ut=>at.fire(Ut)),pe&&pe.add(Ne))},onDidAddFirstListener(){Be&&(ae?setTimeout(gt):gt())},onDidRemoveLastListener(){Ne&&Ne.dispose(),Ne=null}});return pe&&pe.add(at),at.event}t.buffer=x,Le(x,"buffer");function E(ve,ae){return Le((pe,Be,Ne)=>{const gt=ae(new B);return ve(at=>{const Ut=gt.evaluate(at);Ut!==F&&pe.call(Be,Ut)},void 0,Ne)},"fn")}t.chain=E,Le(E,"chain");const F=Symbol("HaltChainable");class B{static{Le(this,"ChainableSynthesis")}steps=[];map(ae){return this.steps.push(ae),this}forEach(ae){return this.steps.push(Te=>(ae(Te),Te)),this}filter(ae){return this.steps.push(Te=>ae(Te)?Te:F),this}reduce(ae,Te){let pe=Te;return this.steps.push(Be=>(pe=ae(pe,Be),pe)),this}latch(ae=(Te,pe)=>Te===pe){let Te=!0,pe;return this.steps.push(Be=>{const Ne=Te||!ae(Be,pe);return Te=!1,pe=Be,Ne?Be:F}),this}evaluate(ae){for(const Te of this.steps)if(ae=Te(ae),ae===F)break;return ae}}function M(ve,ae,Te=pe=>pe){const pe=Le((...at)=>gt.fire(Te(...at)),"fn"),Be=Le(()=>ve.on(ae,pe),"onFirstListenerAdd"),Ne=Le(()=>ve.removeListener(ae,pe),"onLastListenerRemove"),gt=new I({onWillAddFirstListener:Be,onDidRemoveLastListener:Ne});return gt.event}t.fromNodeEventEmitter=M,Le(M,"fromNodeEventEmitter");function X(ve,ae,Te=pe=>pe){const pe=Le((...at)=>gt.fire(Te(...at)),"fn"),Be=Le(()=>ve.addEventListener(ae,pe),"onFirstListenerAdd"),Ne=Le(()=>ve.removeEventListener(ae,pe),"onLastListenerRemove"),gt=new I({onWillAddFirstListener:Be,onDidRemoveLastListener:Ne});return gt.event}t.fromDOMEventEmitter=X,Le(X,"fromDOMEventEmitter");function ee(ve){return new Promise(ae=>s(ve)(ae))}t.toPromise=ee,Le(ee,"toPromise");function z(ve){const ae=new I;return ve.then(Te=>{ae.fire(Te)},()=>{ae.fire(void 0)}).finally(()=>{ae.dispose()}),ae.event}t.fromPromise=z,Le(z,"fromPromise");function se(ve,ae){return ve(Te=>ae.fire(Te))}t.forward=se,Le(se,"forward");function Re(ve,ae,Te){return ae(Te),ve(pe=>ae(pe))}t.runAndSubscribe=Re,Le(Re,"runAndSubscribe");class oe{constructor(ae,Te){this._observable=ae;const pe={onWillAddFirstListener:Le(()=>{ae.addObserver(this),this._observable.reportChanges()},"onWillAddFirstListener"),onDidRemoveLastListener:Le(()=>{ae.removeObserver(this)},"onDidRemoveLastListener")};this.emitter=new I(pe),Te&&Te.add(this.emitter)}static{Le(this,"EmitterObserver")}emitter;_counter=0;_hasChanged=!1;beginUpdate(ae){this._counter++}handlePossibleChange(ae){}handleChange(ae,Te){this._hasChanged=!0}endUpdate(ae){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function De(ve,ae){return new oe(ve,ae).emitter.event}t.fromObservable=De,Le(De,"fromObservable");function Wt(ve){return(ae,Te,pe)=>{let Be=0,Ne=!1;const gt={beginUpdate(){Be++},endUpdate(){Be--,Be===0&&(ve.reportChanges(),Ne&&(Ne=!1,ae.call(Te)))},handlePossibleChange(){},handleChange(){Ne=!0}};ve.addObserver(gt),ve.reportChanges();const at={dispose(){ve.removeObserver(gt)}};return pe instanceof Z?pe.add(at):Array.isArray(pe)&&pe.push(at),at}}t.fromObservableLight=Wt,Le(Wt,"fromObservableLight")})(R||(R={}));class wv{static{Le(this,"EventProfiling")}static all=new Set;static _idPool=0;name;listenerCount=0;invocationCount=0;elapsedOverall=0;durations=[];_stopWatch;constructor(e){this.name=`${e}_${wv._idPool++}`,wv.all.add(this)}start(e){this._stopWatch=new US,this.listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}}let uf=-1;function Sk(t){const e=uf;return uf=t,{dispose(){uf=e}}}Le(Sk,"setGlobalLeakWarningThreshold");class zS{constructor(e,i,s=(zS._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e,this.threshold=i,this.name=s}static{Le(this,"LeakageMonitor")}static _idPool=1;_stacks;_warnCountdown=0;dispose(){this._stacks?.clear()}check(e,i){const s=this.threshold;if(s<=0||i<s)return;this._stacks||(this._stacks=new Map);const n=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,n+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=s*.5;const[o,r]=this.getMostFrequentStack(),a=`[${this.name}] potential listener LEAK detected, having ${i} listeners already. MOST frequent listener (${r}):`;console.warn(a),console.warn(o);const l=new k2(a,o);this._errorHandler(l)}return()=>{const o=this._stacks.get(e.value)||0;this._stacks.set(e.value,o-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,i=0;for(const[s,n]of this._stacks)(!e||i<n)&&(e=[s,n],i=n);return e}}class $S{constructor(e){this.value=e}static{Le(this,"Stacktrace")}static create(){const e=new Error;return new $S(e.stack??"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class k2 extends Error{static{Le(this,"ListenerLeakError")}constructor(e,i){super(e),this.name="ListenerLeakError",this.stack=i}}class x2 extends Error{static{Le(this,"ListenerRefusalError")}constructor(e,i){super(e),this.name="ListenerRefusalError",this.stack=i}}let L2=0;class Eb{constructor(e){this.value=e}static{Le(this,"UniqueContainer")}stack;id=L2++}const P2=2,R2=Le((t,e)=>{if(t instanceof Eb)e(t);else for(let i=0;i<t.length;i++){const s=t[i];s&&e(s)}},"forEachListener");class I{static{Le(this,"Emitter")}_options;_leakageMon;_perfMon;_disposed;_event;_listeners;_deliveryQueue;_size=0;constructor(e){this._options=e,this._leakageMon=uf>0||this._options?.leakWarningThreshold?new zS(e?.onListenerError??ss,this._options?.leakWarningThreshold??uf):void 0,this._perfMon=this._options?._profName?new wv(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){this._disposed||(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose())}get event(){return this._event??=(e,i,s)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){const a=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(a);const l=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],h=new x2(`${a}. HINT: Stack shows most frequent listener (${l[1]}-times)`,l[0]);return(this._options?.onListenerError||ss)(h),q.None}if(this._disposed)return q.None;i&&(e=e.bind(i));const n=new Eb(e);let o;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(n.stack=$S.create(),o=this._leakageMon.check(n.stack,this._size+1)),this._listeners?this._listeners instanceof Eb?(this._deliveryQueue??=new N2,this._listeners=[this._listeners,n]):this._listeners.push(n):(this._options?.onWillAddFirstListener?.(this),this._listeners=n,this._options?.onDidAddFirstListener?.(this)),this._size++;const r=Se(()=>{o?.(),this._removeListener(n)});return s instanceof Z?s.add(r):Array.isArray(s)&&s.push(r),r},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(this._size===1){this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),this._size=0;return}const i=this._listeners,s=i.indexOf(e);if(s===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,i[s]=void 0;const n=this._deliveryQueue.current===this;if(this._size*P2<=i.length){let o=0;for(let r=0;r<i.length;r++)i[r]?i[o++]=i[r]:n&&(this._deliveryQueue.end--,o<this._deliveryQueue.i&&this._deliveryQueue.i--);i.length=o}}_deliver(e,i){if(!e)return;const s=this._options?.onListenerError||ss;if(!s){e.value(i);return}try{e.value(i)}catch(n){s(n)}}_deliverQueue(e){const i=e.current._listeners;for(;e.i<e.end;)this._deliver(i[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof Eb)this._deliver(this._listeners,e);else{const i=this._deliveryQueue;i.enqueue(this,e,this._listeners.length),this._deliverQueue(i)}this._perfMon?.stop()}hasListeners(){return this._size>0}}class N2{static{Le(this,"EventDeliveryQueuePrivate")}i=-1;end=0;current;value;enqueue(e,i,s){this.i=0,this.end=s,this.current=e,this.value=i}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class mne extends I{static{Le(this,"AsyncEmitter")}_asyncDeliveryQueue;async fireAsync(e,i,s){if(this._listeners)for(this._asyncDeliveryQueue||(this._asyncDeliveryQueue=new Xa),R2(this._listeners,n=>this._asyncDeliveryQueue.push([n.value,e]));this._asyncDeliveryQueue.size>0&&!i.isCancellationRequested;){const[n,o]=this._asyncDeliveryQueue.shift(),r=[],a={...o,token:i,waitUntil:Le(l=>{if(Object.isFrozen(r))throw new Error("waitUntil can NOT be called asynchronous");s&&(l=s(l,n)),r.push(l)},"waitUntil")};try{n(a)}catch(l){ss(l);continue}Object.freeze(r),await Promise.allSettled(r).then(l=>{for(const h of l)h.status==="rejected"&&ss(h.reason)})}}}class yv extends I{static{Le(this,"PauseableEmitter")}_isPaused=0;_eventQueue=new Xa;_mergeFn;get isPaused(){return this._isPaused!==0}constructor(e){super(e),this._mergeFn=e?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(e){this._size&&(this._isPaused!==0?this._eventQueue.push(e):super.fire(e))}}class O2 extends yv{static{Le(this,"DebounceEmitter")}_delay;_handle;constructor(e){super(e),this._delay=e.delay??100}fire(e){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(e)}}class B2 extends I{static{Le(this,"MicrotaskEmitter")}_queuedEvents=[];_mergeFn;constructor(e){super(e),this._mergeFn=e?.merge}fire(e){this.hasListeners()&&(this._queuedEvents.push(e),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(i=>super.fire(i)),this._queuedEvents=[]}))}}class Ck{static{Le(this,"EventMultiplexer")}emitter;hasListeners=!1;events=[];constructor(){this.emitter=new I({onWillAddFirstListener:Le(()=>this.onFirstListenerAdd(),"onWillAddFirstListener"),onDidRemoveLastListener:Le(()=>this.onLastListenerRemove(),"onDidRemoveLastListener")})}get event(){return this.emitter.event}add(e){const i={event:e,listener:null};return this.events.push(i),this.hasListeners&&this.hook(i),Se(Up(Le(()=>{this.hasListeners&&this.unhook(i);const n=this.events.indexOf(i);this.events.splice(n,1)},"dispose")))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(e=>this.hook(e))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(e=>this.unhook(e))}hook(e){e.listener=e.event(i=>this.emitter.fire(i))}unhook(e){e.listener?.dispose(),e.listener=null}dispose(){this.emitter.dispose();for(const e of this.events)e.listener?.dispose();this.events=[]}}class bne{static{Le(this,"DynamicListEventMultiplexer")}_store=new Z;event;constructor(e,i,s,n){const o=this._store.add(new Ck),r=this._store.add(new fc);function a(l){r.set(l,o.add(n(l)))}Le(a,"addItem");for(const l of e)a(l);this._store.add(i(l=>{a(l)})),this._store.add(s(l=>{r.deleteAndDispose(l)})),this.event=o.event}dispose(){this._store.dispose()}}class KS{static{Le(this,"EventBufferer")}data=[];wrapEvent(e,i,s){return(n,o,r)=>e(a=>{const l=this.data[this.data.length-1];if(!i){l?l.buffers.push(()=>n.call(o,a)):n.call(o,a);return}const h=l;if(!h){n.call(o,i(s,a));return}h.items??=[],h.items.push(a),h.buffers.length===0&&l.buffers.push(()=>{h.reducedResult??=s?h.items.reduce(i,s):h.items.reduce(i),n.call(o,h.reducedResult)})},void 0,r)}bufferEvents(e){const i={buffers:new Array};this.data.push(i);const s=e();return this.data.pop(),i.buffers.forEach(n=>n()),s}}class Rr{static{Le(this,"Relay")}listening=!1;inputEvent=R.None;inputEventListener=q.None;emitter=new I({onDidAddFirstListener:Le(()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},"onDidAddFirstListener"),onDidRemoveLastListener:Le(()=>{this.listening=!1,this.inputEventListener.dispose()},"onDidRemoveLastListener")});event=this.emitter.event;set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}class vne{constructor(e){this._value=e}static{Le(this,"ValueWithChangeEvent")}static const(e){return new M2(e)}_onDidChange=new I;onDidChange=this._onDidChange.event;get value(){return this._value}set value(e){e!==this._value&&(this._value=e,this._onDidChange.fire(void 0))}}class M2{constructor(e){this.value=e}static{Le(this,"ConstValueWithChangeEvent")}onDidChange=R.None}function F2(t,e,i){const s=new fc;let n=new Set(t());for(const r of n)s.set(r,i(r));const o=new Z;return o.add(e(()=>{const r=t(),a=sk(n,r);for(const l of a.removed)s.deleteAndDispose(l);for(const l of a.added)s.set(l,i(l));n=new Set(r)})),o.add(s),o}Le(F2,"trackSetChanges");var V2=Object.defineProperty,GS=(t,e)=>V2(t,"name",{value:e,configurable:!0});function jS(t,e){const i=t;typeof i.vscodeWindowId!="number"&&Object.defineProperty(i,"vscodeWindowId",{get:GS(()=>e,"get")})}GS(jS,"ensureCodeWindow");const Q=window;function qS(t){return t===Q?!1:typeof t?.vscodeWindowId=="number"}GS(qS,"isAuxiliaryWindow");var H2=Object.defineProperty,pr=(t,e)=>H2(t,"name",{value:e,configurable:!0});class ia{static{pr(this,"WindowManager")}static INSTANCE=new ia;mapWindowIdToZoomLevel=new Map;_onDidChangeZoomLevel=new I;onDidChangeZoomLevel=this._onDidChangeZoomLevel.event;getZoomLevel(e){return this.mapWindowIdToZoomLevel.get(this.getWindowId(e))??0}setZoomLevel(e,i){if(this.getZoomLevel(i)===e)return;const s=this.getWindowId(i);this.mapWindowIdToZoomLevel.set(s,e),this._onDidChangeZoomLevel.fire(s)}mapWindowIdToZoomFactor=new Map;getZoomFactor(e){return this.mapWindowIdToZoomFactor.get(this.getWindowId(e))??1}setZoomFactor(e,i){this.mapWindowIdToZoomFactor.set(this.getWindowId(i),e)}_onDidChangeFullscreen=new I;onDidChangeFullscreen=this._onDidChangeFullscreen.event;mapWindowIdToFullScreen=new Map;setFullscreen(e,i){if(this.isFullscreen(i)===e)return;const s=this.getWindowId(i);this.mapWindowIdToFullScreen.set(s,e),this._onDidChangeFullscreen.fire(s)}isFullscreen(e){return!!this.mapWindowIdToFullScreen.get(this.getWindowId(e))}getWindowId(e){return e.vscodeWindowId}}function Dk(t,e,i){typeof e=="string"&&(e=t.matchMedia(e)),e.addEventListener("change",i)}pr(Dk,"addMatchMediaChangeListener");function W2(t,e){ia.INSTANCE.setZoomLevel(t,e)}pr(W2,"setZoomLevel");function Ak(t){return ia.INSTANCE.getZoomLevel(t)}pr(Ak,"getZoomLevel");ia.INSTANCE.onDidChangeZoomLevel;function Ek(t){return ia.INSTANCE.getZoomFactor(t)}pr(Ek,"getZoomFactor");function U2(t,e){ia.INSTANCE.setZoomFactor(t,e)}pr(U2,"setZoomFactor");function Ik(t,e){ia.INSTANCE.setFullscreen(t,e)}pr(Ik,"setFullscreen");function Dh(t){return ia.INSTANCE.isFullscreen(t)}pr(Dh,"isFullscreen");const YS=ia.INSTANCE.onDidChangeFullscreen,Yu=navigator.userAgent,Ah=Yu.indexOf("Firefox")>=0,Ib=Yu.indexOf("AppleWebKit")>=0,Zw=Yu.indexOf("Chrome")>=0,$p=!Zw&&Yu.indexOf("Safari")>=0;Yu.indexOf("Electron/")>=0;Yu.indexOf("Android")>=0;let Tb=!1;if(typeof Q.matchMedia=="function"){const t=Q.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),e=Q.matchMedia("(display-mode: fullscreen)");Tb=t.matches,Dk(Q,t,({matches:i})=>{Tb&&e.matches||(Tb=i)})}function XS(){return Tb}pr(XS,"isStandalone");function ZS(){return navigator?.windowControlsOverlay?.visible}pr(ZS,"isWCOEnabled");function z2(t){return t.navigator?.windowControlsOverlay?.getTitlebarAreaRect()}pr(z2,"getWCOTitlebarAreaRect");var $2=Object.defineProperty,Qw=(t,e)=>$2(t,"name",{value:e,configurable:!0});const Tk=Object.freeze((t,e)=>{const i=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(i)}}});var _v;(t=>{function e(i){return i===t.None||i===t.Cancelled||i instanceof kb?!0:!i||typeof i!="object"?!1:typeof i.isCancellationRequested=="boolean"&&typeof i.onCancellationRequested=="function"}t.isCancellationToken=e,Qw(e,"isCancellationToken"),t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:R.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Tk})})(_v||(_v={}));class kb{static{Qw(this,"MutableToken")}_isCancelled=!1;_emitter=null;cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Tk:(this._emitter||(this._emitter=new I),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class Yh{static{Qw(this,"CancellationTokenSource")}_token=void 0;_parentListener=void 0;constructor(e){this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new kb),this._token}cancel(){this._token?this._token instanceof kb&&this._token.cancel():this._token=_v.Cancelled}dispose(e=!1){e&&this.cancel(),this._parentListener?.dispose(),this._token?this._token instanceof kb&&this._token.dispose():this._token=_v.None}}function K2(t){const e=new Yh;return t.add({dispose(){e.cancel()}}),e.token}Qw(K2,"cancelOnDispose");var G2=Object.defineProperty,j2=(t,e)=>G2(t,"name",{value:e,configurable:!0});class kn{constructor(e){this.executor=e}static{j2(this,"Lazy")}_didRun=!1;_value;_error;get hasValue(){return this._didRun}get value(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}var q2=Object.defineProperty,kk=(t,e)=>q2(t,"name",{value:e,configurable:!0});function xk(){return globalThis._VSCODE_NLS_MESSAGES}kk(xk,"getNLSMessages");function QS(){return globalThis._VSCODE_NLS_LANGUAGE}kk(QS,"getNLSLanguage");var Y2=Object.defineProperty,Jw=(t,e)=>Y2(t,"name",{value:e,configurable:!0});const X2=QS()==="pseudo"||typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function qf(t,e){let i;return e.length===0?i=t:i=t.replace(/\{(\d+)\}/g,(s,n)=>{const o=n[0],r=e[o];let a=s;return typeof r=="string"?a=r:(typeof r=="number"||typeof r=="boolean"||r===void 0||r===null)&&(a=String(r)),a}),X2&&(i=""+i.replace(/[aouei]/g,"$&$&")+""),i}Jw(qf,"_format");function c(t,e,...i){return qf(typeof t=="number"?JS(t,e):e,i)}Jw(c,"localize");function JS(t,e){const i=xk()?.[t];if(typeof i!="string"){if(typeof e=="string")return e;throw new Error(`!!! NLS MISSING: ${t} !!!`)}return i}Jw(JS,"lookupMessage");function te(t,e,...i){let s;typeof t=="number"?s=JS(t,e):s=e;const n=qf(s,i);return{value:n,original:e===s?n:qf(e,i)}}Jw(te,"localize2");var Z2=Object.defineProperty,$d=(t,e)=>Z2(t,"name",{value:e,configurable:!0});const kd="en";let Yf=!1,Xf=!1,gf=!1,Lk=!1,Pk=!1,eC=!1,tC=!1,Rk=!1,$g,xb=kd,$E=kd,Q2,wa;const Va=globalThis;let Wn;typeof Va.vscode<"u"&&typeof Va.vscode.process<"u"?Wn=Va.vscode.process:typeof process<"u"&&typeof process?.versions?.node=="string"&&(Wn=process);const J2=typeof Wn?.versions?.electron=="string",e6=J2&&Wn?.type==="renderer";if(typeof Wn=="object"){Yf=Wn.platform==="win32",Xf=Wn.platform==="darwin",gf=Wn.platform==="linux",Lk=gf&&!!Wn.env.SNAP&&!!Wn.env.SNAP_REVISION,Wn.env.CI||Wn.env.BUILD_ARTIFACTSTAGINGDIRECTORY,$g=kd,xb=kd;const t=Wn.env.VSCODE_NLS_CONFIG;if(t)try{const e=JSON.parse(t);$g=e.userLocale,$E=e.osLocale,xb=e.resolvedLanguage||kd,Q2=e.languagePack?.translationsConfigFile}catch{}Pk=!0}else typeof navigator=="object"&&!e6?(wa=navigator.userAgent,Yf=wa.indexOf("Windows")>=0,Xf=wa.indexOf("Macintosh")>=0,tC=(wa.indexOf("Macintosh")>=0||wa.indexOf("iPad")>=0||wa.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,gf=wa.indexOf("Linux")>=0,Rk=wa?.indexOf("Mobi")>=0,eC=!0,xb=QS()||kd,$g=navigator.language.toLowerCase(),$E=$g):console.error("Unable to resolve platform.");var xd=(t=>(t[t.Web=0]="Web",t[t.Mac=1]="Mac",t[t.Linux=2]="Linux",t[t.Windows=3]="Windows",t))(xd||{});function Nk(t){switch(t){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}}$d(Nk,"PlatformToString");let Lb=0;Xf?Lb=1:Yf?Lb=3:gf&&(Lb=2);const Lt=Yf,He=Xf,Ni=gf,t6=Lk,dn=Pk,Qt=eC,i6=eC&&typeof Va.importScripts=="function",s6=i6?Va.origin:void 0,No=tC,n6=Rk,iC=Lb,Yr=wa,ya=xb;var KE;(t=>{function e(){return ya}t.value=e,$d(e,"value");function i(){return ya.length===2?ya==="en":ya.length>=3?ya[0]==="e"&&ya[1]==="n"&&ya[2]==="-":!1}t.isDefaultVariant=i,$d(i,"isDefaultVariant");function s(){return ya==="en"}t.isDefault=s,$d(s,"isDefault")})(KE||(KE={}));const o6=$g,r6=typeof Va.postMessage=="function"&&!Va.importScripts,a6=(()=>{if(r6){const t=[];Va.addEventListener("message",i=>{if(i.data&&i.data.vscodeScheduleAsyncWork)for(let s=0,n=t.length;s<n;s++){const o=t[s];if(o.id===i.data.vscodeScheduleAsyncWork){t.splice(s,1),o.callback();return}}});let e=0;return i=>{const s=++e;t.push({id:s,callback:i}),Va.postMessage({vscodeScheduleAsyncWork:s},"*")}}return t=>setTimeout(t)})();var ks=(t=>(t[t.Windows=1]="Windows",t[t.Macintosh=2]="Macintosh",t[t.Linux=3]="Linux",t))(ks||{});const Ld=Xf||tC?2:Yf?1:3;let GE=!0,jE=!1;function l6(){if(!jE){jE=!0;const t=new Uint8Array(2);t[0]=1,t[1]=2,GE=new Uint16Array(t.buffer)[0]===513}return GE}$d(l6,"isLittleEndian");const Ok=!!(Yr&&Yr.indexOf("Chrome")>=0),Bk=!!(Yr&&Yr.indexOf("Firefox")>=0),c6=!!(!Ok&&Yr&&Yr.indexOf("Safari")>=0),h6=!!(Yr&&Yr.indexOf("Edg/")>=0);Yr&&Yr.indexOf("Android")>=0;function d6(t){return Number.parseFloat(t)>=20}$d(d6,"isBigSurOrNewer");var O=(t=>(t[t.Null=0]="Null",t[t.Backspace=8]="Backspace",t[t.Tab=9]="Tab",t[t.LineFeed=10]="LineFeed",t[t.CarriageReturn=13]="CarriageReturn",t[t.Space=32]="Space",t[t.ExclamationMark=33]="ExclamationMark",t[t.DoubleQuote=34]="DoubleQuote",t[t.Hash=35]="Hash",t[t.DollarSign=36]="DollarSign",t[t.PercentSign=37]="PercentSign",t[t.Ampersand=38]="Ampersand",t[t.SingleQuote=39]="SingleQuote",t[t.OpenParen=40]="OpenParen",t[t.CloseParen=41]="CloseParen",t[t.Asterisk=42]="Asterisk",t[t.Plus=43]="Plus",t[t.Comma=44]="Comma",t[t.Dash=45]="Dash",t[t.Period=46]="Period",t[t.Slash=47]="Slash",t[t.Digit0=48]="Digit0",t[t.Digit1=49]="Digit1",t[t.Digit2=50]="Digit2",t[t.Digit3=51]="Digit3",t[t.Digit4=52]="Digit4",t[t.Digit5=53]="Digit5",t[t.Digit6=54]="Digit6",t[t.Digit7=55]="Digit7",t[t.Digit8=56]="Digit8",t[t.Digit9=57]="Digit9",t[t.Colon=58]="Colon",t[t.Semicolon=59]="Semicolon",t[t.LessThan=60]="LessThan",t[t.Equals=61]="Equals",t[t.GreaterThan=62]="GreaterThan",t[t.QuestionMark=63]="QuestionMark",t[t.AtSign=64]="AtSign",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.OpenSquareBracket=91]="OpenSquareBracket",t[t.Backslash=92]="Backslash",t[t.CloseSquareBracket=93]="CloseSquareBracket",t[t.Caret=94]="Caret",t[t.Underline=95]="Underline",t[t.BackTick=96]="BackTick",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.OpenCurlyBrace=123]="OpenCurlyBrace",t[t.Pipe=124]="Pipe",t[t.CloseCurlyBrace=125]="CloseCurlyBrace",t[t.Tilde=126]="Tilde",t[t.NoBreakSpace=160]="NoBreakSpace",t[t.U_Combining_Grave_Accent=768]="U_Combining_Grave_Accent",t[t.U_Combining_Acute_Accent=769]="U_Combining_Acute_Accent",t[t.U_Combining_Circumflex_Accent=770]="U_Combining_Circumflex_Accent",t[t.U_Combining_Tilde=771]="U_Combining_Tilde",t[t.U_Combining_Macron=772]="U_Combining_Macron",t[t.U_Combining_Overline=773]="U_Combining_Overline",t[t.U_Combining_Breve=774]="U_Combining_Breve",t[t.U_Combining_Dot_Above=775]="U_Combining_Dot_Above",t[t.U_Combining_Diaeresis=776]="U_Combining_Diaeresis",t[t.U_Combining_Hook_Above=777]="U_Combining_Hook_Above",t[t.U_Combining_Ring_Above=778]="U_Combining_Ring_Above",t[t.U_Combining_Double_Acute_Accent=779]="U_Combining_Double_Acute_Accent",t[t.U_Combining_Caron=780]="U_Combining_Caron",t[t.U_Combining_Vertical_Line_Above=781]="U_Combining_Vertical_Line_Above",t[t.U_Combining_Double_Vertical_Line_Above=782]="U_Combining_Double_Vertical_Line_Above",t[t.U_Combining_Double_Grave_Accent=783]="U_Combining_Double_Grave_Accent",t[t.U_Combining_Candrabindu=784]="U_Combining_Candrabindu",t[t.U_Combining_Inverted_Breve=785]="U_Combining_Inverted_Breve",t[t.U_Combining_Turned_Comma_Above=786]="U_Combining_Turned_Comma_Above",t[t.U_Combining_Comma_Above=787]="U_Combining_Comma_Above",t[t.U_Combining_Reversed_Comma_Above=788]="U_Combining_Reversed_Comma_Above",t[t.U_Combining_Comma_Above_Right=789]="U_Combining_Comma_Above_Right",t[t.U_Combining_Grave_Accent_Below=790]="U_Combining_Grave_Accent_Below",t[t.U_Combining_Acute_Accent_Below=791]="U_Combining_Acute_Accent_Below",t[t.U_Combining_Left_Tack_Below=792]="U_Combining_Left_Tack_Below",t[t.U_Combining_Right_Tack_Below=793]="U_Combining_Right_Tack_Below",t[t.U_Combining_Left_Angle_Above=794]="U_Combining_Left_Angle_Above",t[t.U_Combining_Horn=795]="U_Combining_Horn",t[t.U_Combining_Left_Half_Ring_Below=796]="U_Combining_Left_Half_Ring_Below",t[t.U_Combining_Up_Tack_Below=797]="U_Combining_Up_Tack_Below",t[t.U_Combining_Down_Tack_Below=798]="U_Combining_Down_Tack_Below",t[t.U_Combining_Plus_Sign_Below=799]="U_Combining_Plus_Sign_Below",t[t.U_Combining_Minus_Sign_Below=800]="U_Combining_Minus_Sign_Below",t[t.U_Combining_Palatalized_Hook_Below=801]="U_Combining_Palatalized_Hook_Below",t[t.U_Combining_Retroflex_Hook_Below=802]="U_Combining_Retroflex_Hook_Below",t[t.U_Combining_Dot_Below=803]="U_Combining_Dot_Below",t[t.U_Combining_Diaeresis_Below=804]="U_Combining_Diaeresis_Below",t[t.U_Combining_Ring_Below=805]="U_Combining_Ring_Below",t[t.U_Combining_Comma_Below=806]="U_Combining_Comma_Below",t[t.U_Combining_Cedilla=807]="U_Combining_Cedilla",t[t.U_Combining_Ogonek=808]="U_Combining_Ogonek",t[t.U_Combining_Vertical_Line_Below=809]="U_Combining_Vertical_Line_Below",t[t.U_Combining_Bridge_Below=810]="U_Combining_Bridge_Below",t[t.U_Combining_Inverted_Double_Arch_Below=811]="U_Combining_Inverted_Double_Arch_Below",t[t.U_Combining_Caron_Below=812]="U_Combining_Caron_Below",t[t.U_Combining_Circumflex_Accent_Below=813]="U_Combining_Circumflex_Accent_Below",t[t.U_Combining_Breve_Below=814]="U_Combining_Breve_Below",t[t.U_Combining_Inverted_Breve_Below=815]="U_Combining_Inverted_Breve_Below",t[t.U_Combining_Tilde_Below=816]="U_Combining_Tilde_Below",t[t.U_Combining_Macron_Below=817]="U_Combining_Macron_Below",t[t.U_Combining_Low_Line=818]="U_Combining_Low_Line",t[t.U_Combining_Double_Low_Line=819]="U_Combining_Double_Low_Line",t[t.U_Combining_Tilde_Overlay=820]="U_Combining_Tilde_Overlay",t[t.U_Combining_Short_Stroke_Overlay=821]="U_Combining_Short_Stroke_Overlay",t[t.U_Combining_Long_Stroke_Overlay=822]="U_Combining_Long_Stroke_Overlay",t[t.U_Combining_Short_Solidus_Overlay=823]="U_Combining_Short_Solidus_Overlay",t[t.U_Combining_Long_Solidus_Overlay=824]="U_Combining_Long_Solidus_Overlay",t[t.U_Combining_Right_Half_Ring_Below=825]="U_Combining_Right_Half_Ring_Below",t[t.U_Combining_Inverted_Bridge_Below=826]="U_Combining_Inverted_Bridge_Below",t[t.U_Combining_Square_Below=827]="U_Combining_Square_Below",t[t.U_Combining_Seagull_Below=828]="U_Combining_Seagull_Below",t[t.U_Combining_X_Above=829]="U_Combining_X_Above",t[t.U_Combining_Vertical_Tilde=830]="U_Combining_Vertical_Tilde",t[t.U_Combining_Double_Overline=831]="U_Combining_Double_Overline",t[t.U_Combining_Grave_Tone_Mark=832]="U_Combining_Grave_Tone_Mark",t[t.U_Combining_Acute_Tone_Mark=833]="U_Combining_Acute_Tone_Mark",t[t.U_Combining_Greek_Perispomeni=834]="U_Combining_Greek_Perispomeni",t[t.U_Combining_Greek_Koronis=835]="U_Combining_Greek_Koronis",t[t.U_Combining_Greek_Dialytika_Tonos=836]="U_Combining_Greek_Dialytika_Tonos",t[t.U_Combining_Greek_Ypogegrammeni=837]="U_Combining_Greek_Ypogegrammeni",t[t.U_Combining_Bridge_Above=838]="U_Combining_Bridge_Above",t[t.U_Combining_Equals_Sign_Below=839]="U_Combining_Equals_Sign_Below",t[t.U_Combining_Double_Vertical_Line_Below=840]="U_Combining_Double_Vertical_Line_Below",t[t.U_Combining_Left_Angle_Below=841]="U_Combining_Left_Angle_Below",t[t.U_Combining_Not_Tilde_Above=842]="U_Combining_Not_Tilde_Above",t[t.U_Combining_Homothetic_Above=843]="U_Combining_Homothetic_Above",t[t.U_Combining_Almost_Equal_To_Above=844]="U_Combining_Almost_Equal_To_Above",t[t.U_Combining_Left_Right_Arrow_Below=845]="U_Combining_Left_Right_Arrow_Below",t[t.U_Combining_Upwards_Arrow_Below=846]="U_Combining_Upwards_Arrow_Below",t[t.U_Combining_Grapheme_Joiner=847]="U_Combining_Grapheme_Joiner",t[t.U_Combining_Right_Arrowhead_Above=848]="U_Combining_Right_Arrowhead_Above",t[t.U_Combining_Left_Half_Ring_Above=849]="U_Combining_Left_Half_Ring_Above",t[t.U_Combining_Fermata=850]="U_Combining_Fermata",t[t.U_Combining_X_Below=851]="U_Combining_X_Below",t[t.U_Combining_Left_Arrowhead_Below=852]="U_Combining_Left_Arrowhead_Below",t[t.U_Combining_Right_Arrowhead_Below=853]="U_Combining_Right_Arrowhead_Below",t[t.U_Combining_Right_Arrowhead_And_Up_Arrowhead_Below=854]="U_Combining_Right_Arrowhead_And_Up_Arrowhead_Below",t[t.U_Combining_Right_Half_Ring_Above=855]="U_Combining_Right_Half_Ring_Above",t[t.U_Combining_Dot_Above_Right=856]="U_Combining_Dot_Above_Right",t[t.U_Combining_Asterisk_Below=857]="U_Combining_Asterisk_Below",t[t.U_Combining_Double_Ring_Below=858]="U_Combining_Double_Ring_Below",t[t.U_Combining_Zigzag_Above=859]="U_Combining_Zigzag_Above",t[t.U_Combining_Double_Breve_Below=860]="U_Combining_Double_Breve_Below",t[t.U_Combining_Double_Breve=861]="U_Combining_Double_Breve",t[t.U_Combining_Double_Macron=862]="U_Combining_Double_Macron",t[t.U_Combining_Double_Macron_Below=863]="U_Combining_Double_Macron_Below",t[t.U_Combining_Double_Tilde=864]="U_Combining_Double_Tilde",t[t.U_Combining_Double_Inverted_Breve=865]="U_Combining_Double_Inverted_Breve",t[t.U_Combining_Double_Rightwards_Arrow_Below=866]="U_Combining_Double_Rightwards_Arrow_Below",t[t.U_Combining_Latin_Small_Letter_A=867]="U_Combining_Latin_Small_Letter_A",t[t.U_Combining_Latin_Small_Letter_E=868]="U_Combining_Latin_Small_Letter_E",t[t.U_Combining_Latin_Small_Letter_I=869]="U_Combining_Latin_Small_Letter_I",t[t.U_Combining_Latin_Small_Letter_O=870]="U_Combining_Latin_Small_Letter_O",t[t.U_Combining_Latin_Small_Letter_U=871]="U_Combining_Latin_Small_Letter_U",t[t.U_Combining_Latin_Small_Letter_C=872]="U_Combining_Latin_Small_Letter_C",t[t.U_Combining_Latin_Small_Letter_D=873]="U_Combining_Latin_Small_Letter_D",t[t.U_Combining_Latin_Small_Letter_H=874]="U_Combining_Latin_Small_Letter_H",t[t.U_Combining_Latin_Small_Letter_M=875]="U_Combining_Latin_Small_Letter_M",t[t.U_Combining_Latin_Small_Letter_R=876]="U_Combining_Latin_Small_Letter_R",t[t.U_Combining_Latin_Small_Letter_T=877]="U_Combining_Latin_Small_Letter_T",t[t.U_Combining_Latin_Small_Letter_V=878]="U_Combining_Latin_Small_Letter_V",t[t.U_Combining_Latin_Small_Letter_X=879]="U_Combining_Latin_Small_Letter_X",t[t.LINE_SEPARATOR=8232]="LINE_SEPARATOR",t[t.PARAGRAPH_SEPARATOR=8233]="PARAGRAPH_SEPARATOR",t[t.NEXT_LINE=133]="NEXT_LINE",t[t.U_CIRCUMFLEX=94]="U_CIRCUMFLEX",t[t.U_GRAVE_ACCENT=96]="U_GRAVE_ACCENT",t[t.U_DIAERESIS=168]="U_DIAERESIS",t[t.U_MACRON=175]="U_MACRON",t[t.U_ACUTE_ACCENT=180]="U_ACUTE_ACCENT",t[t.U_CEDILLA=184]="U_CEDILLA",t[t.U_MODIFIER_LETTER_LEFT_ARROWHEAD=706]="U_MODIFIER_LETTER_LEFT_ARROWHEAD",t[t.U_MODIFIER_LETTER_RIGHT_ARROWHEAD=707]="U_MODIFIER_LETTER_RIGHT_ARROWHEAD",t[t.U_MODIFIER_LETTER_UP_ARROWHEAD=708]="U_MODIFIER_LETTER_UP_ARROWHEAD",t[t.U_MODIFIER_LETTER_DOWN_ARROWHEAD=709]="U_MODIFIER_LETTER_DOWN_ARROWHEAD",t[t.U_MODIFIER_LETTER_CENTRED_RIGHT_HALF_RING=722]="U_MODIFIER_LETTER_CENTRED_RIGHT_HALF_RING",t[t.U_MODIFIER_LETTER_CENTRED_LEFT_HALF_RING=723]="U_MODIFIER_LETTER_CENTRED_LEFT_HALF_RING",t[t.U_MODIFIER_LETTER_UP_TACK=724]="U_MODIFIER_LETTER_UP_TACK",t[t.U_MODIFIER_LETTER_DOWN_TACK=725]="U_MODIFIER_LETTER_DOWN_TACK",t[t.U_MODIFIER_LETTER_PLUS_SIGN=726]="U_MODIFIER_LETTER_PLUS_SIGN",t[t.U_MODIFIER_LETTER_MINUS_SIGN=727]="U_MODIFIER_LETTER_MINUS_SIGN",t[t.U_BREVE=728]="U_BREVE",t[t.U_DOT_ABOVE=729]="U_DOT_ABOVE",t[t.U_RING_ABOVE=730]="U_RING_ABOVE",t[t.U_OGONEK=731]="U_OGONEK",t[t.U_SMALL_TILDE=732]="U_SMALL_TILDE",t[t.U_DOUBLE_ACUTE_ACCENT=733]="U_DOUBLE_ACUTE_ACCENT",t[t.U_MODIFIER_LETTER_RHOTIC_HOOK=734]="U_MODIFIER_LETTER_RHOTIC_HOOK",t[t.U_MODIFIER_LETTER_CROSS_ACCENT=735]="U_MODIFIER_LETTER_CROSS_ACCENT",t[t.U_MODIFIER_LETTER_EXTRA_HIGH_TONE_BAR=741]="U_MODIFIER_LETTER_EXTRA_HIGH_TONE_BAR",t[t.U_MODIFIER_LETTER_HIGH_TONE_BAR=742]="U_MODIFIER_LETTER_HIGH_TONE_BAR",t[t.U_MODIFIER_LETTER_MID_TONE_BAR=743]="U_MODIFIER_LETTER_MID_TONE_BAR",t[t.U_MODIFIER_LETTER_LOW_TONE_BAR=744]="U_MODIFIER_LETTER_LOW_TONE_BAR",t[t.U_MODIFIER_LETTER_EXTRA_LOW_TONE_BAR=745]="U_MODIFIER_LETTER_EXTRA_LOW_TONE_BAR",t[t.U_MODIFIER_LETTER_YIN_DEPARTING_TONE_MARK=746]="U_MODIFIER_LETTER_YIN_DEPARTING_TONE_MARK",t[t.U_MODIFIER_LETTER_YANG_DEPARTING_TONE_MARK=747]="U_MODIFIER_LETTER_YANG_DEPARTING_TONE_MARK",t[t.U_MODIFIER_LETTER_UNASPIRATED=749]="U_MODIFIER_LETTER_UNASPIRATED",t[t.U_MODIFIER_LETTER_LOW_DOWN_ARROWHEAD=751]="U_MODIFIER_LETTER_LOW_DOWN_ARROWHEAD",t[t.U_MODIFIER_LETTER_LOW_UP_ARROWHEAD=752]="U_MODIFIER_LETTER_LOW_UP_ARROWHEAD",t[t.U_MODIFIER_LETTER_LOW_LEFT_ARROWHEAD=753]="U_MODIFIER_LETTER_LOW_LEFT_ARROWHEAD",t[t.U_MODIFIER_LETTER_LOW_RIGHT_ARROWHEAD=754]="U_MODIFIER_LETTER_LOW_RIGHT_ARROWHEAD",t[t.U_MODIFIER_LETTER_LOW_RING=755]="U_MODIFIER_LETTER_LOW_RING",t[t.U_MODIFIER_LETTER_MIDDLE_GRAVE_ACCENT=756]="U_MODIFIER_LETTER_MIDDLE_GRAVE_ACCENT",t[t.U_MODIFIER_LETTER_MIDDLE_DOUBLE_GRAVE_ACCENT=757]="U_MODIFIER_LETTER_MIDDLE_DOUBLE_GRAVE_ACCENT",t[t.U_MODIFIER_LETTER_MIDDLE_DOUBLE_ACUTE_ACCENT=758]="U_MODIFIER_LETTER_MIDDLE_DOUBLE_ACUTE_ACCENT",t[t.U_MODIFIER_LETTER_LOW_TILDE=759]="U_MODIFIER_LETTER_LOW_TILDE",t[t.U_MODIFIER_LETTER_RAISED_COLON=760]="U_MODIFIER_LETTER_RAISED_COLON",t[t.U_MODIFIER_LETTER_BEGIN_HIGH_TONE=761]="U_MODIFIER_LETTER_BEGIN_HIGH_TONE",t[t.U_MODIFIER_LETTER_END_HIGH_TONE=762]="U_MODIFIER_LETTER_END_HIGH_TONE",t[t.U_MODIFIER_LETTER_BEGIN_LOW_TONE=763]="U_MODIFIER_LETTER_BEGIN_LOW_TONE",t[t.U_MODIFIER_LETTER_END_LOW_TONE=764]="U_MODIFIER_LETTER_END_LOW_TONE",t[t.U_MODIFIER_LETTER_SHELF=765]="U_MODIFIER_LETTER_SHELF",t[t.U_MODIFIER_LETTER_OPEN_SHELF=766]="U_MODIFIER_LETTER_OPEN_SHELF",t[t.U_MODIFIER_LETTER_LOW_LEFT_ARROW=767]="U_MODIFIER_LETTER_LOW_LEFT_ARROW",t[t.U_GREEK_LOWER_NUMERAL_SIGN=885]="U_GREEK_LOWER_NUMERAL_SIGN",t[t.U_GREEK_TONOS=900]="U_GREEK_TONOS",t[t.U_GREEK_DIALYTIKA_TONOS=901]="U_GREEK_DIALYTIKA_TONOS",t[t.U_GREEK_KORONIS=8125]="U_GREEK_KORONIS",t[t.U_GREEK_PSILI=8127]="U_GREEK_PSILI",t[t.U_GREEK_PERISPOMENI=8128]="U_GREEK_PERISPOMENI",t[t.U_GREEK_DIALYTIKA_AND_PERISPOMENI=8129]="U_GREEK_DIALYTIKA_AND_PERISPOMENI",t[t.U_GREEK_PSILI_AND_VARIA=8141]="U_GREEK_PSILI_AND_VARIA",t[t.U_GREEK_PSILI_AND_OXIA=8142]="U_GREEK_PSILI_AND_OXIA",t[t.U_GREEK_PSILI_AND_PERISPOMENI=8143]="U_GREEK_PSILI_AND_PERISPOMENI",t[t.U_GREEK_DASIA_AND_VARIA=8157]="U_GREEK_DASIA_AND_VARIA",t[t.U_GREEK_DASIA_AND_OXIA=8158]="U_GREEK_DASIA_AND_OXIA",t[t.U_GREEK_DASIA_AND_PERISPOMENI=8159]="U_GREEK_DASIA_AND_PERISPOMENI",t[t.U_GREEK_DIALYTIKA_AND_VARIA=8173]="U_GREEK_DIALYTIKA_AND_VARIA",t[t.U_GREEK_DIALYTIKA_AND_OXIA=8174]="U_GREEK_DIALYTIKA_AND_OXIA",t[t.U_GREEK_VARIA=8175]="U_GREEK_VARIA",t[t.U_GREEK_OXIA=8189]="U_GREEK_OXIA",t[t.U_GREEK_DASIA=8190]="U_GREEK_DASIA",t[t.U_IDEOGRAPHIC_FULL_STOP=12290]="U_IDEOGRAPHIC_FULL_STOP",t[t.U_LEFT_CORNER_BRACKET=12300]="U_LEFT_CORNER_BRACKET",t[t.U_RIGHT_CORNER_BRACKET=12301]="U_RIGHT_CORNER_BRACKET",t[t.U_LEFT_BLACK_LENTICULAR_BRACKET=12304]="U_LEFT_BLACK_LENTICULAR_BRACKET",t[t.U_RIGHT_BLACK_LENTICULAR_BRACKET=12305]="U_RIGHT_BLACK_LENTICULAR_BRACKET",t[t.U_OVERLINE=8254]="U_OVERLINE",t[t.UTF8_BOM=65279]="UTF8_BOM",t[t.U_FULLWIDTH_SEMICOLON=65307]="U_FULLWIDTH_SEMICOLON",t[t.U_FULLWIDTH_COMMA=65292]="U_FULLWIDTH_COMMA",t))(O||{}),qE={};let gh;const Iy=globalThis.vscode;if(typeof Iy<"u"&&typeof Iy.process<"u"){const t=Iy.process;gh={get platform(){return t.platform},get arch(){return t.arch},get env(){return t.env},cwd(){return t.cwd()}}}else typeof process<"u"&&typeof process?.versions?.node=="string"?gh={get platform(){return process.platform},get arch(){return process.arch},get env(){return qE},cwd(){return qE.VSCODE_CWD||process.cwd()}}:gh={get platform(){return Lt?"win32":He?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const Sv=gh.cwd,qc=gh.env,Mk=gh.platform,u6=gh.arch;var g6=Object.defineProperty,nl=(t,e)=>g6(t,"name",{value:e,configurable:!0});const f6=65,p6=97,m6=90,b6=122,Xl=46,ws=47,yn=92,bl=58,v6=63;class Fk extends Error{static{nl(this,"ErrorInvalidArgType")}code;constructor(e,i,s){let n;typeof i=="string"&&i.indexOf("not ")===0?(n="must not be",i=i.replace(/^not /,"")):n="must be";const o=e.indexOf(".")!==-1?"property":"argument";let r=`The "${e}" ${o} ${n} of type ${i}`;r+=`. Received type ${typeof s}`,super(r),this.code="ERR_INVALID_ARG_TYPE"}}function Vk(t,e){if(t===null||typeof t!="object")throw new Fk(e,"Object",t)}nl(Vk,"validateObject");function Li(t,e){if(typeof t!="string")throw new Fk(e,"string",t)}nl(Li,"validateString");const Nn=Mk==="win32";function ht(t){return t===ws||t===yn}nl(ht,"isPathSeparator");function Cv(t){return t===ws}nl(Cv,"isPosixPathSeparator");function _a(t){return t>=f6&&t<=m6||t>=p6&&t<=b6}nl(_a,"isWindowsDeviceRoot");function Zf(t,e,i,s){let n="",o=0,r=-1,a=0,l=0;for(let h=0;h<=t.length;++h){if(h<t.length)l=t.charCodeAt(h);else{if(s(l))break;l=ws}if(s(l)){if(!(r===h-1||a===1))if(a===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==Xl||n.charCodeAt(n.length-2)!==Xl){if(n.length>2){const d=n.lastIndexOf(i);d===-1?(n="",o=0):(n=n.slice(0,d),o=n.length-1-n.lastIndexOf(i)),r=h,a=0;continue}else if(n.length!==0){n="",o=0,r=h,a=0;continue}}e&&(n+=n.length>0?`${i}..`:"..",o=2)}else n.length>0?n+=`${i}${t.slice(r+1,h)}`:n=t.slice(r+1,h),o=h-r-1;r=h,a=0}else l===Xl&&a!==-1?++a:a=-1}return n}nl(Zf,"normalizeString");function Hk(t){return t?`${t[0]==="."?"":"."}${t}`:""}nl(Hk,"formatExt");function sC(t,e){Vk(e,"pathObject");const i=e.dir||e.root,s=e.base||`${e.name||""}${Hk(e.ext)}`;return i?i===e.root?`${i}${s}`:`${i}${t}${s}`:s}nl(sC,"_format");const Ii={resolve(...t){let e="",i="",s=!1;for(let n=t.length-1;n>=-1;n--){let o;if(n>=0){if(o=t[n],Li(o,`paths[${n}]`),o.length===0)continue}else e.length===0?o=Sv():(o=qc[`=${e}`]||Sv(),(o===void 0||o.slice(0,2).toLowerCase()!==e.toLowerCase()&&o.charCodeAt(2)===yn)&&(o=`${e}\\`));const r=o.length;let a=0,l="",h=!1;const d=o.charCodeAt(0);if(r===1)ht(d)&&(a=1,h=!0);else if(ht(d))if(h=!0,ht(o.charCodeAt(1))){let u=2,g=u;for(;u<r&&!ht(o.charCodeAt(u));)u++;if(u<r&&u!==g){const p=o.slice(g,u);for(g=u;u<r&&ht(o.charCodeAt(u));)u++;if(u<r&&u!==g){for(g=u;u<r&&!ht(o.charCodeAt(u));)u++;(u===r||u!==g)&&(l=`\\\\${p}\\${o.slice(g,u)}`,a=u)}}}else a=1;else _a(d)&&o.charCodeAt(1)===bl&&(l=o.slice(0,2),a=2,r>2&&ht(o.charCodeAt(2))&&(h=!0,a=3));if(l.length>0)if(e.length>0){if(l.toLowerCase()!==e.toLowerCase())continue}else e=l;if(s){if(e.length>0)break}else if(i=`${o.slice(a)}\\${i}`,s=h,h&&e.length>0)break}return i=Zf(i,!s,"\\",ht),s?`${e}\\${i}`:`${e}${i}`||"."},normalize(t){Li(t,"path");const e=t.length;if(e===0)return".";let i=0,s,n=!1;const o=t.charCodeAt(0);if(e===1)return Cv(o)?"\\":t;if(ht(o))if(n=!0,ht(t.charCodeAt(1))){let a=2,l=a;for(;a<e&&!ht(t.charCodeAt(a));)a++;if(a<e&&a!==l){const h=t.slice(l,a);for(l=a;a<e&&ht(t.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!ht(t.charCodeAt(a));)a++;if(a===e)return`\\\\${h}\\${t.slice(l)}\\`;a!==l&&(s=`\\\\${h}\\${t.slice(l,a)}`,i=a)}}}else i=1;else _a(o)&&t.charCodeAt(1)===bl&&(s=t.slice(0,2),i=2,e>2&&ht(t.charCodeAt(2))&&(n=!0,i=3));let r=i<e?Zf(t.slice(i),!n,"\\",ht):"";return r.length===0&&!n&&(r="."),r.length>0&&ht(t.charCodeAt(e-1))&&(r+="\\"),s===void 0?n?`\\${r}`:r:n?`${s}\\${r}`:`${s}${r}`},isAbsolute(t){Li(t,"path");const e=t.length;if(e===0)return!1;const i=t.charCodeAt(0);return ht(i)||e>2&&_a(i)&&t.charCodeAt(1)===bl&&ht(t.charCodeAt(2))},join(...t){if(t.length===0)return".";let e,i;for(let o=0;o<t.length;++o){const r=t[o];Li(r,"path"),r.length>0&&(e===void 0?e=i=r:e+=`\\${r}`)}if(e===void 0)return".";let s=!0,n=0;if(typeof i=="string"&&ht(i.charCodeAt(0))){++n;const o=i.length;o>1&&ht(i.charCodeAt(1))&&(++n,o>2&&(ht(i.charCodeAt(2))?++n:s=!1))}if(s){for(;n<e.length&&ht(e.charCodeAt(n));)n++;n>=2&&(e=`\\${e.slice(n)}`)}return Ii.normalize(e)},relative(t,e){if(Li(t,"from"),Li(e,"to"),t===e)return"";const i=Ii.resolve(t),s=Ii.resolve(e);if(i===s||(t=i.toLowerCase(),e=s.toLowerCase(),t===e))return"";let n=0;for(;n<t.length&&t.charCodeAt(n)===yn;)n++;let o=t.length;for(;o-1>n&&t.charCodeAt(o-1)===yn;)o--;const r=o-n;let a=0;for(;a<e.length&&e.charCodeAt(a)===yn;)a++;let l=e.length;for(;l-1>a&&e.charCodeAt(l-1)===yn;)l--;const h=l-a,d=r<h?r:h;let u=-1,g=0;for(;g<d;g++){const m=t.charCodeAt(n+g);if(m!==e.charCodeAt(a+g))break;m===yn&&(u=g)}if(g!==d){if(u===-1)return s}else{if(h>d){if(e.charCodeAt(a+g)===yn)return s.slice(a+g+1);if(g===2)return s.slice(a+g)}r>d&&(t.charCodeAt(n+g)===yn?u=g:g===2&&(u=3)),u===-1&&(u=0)}let p="";for(g=n+u+1;g<=o;++g)(g===o||t.charCodeAt(g)===yn)&&(p+=p.length===0?"..":"\\..");return a+=u,p.length>0?`${p}${s.slice(a,l)}`:(s.charCodeAt(a)===yn&&++a,s.slice(a,l))},toNamespacedPath(t){if(typeof t!="string"||t.length===0)return t;const e=Ii.resolve(t);if(e.length<=2)return t;if(e.charCodeAt(0)===yn){if(e.charCodeAt(1)===yn){const i=e.charCodeAt(2);if(i!==v6&&i!==Xl)return`\\\\?\\UNC\\${e.slice(2)}`}}else if(_a(e.charCodeAt(0))&&e.charCodeAt(1)===bl&&e.charCodeAt(2)===yn)return`\\\\?\\${e}`;return t},dirname(t){Li(t,"path");const e=t.length;if(e===0)return".";let i=-1,s=0;const n=t.charCodeAt(0);if(e===1)return ht(n)?t:".";if(ht(n)){if(i=s=1,ht(t.charCodeAt(1))){let a=2,l=a;for(;a<e&&!ht(t.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&ht(t.charCodeAt(a));)a++;if(a<e&&a!==l){for(l=a;a<e&&!ht(t.charCodeAt(a));)a++;if(a===e)return t;a!==l&&(i=s=a+1)}}}}else _a(n)&&t.charCodeAt(1)===bl&&(i=e>2&&ht(t.charCodeAt(2))?3:2,s=i);let o=-1,r=!0;for(let a=e-1;a>=s;--a)if(ht(t.charCodeAt(a))){if(!r){o=a;break}}else r=!1;if(o===-1){if(i===-1)return".";o=i}return t.slice(0,o)},basename(t,e){e!==void 0&&Li(e,"suffix"),Li(t,"path");let i=0,s=-1,n=!0,o;if(t.length>=2&&_a(t.charCodeAt(0))&&t.charCodeAt(1)===bl&&(i=2),e!==void 0&&e.length>0&&e.length<=t.length){if(e===t)return"";let r=e.length-1,a=-1;for(o=t.length-1;o>=i;--o){const l=t.charCodeAt(o);if(ht(l)){if(!n){i=o+1;break}}else a===-1&&(n=!1,a=o+1),r>=0&&(l===e.charCodeAt(r)?--r===-1&&(s=o):(r=-1,s=a))}return i===s?s=a:s===-1&&(s=t.length),t.slice(i,s)}for(o=t.length-1;o>=i;--o)if(ht(t.charCodeAt(o))){if(!n){i=o+1;break}}else s===-1&&(n=!1,s=o+1);return s===-1?"":t.slice(i,s)},extname(t){Li(t,"path");let e=0,i=-1,s=0,n=-1,o=!0,r=0;t.length>=2&&t.charCodeAt(1)===bl&&_a(t.charCodeAt(0))&&(e=s=2);for(let a=t.length-1;a>=e;--a){const l=t.charCodeAt(a);if(ht(l)){if(!o){s=a+1;break}continue}n===-1&&(o=!1,n=a+1),l===Xl?i===-1?i=a:r!==1&&(r=1):i!==-1&&(r=-1)}return i===-1||n===-1||r===0||r===1&&i===n-1&&i===s+1?"":t.slice(i,n)},format:sC.bind(null,"\\"),parse(t){Li(t,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;const i=t.length;let s=0,n=t.charCodeAt(0);if(i===1)return ht(n)?(e.root=e.dir=t,e):(e.base=e.name=t,e);if(ht(n)){if(s=1,ht(t.charCodeAt(1))){let u=2,g=u;for(;u<i&&!ht(t.charCodeAt(u));)u++;if(u<i&&u!==g){for(g=u;u<i&&ht(t.charCodeAt(u));)u++;if(u<i&&u!==g){for(g=u;u<i&&!ht(t.charCodeAt(u));)u++;u===i?s=u:u!==g&&(s=u+1)}}}}else if(_a(n)&&t.charCodeAt(1)===bl){if(i<=2)return e.root=e.dir=t,e;if(s=2,ht(t.charCodeAt(2))){if(i===3)return e.root=e.dir=t,e;s=3}}s>0&&(e.root=t.slice(0,s));let o=-1,r=s,a=-1,l=!0,h=t.length-1,d=0;for(;h>=s;--h){if(n=t.charCodeAt(h),ht(n)){if(!l){r=h+1;break}continue}a===-1&&(l=!1,a=h+1),n===Xl?o===-1?o=h:d!==1&&(d=1):o!==-1&&(d=-1)}return a!==-1&&(o===-1||d===0||d===1&&o===a-1&&o===r+1?e.base=e.name=t.slice(r,a):(e.name=t.slice(r,o),e.base=t.slice(r,a),e.ext=t.slice(o,a))),r>0&&r!==s?e.dir=t.slice(0,r-1):e.dir=e.root,e},sep:"\\",delimiter:";",win32:null,posix:null},w6=(()=>{if(Nn){const t=/\\/g;return()=>{const e=Sv().replace(t,"/");return e.slice(e.indexOf("/"))}}return()=>Sv()})(),ot={resolve(...t){let e="",i=!1;for(let s=t.length-1;s>=-1&&!i;s--){const n=s>=0?t[s]:w6();Li(n,`paths[${s}]`),n.length!==0&&(e=`${n}/${e}`,i=n.charCodeAt(0)===ws)}return e=Zf(e,!i,"/",Cv),i?`/${e}`:e.length>0?e:"."},normalize(t){if(Li(t,"path"),t.length===0)return".";const e=t.charCodeAt(0)===ws,i=t.charCodeAt(t.length-1)===ws;return t=Zf(t,!e,"/",Cv),t.length===0?e?"/":i?"./":".":(i&&(t+="/"),e?`/${t}`:t)},isAbsolute(t){return Li(t,"path"),t.length>0&&t.charCodeAt(0)===ws},join(...t){if(t.length===0)return".";let e;for(let i=0;i<t.length;++i){const s=t[i];Li(s,"path"),s.length>0&&(e===void 0?e=s:e+=`/${s}`)}return e===void 0?".":ot.normalize(e)},relative(t,e){if(Li(t,"from"),Li(e,"to"),t===e||(t=ot.resolve(t),e=ot.resolve(e),t===e))return"";const i=1,s=t.length,n=s-i,o=1,r=e.length-o,a=n<r?n:r;let l=-1,h=0;for(;h<a;h++){const u=t.charCodeAt(i+h);if(u!==e.charCodeAt(o+h))break;u===ws&&(l=h)}if(h===a)if(r>a){if(e.charCodeAt(o+h)===ws)return e.slice(o+h+1);if(h===0)return e.slice(o+h)}else n>a&&(t.charCodeAt(i+h)===ws?l=h:h===0&&(l=0));let d="";for(h=i+l+1;h<=s;++h)(h===s||t.charCodeAt(h)===ws)&&(d+=d.length===0?"..":"/..");return`${d}${e.slice(o+l)}`},toNamespacedPath(t){return t},dirname(t){if(Li(t,"path"),t.length===0)return".";const e=t.charCodeAt(0)===ws;let i=-1,s=!0;for(let n=t.length-1;n>=1;--n)if(t.charCodeAt(n)===ws){if(!s){i=n;break}}else s=!1;return i===-1?e?"/":".":e&&i===1?"//":t.slice(0,i)},basename(t,e){e!==void 0&&Li(e,"ext"),Li(t,"path");let i=0,s=-1,n=!0,o;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e===t)return"";let r=e.length-1,a=-1;for(o=t.length-1;o>=0;--o){const l=t.charCodeAt(o);if(l===ws){if(!n){i=o+1;break}}else a===-1&&(n=!1,a=o+1),r>=0&&(l===e.charCodeAt(r)?--r===-1&&(s=o):(r=-1,s=a))}return i===s?s=a:s===-1&&(s=t.length),t.slice(i,s)}for(o=t.length-1;o>=0;--o)if(t.charCodeAt(o)===ws){if(!n){i=o+1;break}}else s===-1&&(n=!1,s=o+1);return s===-1?"":t.slice(i,s)},extname(t){Li(t,"path");let e=-1,i=0,s=-1,n=!0,o=0;for(let r=t.length-1;r>=0;--r){const a=t.charCodeAt(r);if(a===ws){if(!n){i=r+1;break}continue}s===-1&&(n=!1,s=r+1),a===Xl?e===-1?e=r:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||s===-1||o===0||o===1&&e===s-1&&e===i+1?"":t.slice(e,s)},format:sC.bind(null,"/"),parse(t){Li(t,"path");const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;const i=t.charCodeAt(0)===ws;let s;i?(e.root="/",s=1):s=0;let n=-1,o=0,r=-1,a=!0,l=t.length-1,h=0;for(;l>=s;--l){const d=t.charCodeAt(l);if(d===ws){if(!a){o=l+1;break}continue}r===-1&&(a=!1,r=l+1),d===Xl?n===-1?n=l:h!==1&&(h=1):n!==-1&&(h=-1)}if(r!==-1){const d=o===0&&i?1:o;n===-1||h===0||h===1&&n===r-1&&n===o+1?e.base=e.name=t.slice(d,r):(e.name=t.slice(d,n),e.base=t.slice(d,r),e.ext=t.slice(n,r))}return o>0?e.dir=t.slice(0,o-1):i&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};ot.win32=Ii.win32=Ii;ot.posix=Ii.posix=ot;const fh=Nn?Ii.normalize:ot.normalize,Wk=Nn?Ii.isAbsolute:ot.isAbsolute,Co=Nn?Ii.join:ot.join,Pb=Nn?Ii.resolve:ot.resolve,y6=Nn?Ii.relative:ot.relative,Uk=Nn?Ii.dirname:ot.dirname,zk=Nn?Ii.basename:ot.basename,e1=Nn?Ii.extname:ot.extname;Nn?Ii.format:ot.format;Nn?Ii.parse:ot.parse;Nn?Ii.toNamespacedPath:ot.toNamespacedPath;const ko=Nn?Ii.sep:ot.sep;Nn?Ii.delimiter:ot.delimiter;var _6=Object.defineProperty,Qf=(t,e)=>_6(t,"name",{value:e,configurable:!0});class wne{constructor(e){this.task=e}static{Qf(this,"Cache")}result=null;get(){if(this.result)return this.result;const e=new Yh,i=this.task(e.token);return this.result={promise:i,dispose:Qf(()=>{this.result=null,e.cancel(),e.dispose()},"dispose")},this.result}}function nC(t){return t}Qf(nC,"identity");class S6{static{Qf(this,"LRUCachedFunction")}lastCache=void 0;lastArgKey=void 0;_fn;_computeKey;constructor(e,i){typeof e=="function"?(this._fn=e,this._computeKey=nC):(this._fn=i,this._computeKey=e.getCacheKey)}get(e){const i=this._computeKey(e);return this.lastArgKey!==i&&(this.lastArgKey=i,this.lastCache=this._fn(e)),this.lastCache}}class YE{static{Qf(this,"CachedFunction")}_map=new Map;_map2=new Map;get cachedValues(){return this._map}_fn;_computeKey;constructor(e,i){typeof e=="function"?(this._fn=e,this._computeKey=nC):(this._fn=i,this._computeKey=e.getCacheKey)}get(e){const i=this._computeKey(e);if(this._map2.has(i))return this._map2.get(i);const s=this._fn(e);return this._map.set(e,s),this._map2.set(i,s),s}}var C6=Object.defineProperty,$k=(t,e)=>C6(t,"name",{value:e,configurable:!0}),Is=(t=>(t[t.MAX_SAFE_SMALL_INTEGER=1073741824]="MAX_SAFE_SMALL_INTEGER",t[t.MIN_SAFE_SMALL_INTEGER=-1073741824]="MIN_SAFE_SMALL_INTEGER",t[t.MAX_UINT_8=255]="MAX_UINT_8",t[t.MAX_UINT_16=65535]="MAX_UINT_16",t[t.MAX_UINT_32=4294967295]="MAX_UINT_32",t[t.UNICODE_SUPPLEMENTARY_PLANE_BEGIN=65536]="UNICODE_SUPPLEMENTARY_PLANE_BEGIN",t))(Is||{});function D6(t){return t<0?0:t>255?255:t|0}$k(D6,"toUint8");function A6(t){return t<0?0:t>4294967295?4294967295:t|0}$k(A6,"toUint32");var E6=Object.defineProperty,Ee=(t,e)=>E6(t,"name",{value:e,configurable:!0});function Dv(t){return!t||typeof t!="string"?!0:t.trim().length===0}Ee(Dv,"isFalsyOrWhitespace");const I6=/{(\d+)}/g;function T6(t,...e){return e.length===0?t:t.replace(I6,(i,s)=>{const n=Number.parseInt(s,10);return isNaN(n)||n<0||n>=e.length?i:e[n]})}Ee(T6,"format");const k6=/{([^}]+)}/g;function x6(t,e){return Object.keys(e).length===0?t:t.replace(k6,(i,s)=>e[s]??i)}Ee(x6,"format2");function L6(t){return t.replace(/[<>"'&]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return e})}Ee(L6,"htmlAttributeEncodeValue");function Kd(t){return t.replace(/[<>&]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}Ee(Kd,"escape");function t1(t){return t.replace(/[\\{}*+?|^$.[\]()]/g,"\\$&")}Ee(t1,"escapeRegExpCharacters");function P6(t,e){let i=0,s=t.indexOf(e);for(;s!==-1;)i++,s=t.indexOf(e,s+e.length);return i}Ee(P6,"count");function R6(t,e,i=""){return t.length<=e?t:`${t.substr(0,e)}${i}`}Ee(R6,"truncate");function N6(t,e,i=""){if(t.length<=e)return t;const s=Math.ceil(e/2)-i.length/2,n=Math.floor(e/2)-i.length/2;return`${t.substr(0,s)}${i}${t.substr(t.length-n)}`}Ee(N6,"truncateMiddle");function O6(t,e=" "){const i=Kp(t,e);return Eh(i,e)}Ee(O6,"trim");function Kp(t,e){if(!t||!e)return t;const i=e.length;if(i===0||t.length===0)return t;let s=0;for(;t.indexOf(e,s)===s;)s=s+i;return t.substring(s)}Ee(Kp,"ltrim");function Eh(t,e){if(!t||!e)return t;const i=e.length,s=t.length;if(i===0||s===0)return t;let n=s,o=-1;for(;o=t.lastIndexOf(e,n-1),!(o===-1||o+i!==n);){if(o===0)return"";n=o}return t.substring(0,n)}Ee(Eh,"rtrim");function Kk(t){return t.replace(/[-\\{}+?|^$.,[\]()#\s]/g,"\\$&").replace(/[*]/g,".*")}Ee(Kk,"convertSimple2RegExpPattern");function B6(t){return t.replace(/\*/g,"")}Ee(B6,"stripWildcards");function M6(t,e,i={}){if(!t)throw new Error("Cannot create regex from empty string");e||(t=t1(t)),i.wholeWord&&(/\B/.test(t.charAt(0))||(t="\\b"+t),/\B/.test(t.charAt(t.length-1))||(t=t+"\\b"));let s="";return i.global&&(s+="g"),i.matchCase||(s+="i"),i.multiline&&(s+="m"),i.unicode&&(s+="u"),new RegExp(t,s)}Ee(M6,"createRegExp");function F6(t){return t.source==="^"||t.source==="^$"||t.source==="$"||t.source==="^\\s*$"?!1:!!(t.exec("")&&t.lastIndex===0)}Ee(F6,"regExpLeadsToEndlessLoop");function V6(t){return t.split(/\r\n|\r|\n/)}Ee(V6,"splitLines");function H6(t){const e=[],i=t.split(/(\r\n|\r|\n)/);for(let s=0;s<Math.ceil(i.length/2);s++)e.push(i[2*s]+(i[2*s+1]??""));return e}Ee(H6,"splitLinesIncludeSeparators");function W6(t){for(let e=0,i=t.length;e<i;e++){const s=t.charCodeAt(e);if(s!==O.Space&&s!==O.Tab)return e}return-1}Ee(W6,"firstNonWhitespaceIndex");function U6(t,e=0,i=t.length){for(let s=e;s<i;s++){const n=t.charCodeAt(s);if(n!==O.Space&&n!==O.Tab)return t.substring(e,s)}return t.substring(e,i)}Ee(U6,"getLeadingWhitespace");function z6(t,e=t.length-1){for(let i=e;i>=0;i--){const s=t.charCodeAt(i);if(s!==O.Space&&s!==O.Tab)return i}return-1}Ee(z6,"lastNonWhitespaceIndex");function $6(t,e,i){const s=[];let n=0;for(const o of t.matchAll(e)){if(s.push(t.slice(n,o.index)),o.index===void 0)throw new Error("match.index should be defined");n=o.index+o[0].length,s.push(i(o[0],...o.slice(1),o.index,t,o.groups))}return s.push(t.slice(n)),Promise.all(s).then(o=>o.join(""))}Ee($6,"replaceAsync");function Av(t,e){return t<e?-1:t>e?1:0}Ee(Av,"compare");function i1(t,e,i=0,s=t.length,n=0,o=e.length){for(;i<s&&n<o;i++,n++){const l=t.charCodeAt(i),h=e.charCodeAt(n);if(l<h)return-1;if(l>h)return 1}const r=s-i,a=o-n;return r<a?-1:r>a?1:0}Ee(i1,"compareSubstring");function Ev(t,e){return Xu(t,e,0,t.length,0,e.length)}Ee(Ev,"compareIgnoreCase");function Xu(t,e,i=0,s=t.length,n=0,o=e.length){for(;i<s&&n<o;i++,n++){let l=t.charCodeAt(i),h=e.charCodeAt(n);if(l===h)continue;if(l>=128||h>=128)return i1(t.toLowerCase(),e.toLowerCase(),i,s,n,o);v_(l)&&(l-=32),v_(h)&&(h-=32);const d=l-h;if(d!==0)return d}const r=s-i,a=o-n;return r<a?-1:r>a?1:0}Ee(Xu,"compareSubstringIgnoreCase");function K6(t){return t>=O.Digit0&&t<=O.Digit9}Ee(K6,"isAsciiDigit");function v_(t){return t>=O.a&&t<=O.z}Ee(v_,"isLowerAsciiLetter");function G6(t){return t>=O.A&&t<=O.Z}Ee(G6,"isUpperAsciiLetter");function xa(t,e){return t.length===e.length&&Xu(t,e)===0}Ee(xa,"equalsIgnoreCase");function Zu(t,e){const i=e.length;return e.length>t.length?!1:Xu(t,e,0,i)===0}Ee(Zu,"startsWithIgnoreCase");function j6(t,e){const i=Math.min(t.length,e.length);let s;for(s=0;s<i;s++)if(t.charCodeAt(s)!==e.charCodeAt(s))return s;return i}Ee(j6,"commonPrefixLength");function q6(t,e){const i=Math.min(t.length,e.length);let s;const n=t.length-1,o=e.length-1;for(s=0;s<i;s++)if(t.charCodeAt(n-s)!==e.charCodeAt(o-s))return s;return i}Ee(q6,"commonSuffixLength");function s1(t){return 55296<=t&&t<=56319}Ee(s1,"isHighSurrogate");function _u(t){return 56320<=t&&t<=57343}Ee(_u,"isLowSurrogate");function n1(t,e){return(t-55296<<10)+(e-56320)+65536}Ee(n1,"computeCodePoint");function Gk(t,e,i){const s=t.charCodeAt(i);if(s1(s)&&i+1<e){const n=t.charCodeAt(i+1);if(_u(n))return n1(s,n)}return s}Ee(Gk,"getNextCodePoint");function jk(t,e){const i=t.charCodeAt(e-1);if(_u(i)&&e>1){const s=t.charCodeAt(e-2);if(s1(s))return n1(s,i)}return i}Ee(jk,"getPrevCodePoint");class oC{static{Ee(this,"CodePointIterator")}_str;_len;_offset;get offset(){return this._offset}constructor(e,i=0){this._str=e,this._len=e.length,this._offset=i}setOffset(e){this._offset=e}prevCodePoint(){const e=jk(this._str,this._offset);return this._offset-=e>=Is.UNICODE_SUPPLEMENTARY_PLANE_BEGIN?2:1,e}nextCodePoint(){const e=Gk(this._str,this._len,this._offset);return this._offset+=e>=Is.UNICODE_SUPPLEMENTARY_PLANE_BEGIN?2:1,e}eol(){return this._offset>=this._len}}class rC{static{Ee(this,"GraphemeIterator")}_iterator;get offset(){return this._iterator.offset}constructor(e,i=0){this._iterator=new oC(e,i)}nextGraphemeLength(){const e=Wl.getInstance(),i=this._iterator,s=i.offset;let n=e.getGraphemeBreakType(i.nextCodePoint());for(;!i.eol();){const o=i.offset,r=e.getGraphemeBreakType(i.nextCodePoint());if(w_(n,r)){i.setOffset(o);break}n=r}return i.offset-s}prevGraphemeLength(){const e=Wl.getInstance(),i=this._iterator,s=i.offset;let n=e.getGraphemeBreakType(i.prevCodePoint());for(;i.offset>0;){const o=i.offset,r=e.getGraphemeBreakType(i.prevCodePoint());if(w_(r,n)){i.setOffset(o);break}n=r}return s-i.offset}eol(){return this._iterator.eol()}}function qk(t,e){return new rC(t,e).nextGraphemeLength()}Ee(qk,"nextCharLength");function Yk(t,e){return new rC(t,e).prevGraphemeLength()}Ee(Yk,"prevCharLength");function Y6(t,e){e>0&&_u(t.charCodeAt(e))&&e--;const i=e+qk(t,e);return[i-Yk(t,i),i]}Ee(Y6,"getCharContainingOffset");function X6(t){const e=new rC(t);let i=0;for(;!e.eol();)i++,e.nextGraphemeLength();return i}Ee(X6,"charCount");let Ty;function Xk(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}Ee(Xk,"makeContainsRtl");function Z6(t){return Ty||(Ty=Xk()),Ty.test(t)}Ee(Z6,"containsRTL");const Q6=/^[\t\n\r\x20-\x7E]*$/;function J6(t){return Q6.test(t)}Ee(J6,"isBasicASCII");const e9=/[\u2028\u2029]/;function t9(t){return e9.test(t)}Ee(t9,"containsUnusualLineTerminators");function i9(t){return t>=11904&&t<=55215||t>=63744&&t<=64255||t>=65281&&t<=65374}Ee(i9,"isFullWidthCharacter");function aC(t){return t>=127462&&t<=127487||t===8986||t===8987||t===9200||t===9203||t>=9728&&t<=10175||t===11088||t===11093||t>=127744&&t<=128591||t>=128640&&t<=128764||t>=128992&&t<=129008||t>=129280&&t<=129535||t>=129648&&t<=129782}Ee(aC,"isEmojiImprecise");function s9(t,e,i=""){const s=t.trimStart();if(s.length<e)return s;const n=/\b/g;let o=0;for(;n.test(s)&&!(s.length-n.lastIndex<e);)o=n.lastIndex,n.lastIndex+=1;return o===0?s:i+s.substring(o).trimStart()}Ee(s9,"lcut");const Zk=/(?:(?:\x1b\[|\x9B)[=?>!]?[\d;:]*["$#'* ]?[a-zA-Z@^`{}|~])|(:?\x1b\].*?\x07)/g;function*n9(t){let e=0;for(const i of t.matchAll(Zk))e!==i.index&&(yield{isCode:!1,str:t.substring(e,i.index)}),yield{isCode:!0,str:i[0]},e=i.index+i[0].length;e!==t.length&&(yield{isCode:!1,str:t.substring(e)})}Ee(n9,"forAnsiStringParts");function Qk(t){return t&&(t=t.replace(Zk,"")),t}Ee(Qk,"removeAnsiEscapeCodes");const o9=/\\\[.*?\\\]/g;function r9(t){return Qk(t).replace(o9,"")}Ee(r9,"removeAnsiEscapeCodesFromPrompt");String.fromCharCode(O.UTF8_BOM);function Jk(t){return!!(t&&t.length>0&&t.charCodeAt(0)===O.UTF8_BOM)}Ee(Jk,"startsWithUTF8BOM");function a9(t){return Jk(t)?t.substr(1):t}Ee(a9,"stripUTF8BOM");function l9(t,e){if(!t||!e||t.length<e.length)return!1;const i=e.length,s=t.toLowerCase();let n=0,o=-1;for(;n<i;){const r=s.indexOf(e[n],o+1);if(r<0)return!1;o=r,n++}return!0}Ee(l9,"fuzzyContains");function c9(t,e=!1){return t?(e&&(t=t.replace(/\\./g,"")),t.toLowerCase()!==t):!1}Ee(c9,"containsUppercaseCharacter");function h9(t){return t.charAt(0).toUpperCase()+t.slice(1)}Ee(h9,"uppercaseFirstLetter");function d9(t,e=1){if(e===0)return"";let i=-1;do i=t.indexOf(`
`,i+1),e--;while(e>0&&i>=0);return i===-1?t:(t[i-1]==="\r"&&i--,t.substr(0,i))}Ee(d9,"getNLines");function u9(t){const e=O.Z-O.A+1;return t=t%(2*e),t<e?String.fromCharCode(O.a+t):String.fromCharCode(O.A+t-e)}Ee(u9,"singleLetterHash");function g9(t){return Wl.getInstance().getGraphemeBreakType(t)}Ee(g9,"getGraphemeBreakType");function w_(t,e){return t===0?e!==5&&e!==7:t===2&&e===3?!1:t===4||t===2||t===3||e===4||e===2||e===3?!0:!(t===8&&(e===8||e===9||e===11||e===12)||(t===11||t===9)&&(e===9||e===10)||(t===12||t===10)&&e===10||e===5||e===13||e===7||t===1||t===13&&e===14||t===6&&e===6)}Ee(w_,"breakBetweenGraphemeBreakType");class Wl{static{Ee(this,"GraphemeBreakTree")}static _INSTANCE=null;static getInstance(){return Wl._INSTANCE||(Wl._INSTANCE=new Wl),Wl._INSTANCE}_data;constructor(){this._data=ex()}getGraphemeBreakType(e){if(e<32)return e===O.LineFeed?3:e===O.CarriageReturn?2:4;if(e<127)return 0;const i=this._data,s=i.length/3;let n=1;for(;n<=s;)if(e<i[3*n])n=2*n;else if(e>i[3*n+1])n=2*n+1;else return i[3*n+2];return 0}}function ex(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}Ee(ex,"getGraphemeBreakRawData");function f9(t,e){if(t===0)return 0;const i=tx(t,e);if(i!==void 0)return i;const s=new oC(e,t);return s.prevCodePoint(),s.offset}Ee(f9,"getLeftDeleteOffset");function tx(t,e){const i=new oC(e,t);let s=i.prevCodePoint();for(;ix(s)||s===65039||s===8419;){if(i.offset===0)return;s=i.prevCodePoint()}if(!aC(s))return;let n=i.offset;return n>0&&i.prevCodePoint()===8205&&(n=i.offset),n}Ee(tx,"getOffsetBeforeLastEmojiComponent");function ix(t){return t>=127995&&t<=127999}Ee(ix,"isEmojiModifier");class Kg{constructor(e){this.confusableDictionary=e}static{Ee(this,"AmbiguousCharacters")}static ambiguousCharacterData=new kn(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}'));static cache=new S6({getCacheKey:JSON.stringify},e=>{function i(d){const u=new Map;for(let g=0;g<d.length;g+=2)u.set(d[g],d[g+1]);return u}Ee(i,"arrayToMap");function s(d,u){const g=new Map(d);for(const[p,m]of u)g.set(p,m);return g}Ee(s,"mergeMaps");function n(d,u){if(!d)return u;const g=new Map;for(const[p,m]of d)u.has(p)&&g.set(p,m);return g}Ee(n,"intersectMaps");const o=this.ambiguousCharacterData.value;let r=e.filter(d=>!d.startsWith("_")&&d in o);r.length===0&&(r=["_default"]);let a;for(const d of r){const u=i(o[d]);a=n(a,u)}const l=i(o._common),h=s(l,a);return new Kg(h)});static getInstance(e){return Kg.cache.get(Array.from(e))}static _locales=new kn(()=>Object.keys(Kg.ambiguousCharacterData.value).filter(e=>!e.startsWith("_")));static getLocales(){return Kg._locales.value}isAmbiguous(e){return this.confusableDictionary.has(e)}containsAmbiguousCharacter(e){for(let i=0;i<e.length;i++){const s=e.codePointAt(i);if(typeof s=="number"&&this.isAmbiguous(s))return!0}return!1}getPrimaryConfusable(e){return this.confusableDictionary.get(e)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}class Gg{static{Ee(this,"InvisibleCharacters")}static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static _data=void 0;static getData(){return this._data||(this._data=new Set(Gg.getRawData())),this._data}static isInvisibleCharacter(e){return Gg.getData().has(e)}static containsInvisibleCharacter(e){for(let i=0;i<e.length;i++){const s=e.codePointAt(i);if(typeof s=="number"&&Gg.isInvisibleCharacter(s))return!0}return!1}static get codePoints(){return Gg.getData()}}var p9=Object.defineProperty,gs=(t,e)=>p9(t,"name",{value:e,configurable:!0});function Yi(t){return typeof t=="string"}gs(Yi,"isString");function m9(t){return Array.isArray(t)&&t.every(e=>Yi(e))}gs(m9,"isStringArray");function cs(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}gs(cs,"isObject");function sx(t){const e=Object.getPrototypeOf(Uint8Array);return typeof t=="object"&&t instanceof e}gs(sx,"isTypedArray");function pc(t){return typeof t=="number"&&!isNaN(t)}gs(pc,"isNumber");function y_(t){return!!t&&typeof t[Symbol.iterator]=="function"}gs(y_,"isIterable");function b9(t){return t===!0||t===!1}gs(b9,"isBoolean");function xo(t){return typeof t>"u"}gs(xo,"isUndefined");function v9(t){return!ji(t)}gs(v9,"isDefined");function ji(t){return xo(t)||t===null}gs(ji,"isUndefinedOrNull");function lC(t,e){if(!t)throw new Error(e?`Unexpected type, expected '${e}'`:"Unexpected type")}gs(lC,"assertType");function di(t){if(ji(t))throw new Error("Assertion Failed: argument is undefined or null");return t}gs(di,"assertIsDefined");function Gd(...t){const e=[];for(let i=0;i<t.length;i++){const s=t[i];if(ji(s))throw new Error(`Assertion Failed: argument at index ${i} is undefined or null`);e.push(s)}return e}gs(Gd,"assertAllDefined");const w9=Object.prototype.hasOwnProperty;function cC(t){if(!cs(t))return!1;for(const e in t)if(w9.call(t,e))return!1;return!0}gs(cC,"isEmptyObject");function Jf(t){return typeof t=="function"}gs(Jf,"isFunction");function nx(...t){return t.length>0&&t.every(Jf)}gs(nx,"areFunctions");function ox(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++)rx(t[s],e[s])}gs(ox,"validateConstraints");function rx(t,e){if(Yi(e)){if(typeof t!==e)throw new Error(`argument does not match constraint: typeof ${e}`)}else if(Jf(e)){try{if(t instanceof e)return}catch{}if(!ji(t)&&t.constructor===e||e.length===1&&e.call(void 0,t)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}gs(rx,"validateConstraint");function y9(t){return t}gs(y9,"upcast");var _9=Object.defineProperty,Bs=(t,e)=>_9(t,"name",{value:e,configurable:!0});function Sa(t){return t===O.Slash||t===O.Backslash}Bs(Sa,"isPathSeparator");function Su(t){return t.replace(/[\\/]/g,ot.sep)}Bs(Su,"toSlashes");function ax(t){return t.indexOf("/")===-1&&(t=Su(t)),/^[a-zA-Z]:(\/|$)/.test(t)&&(t="/"+t),t}Bs(ax,"toPosixPath");function __(t,e=ot.sep){if(!t)return"";const i=t.length,s=t.charCodeAt(0);if(Sa(s)){if(Sa(t.charCodeAt(1))&&!Sa(t.charCodeAt(2))){let o=3;const r=o;for(;o<i&&!Sa(t.charCodeAt(o));o++);if(r!==o&&!Sa(t.charCodeAt(o+1))){for(o+=1;o<i;o++)if(Sa(t.charCodeAt(o)))return t.slice(0,o+1).replace(/[\\/]/g,e)}}return e}else if(hC(s)&&t.charCodeAt(1)===O.Colon)return Sa(t.charCodeAt(2))?t.slice(0,2)+e:t.slice(0,2);let n=t.indexOf("://");if(n!==-1){for(n+=3;n<i;n++)if(Sa(t.charCodeAt(n)))return t.slice(0,n+1)}return""}Bs(__,"getRoot");function lx(t){if(!Lt||!t||t.length<5)return!1;let e=t.charCodeAt(0);if(e!==O.Backslash||(e=t.charCodeAt(1),e!==O.Backslash))return!1;let i=2;const s=i;for(;i<t.length&&(e=t.charCodeAt(i),e!==O.Backslash);i++);return!(s===i||(e=t.charCodeAt(i+1),isNaN(e)||e===O.Backslash))}Bs(lx,"isUNC");const S9=/[\\/:*?"<>|]/g,C9=/[/]/g,D9=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function A9(t,e=Lt){const i=e?S9:C9;return!(!t||t.length===0||/^\s+$/.test(t)||(i.lastIndex=0,i.test(t))||e&&D9.test(t)||t==="."||t===".."||e&&t[t.length-1]==="."||e&&t.length!==t.trim().length||t.length>255)}Bs(A9,"isValidBasename");function E9(t,e,i){const s=t===e;return!i||s?s:!t||!e?!1:xa(t,e)}Bs(E9,"isEqual");function S_(t,e,i,s=ko){if(t===e)return!0;if(!t||!e||e.length>t.length)return!1;if(i){if(!Zu(t,e))return!1;if(e.length===t.length)return!0;let o=e.length;return e.charAt(e.length-1)===s&&o--,t.charAt(o)===s}return e.charAt(e.length-1)!==s&&(e+=s),t.indexOf(e)===0}Bs(S_,"isEqualOrParent");function hC(t){return t>=O.A&&t<=O.Z||t>=O.a&&t<=O.z}Bs(hC,"isWindowsDriveLetter");function I9(t,e){return Lt&&t.endsWith(":")&&(t+=ko),Wk(t)||(t=Co(e,t)),t=fh(t),cx(t)}Bs(I9,"sanitizeFilePath");function cx(t){return Lt?(t=Eh(t,ko),t.endsWith(":")&&(t+=ko)):(t=Eh(t,ko),t||(t=ko)),t}Bs(cx,"removeTrailingPathSeparator");function T9(t){const e=fh(t);return Lt?t.length>3?!1:o1(e)&&(t.length===2||e.charCodeAt(2)===O.Backslash):e===ot.sep}Bs(T9,"isRootOrDriveLetter");function o1(t,e=Lt){return e?hC(t.charCodeAt(0))&&t.charCodeAt(1)===O.Colon:!1}Bs(o1,"hasDriveLetter");function k9(t,e=Lt){return o1(t,e)?t[0]:void 0}Bs(k9,"getDriveLetter");function x9(t,e,i){return e.length>t.length?-1:t===e?0:(i&&(t=t.toLowerCase(),e=e.toLowerCase()),t.indexOf(e))}Bs(x9,"indexOfPath");function hx(t){const e=t.split(":");let i,s,n;for(const o of e){const r=Number(o);pc(r)?s===void 0?s=r:n===void 0&&(n=r):i=i?[i,o].join(":"):o}if(!i)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:i,line:s!==void 0?s:void 0,column:n!==void 0?n:s!==void 0?1:void 0}}Bs(hx,"parseLineAndColumnAware");const L9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",P9="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function R9(t,e,i=8){let s="";for(let o=0;o<i;o++){let r;o===0&&Lt&&!e&&(i===3||i===4)?r=P9:r=L9,s+=r.charAt(Math.floor(Math.random()*r.length))}let n;return e?n=`${e}-${s}`:n=s,t?Co(t,n):n}Bs(R9,"randomPath");var jd=(t=>(t[t.Uri=1]="Uri",t[t.Regexp=2]="Regexp",t[t.ScmResource=3]="ScmResource",t[t.ScmResourceGroup=4]="ScmResourceGroup",t[t.ScmProvider=5]="ScmProvider",t[t.CommentController=6]="CommentController",t[t.CommentThread=7]="CommentThread",t[t.CommentThreadInstance=8]="CommentThreadInstance",t[t.CommentThreadReply=9]="CommentThreadReply",t[t.CommentNode=10]="CommentNode",t[t.CommentThreadNode=11]="CommentThreadNode",t[t.TimelineActionContext=12]="TimelineActionContext",t[t.NotebookCellActionContext=13]="NotebookCellActionContext",t[t.NotebookActionContext=14]="NotebookActionContext",t[t.TerminalContext=15]="TerminalContext",t[t.TestItemContext=16]="TestItemContext",t[t.Date=17]="Date",t[t.TestMessageMenuArgs=18]="TestMessageMenuArgs",t))(jd||{}),N9=Object.defineProperty,Oo=(t,e)=>N9(t,"name",{value:e,configurable:!0});const O9=/^\w[\w\d+.-]*$/,B9=/^\//,M9=/^\/\//;function dx(t,e){if(!t.scheme&&e)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${t.authority}", path: "${t.path}", query: "${t.query}", fragment: "${t.fragment}"}`);if(t.scheme&&!O9.test(t.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(t.path){if(t.authority){if(!B9.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(M9.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}Oo(dx,"_validateUri");function ux(t,e){return!t&&!e?"file":t}Oo(ux,"_schemeFix");function gx(t,e){switch(t){case"https":case"http":case"file":e?e[0]!==jo&&(e=jo+e):e=jo;break}return e}Oo(gx,"_referenceResolution");const pi="",jo="/",F9=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class j{static{Oo(this,"URI")}static isUri(e){return e instanceof j?!0:e?typeof e.authority=="string"&&typeof e.fragment=="string"&&typeof e.path=="string"&&typeof e.query=="string"&&typeof e.scheme=="string"&&typeof e.fsPath=="string"&&typeof e.with=="function"&&typeof e.toString=="function":!1}scheme;authority;path;query;fragment;constructor(e,i,s,n,o,r=!1){typeof e=="object"?(this.scheme=e.scheme||pi,this.authority=e.authority||pi,this.path=e.path||pi,this.query=e.query||pi,this.fragment=e.fragment||pi):(this.scheme=ux(e,r),this.authority=i||pi,this.path=gx(this.scheme,s||pi),this.query=n||pi,this.fragment=o||pi,dx(this,r))}get fsPath(){return ep(this,!1)}with(e){if(!e)return this;let{scheme:i,authority:s,path:n,query:o,fragment:r}=e;return i===void 0?i=this.scheme:i===null&&(i=pi),s===void 0?s=this.authority:s===null&&(s=pi),n===void 0?n=this.path:n===null&&(n=pi),o===void 0?o=this.query:o===null&&(o=pi),r===void 0?r=this.fragment:r===null&&(r=pi),i===this.scheme&&s===this.authority&&n===this.path&&o===this.query&&r===this.fragment?this:new bd(i,s,n,o,r)}static parse(e,i=!1){const s=F9.exec(e);return s?new bd(s[2]||pi,jg(s[4]||pi),jg(s[5]||pi),jg(s[7]||pi),jg(s[9]||pi),i):new bd(pi,pi,pi,pi,pi)}static file(e){let i=pi;if(Lt&&(e=e.replace(/\\/g,jo)),e[0]===jo&&e[1]===jo){const s=e.indexOf(jo,2);s===-1?(i=e.substring(2),e=jo):(i=e.substring(2,s),e=e.substring(s)||jo)}return new bd("file",i,e,pi,pi)}static from(e,i){return new bd(e.scheme,e.authority,e.path,e.query,e.fragment,i)}static joinPath(e,...i){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let s;return Lt&&e.scheme==="file"?s=j.file(Ii.join(ep(e,!0),...i)).path:s=ot.join(e.path,...i),e.with({path:s})}toString(e=!1){return Iv(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof j)return e;{const i=new bd(e);return i._formatted=e.external??null,i._fsPath=e._sep===fx?e.fsPath??null:null,i}}else return e}[Symbol.for("debug.description")](){return`URI(${this.toString()})`}}function V9(t){return!t||typeof t!="object"?!1:typeof t.scheme=="string"&&(typeof t.authority=="string"||typeof t.authority>"u")&&(typeof t.path=="string"||typeof t.path>"u")&&(typeof t.query=="string"||typeof t.query>"u")&&(typeof t.fragment=="string"||typeof t.fragment>"u")}Oo(V9,"isUriComponents");const fx=Lt?1:void 0;class bd extends j{static{Oo(this,"Uri")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=ep(this,!1)),this._fsPath}toString(e=!1){return e?Iv(this,!0):(this._formatted||(this._formatted=Iv(this,!1)),this._formatted)}toJSON(){const e={$mid:jd.Uri};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=fx),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const px={[O.Colon]:"%3A",[O.Slash]:"%2F",[O.QuestionMark]:"%3F",[O.Hash]:"%23",[O.OpenSquareBracket]:"%5B",[O.CloseSquareBracket]:"%5D",[O.AtSign]:"%40",[O.ExclamationMark]:"%21",[O.DollarSign]:"%24",[O.Ampersand]:"%26",[O.SingleQuote]:"%27",[O.OpenParen]:"%28",[O.CloseParen]:"%29",[O.Asterisk]:"%2A",[O.Plus]:"%2B",[O.Comma]:"%2C",[O.Semicolon]:"%3B",[O.Equals]:"%3D",[O.Space]:"%20"};function C_(t,e,i){let s,n=-1;for(let o=0;o<t.length;o++){const r=t.charCodeAt(o);if(r>=O.a&&r<=O.z||r>=O.A&&r<=O.Z||r>=O.Digit0&&r<=O.Digit9||r===O.Dash||r===O.Period||r===O.Underline||r===O.Tilde||e&&r===O.Slash||i&&r===O.OpenSquareBracket||i&&r===O.CloseSquareBracket||i&&r===O.Colon)n!==-1&&(s+=encodeURIComponent(t.substring(n,o)),n=-1),s!==void 0&&(s+=t.charAt(o));else{s===void 0&&(s=t.substr(0,o));const a=px[r];a!==void 0?(n!==-1&&(s+=encodeURIComponent(t.substring(n,o)),n=-1),s+=a):n===-1&&(n=o)}}return n!==-1&&(s+=encodeURIComponent(t.substring(n))),s!==void 0?s:t}Oo(C_,"encodeURIComponentFast");function mx(t){let e;for(let i=0;i<t.length;i++){const s=t.charCodeAt(i);s===O.Hash||s===O.QuestionMark?(e===void 0&&(e=t.substr(0,i)),e+=px[s]):e!==void 0&&(e+=t[i])}return e!==void 0?e:t}Oo(mx,"encodeURIComponentMinimal");function ep(t,e){let i;return t.authority&&t.path.length>1&&t.scheme==="file"?i=`//${t.authority}${t.path}`:t.path.charCodeAt(0)===O.Slash&&(t.path.charCodeAt(1)>=O.A&&t.path.charCodeAt(1)<=O.Z||t.path.charCodeAt(1)>=O.a&&t.path.charCodeAt(1)<=O.z)&&t.path.charCodeAt(2)===O.Colon?e?i=t.path.substr(1):i=t.path[1].toLowerCase()+t.path.substr(2):i=t.path,Lt&&(i=i.replace(/\//g,"\\")),i}Oo(ep,"uriToFsPath");function Iv(t,e){const i=e?mx:C_;let s="",{scheme:n,authority:o,path:r,query:a,fragment:l}=t;if(n&&(s+=n,s+=":"),(o||n==="file")&&(s+=jo,s+=jo),o){let h=o.indexOf("@");if(h!==-1){const d=o.substr(0,h);o=o.substr(h+1),h=d.lastIndexOf(":"),h===-1?s+=i(d,!1,!1):(s+=i(d.substr(0,h),!1,!1),s+=":",s+=i(d.substr(h+1),!1,!0)),s+="@"}o=o.toLowerCase(),h=o.lastIndexOf(":"),h===-1?s+=i(o,!1,!0):(s+=i(o.substr(0,h),!1,!0),s+=o.substr(h))}if(r){if(r.length>=3&&r.charCodeAt(0)===O.Slash&&r.charCodeAt(2)===O.Colon){const h=r.charCodeAt(1);h>=O.A&&h<=O.Z&&(r=`/${String.fromCharCode(h+32)}:${r.substr(3)}`)}else if(r.length>=2&&r.charCodeAt(1)===O.Colon){const h=r.charCodeAt(0);h>=O.A&&h<=O.Z&&(r=`${String.fromCharCode(h+32)}:${r.substr(2)}`)}s+=i(r,!0,!1)}return a&&(s+="?",s+=i(a,!1,!1)),l&&(s+="#",s+=e?l:C_(l,!1,!1)),s}Oo(Iv,"_asFormatted");function dC(t){try{return decodeURIComponent(t)}catch{return t.length>3?t.substr(0,3)+dC(t.substr(3)):t}}Oo(dC,"decodeURIComponentGraceful");const XE=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function jg(t){return t.match(XE)?t.replace(XE,e=>dC(e)):t}Oo(jg,"percentDecode");var H9=Object.defineProperty,Ih=(t,e)=>H9(t,"name",{value:e,configurable:!0}),Ue;(t=>{t.inMemory="inmemory",t.vscode="vscode",t.internal="private",t.walkThrough="walkThrough",t.walkThroughSnippet="walkThroughSnippet",t.http="http",t.https="https",t.file="file",t.mailto="mailto",t.untitled="untitled",t.data="data",t.command="command",t.vscodeRemote="vscode-remote",t.vscodeRemoteResource="vscode-remote-resource",t.vscodeManagedRemoteResource="vscode-managed-remote-resource",t.vscodeUserData="vscode-userdata",t.vscodeCustomEditor="vscode-custom-editor",t.vscodeNotebookCell="vscode-notebook-cell",t.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",t.vscodeNotebookCellMetadataDiff="vscode-notebook-cell-metadata-diff",t.vscodeNotebookCellOutput="vscode-notebook-cell-output",t.vscodeNotebookCellOutputDiff="vscode-notebook-cell-output-diff",t.vscodeNotebookMetadata="vscode-notebook-metadata",t.vscodeInteractiveInput="vscode-interactive-input",t.vscodeSettings="vscode-settings",t.vscodeWorkspaceTrust="vscode-workspace-trust",t.vscodeTerminal="vscode-terminal",t.vscodeChatCodeBlock="vscode-chat-code-block",t.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",t.vscodeChatSesssion="vscode-chat-editor",t.webviewPanel="webview-panel",t.vscodeWebview="vscode-webview",t.extension="extension",t.vscodeFileResource="vscode-file",t.tmp="tmp",t.vsls="vsls",t.vscodeSourceControl="vscode-scm",t.commentsInput="comment",t.codeSetting="code-setting",t.outputChannel="output"})(Ue||(Ue={}));function ff(t,e){return j.isUri(t)?xa(t.scheme,e):Zu(t,e+":")}Ih(ff,"matchesScheme");function W9(t,...e){return e.some(i=>ff(t,i))}Ih(W9,"matchesSomeScheme");const U9="tkn";class z9{static{Ih(this,"RemoteAuthoritiesImpl")}_hosts=Object.create(null);_ports=Object.create(null);_connectionTokens=Object.create(null);_preferredWebSchema="http";_delegate=null;_serverRootPath="/";setPreferredWebSchema(e){this._preferredWebSchema=e}setDelegate(e){this._delegate=e}setServerRootPath(e,i){this._serverRootPath=vx(e,i)}getServerRootPath(){return this._serverRootPath}get _remoteResourcesPath(){return ot.join(this._serverRootPath,Ue.vscodeRemoteResource)}set(e,i,s){this._hosts[e]=i,this._ports[e]=s}setConnectionToken(e,i){this._connectionTokens[e]=i}getPreferredWebSchema(){return this._preferredWebSchema}rewrite(e){if(this._delegate)try{return this._delegate(e)}catch(a){return ss(a),e}const i=e.authority;let s=this._hosts[i];s&&s.indexOf(":")!==-1&&s.indexOf("[")===-1&&(s=`[${s}]`);const n=this._ports[i],o=this._connectionTokens[i];let r=`path=${encodeURIComponent(e.path)}`;return typeof o=="string"&&(r+=`&${U9}=${encodeURIComponent(o)}`),j.from({scheme:Qt?this._preferredWebSchema:Ue.vscodeRemoteResource,authority:`${s}:${n}`,path:this._remoteResourcesPath,query:r})}}const bx=new z9;function vx(t,e){return ot.join(e??"/",`${t.quality??"oss"}-${t.commit??"dev"}`)}Ih(vx,"getServerRootPath");const $9="vscode-app";class pf{static{Ih(this,"FileAccessImpl")}static FALLBACK_AUTHORITY=$9;asBrowserUri(e){const i=this.toUri(e);return this.uriToBrowserUri(i)}uriToBrowserUri(e){return e.scheme===Ue.vscodeRemote?bx.rewrite(e):e.scheme===Ue.file&&(dn||s6===`${Ue.vscodeFileResource}://${pf.FALLBACK_AUTHORITY}`)?e.with({scheme:Ue.vscodeFileResource,authority:e.authority||pf.FALLBACK_AUTHORITY,query:null,fragment:null}):e}asFileUri(e){const i=this.toUri(e);return this.uriToFileUri(i)}uriToFileUri(e){return e.scheme===Ue.vscodeFileResource?e.with({scheme:Ue.file,authority:e.authority!==pf.FALLBACK_AUTHORITY?e.authority:null,query:null,fragment:null}):e}toUri(e,i){if(j.isUri(e))return e;if(globalThis._VSCODE_FILE_ROOT){const s=globalThis._VSCODE_FILE_ROOT;if(/^\w[\w\d+.-]*:\/\//.test(s))return j.joinPath(j.parse(s,!0),e);const n=Co(s,e);return j.file(n)}return j.parse(i.toUrl(e))}}const Cu=new pf;var ZE;(t=>{const e=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);t.CoopAndCoep=Object.freeze(e.get("3"));const i="vscode-coi";function s(o){let r;typeof o=="string"?r=new URL(o).searchParams:o instanceof URL?r=o.searchParams:j.isUri(o)&&(r=new URL(o.toString(!0)).searchParams);const a=r?.get(i);if(a)return e.get(a)}t.getHeadersFromQuery=s,Ih(s,"getHeadersFromQuery");function n(o,r,a){if(!globalThis.crossOriginIsolated)return;const l=r&&a?"3":a?"2":"1";o instanceof URLSearchParams?o.set(i,l):o[i]=l}t.addSearchParam=n,Ih(n,"addSearchParam")})(ZE||(ZE={}));var K9=Object.defineProperty,Gp=(t,e)=>K9(t,"name",{value:e,configurable:!0});function Ir(t){return ep(t,!0)}Gp(Ir,"originalFSPath");class uC{constructor(e){this._ignorePathCasing=e}static{Gp(this,"ExtUri")}compare(e,i,s=!1){return e===i?0:Av(this.getComparisonKey(e,s),this.getComparisonKey(i,s))}isEqual(e,i,s=!1){return e===i?!0:!e||!i?!1:this.getComparisonKey(e,s)===this.getComparisonKey(i,s)}getComparisonKey(e,i=!1){return e.with({path:this._ignorePathCasing(e)?e.path.toLowerCase():void 0,fragment:i?null:void 0}).toString()}ignorePathCasing(e){return this._ignorePathCasing(e)}isEqualOrParent(e,i,s=!1){if(e.scheme===i.scheme){if(e.scheme===Ue.file)return S_(Ir(e),Ir(i),this._ignorePathCasing(e))&&e.query===i.query&&(s||e.fragment===i.fragment);if(D_(e.authority,i.authority))return S_(e.path,i.path,this._ignorePathCasing(e),"/")&&e.query===i.query&&(s||e.fragment===i.fragment)}return!1}joinPath(e,...i){return j.joinPath(e,...i)}basenameOrAuthority(e){return Qu(e)||e.authority}basename(e){return ot.basename(e.path)}extname(e){return ot.extname(e.path)}dirname(e){if(e.path.length===0)return e;let i;return e.scheme===Ue.file?i=j.file(Uk(Ir(e))).path:(i=ot.dirname(e.path),e.authority&&i.length&&i.charCodeAt(0)!==O.Slash&&(console.error(`dirname("${e.toString})) resulted in a relative path`),i="/")),e.with({path:i})}normalizePath(e){if(!e.path.length)return e;let i;return e.scheme===Ue.file?i=j.file(fh(Ir(e))).path:i=ot.normalize(e.path),e.with({path:i})}relativePath(e,i){if(e.scheme!==i.scheme||!D_(e.authority,i.authority))return;if(e.scheme===Ue.file){const o=y6(Ir(e),Ir(i));return Lt?Su(o):o}let s=e.path||"/";const n=i.path||"/";if(this._ignorePathCasing(e)){let o=0;for(const r=Math.min(s.length,n.length);o<r&&!(s.charCodeAt(o)!==n.charCodeAt(o)&&s.charAt(o).toLowerCase()!==n.charAt(o).toLowerCase());o++);s=n.substr(0,o)+s.substr(o)}return ot.relative(s,n)}resolvePath(e,i){if(e.scheme===Ue.file){const s=j.file(Pb(Ir(e),i));return e.with({authority:s.authority,path:s.path})}return i=ax(i),e.with({path:ot.resolve(e.path,i)})}isAbsolutePath(e){return!!e.path&&e.path[0]==="/"}isEqualAuthority(e,i){return e===i||e!==void 0&&i!==void 0&&xa(e,i)}hasTrailingPathSeparator(e,i=ko){if(e.scheme===Ue.file){const s=Ir(e);return s.length>__(s).length&&s[s.length-1]===i}else{const s=e.path;return s.length>1&&s.charCodeAt(s.length-1)===O.Slash&&!/^[a-zA-Z]:(\/$|\\$)/.test(e.fsPath)}}removeTrailingPathSeparator(e,i=ko){return JE(e,i)?e.with({path:e.path.substr(0,e.path.length-1)}):e}addTrailingPathSeparator(e,i=ko){let s=!1;if(e.scheme===Ue.file){const n=Ir(e);s=n!==void 0&&n.length===__(n).length&&n[n.length-1]===i}else{i="/";const n=e.path;s=n.length===1&&n.charCodeAt(n.length-1)===O.Slash}return!s&&!JE(e,i)?e.with({path:e.path+"/"}):e}}const wt=new uC(()=>!1),G9=new uC(t=>t.scheme===Ue.file?!Ni:!0),wx=new uC(t=>!0),qd=wt.isEqual.bind(wt),j9=wt.isEqualOrParent.bind(wt);wt.getComparisonKey.bind(wt);const q9=wt.basenameOrAuthority.bind(wt),Qu=wt.basename.bind(wt),yx=wt.extname.bind(wt),_x=wt.dirname.bind(wt),Tt=wt.joinPath.bind(wt);wt.normalizePath.bind(wt);const Y9=wt.relativePath.bind(wt),QE=wt.resolvePath.bind(wt);wt.isAbsolutePath.bind(wt);const D_=wt.isEqualAuthority.bind(wt),JE=wt.hasTrailingPathSeparator.bind(wt);wt.removeTrailingPathSeparator.bind(wt);wt.addTrailingPathSeparator.bind(wt);function X9(t,e){const i=[];for(let s=0;s<t.length;s++){const n=e(t[s]);t.some((o,r)=>r===s?!1:j9(n,e(o)))||i.push(t[s])}return i}Gp(X9,"distinctParents");var Du;(t=>{t.META_DATA_LABEL="label",t.META_DATA_DESCRIPTION="description",t.META_DATA_SIZE="size",t.META_DATA_MIME="mime";function e(i){const s=new Map;i.path.substring(i.path.indexOf(";")+1,i.path.lastIndexOf(";")).split(";").forEach(r=>{const[a,l]=r.split(":");a&&l&&s.set(a,l)});const o=i.path.substring(0,i.path.indexOf(";"));return o&&s.set(t.META_DATA_MIME,o),s}t.parseMetaData=e,Gp(e,"parseMetaData")})(Du||(Du={}));function Z9(t,e,i){if(e){let s=t.path;return s&&s[0]!==ot.sep&&(s=ot.sep+s),t.with({scheme:i,authority:e,path:s})}return t.with({scheme:i})}Gp(Z9,"toLocalResource");const Sx=Symbol("MicrotaskDelay");var Q9=Object.defineProperty,Me=(t,e)=>Q9(t,"name",{value:e,configurable:!0});function Cx(t){return!!t&&typeof t.then=="function"}Me(Cx,"isThenable");function gC(t){const e=new Yh,i=t(e.token),s=new Promise((n,o)=>{const r=e.token.onCancellationRequested(()=>{r.dispose(),o(new qr)});Promise.resolve(i).then(a=>{r.dispose(),e.dispose(),n(a)},a=>{r.dispose(),e.dispose(),o(a)})});return new class{cancel(){e.cancel(),e.dispose()}then(n,o){return s.then(n,o)}catch(n){return this.then(void 0,n)}finally(n){return s.finally(n)}}}Me(gC,"createCancelablePromise");function J9(t,e,i){return new Promise((s,n)=>{const o=e.onCancellationRequested(()=>{o.dispose(),s(i)});t.then(s,n).finally(()=>o.dispose())})}Me(J9,"raceCancellation");function eF(t,e){return new Promise((i,s)=>{const n=e.onCancellationRequested(()=>{n.dispose(),s(new qr)});t.then(i,s).finally(()=>n.dispose())})}Me(eF,"raceCancellationError");async function tF(t){let e=-1;const i=t.map((s,n)=>s.then(o=>(e=n,o)));try{return await Promise.race(i)}finally{t.forEach((s,n)=>{n!==e&&s.cancel()})}}Me(tF,"raceCancellablePromises");function iF(t,e,i){let s;const n=setTimeout(()=>{s?.(void 0),i?.()},e);return Promise.race([t.finally(()=>clearTimeout(n)),new Promise(o=>s=o)])}Me(iF,"raceTimeout");function sF(t){return new Promise((e,i)=>{const s=t();Cx(s)?s.then(e,i):e(s)})}Me(sF,"asPromise");function Dx(){let t,e;return{promise:new Promise((s,n)=>{t=s,e=n}),resolve:t,reject:e}}Me(Dx,"promiseWithResolvers");class nF{static{Me(this,"Throttler")}activePromise;queuedPromise;queuedPromiseFactory;isDisposed=!1;constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(e){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){const i=Me(()=>{if(this.queuedPromise=null,this.isDisposed)return;const s=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,s},"onComplete");this.queuedPromise=new Promise(s=>{this.activePromise.then(i,i).then(s)})}return new Promise((i,s)=>{this.queuedPromise.then(i,s)})}return this.activePromise=e(),new Promise((i,s)=>{this.activePromise.then(n=>{this.activePromise=null,i(n)},n=>{this.activePromise=null,s(n)})})}dispose(){this.isDisposed=!0}}class yne{static{Me(this,"Sequencer")}current=Promise.resolve(null);queue(e){return this.current=this.current.then(()=>e(),()=>e())}}class oF{static{Me(this,"SequencerByKey")}promiseMap=new Map;queue(e,i){const n=(this.promiseMap.get(e)??Promise.resolve()).catch(()=>{}).then(i).finally(()=>{this.promiseMap.get(e)===n&&this.promiseMap.delete(e)});return this.promiseMap.set(e,n),n}}const rF=Me((t,e)=>{let i=!0;const s=setTimeout(()=>{i=!1,e()},t);return{isTriggered:Me(()=>i,"isTriggered"),dispose:Me(()=>{clearTimeout(s),i=!1},"dispose")}},"timeoutDeferred"),aF=Me(t=>{let e=!0;return queueMicrotask(()=>{e&&(e=!1,t())}),{isTriggered:Me(()=>e,"isTriggered"),dispose:Me(()=>{e=!1},"dispose")}},"microtaskDeferred");class Ju{constructor(e){this.defaultDelay=e,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}static{Me(this,"Delayer")}deferred;completionPromise;doResolve;doReject;task;trigger(e,i=this.defaultDelay){this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((n,o)=>{this.doResolve=n,this.doReject=o}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const n=this.task;return this.task=null,n()}}));const s=Me(()=>{this.deferred=null,this.doResolve?.(null)},"fn");return this.deferred=i===Sx?aF(s):rF(i,s),this.completionPromise}isTriggered(){return!!this.deferred?.isTriggered()}cancel(){this.cancelTimeout(),this.completionPromise&&(this.doReject?.(new qr),this.completionPromise=null)}cancelTimeout(){this.deferred?.dispose(),this.deferred=null}dispose(){this.cancel()}}class Ax{static{Me(this,"ThrottledDelayer")}delayer;throttler;constructor(e){this.delayer=new Ju(e),this.throttler=new nF}trigger(e,i){return this.delayer.trigger(()=>this.throttler.queue(e),i)}isTriggered(){return this.delayer.isTriggered()}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}class Ex{static{Me(this,"Barrier")}_isOpen;_promise;_completePromise;constructor(){this._isOpen=!1,this._promise=new Promise((e,i)=>{this._completePromise=e})}isOpen(){return this._isOpen}open(){this._isOpen=!0,this._completePromise(!0)}wait(){return this._promise}}class _ne extends Ex{static{Me(this,"AutoOpenBarrier")}_timeout;constructor(e){super(),this._timeout=setTimeout(()=>this.open(),e)}open(){clearTimeout(this._timeout),super.open()}}function Za(t,e){return e?new Promise((i,s)=>{const n=setTimeout(()=>{o.dispose(),i()},t),o=e.onCancellationRequested(()=>{clearTimeout(n),o.dispose(),s(new qr)})}):gC(i=>Za(t,i))}Me(Za,"timeout");function Tv(t,e=0,i){const s=setTimeout(()=>{t(),i&&n.dispose()},e),n=Se(()=>{clearTimeout(s),i?.deleteAndLeak(n)});return i?.add(n),n}Me(Tv,"disposableTimeout");function lF(t){const e=[];let i=0;const s=t.length;function n(){return i<s?t[i++]():null}Me(n,"next");function o(r){r!=null&&e.push(r);const a=n();return a?a.then(o):Promise.resolve(e)}return Me(o,"thenHandler"),Promise.resolve(null).then(o)}Me(lF,"sequence");function cF(t,e=s=>!!s,i=null){let s=0;const n=t.length,o=Me(()=>{if(s>=n)return Promise.resolve(i);const r=t[s++];return Promise.resolve(r()).then(l=>e(l)?Promise.resolve(l):o())},"loop");return o()}Me(cF,"first");function hF(t,e=s=>!!s,i=null){if(t.length===0)return Promise.resolve(i);let s=t.length;const n=Me(()=>{s=-1;for(const o of t)o.cancel?.()},"finish");return new Promise((o,r)=>{for(const a of t)a.then(l=>{--s>=0&&e(l)?(n(),o(l)):s===0&&o(i)}).catch(l=>{--s>=0&&(n(),r(l))})})}Me(hF,"firstParallel");class dF{static{Me(this,"Limiter")}_size=0;_isDisposed=!1;runningPromises;maxDegreeOfParalellism;outstandingPromises;_onDrained;constructor(e){this.maxDegreeOfParalellism=e,this.outstandingPromises=[],this.runningPromises=0,this._onDrained=new I}whenIdle(){return this.size>0?R.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this._onDrained.event}get size(){return this._size}queue(e){if(this._isDisposed)throw new Error("Object has been disposed");return this._size++,new Promise((i,s)=>{this.outstandingPromises.push({factory:e,c:i,e:s}),this.consume()})}consume(){for(;this.outstandingPromises.length&&this.runningPromises<this.maxDegreeOfParalellism;){const e=this.outstandingPromises.shift();this.runningPromises++;const i=e.factory();i.then(e.c,e.e),i.then(()=>this.consumed(),()=>this.consumed())}}consumed(){this._isDisposed||(this.runningPromises--,--this._size===0&&this._onDrained.fire(),this.outstandingPromises.length>0&&this.consume())}clear(){if(this._isDisposed)throw new Error("Object has been disposed");this.outstandingPromises.length=0,this._size=this.runningPromises}dispose(){this._isDisposed=!0,this.outstandingPromises.length=0,this._size=0,this._onDrained.dispose()}}class uF extends dF{static{Me(this,"Queue")}constructor(){super(1)}}class Sne{static{Me(this,"LimitedQueue")}sequentializer=new mF;tasks=0;queue(e){return this.sequentializer.isRunning()?this.sequentializer.queue(()=>this.sequentializer.run(this.tasks++,e())):this.sequentializer.run(this.tasks++,e())}}class Cne{static{Me(this,"ResourceQueue")}queues=new Map;drainers=new Set;drainListeners=void 0;drainListenerCount=0;async whenDrained(){if(this.isDrained())return;const e=new ic;return this.drainers.add(e),e.p}isDrained(){for(const[,e]of this.queues)if(e.size>0)return!1;return!0}queueSize(e,i=wt){const s=i.getComparisonKey(e);return this.queues.get(s)?.size??0}queueFor(e,i,s=wt){const n=s.getComparisonKey(e);let o=this.queues.get(n);if(!o){o=new uF;const r=this.drainListenerCount++,a=R.once(o.onDrained)(()=>{o?.dispose(),this.queues.delete(n),this.onDidQueueDrain(),this.drainListeners?.deleteAndDispose(r),this.drainListeners?.size===0&&(this.drainListeners.dispose(),this.drainListeners=void 0)});this.drainListeners||(this.drainListeners=new fc),this.drainListeners.set(r,a),this.queues.set(n,o)}return o.queue(i)}onDidQueueDrain(){this.isDrained()&&this.releaseDrainers()}releaseDrainers(){for(const e of this.drainers)e.complete();this.drainers.clear()}dispose(){for(const[,e]of this.queues)e.dispose();this.queues.clear(),this.releaseDrainers(),this.drainListeners?.dispose()}}class r1{static{Me(this,"TimeoutTimer")}_token;_isDisposed=!1;constructor(e,i){this._token=-1,typeof e=="function"&&typeof i=="number"&&this.setIfNotSet(e,i)}dispose(){this.cancel(),this._isDisposed=!0}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(e,i){if(this._isDisposed)throw new Ro("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this._token=setTimeout(()=>{this._token=-1,e()},i)}setIfNotSet(e,i){if(this._isDisposed)throw new Ro("Calling 'setIfNotSet' on a disposed TimeoutTimer");this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,e()},i))}}class gF{static{Me(this,"IntervalTimer")}disposable=void 0;isDisposed=!1;cancel(){this.disposable?.dispose(),this.disposable=void 0}cancelAndSet(e,i,s=globalThis){if(this.isDisposed)throw new Ro("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const n=s.setInterval(()=>{e()},i);this.disposable=Se(()=>{s.clearInterval(n),this.disposable=void 0})}dispose(){this.cancel(),this.isDisposed=!0}}class Ls{static{Me(this,"RunOnceScheduler")}runner;timeoutToken;timeout;timeoutHandler;constructor(e,i){this.timeoutToken=-1,this.runner=e,this.timeout=i,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(e=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,e)}get delay(){return this.timeout}set delay(e){this.timeout=e}isScheduled(){return this.timeoutToken!==-1}flush(){this.isScheduled()&&(this.cancel(),this.doRun())}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){this.runner?.()}}class Dne{static{Me(this,"ProcessTimeRunOnceScheduler")}runner;timeout;counter;intervalToken;intervalHandler;constructor(e,i){i%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${i}ms is not a multiple of 1000ms.`),this.runner=e,this.timeout=i,this.counter=0,this.intervalToken=-1,this.intervalHandler=this.onInterval.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearInterval(this.intervalToken),this.intervalToken=-1)}schedule(e=this.timeout){e%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${e}ms is not a multiple of 1000ms.`),this.cancel(),this.counter=Math.ceil(e/1e3),this.intervalToken=setInterval(this.intervalHandler,1e3)}isScheduled(){return this.intervalToken!==-1}onInterval(){this.counter--,!(this.counter>0)&&(clearInterval(this.intervalToken),this.intervalToken=-1,this.runner?.())}}class Ane extends Ls{static{Me(this,"RunOnceWorker")}units=[];constructor(e,i){super(e,i)}work(e){this.units.push(e),this.isScheduled()||this.schedule()}doRun(){const e=this.units;this.units=[],this.runner?.(e)}dispose(){this.units=[],super.dispose()}}class Ene extends q{constructor(e,i){super(),this.options=e,this.handler=i}static{Me(this,"ThrottledWorker")}pendingWork=[];throttler=this._register(new fr);disposed=!1;get pending(){return this.pendingWork.length}work(e){if(this.disposed)return!1;if(typeof this.options.maxBufferedWork=="number"){if(this.throttler.value){if(this.pending+e.length>this.options.maxBufferedWork)return!1}else if(this.pending+e.length-this.options.maxWorkChunkSize>this.options.maxBufferedWork)return!1}for(const i of e)this.pendingWork.push(i);return this.throttler.value||this.doWork(),!0}doWork(){this.handler(this.pendingWork.splice(0,this.options.maxWorkChunkSize)),this.pendingWork.length>0&&(this.throttler.value=new Ls(()=>{this.throttler.clear(),this.doWork()},this.options.throttleDelay),this.throttler.value.schedule())}dispose(){super.dispose(),this.disposed=!0}}let kv,mf;typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?mf=Me((t,e)=>{a6(()=>{if(i)return;const s=Date.now()+15;e(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,s-Date.now())}}))});let i=!1;return{dispose(){i||(i=!0)}}},"_runWhenIdle"):mf=Me((t,e,i)=>{const s=t.requestIdleCallback(e,typeof i=="number"?{timeout:i}:void 0);let n=!1;return{dispose(){n||(n=!0,t.cancelIdleCallback(s))}}},"_runWhenIdle"),kv=Me(t=>mf(globalThis,t),"runWhenGlobalIdle");class Ix{static{Me(this,"AbstractIdleValue")}_executor;_handle;_didRun=!1;_value;_error;constructor(e,i){this._executor=()=>{try{this._value=i()}catch(s){this._error=s}finally{this._didRun=!0}},this._handle=mf(e,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class fF extends Ix{static{Me(this,"GlobalIdleValue")}constructor(e){super(globalThis,e)}}async function pF(t,e,i){let s;for(let n=0;n<i;n++)try{return await t()}catch(o){s=o,await Za(e)}throw s}Me(pF,"retry");class mF{static{Me(this,"TaskSequentializer")}_running;_queued;isRunning(e){return typeof e=="number"?this._running?.taskId===e:!!this._running}get running(){return this._running?.promise}cancelRunning(){this._running?.cancel()}run(e,i,s){return this._running={taskId:e,cancel:Me(()=>s?.(),"cancel"),promise:i},i.then(()=>this.doneRunning(e),()=>this.doneRunning(e)),i}doneRunning(e){this._running&&e===this._running.taskId&&(this._running=void 0,this.runQueued())}runQueued(){if(this._queued){const e=this._queued;this._queued=void 0,e.run().then(e.promiseResolve,e.promiseReject)}}queue(e){if(this._queued)this._queued.run=e;else{const{promise:i,resolve:s,reject:n}=Dx();this._queued={run:e,promise:i,promiseResolve:s,promiseReject:n}}return this._queued.promise}hasQueued(){return!!this._queued}async join(){return this._queued?.promise??this._running?.promise}}class bF{constructor(e,i=()=>Date.now()){this.interval=e,this.nowFn=i}static{Me(this,"IntervalCounter")}lastIncrementTime=0;value=0;increment(){const e=this.nowFn();return e-this.lastIncrementTime>this.interval&&(this.lastIncrementTime=e,this.value=0),this.value++,this.value}}class ic{static{Me(this,"DeferredPromise")}completeCallback;errorCallback;outcome;get isRejected(){return this.outcome?.outcome===1}get isResolved(){return this.outcome?.outcome===0}get isSettled(){return!!this.outcome}get value(){return this.outcome?.outcome===0?this.outcome?.value:void 0}p;constructor(){this.p=new Promise((e,i)=>{this.completeCallback=e,this.errorCallback=i})}complete(e){return new Promise(i=>{this.completeCallback(e),this.outcome={outcome:0,value:e},i()})}error(e){return new Promise(i=>{this.errorCallback(e),this.outcome={outcome:1,value:e},i()})}cancel(){return this.error(new qr)}}var sc;(t=>{async function e(s){let n;const o=await Promise.all(s.map(r=>r.then(a=>a,a=>{n||(n=a)})));if(typeof n<"u")throw n;return o}t.settled=e,Me(e,"settled");function i(s){return new Promise(async(n,o)=>{try{await s(n,o)}catch(r){o(r)}})}t.withAsyncBody=i,Me(i,"withAsyncBody")})(sc||(sc={}));class vF{static{Me(this,"StatefulPromise")}_value=void 0;get value(){return this._value}_error=void 0;get error(){return this._error}_isResolved=!1;get isResolved(){return this._isResolved}promise;constructor(e){this.promise=e.then(i=>(this._value=i,this._isResolved=!0,i),i=>{throw this._error=i,this._isResolved=!0,i})}requireValue(){if(!this._isResolved)throw new Ro("Promise is not resolved yet");if(this._error)throw this._error;return this._value}}class Ine{constructor(e){this._compute=e}static{Me(this,"LazyStatefulPromise")}_promise=new kn(()=>new vF(this._compute()));requireValue(){return this._promise.value.requireValue()}getPromise(){return this._promise.value.promise}get currentValue(){return this._promise.rawValue?.value}}class rn{static{Me(this,"AsyncIterableObject")}static fromArray(e){return new rn(i=>{i.emitMany(e)})}static fromPromise(e){return new rn(async i=>{i.emitMany(await e)})}static fromPromises(e){return new rn(async i=>{await Promise.all(e.map(async s=>i.emitOne(await s)))})}static merge(e){return new rn(async i=>{await Promise.all(e.map(async s=>{for await(const n of s)i.emitOne(n)}))})}static EMPTY=rn.fromArray([]);_state;_results;_error;_onReturn;_onStateChanged;constructor(e,i){this._state=0,this._results=[],this._error=null,this._onReturn=i,this._onStateChanged=new I,queueMicrotask(async()=>{const s={emitOne:Me(n=>this.emitOne(n),"emitOne"),emitMany:Me(n=>this.emitMany(n),"emitMany"),reject:Me(n=>this.reject(n),"reject")};try{await Promise.resolve(e(s)),this.resolve()}catch(n){this.reject(n)}finally{s.emitOne=void 0,s.emitMany=void 0,s.reject=void 0}})}[Symbol.asyncIterator](){let e=0;return{next:Me(async()=>{do{if(this._state===2)throw this._error;if(e<this._results.length)return{done:!1,value:this._results[e++]};if(this._state===1)return{done:!0,value:void 0};await R.toPromise(this._onStateChanged.event)}while(!0)},"next"),return:Me(async()=>(this._onReturn?.(),{done:!0,value:void 0}),"return")}}static map(e,i){return new rn(async s=>{for await(const n of e)s.emitOne(i(n))})}map(e){return rn.map(this,e)}static filter(e,i){return new rn(async s=>{for await(const n of e)i(n)&&s.emitOne(n)})}filter(e){return rn.filter(this,e)}static coalesce(e){return rn.filter(e,i=>!!i)}coalesce(){return rn.coalesce(this)}static async toPromise(e){const i=[];for await(const s of e)i.push(s);return i}toPromise(){return rn.toPromise(this)}emitOne(e){this._state===0&&(this._results.push(e),this._onStateChanged.fire())}emitMany(e){this._state===0&&(this._results=this._results.concat(e),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(e){this._state===0&&(this._state=2,this._error=e,this._onStateChanged.fire())}}class wF extends rn{constructor(e,i){super(i),this._source=e}static{Me(this,"CancelableAsyncIterableObject")}cancel(){this._source.cancel()}}function yF(t){const e=new Yh,i=t(e.token);return new wF(e,async s=>{const n=e.token.onCancellationRequested(()=>{n.dispose(),e.dispose(),s.reject(new qr)});try{for await(const o of i){if(e.token.isCancellationRequested)return;s.emitOne(o)}n.dispose(),e.dispose()}catch(o){n.dispose(),e.dispose(),s.reject(o)}})}Me(yF,"createCancelableAsyncIterable");class Tne{static{Me(this,"AsyncIterableSource")}_deferred=new ic;_asyncIterable;_errorFn;_emitFn;constructor(e){this._asyncIterable=new rn(n=>{if(i){n.reject(i);return}return s&&n.emitMany(s),this._errorFn=o=>n.reject(o),this._emitFn=o=>n.emitOne(o),this._deferred.p},e);let i,s;this._emitFn=n=>{s||(s=[]),s.push(n)},this._errorFn=n=>{i||(i=n)}}get asyncIterable(){return this._asyncIterable}resolve(){this._deferred.complete()}reject(e){this._errorFn(e),this._deferred.complete()}emitOne(e){this._emitFn(e)}}var _F=Object.defineProperty,co=(t,e)=>_F(t,"name",{value:e,configurable:!0});function Th(t){return jp(t,0)}co(Th,"hash");function jp(t,e){switch(typeof t){case"object":return t===null?Or(349,e):Array.isArray(t)?kx(t,e):xx(t,e);case"string":return a1(t,e);case"boolean":return Tx(t,e);case"number":return Or(t,e);case"undefined":return Or(937,e);default:return Or(617,e)}}co(jp,"doHash");function Or(t,e){return(e<<5)-e+t|0}co(Or,"numberHash");function Tx(t,e){return Or(t?433:863,e)}co(Tx,"booleanHash");function a1(t,e){e=Or(149417,e);for(let i=0,s=t.length;i<s;i++)e=Or(t.charCodeAt(i),e);return e}co(a1,"stringHash");function kx(t,e){return e=Or(104579,e),t.reduce((i,s)=>jp(s,i),e)}co(kx,"arrayHash");function xx(t,e){return e=Or(181387,e),Object.keys(t).sort().reduce((i,s)=>(i=a1(s,i),jp(t[s],i)),e)}co(xx,"objectHash");class kne{static{co(this,"Hasher")}_value=0;get value(){return this._value}hash(e){return this._value=jp(e,this._value),this._value}}function Rb(t,e,i=32){const s=i-e,n=~((1<<s)-1);return(t<<e|(n&t)>>>s)>>>0}co(Rb,"leftRotate");function A_(t,e=0,i=t.byteLength,s=0){for(let n=0;n<i;n++)t[e+n]=s}co(A_,"fill");function Lx(t,e,i="0"){for(;t.length<e;)t=i+t;return t}co(Lx,"leftPad");function Cd(t,e=32){return t instanceof ArrayBuffer?Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join(""):Lx((t>>>0).toString(16),e/4)}co(Cd,"toHexString");class fC{static{co(this,"StringSHA1")}static _bigBlock32=new DataView(new ArrayBuffer(320));_h0=1732584193;_h1=4023233417;_h2=2562383102;_h3=271733878;_h4=3285377520;_buff;_buffDV;_buffLen;_totalLen;_leftoverHighSurrogate;_finished;constructor(){this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(e){const i=e.length;if(i===0)return;const s=this._buff;let n=this._buffLen,o=this._leftoverHighSurrogate,r,a;for(o!==0?(r=o,a=-1,o=0):(r=e.charCodeAt(0),a=0);;){let l=r;if(s1(r))if(a+1<i){const h=e.charCodeAt(a+1);_u(h)?(a++,l=n1(r,h)):l=65533}else{o=r;break}else _u(r)&&(l=65533);if(n=this._push(s,n,l),a++,a<i)r=e.charCodeAt(a);else break}this._buffLen=n,this._leftoverHighSurrogate=o}_push(e,i,s){return s<128?e[i++]=s:s<2048?(e[i++]=192|(s&1984)>>>6,e[i++]=128|(s&63)>>>0):s<65536?(e[i++]=224|(s&61440)>>>12,e[i++]=128|(s&4032)>>>6,e[i++]=128|(s&63)>>>0):(e[i++]=240|(s&1835008)>>>18,e[i++]=128|(s&258048)>>>12,e[i++]=128|(s&4032)>>>6,e[i++]=128|(s&63)>>>0),i>=64&&(this._step(),i-=64,this._totalLen+=64,e[0]=e[64],e[1]=e[65],e[2]=e[66]),i}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),Cd(this._h0)+Cd(this._h1)+Cd(this._h2)+Cd(this._h3)+Cd(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,A_(this._buff,this._buffLen),this._buffLen>56&&(this._step(),A_(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=fC._bigBlock32,i=this._buffDV;for(let u=0;u<64;u+=4)e.setUint32(u,i.getUint32(u,!1),!1);for(let u=64;u<320;u+=4)e.setUint32(u,Rb(e.getUint32(u-12,!1)^e.getUint32(u-32,!1)^e.getUint32(u-56,!1)^e.getUint32(u-64,!1),1),!1);let s=this._h0,n=this._h1,o=this._h2,r=this._h3,a=this._h4,l,h,d;for(let u=0;u<80;u++)u<20?(l=n&o|~n&r,h=1518500249):u<40?(l=n^o^r,h=1859775393):u<60?(l=n&o|n&r|o&r,h=2400959708):(l=n^o^r,h=3395469782),d=Rb(s,5)+l+a+h+e.getUint32(u*4,!1)&4294967295,a=r,r=o,o=Rb(n,30),n=s,s=d;this._h0=this._h0+s&4294967295,this._h1=this._h1+n&4294967295,this._h2=this._h2+o&4294967295,this._h3=this._h3+r&4294967295,this._h4=this._h4+a&4294967295}}var SF=Object.defineProperty,qo=(t,e)=>SF(t,"name",{value:e,configurable:!0}),D=(t=>(t[t.DependsOnKbLayout=-1]="DependsOnKbLayout",t[t.Unknown=0]="Unknown",t[t.Backspace=1]="Backspace",t[t.Tab=2]="Tab",t[t.Enter=3]="Enter",t[t.Shift=4]="Shift",t[t.Ctrl=5]="Ctrl",t[t.Alt=6]="Alt",t[t.PauseBreak=7]="PauseBreak",t[t.CapsLock=8]="CapsLock",t[t.Escape=9]="Escape",t[t.Space=10]="Space",t[t.PageUp=11]="PageUp",t[t.PageDown=12]="PageDown",t[t.End=13]="End",t[t.Home=14]="Home",t[t.LeftArrow=15]="LeftArrow",t[t.UpArrow=16]="UpArrow",t[t.RightArrow=17]="RightArrow",t[t.DownArrow=18]="DownArrow",t[t.Insert=19]="Insert",t[t.Delete=20]="Delete",t[t.Digit0=21]="Digit0",t[t.Digit1=22]="Digit1",t[t.Digit2=23]="Digit2",t[t.Digit3=24]="Digit3",t[t.Digit4=25]="Digit4",t[t.Digit5=26]="Digit5",t[t.Digit6=27]="Digit6",t[t.Digit7=28]="Digit7",t[t.Digit8=29]="Digit8",t[t.Digit9=30]="Digit9",t[t.KeyA=31]="KeyA",t[t.KeyB=32]="KeyB",t[t.KeyC=33]="KeyC",t[t.KeyD=34]="KeyD",t[t.KeyE=35]="KeyE",t[t.KeyF=36]="KeyF",t[t.KeyG=37]="KeyG",t[t.KeyH=38]="KeyH",t[t.KeyI=39]="KeyI",t[t.KeyJ=40]="KeyJ",t[t.KeyK=41]="KeyK",t[t.KeyL=42]="KeyL",t[t.KeyM=43]="KeyM",t[t.KeyN=44]="KeyN",t[t.KeyO=45]="KeyO",t[t.KeyP=46]="KeyP",t[t.KeyQ=47]="KeyQ",t[t.KeyR=48]="KeyR",t[t.KeyS=49]="KeyS",t[t.KeyT=50]="KeyT",t[t.KeyU=51]="KeyU",t[t.KeyV=52]="KeyV",t[t.KeyW=53]="KeyW",t[t.KeyX=54]="KeyX",t[t.KeyY=55]="KeyY",t[t.KeyZ=56]="KeyZ",t[t.Meta=57]="Meta",t[t.ContextMenu=58]="ContextMenu",t[t.F1=59]="F1",t[t.F2=60]="F2",t[t.F3=61]="F3",t[t.F4=62]="F4",t[t.F5=63]="F5",t[t.F6=64]="F6",t[t.F7=65]="F7",t[t.F8=66]="F8",t[t.F9=67]="F9",t[t.F10=68]="F10",t[t.F11=69]="F11",t[t.F12=70]="F12",t[t.F13=71]="F13",t[t.F14=72]="F14",t[t.F15=73]="F15",t[t.F16=74]="F16",t[t.F17=75]="F17",t[t.F18=76]="F18",t[t.F19=77]="F19",t[t.F20=78]="F20",t[t.F21=79]="F21",t[t.F22=80]="F22",t[t.F23=81]="F23",t[t.F24=82]="F24",t[t.NumLock=83]="NumLock",t[t.ScrollLock=84]="ScrollLock",t[t.Semicolon=85]="Semicolon",t[t.Equal=86]="Equal",t[t.Comma=87]="Comma",t[t.Minus=88]="Minus",t[t.Period=89]="Period",t[t.Slash=90]="Slash",t[t.Backquote=91]="Backquote",t[t.BracketLeft=92]="BracketLeft",t[t.Backslash=93]="Backslash",t[t.BracketRight=94]="BracketRight",t[t.Quote=95]="Quote",t[t.OEM_8=96]="OEM_8",t[t.IntlBackslash=97]="IntlBackslash",t[t.Numpad0=98]="Numpad0",t[t.Numpad1=99]="Numpad1",t[t.Numpad2=100]="Numpad2",t[t.Numpad3=101]="Numpad3",t[t.Numpad4=102]="Numpad4",t[t.Numpad5=103]="Numpad5",t[t.Numpad6=104]="Numpad6",t[t.Numpad7=105]="Numpad7",t[t.Numpad8=106]="Numpad8",t[t.Numpad9=107]="Numpad9",t[t.NumpadMultiply=108]="NumpadMultiply",t[t.NumpadAdd=109]="NumpadAdd",t[t.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",t[t.NumpadSubtract=111]="NumpadSubtract",t[t.NumpadDecimal=112]="NumpadDecimal",t[t.NumpadDivide=113]="NumpadDivide",t[t.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",t[t.ABNT_C1=115]="ABNT_C1",t[t.ABNT_C2=116]="ABNT_C2",t[t.AudioVolumeMute=117]="AudioVolumeMute",t[t.AudioVolumeUp=118]="AudioVolumeUp",t[t.AudioVolumeDown=119]="AudioVolumeDown",t[t.BrowserSearch=120]="BrowserSearch",t[t.BrowserHome=121]="BrowserHome",t[t.BrowserBack=122]="BrowserBack",t[t.BrowserForward=123]="BrowserForward",t[t.MediaTrackNext=124]="MediaTrackNext",t[t.MediaTrackPrevious=125]="MediaTrackPrevious",t[t.MediaStop=126]="MediaStop",t[t.MediaPlayPause=127]="MediaPlayPause",t[t.LaunchMediaPlayer=128]="LaunchMediaPlayer",t[t.LaunchMail=129]="LaunchMail",t[t.LaunchApp2=130]="LaunchApp2",t[t.Clear=131]="Clear",t[t.MAX_VALUE=132]="MAX_VALUE",t))(D||{}),kr=(t=>(t[t.DependsOnKbLayout=-1]="DependsOnKbLayout",t[t.None=0]="None",t[t.Hyper=1]="Hyper",t[t.Super=2]="Super",t[t.Fn=3]="Fn",t[t.FnLock=4]="FnLock",t[t.Suspend=5]="Suspend",t[t.Resume=6]="Resume",t[t.Turbo=7]="Turbo",t[t.Sleep=8]="Sleep",t[t.WakeUp=9]="WakeUp",t[t.KeyA=10]="KeyA",t[t.KeyB=11]="KeyB",t[t.KeyC=12]="KeyC",t[t.KeyD=13]="KeyD",t[t.KeyE=14]="KeyE",t[t.KeyF=15]="KeyF",t[t.KeyG=16]="KeyG",t[t.KeyH=17]="KeyH",t[t.KeyI=18]="KeyI",t[t.KeyJ=19]="KeyJ",t[t.KeyK=20]="KeyK",t[t.KeyL=21]="KeyL",t[t.KeyM=22]="KeyM",t[t.KeyN=23]="KeyN",t[t.KeyO=24]="KeyO",t[t.KeyP=25]="KeyP",t[t.KeyQ=26]="KeyQ",t[t.KeyR=27]="KeyR",t[t.KeyS=28]="KeyS",t[t.KeyT=29]="KeyT",t[t.KeyU=30]="KeyU",t[t.KeyV=31]="KeyV",t[t.KeyW=32]="KeyW",t[t.KeyX=33]="KeyX",t[t.KeyY=34]="KeyY",t[t.KeyZ=35]="KeyZ",t[t.Digit1=36]="Digit1",t[t.Digit2=37]="Digit2",t[t.Digit3=38]="Digit3",t[t.Digit4=39]="Digit4",t[t.Digit5=40]="Digit5",t[t.Digit6=41]="Digit6",t[t.Digit7=42]="Digit7",t[t.Digit8=43]="Digit8",t[t.Digit9=44]="Digit9",t[t.Digit0=45]="Digit0",t[t.Enter=46]="Enter",t[t.Escape=47]="Escape",t[t.Backspace=48]="Backspace",t[t.Tab=49]="Tab",t[t.Space=50]="Space",t[t.Minus=51]="Minus",t[t.Equal=52]="Equal",t[t.BracketLeft=53]="BracketLeft",t[t.BracketRight=54]="BracketRight",t[t.Backslash=55]="Backslash",t[t.IntlHash=56]="IntlHash",t[t.Semicolon=57]="Semicolon",t[t.Quote=58]="Quote",t[t.Backquote=59]="Backquote",t[t.Comma=60]="Comma",t[t.Period=61]="Period",t[t.Slash=62]="Slash",t[t.CapsLock=63]="CapsLock",t[t.F1=64]="F1",t[t.F2=65]="F2",t[t.F3=66]="F3",t[t.F4=67]="F4",t[t.F5=68]="F5",t[t.F6=69]="F6",t[t.F7=70]="F7",t[t.F8=71]="F8",t[t.F9=72]="F9",t[t.F10=73]="F10",t[t.F11=74]="F11",t[t.F12=75]="F12",t[t.PrintScreen=76]="PrintScreen",t[t.ScrollLock=77]="ScrollLock",t[t.Pause=78]="Pause",t[t.Insert=79]="Insert",t[t.Home=80]="Home",t[t.PageUp=81]="PageUp",t[t.Delete=82]="Delete",t[t.End=83]="End",t[t.PageDown=84]="PageDown",t[t.ArrowRight=85]="ArrowRight",t[t.ArrowLeft=86]="ArrowLeft",t[t.ArrowDown=87]="ArrowDown",t[t.ArrowUp=88]="ArrowUp",t[t.NumLock=89]="NumLock",t[t.NumpadDivide=90]="NumpadDivide",t[t.NumpadMultiply=91]="NumpadMultiply",t[t.NumpadSubtract=92]="NumpadSubtract",t[t.NumpadAdd=93]="NumpadAdd",t[t.NumpadEnter=94]="NumpadEnter",t[t.Numpad1=95]="Numpad1",t[t.Numpad2=96]="Numpad2",t[t.Numpad3=97]="Numpad3",t[t.Numpad4=98]="Numpad4",t[t.Numpad5=99]="Numpad5",t[t.Numpad6=100]="Numpad6",t[t.Numpad7=101]="Numpad7",t[t.Numpad8=102]="Numpad8",t[t.Numpad9=103]="Numpad9",t[t.Numpad0=104]="Numpad0",t[t.NumpadDecimal=105]="NumpadDecimal",t[t.IntlBackslash=106]="IntlBackslash",t[t.ContextMenu=107]="ContextMenu",t[t.Power=108]="Power",t[t.NumpadEqual=109]="NumpadEqual",t[t.F13=110]="F13",t[t.F14=111]="F14",t[t.F15=112]="F15",t[t.F16=113]="F16",t[t.F17=114]="F17",t[t.F18=115]="F18",t[t.F19=116]="F19",t[t.F20=117]="F20",t[t.F21=118]="F21",t[t.F22=119]="F22",t[t.F23=120]="F23",t[t.F24=121]="F24",t[t.Open=122]="Open",t[t.Help=123]="Help",t[t.Select=124]="Select",t[t.Again=125]="Again",t[t.Undo=126]="Undo",t[t.Cut=127]="Cut",t[t.Copy=128]="Copy",t[t.Paste=129]="Paste",t[t.Find=130]="Find",t[t.AudioVolumeMute=131]="AudioVolumeMute",t[t.AudioVolumeUp=132]="AudioVolumeUp",t[t.AudioVolumeDown=133]="AudioVolumeDown",t[t.NumpadComma=134]="NumpadComma",t[t.IntlRo=135]="IntlRo",t[t.KanaMode=136]="KanaMode",t[t.IntlYen=137]="IntlYen",t[t.Convert=138]="Convert",t[t.NonConvert=139]="NonConvert",t[t.Lang1=140]="Lang1",t[t.Lang2=141]="Lang2",t[t.Lang3=142]="Lang3",t[t.Lang4=143]="Lang4",t[t.Lang5=144]="Lang5",t[t.Abort=145]="Abort",t[t.Props=146]="Props",t[t.NumpadParenLeft=147]="NumpadParenLeft",t[t.NumpadParenRight=148]="NumpadParenRight",t[t.NumpadBackspace=149]="NumpadBackspace",t[t.NumpadMemoryStore=150]="NumpadMemoryStore",t[t.NumpadMemoryRecall=151]="NumpadMemoryRecall",t[t.NumpadMemoryClear=152]="NumpadMemoryClear",t[t.NumpadMemoryAdd=153]="NumpadMemoryAdd",t[t.NumpadMemorySubtract=154]="NumpadMemorySubtract",t[t.NumpadClear=155]="NumpadClear",t[t.NumpadClearEntry=156]="NumpadClearEntry",t[t.ControlLeft=157]="ControlLeft",t[t.ShiftLeft=158]="ShiftLeft",t[t.AltLeft=159]="AltLeft",t[t.MetaLeft=160]="MetaLeft",t[t.ControlRight=161]="ControlRight",t[t.ShiftRight=162]="ShiftRight",t[t.AltRight=163]="AltRight",t[t.MetaRight=164]="MetaRight",t[t.BrightnessUp=165]="BrightnessUp",t[t.BrightnessDown=166]="BrightnessDown",t[t.MediaPlay=167]="MediaPlay",t[t.MediaRecord=168]="MediaRecord",t[t.MediaFastForward=169]="MediaFastForward",t[t.MediaRewind=170]="MediaRewind",t[t.MediaTrackNext=171]="MediaTrackNext",t[t.MediaTrackPrevious=172]="MediaTrackPrevious",t[t.MediaStop=173]="MediaStop",t[t.Eject=174]="Eject",t[t.MediaPlayPause=175]="MediaPlayPause",t[t.MediaSelect=176]="MediaSelect",t[t.LaunchMail=177]="LaunchMail",t[t.LaunchApp2=178]="LaunchApp2",t[t.LaunchApp1=179]="LaunchApp1",t[t.SelectTask=180]="SelectTask",t[t.LaunchScreenSaver=181]="LaunchScreenSaver",t[t.BrowserSearch=182]="BrowserSearch",t[t.BrowserHome=183]="BrowserHome",t[t.BrowserBack=184]="BrowserBack",t[t.BrowserForward=185]="BrowserForward",t[t.BrowserStop=186]="BrowserStop",t[t.BrowserRefresh=187]="BrowserRefresh",t[t.BrowserFavorites=188]="BrowserFavorites",t[t.ZoomToggle=189]="ZoomToggle",t[t.MailReply=190]="MailReply",t[t.MailForward=191]="MailForward",t[t.MailSend=192]="MailSend",t[t.MAX_VALUE=193]="MAX_VALUE",t))(kr||{});class pC{static{qo(this,"KeyCodeStrMap")}_keyCodeToStr;_strToKeyCode;constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(e,i){this._keyCodeToStr[e]=i,this._strToKeyCode[i.toLowerCase()]=e}keyCodeToStr(e){return this._keyCodeToStr[e]}strToKeyCode(e){return this._strToKeyCode[e.toLowerCase()]||0}}const Nb=new pC,E_=new pC,I_=new pC,Px=new Array(230),Rx=[],Nx=Object.create(null),Ox=Object.create(null),CF={lowerCaseToEnum:qo(t=>Ox[t]||0,"lowerCaseToEnum"),toEnum:qo(t=>Nx[t]||0,"toEnum"),toString:qo(t=>Rx[t]||"None","toString")};(()=>{const t="",e=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",t,t],[1,1,"Hyper",0,t,0,t,t,t],[1,2,"Super",0,t,0,t,t,t],[1,3,"Fn",0,t,0,t,t,t],[1,4,"FnLock",0,t,0,t,t,t],[1,5,"Suspend",0,t,0,t,t,t],[1,6,"Resume",0,t,0,t,t,t],[1,7,"Turbo",0,t,0,t,t,t],[1,8,"Sleep",0,t,0,"VK_SLEEP",t,t],[1,9,"WakeUp",0,t,0,t,t,t],[0,10,"KeyA",31,"A",65,"VK_A",t,t],[0,11,"KeyB",32,"B",66,"VK_B",t,t],[0,12,"KeyC",33,"C",67,"VK_C",t,t],[0,13,"KeyD",34,"D",68,"VK_D",t,t],[0,14,"KeyE",35,"E",69,"VK_E",t,t],[0,15,"KeyF",36,"F",70,"VK_F",t,t],[0,16,"KeyG",37,"G",71,"VK_G",t,t],[0,17,"KeyH",38,"H",72,"VK_H",t,t],[0,18,"KeyI",39,"I",73,"VK_I",t,t],[0,19,"KeyJ",40,"J",74,"VK_J",t,t],[0,20,"KeyK",41,"K",75,"VK_K",t,t],[0,21,"KeyL",42,"L",76,"VK_L",t,t],[0,22,"KeyM",43,"M",77,"VK_M",t,t],[0,23,"KeyN",44,"N",78,"VK_N",t,t],[0,24,"KeyO",45,"O",79,"VK_O",t,t],[0,25,"KeyP",46,"P",80,"VK_P",t,t],[0,26,"KeyQ",47,"Q",81,"VK_Q",t,t],[0,27,"KeyR",48,"R",82,"VK_R",t,t],[0,28,"KeyS",49,"S",83,"VK_S",t,t],[0,29,"KeyT",50,"T",84,"VK_T",t,t],[0,30,"KeyU",51,"U",85,"VK_U",t,t],[0,31,"KeyV",52,"V",86,"VK_V",t,t],[0,32,"KeyW",53,"W",87,"VK_W",t,t],[0,33,"KeyX",54,"X",88,"VK_X",t,t],[0,34,"KeyY",55,"Y",89,"VK_Y",t,t],[0,35,"KeyZ",56,"Z",90,"VK_Z",t,t],[0,36,"Digit1",22,"1",49,"VK_1",t,t],[0,37,"Digit2",23,"2",50,"VK_2",t,t],[0,38,"Digit3",24,"3",51,"VK_3",t,t],[0,39,"Digit4",25,"4",52,"VK_4",t,t],[0,40,"Digit5",26,"5",53,"VK_5",t,t],[0,41,"Digit6",27,"6",54,"VK_6",t,t],[0,42,"Digit7",28,"7",55,"VK_7",t,t],[0,43,"Digit8",29,"8",56,"VK_8",t,t],[0,44,"Digit9",30,"9",57,"VK_9",t,t],[0,45,"Digit0",21,"0",48,"VK_0",t,t],[1,46,"Enter",3,"Enter",13,"VK_RETURN",t,t],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",t,t],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",t,t],[1,49,"Tab",2,"Tab",9,"VK_TAB",t,t],[1,50,"Space",10,"Space",32,"VK_SPACE",t,t],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,t,0,t,t,t],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",t,t],[1,64,"F1",59,"F1",112,"VK_F1",t,t],[1,65,"F2",60,"F2",113,"VK_F2",t,t],[1,66,"F3",61,"F3",114,"VK_F3",t,t],[1,67,"F4",62,"F4",115,"VK_F4",t,t],[1,68,"F5",63,"F5",116,"VK_F5",t,t],[1,69,"F6",64,"F6",117,"VK_F6",t,t],[1,70,"F7",65,"F7",118,"VK_F7",t,t],[1,71,"F8",66,"F8",119,"VK_F8",t,t],[1,72,"F9",67,"F9",120,"VK_F9",t,t],[1,73,"F10",68,"F10",121,"VK_F10",t,t],[1,74,"F11",69,"F11",122,"VK_F11",t,t],[1,75,"F12",70,"F12",123,"VK_F12",t,t],[1,76,"PrintScreen",0,t,0,t,t,t],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",t,t],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",t,t],[1,79,"Insert",19,"Insert",45,"VK_INSERT",t,t],[1,80,"Home",14,"Home",36,"VK_HOME",t,t],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",t,t],[1,82,"Delete",20,"Delete",46,"VK_DELETE",t,t],[1,83,"End",13,"End",35,"VK_END",t,t],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",t,t],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",t],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",t],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",t],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",t],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",t,t],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",t,t],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",t,t],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",t,t],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",t,t],[1,94,"NumpadEnter",3,t,0,t,t,t],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",t,t],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",t,t],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",t,t],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",t,t],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",t,t],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",t,t],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",t,t],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",t,t],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",t,t],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",t,t],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",t,t],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",t,t],[1,107,"ContextMenu",58,"ContextMenu",93,t,t,t],[1,108,"Power",0,t,0,t,t,t],[1,109,"NumpadEqual",0,t,0,t,t,t],[1,110,"F13",71,"F13",124,"VK_F13",t,t],[1,111,"F14",72,"F14",125,"VK_F14",t,t],[1,112,"F15",73,"F15",126,"VK_F15",t,t],[1,113,"F16",74,"F16",127,"VK_F16",t,t],[1,114,"F17",75,"F17",128,"VK_F17",t,t],[1,115,"F18",76,"F18",129,"VK_F18",t,t],[1,116,"F19",77,"F19",130,"VK_F19",t,t],[1,117,"F20",78,"F20",131,"VK_F20",t,t],[1,118,"F21",79,"F21",132,"VK_F21",t,t],[1,119,"F22",80,"F22",133,"VK_F22",t,t],[1,120,"F23",81,"F23",134,"VK_F23",t,t],[1,121,"F24",82,"F24",135,"VK_F24",t,t],[1,122,"Open",0,t,0,t,t,t],[1,123,"Help",0,t,0,t,t,t],[1,124,"Select",0,t,0,t,t,t],[1,125,"Again",0,t,0,t,t,t],[1,126,"Undo",0,t,0,t,t,t],[1,127,"Cut",0,t,0,t,t,t],[1,128,"Copy",0,t,0,t,t,t],[1,129,"Paste",0,t,0,t,t,t],[1,130,"Find",0,t,0,t,t,t],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",t,t],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",t,t],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",t,t],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",t,t],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",t,t],[1,136,"KanaMode",0,t,0,t,t,t],[0,137,"IntlYen",0,t,0,t,t,t],[1,138,"Convert",0,t,0,t,t,t],[1,139,"NonConvert",0,t,0,t,t,t],[1,140,"Lang1",0,t,0,t,t,t],[1,141,"Lang2",0,t,0,t,t,t],[1,142,"Lang3",0,t,0,t,t,t],[1,143,"Lang4",0,t,0,t,t,t],[1,144,"Lang5",0,t,0,t,t,t],[1,145,"Abort",0,t,0,t,t,t],[1,146,"Props",0,t,0,t,t,t],[1,147,"NumpadParenLeft",0,t,0,t,t,t],[1,148,"NumpadParenRight",0,t,0,t,t,t],[1,149,"NumpadBackspace",0,t,0,t,t,t],[1,150,"NumpadMemoryStore",0,t,0,t,t,t],[1,151,"NumpadMemoryRecall",0,t,0,t,t,t],[1,152,"NumpadMemoryClear",0,t,0,t,t,t],[1,153,"NumpadMemoryAdd",0,t,0,t,t,t],[1,154,"NumpadMemorySubtract",0,t,0,t,t,t],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",t,t],[1,156,"NumpadClearEntry",0,t,0,t,t,t],[1,0,t,5,"Ctrl",17,"VK_CONTROL",t,t],[1,0,t,4,"Shift",16,"VK_SHIFT",t,t],[1,0,t,6,"Alt",18,"VK_MENU",t,t],[1,0,t,57,"Meta",91,"VK_COMMAND",t,t],[1,157,"ControlLeft",5,t,0,"VK_LCONTROL",t,t],[1,158,"ShiftLeft",4,t,0,"VK_LSHIFT",t,t],[1,159,"AltLeft",6,t,0,"VK_LMENU",t,t],[1,160,"MetaLeft",57,t,0,"VK_LWIN",t,t],[1,161,"ControlRight",5,t,0,"VK_RCONTROL",t,t],[1,162,"ShiftRight",4,t,0,"VK_RSHIFT",t,t],[1,163,"AltRight",6,t,0,"VK_RMENU",t,t],[1,164,"MetaRight",57,t,0,"VK_RWIN",t,t],[1,165,"BrightnessUp",0,t,0,t,t,t],[1,166,"BrightnessDown",0,t,0,t,t,t],[1,167,"MediaPlay",0,t,0,t,t,t],[1,168,"MediaRecord",0,t,0,t,t,t],[1,169,"MediaFastForward",0,t,0,t,t,t],[1,170,"MediaRewind",0,t,0,t,t,t],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",t,t],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",t,t],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",t,t],[1,174,"Eject",0,t,0,t,t,t],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",t,t],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",t,t],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",t,t],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",t,t],[1,179,"LaunchApp1",0,t,0,"VK_MEDIA_LAUNCH_APP1",t,t],[1,180,"SelectTask",0,t,0,t,t,t],[1,181,"LaunchScreenSaver",0,t,0,t,t,t],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",t,t],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",t,t],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",t,t],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",t,t],[1,186,"BrowserStop",0,t,0,"VK_BROWSER_STOP",t,t],[1,187,"BrowserRefresh",0,t,0,"VK_BROWSER_REFRESH",t,t],[1,188,"BrowserFavorites",0,t,0,"VK_BROWSER_FAVORITES",t,t],[1,189,"ZoomToggle",0,t,0,t,t,t],[1,190,"MailReply",0,t,0,t,t,t],[1,191,"MailForward",0,t,0,t,t,t],[1,192,"MailSend",0,t,0,t,t,t],[1,0,t,114,"KeyInComposition",229,t,t,t],[1,0,t,116,"ABNT_C2",194,"VK_ABNT_C2",t,t],[1,0,t,96,"OEM_8",223,"VK_OEM_8",t,t],[1,0,t,0,t,0,"VK_KANA",t,t],[1,0,t,0,t,0,"VK_HANGUL",t,t],[1,0,t,0,t,0,"VK_JUNJA",t,t],[1,0,t,0,t,0,"VK_FINAL",t,t],[1,0,t,0,t,0,"VK_HANJA",t,t],[1,0,t,0,t,0,"VK_KANJI",t,t],[1,0,t,0,t,0,"VK_CONVERT",t,t],[1,0,t,0,t,0,"VK_NONCONVERT",t,t],[1,0,t,0,t,0,"VK_ACCEPT",t,t],[1,0,t,0,t,0,"VK_MODECHANGE",t,t],[1,0,t,0,t,0,"VK_SELECT",t,t],[1,0,t,0,t,0,"VK_PRINT",t,t],[1,0,t,0,t,0,"VK_EXECUTE",t,t],[1,0,t,0,t,0,"VK_SNAPSHOT",t,t],[1,0,t,0,t,0,"VK_HELP",t,t],[1,0,t,0,t,0,"VK_APPS",t,t],[1,0,t,0,t,0,"VK_PROCESSKEY",t,t],[1,0,t,0,t,0,"VK_PACKET",t,t],[1,0,t,0,t,0,"VK_DBE_SBCSCHAR",t,t],[1,0,t,0,t,0,"VK_DBE_DBCSCHAR",t,t],[1,0,t,0,t,0,"VK_ATTN",t,t],[1,0,t,0,t,0,"VK_CRSEL",t,t],[1,0,t,0,t,0,"VK_EXSEL",t,t],[1,0,t,0,t,0,"VK_EREOF",t,t],[1,0,t,0,t,0,"VK_PLAY",t,t],[1,0,t,0,t,0,"VK_ZOOM",t,t],[1,0,t,0,t,0,"VK_NONAME",t,t],[1,0,t,0,t,0,"VK_PA1",t,t],[1,0,t,0,t,0,"VK_OEM_CLEAR",t,t]],i=[],s=[];for(const n of e){const[o,r,a,l,h,d,u,g,p]=n;if(s[r]||(s[r]=!0,Rx[r]=a,Nx[a]=r,Ox[a.toLowerCase()]=r),!i[l]){if(i[l]=!0,!h)throw new Error(`String representation missing for key code ${l} around scan code ${a}`);Nb.define(l,h),E_.define(l,g||h),I_.define(l,p||g||h)}d&&(Px[d]=l)}})();var tp;(t=>{function e(a){return Nb.keyCodeToStr(a)}t.toString=e,qo(e,"toString");function i(a){return Nb.strToKeyCode(a)}t.fromString=i,qo(i,"fromString");function s(a){return E_.keyCodeToStr(a)}t.toUserSettingsUS=s,qo(s,"toUserSettingsUS");function n(a){return I_.keyCodeToStr(a)}t.toUserSettingsGeneral=n,qo(n,"toUserSettingsGeneral");function o(a){return E_.strToKeyCode(a)||I_.strToKeyCode(a)}t.fromUserSettings=o,qo(o,"fromUserSettings");function r(a){if(a>=98&&a<=113)return null;switch(a){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return Nb.keyCodeToStr(a)}t.toElectronAccelerator=r,qo(r,"toElectronAccelerator")})(tp||(tp={}));var Ze=(t=>(t[t.CtrlCmd=2048]="CtrlCmd",t[t.Shift=1024]="Shift",t[t.Alt=512]="Alt",t[t.WinCtrl=256]="WinCtrl",t))(Ze||{});function ol(t,e){const i=(e&65535)<<16>>>0;return(t|i)>>>0}qo(ol,"KeyChord");var DF=Object.defineProperty,eg=(t,e)=>DF(t,"name",{value:e,configurable:!0});function $s(t,e,i){return Math.min(Math.max(t,e),i)}eg($s,"clamp");function Bx(t,e){return(e+t%e)%e}eg(Bx,"rot");class xne{static{eg(this,"Counter")}_next=0;getNext(){return this._next++}}class Lne{static{eg(this,"MovingAverage")}_n=1;_val=0;update(e){return this._val=this._val+(e-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class Pne{static{eg(this,"SlidingWindowAverage")}_n=0;_val=0;_values=[];_index=0;_sum=0;constructor(e){this._values=new Array(e),this._values.fill(0,0,e)}update(e){const i=this._values[this._index];return this._values[this._index]=e,this._index=(this._index+1)%this._values.length,this._sum-=i,this._sum+=e,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}function Mx(t,e,i,s,n,o,r,a){const l=r-i,h=a-s,d=n-i,u=o-s,g=t-i,p=e-s,m=l*l+h*h,b=l*d+h*u,C=l*g+h*p,x=d*d+u*u,E=d*g+u*p,F=1/(m*x-b*b),B=(x*C-b*E)*F,M=(m*E-b*C)*F;return B>=0&&M>=0&&B+M<1}eg(Mx,"isPointWithinTriangle");const qp={clipboard:{writeText:dn||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:dn||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:dn||XS()?0:navigator.keyboard||$p?1:2,touch:"ontouchstart"in Q||navigator.maxTouchPoints>0,pointerEvents:Q.PointerEvent&&("ontouchstart"in Q||navigator.maxTouchPoints>0)};var AF=Object.defineProperty,ni=(t,e)=>AF(t,"name",{value:e,configurable:!0});/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:Fx,setPrototypeOf:eI,isFrozen:EF,getPrototypeOf:IF,getOwnPropertyDescriptor:TF}=Object;let{freeze:un,seal:lr,create:kF}=Object,{apply:T_,construct:k_}=typeof Reflect<"u"&&Reflect;T_||(T_=ni(function(e,i,s){return e.apply(i,s)},"apply"));un||(un=ni(function(e){return e},"freeze"));lr||(lr=ni(function(e){return e},"seal"));k_||(k_=ni(function(e,i){return new e(...i)},"construct"));const xF=so(Array.prototype.forEach),tI=so(Array.prototype.pop),xg=so(Array.prototype.push),Ob=so(String.prototype.toLowerCase),ky=so(String.prototype.toString),LF=so(String.prototype.match),Vo=so(String.prototype.replace),PF=so(String.prototype.indexOf),RF=so(String.prototype.trim),Fn=so(RegExp.prototype.test),Lg=Vx(TypeError);function so(t){return e=>{for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];return T_(t,e,s)}}ni(so,"unapply");function Vx(t){return()=>{for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return k_(t,i)}}ni(Vx,"unconstruct");function ft(t,e,i){var s;i=(s=i)!==null&&s!==void 0?s:Ob,eI&&eI(t,null);let n=e.length;for(;n--;){let o=e[n];if(typeof o=="string"){const r=i(o);r!==o&&(EF(e)||(e[n]=r),o=r)}t[o]=!0}return t}ni(ft,"addToSet");function Fc(t){const e=kF(null);for(const[i,s]of Fx(t))e[i]=s;return e}ni(Fc,"clone");function qg(t,e){for(;t!==null;){const s=TF(t,e);if(s){if(s.get)return so(s.get);if(typeof s.value=="function")return so(s.value)}t=IF(t)}function i(s){return console.warn("fallback value for",s),null}return ni(i,"fallbackValue"),i}ni(qg,"lookupGetter");const iI=un(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xy=un(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ly=un(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),NF=un(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Py=un(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),OF=un(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),sI=un(["#text"]),nI=un(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Ry=un(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),oI=un(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Km=un(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),BF=lr(/\{\{[\w\W]*|[\w\W]*\}\}/gm),MF=lr(/<%[\w\W]*|[\w\W]*%>/gm),FF=lr(/\${[\w\W]*}/gm),VF=lr(/^data-[-\w.\u00B7-\uFFFF]/),HF=lr(/^aria-[-\w]+$/),Hx=lr(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.-]+(?:[^a-z+.\-:]|$))/i),WF=lr(/^(?:\w+script|data):/i),UF=lr(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Wx=lr(/^html$/i);var rI=Object.freeze({__proto__:null,MUSTACHE_EXPR:BF,ERB_EXPR:MF,TMPLIT_EXPR:FF,DATA_ATTR:VF,ARIA_ATTR:HF,IS_ALLOWED_URI:Hx,IS_SCRIPT_OR_DATA:WF,ATTR_WHITESPACE:UF,DOCTYPE_NAME:Wx});const zF=ni(()=>typeof window>"u"?null:window,"getGlobal"),$F=ni(function(e,i){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const n="data-tt-policy-suffix";i&&i.hasAttribute(n)&&(s=i.getAttribute(n));const o="dompurify"+(s?"#"+s:"");try{return e.createPolicy(o,{createHTML(r){return r},createScriptURL(r){return r}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},"_createTrustedTypesPolicy");function mC(){const t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zF(),e=ni(ke=>mC(ke),"DOMPurify");if(e.version="3.0.5",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;const i=t.document,s=i.currentScript;let{document:n}=t;const{DocumentFragment:o,HTMLTemplateElement:r,Node:a,Element:l,NodeFilter:h,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:u,DOMParser:g,trustedTypes:p}=t,m=l.prototype,b=qg(m,"cloneNode"),C=qg(m,"nextSibling"),x=qg(m,"childNodes"),E=qg(m,"parentNode");if(typeof r=="function"){const ke=n.createElement("template");ke.content&&ke.content.ownerDocument&&(n=ke.content.ownerDocument)}let F,B="";const{implementation:M,createNodeIterator:X,createDocumentFragment:ee,getElementsByTagName:z}=n,{importNode:se}=i;let Re={};e.isSupported=typeof Fx=="function"&&typeof E=="function"&&M&&M.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:oe,ERB_EXPR:De,TMPLIT_EXPR:Wt,DATA_ATTR:ve,ARIA_ATTR:ae,IS_SCRIPT_OR_DATA:Te,ATTR_WHITESPACE:pe}=rI;let{IS_ALLOWED_URI:Be}=rI,Ne=null;const gt=ft({},[...iI,...xy,...Ly,...Py,...sI]);let at=null;const Ut=ft({},[...nI,...Ry,...oI,...Km]);let yt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),_i=null,ms=null,Js=!0,Mn=!0,da=!1,gd=!0,mo=!1,ua=!1,Ig=!1,Tg=!1,gl=!1,fd=!1,pd=!1,Mm=!0,Fm=!1;const Cy="user-content-";let fl=!0,Ic=!1,ga={},fa=null;const Vm=ft({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let md=null;const Hm=ft({},["audio","video","img","source","image","track"]);let Tc=null;const Wm=ft({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pa="http://www.w3.org/1998/Math/MathML",Sr="http://www.w3.org/2000/svg",Wi="http://www.w3.org/1999/xhtml";let bo=Wi,pl=!1,en=null;const kc=ft({},[pa,Sr,Wi],ky);let Cr;const ma=["application/xhtml+xml","text/html"],Bt="text/html";let Ji,ml=null;const Dy=n.createElement("form"),Um=ni(function(L){return L instanceof RegExp||L instanceof Function},"isRegexOrFunction"),kg=ni(function(L){if(!(ml&&ml===L)){if((!L||typeof L!="object")&&(L={}),L=Fc(L),Cr=ma.indexOf(L.PARSER_MEDIA_TYPE)===-1?Cr=Bt:Cr=L.PARSER_MEDIA_TYPE,Ji=Cr==="application/xhtml+xml"?ky:Ob,Ne="ALLOWED_TAGS"in L?ft({},L.ALLOWED_TAGS,Ji):gt,at="ALLOWED_ATTR"in L?ft({},L.ALLOWED_ATTR,Ji):Ut,en="ALLOWED_NAMESPACES"in L?ft({},L.ALLOWED_NAMESPACES,ky):kc,Tc="ADD_URI_SAFE_ATTR"in L?ft(Fc(Wm),L.ADD_URI_SAFE_ATTR,Ji):Wm,md="ADD_DATA_URI_TAGS"in L?ft(Fc(Hm),L.ADD_DATA_URI_TAGS,Ji):Hm,fa="FORBID_CONTENTS"in L?ft({},L.FORBID_CONTENTS,Ji):Vm,_i="FORBID_TAGS"in L?ft({},L.FORBID_TAGS,Ji):{},ms="FORBID_ATTR"in L?ft({},L.FORBID_ATTR,Ji):{},ga="USE_PROFILES"in L?L.USE_PROFILES:!1,Js=L.ALLOW_ARIA_ATTR!==!1,Mn=L.ALLOW_DATA_ATTR!==!1,da=L.ALLOW_UNKNOWN_PROTOCOLS||!1,gd=L.ALLOW_SELF_CLOSE_IN_ATTR!==!1,mo=L.SAFE_FOR_TEMPLATES||!1,ua=L.WHOLE_DOCUMENT||!1,gl=L.RETURN_DOM||!1,fd=L.RETURN_DOM_FRAGMENT||!1,pd=L.RETURN_TRUSTED_TYPE||!1,Tg=L.FORCE_BODY||!1,Mm=L.SANITIZE_DOM!==!1,Fm=L.SANITIZE_NAMED_PROPS||!1,fl=L.KEEP_CONTENT!==!1,Ic=L.IN_PLACE||!1,Be=L.ALLOWED_URI_REGEXP||Hx,bo=L.NAMESPACE||Wi,yt=L.CUSTOM_ELEMENT_HANDLING||{},L.CUSTOM_ELEMENT_HANDLING&&Um(L.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(yt.tagNameCheck=L.CUSTOM_ELEMENT_HANDLING.tagNameCheck),L.CUSTOM_ELEMENT_HANDLING&&Um(L.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(yt.attributeNameCheck=L.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),L.CUSTOM_ELEMENT_HANDLING&&typeof L.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(yt.allowCustomizedBuiltInElements=L.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),mo&&(Mn=!1),fd&&(gl=!0),ga&&(Ne=ft({},[...sI]),at=[],ga.html===!0&&(ft(Ne,iI),ft(at,nI)),ga.svg===!0&&(ft(Ne,xy),ft(at,Ry),ft(at,Km)),ga.svgFilters===!0&&(ft(Ne,Ly),ft(at,Ry),ft(at,Km)),ga.mathMl===!0&&(ft(Ne,Py),ft(at,oI),ft(at,Km))),L.ADD_TAGS&&(Ne===gt&&(Ne=Fc(Ne)),ft(Ne,L.ADD_TAGS,Ji)),L.ADD_ATTR&&(at===Ut&&(at=Fc(at)),ft(at,L.ADD_ATTR,Ji)),L.ADD_URI_SAFE_ATTR&&ft(Tc,L.ADD_URI_SAFE_ATTR,Ji),L.FORBID_CONTENTS&&(fa===Vm&&(fa=Fc(fa)),ft(fa,L.FORBID_CONTENTS,Ji)),fl&&(Ne["#text"]=!0),ua&&ft(Ne,["html","head","body"]),Ne.table&&(ft(Ne,["tbody"]),delete _i.tbody),L.TRUSTED_TYPES_POLICY){if(typeof L.TRUSTED_TYPES_POLICY.createHTML!="function")throw Lg('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof L.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Lg('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');F=L.TRUSTED_TYPES_POLICY,B=F.createHTML("")}else F===void 0&&(F=$F(p,s)),F!==null&&typeof B=="string"&&(B=F.createHTML(""));un&&un(L),ml=L}},"_parseConfig"),zm=ft({},["mi","mo","mn","ms","mtext"]),$m=ft({},["foreignobject","desc","title","annotation-xml"]),Ay=ft({},["title","style","font","a","script"]),qe=ft({},xy);ft(qe,Ly),ft(qe,NF);const w=ft({},Py);ft(w,OF);const y=ni(function(L){let re=E(L);(!re||!re.tagName)&&(re={namespaceURI:bo,tagName:"template"});const ye=Ob(L.tagName),zt=Ob(re.tagName);return en[L.namespaceURI]?L.namespaceURI===Sr?re.namespaceURI===Wi?ye==="svg":re.namespaceURI===pa?ye==="svg"&&(zt==="annotation-xml"||zm[zt]):!!qe[ye]:L.namespaceURI===pa?re.namespaceURI===Wi?ye==="math":re.namespaceURI===Sr?ye==="math"&&$m[zt]:!!w[ye]:L.namespaceURI===Wi?re.namespaceURI===Sr&&!$m[zt]||re.namespaceURI===pa&&!zm[zt]?!1:!w[ye]&&(Ay[ye]||!qe[ye]):!!(Cr==="application/xhtml+xml"&&en[L.namespaceURI]):!1},"_checkValidNamespace"),S=ni(function(L){xg(e.removed,{element:L});try{L.parentNode.removeChild(L)}catch{L.remove()}},"_forceRemove"),A=ni(function(L,re){try{xg(e.removed,{attribute:re.getAttributeNode(L),from:re})}catch{xg(e.removed,{attribute:null,from:re})}if(re.removeAttribute(L),L==="is"&&!at[L])if(gl||fd)try{S(re)}catch{}else try{re.setAttribute(L,"")}catch{}},"_removeAttribute"),T=ni(function(L){let re,ye;if(Tg)L="<remove></remove>"+L;else{const Vs=LF(L,/^[\r\n\t ]+/);ye=Vs&&Vs[0]}Cr==="application/xhtml+xml"&&bo===Wi&&(L='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+L+"</body></html>");const zt=F?F.createHTML(L):L;if(bo===Wi)try{re=new g().parseFromString(zt,Cr)}catch{}if(!re||!re.documentElement){re=M.createDocument(bo,"template",null);try{re.documentElement.innerHTML=pl?B:zt}catch{}}const Ui=re.body||re.documentElement;return L&&ye&&Ui.insertBefore(n.createTextNode(ye),Ui.childNodes[0]||null),bo===Wi?z.call(re,ua?"html":"body")[0]:ua?re.documentElement:Ui},"_initDocument"),W=ni(function(L){return X.call(L.ownerDocument||L,L,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT,null,!1)},"_createIterator"),G=ni(function(L){return L instanceof u&&(typeof L.nodeName!="string"||typeof L.textContent!="string"||typeof L.removeChild!="function"||!(L.attributes instanceof d)||typeof L.removeAttribute!="function"||typeof L.setAttribute!="function"||typeof L.namespaceURI!="string"||typeof L.insertBefore!="function"||typeof L.hasChildNodes!="function")},"_isClobbered"),ue=ni(function(L){return typeof a=="object"?L instanceof a:L&&typeof L=="object"&&typeof L.nodeType=="number"&&typeof L.nodeName=="string"},"_isNode"),me=ni(function(L,re,ye){Re[L]&&xF(Re[L],zt=>{zt.call(e,re,ye,ml)})},"_executeHook"),Ye=ni(function(L){let re;if(me("beforeSanitizeElements",L,null),G(L))return S(L),!0;const ye=Ji(L.nodeName);if(me("uponSanitizeElement",L,{tagName:ye,allowedTags:Ne}),L.hasChildNodes()&&!ue(L.firstElementChild)&&(!ue(L.content)||!ue(L.content.firstElementChild))&&Fn(/<[/\w]/g,L.innerHTML)&&Fn(/<[/\w]/g,L.textContent))return S(L),!0;if(!Ne[ye]||_i[ye]){if(!_i[ye]&&si(ye)&&(yt.tagNameCheck instanceof RegExp&&Fn(yt.tagNameCheck,ye)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(ye)))return!1;if(fl&&!fa[ye]){const zt=E(L)||L.parentNode,Ui=x(L)||L.childNodes;if(Ui&&zt){const Vs=Ui.length;for(let Ti=Vs-1;Ti>=0;--Ti)zt.insertBefore(b(Ui[Ti],!0),C(L))}}return S(L),!0}return L instanceof l&&!y(L)||(ye==="noscript"||ye==="noembed"||ye==="noframes")&&Fn(/<\/no(script|embed|frames)/i,L.innerHTML)?(S(L),!0):(mo&&L.nodeType===3&&(re=L.textContent,re=Vo(re,oe," "),re=Vo(re,De," "),re=Vo(re,Wt," "),L.textContent!==re&&(xg(e.removed,{element:L.cloneNode()}),L.textContent=re)),me("afterSanitizeElements",L,null),!1)},"_sanitizeElements"),_t=ni(function(L,re,ye){if(Mm&&(re==="id"||re==="name")&&(ye in n||ye in Dy))return!1;if(!(Mn&&!ms[re]&&Fn(ve,re))){if(!(Js&&Fn(ae,re))){if(!at[re]||ms[re]){if(!(si(L)&&(yt.tagNameCheck instanceof RegExp&&Fn(yt.tagNameCheck,L)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(L))&&(yt.attributeNameCheck instanceof RegExp&&Fn(yt.attributeNameCheck,re)||yt.attributeNameCheck instanceof Function&&yt.attributeNameCheck(re))||re==="is"&&yt.allowCustomizedBuiltInElements&&(yt.tagNameCheck instanceof RegExp&&Fn(yt.tagNameCheck,ye)||yt.tagNameCheck instanceof Function&&yt.tagNameCheck(ye))))return!1}else if(!Tc[re]){if(!Fn(Be,Vo(ye,pe,""))){if(!((re==="src"||re==="xlink:href"||re==="href")&&L!=="script"&&PF(ye,"data:")===0&&md[L])){if(!(da&&!Fn(Te,Vo(ye,pe,"")))){if(ye)return!1}}}}}}return!0},"_isValidAttribute"),si=ni(function(L){return L.indexOf("-")>0},"_basicCustomElementTest"),Bi=ni(function(L){let re,ye,zt,Ui;me("beforeSanitizeAttributes",L,null);const{attributes:Vs}=L;if(!Vs)return;const Ti={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:at};for(Ui=Vs.length;Ui--;){re=Vs[Ui];const{name:Dr,namespaceURI:Ey}=re;if(ye=Dr==="value"?re.value:RF(re.value),zt=Ji(Dr),Ti.attrName=zt,Ti.attrValue=ye,Ti.keepAttr=!0,Ti.forceKeepAttr=void 0,me("uponSanitizeAttribute",L,Ti),ye=Ti.attrValue,Ti.forceKeepAttr||(A(Dr,L),!Ti.keepAttr))continue;if(!gd&&Fn(/\/>/i,ye)){A(Dr,L);continue}mo&&(ye=Vo(ye,oe," "),ye=Vo(ye,De," "),ye=Vo(ye,Wt," "));const UE=Ji(L.nodeName);if(_t(UE,zt,ye)){if(Fm&&(zt==="id"||zt==="name")&&(A(Dr,L),ye=Cy+ye),F&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Ey)switch(p.getAttributeType(UE,zt)){case"TrustedHTML":{ye=F.createHTML(ye);break}case"TrustedScriptURL":{ye=F.createScriptURL(ye);break}}try{Ey?L.setAttributeNS(Ey,Dr,ye):L.setAttribute(Dr,ye),tI(e.removed)}catch{}}}me("afterSanitizeAttributes",L,null)},"_sanitizeAttributes"),fi=ni(function ke(L){let re;const ye=W(L);for(me("beforeSanitizeShadowDOM",L,null);re=ye.nextNode();)me("uponSanitizeShadowNode",re,null),!Ye(re)&&(re.content instanceof o&&ke(re.content),Bi(re));me("afterSanitizeShadowDOM",L,null)},"_sanitizeShadowDOM");return e.sanitize=ke=>{const L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};let re,ye,zt,Ui;if(pl=!ke,pl&&(ke="<!-->"),typeof ke!="string"&&!ue(ke))if(typeof ke.toString=="function"){if(ke=ke.toString(),typeof ke!="string")throw Lg("dirty is not a string, aborting")}else throw Lg("toString is not a function");if(!e.isSupported)return ke;if(Ig||kg(L),e.removed=[],typeof ke=="string"&&(Ic=!1),Ic){if(ke.nodeName){const Dr=Ji(ke.nodeName);if(!Ne[Dr]||_i[Dr])throw Lg("root node is forbidden and cannot be sanitized in-place")}}else if(ke instanceof a)re=T("<!---->"),ye=re.ownerDocument.importNode(ke,!0),ye.nodeType===1&&ye.nodeName==="BODY"||ye.nodeName==="HTML"?re=ye:re.appendChild(ye);else{if(!gl&&!mo&&!ua&&ke.indexOf("<")===-1)return F&&pd?F.createHTML(ke):ke;if(re=T(ke),!re)return gl?null:pd?B:""}re&&Tg&&S(re.firstChild);const Vs=W(Ic?ke:re);for(;zt=Vs.nextNode();)Ye(zt)||(zt.content instanceof o&&fi(zt.content),Bi(zt));if(Ic)return ke;if(gl){if(fd)for(Ui=ee.call(re.ownerDocument);re.firstChild;)Ui.appendChild(re.firstChild);else Ui=re;return(at.shadowroot||at.shadowrootmode)&&(Ui=se.call(i,Ui,!0)),Ui}let Ti=ua?re.outerHTML:re.innerHTML;return ua&&Ne["!doctype"]&&re.ownerDocument&&re.ownerDocument.doctype&&re.ownerDocument.doctype.name&&Fn(Wx,re.ownerDocument.doctype.name)&&(Ti="<!DOCTYPE "+re.ownerDocument.doctype.name+`>
`+Ti),mo&&(Ti=Vo(Ti,oe," "),Ti=Vo(Ti,De," "),Ti=Vo(Ti,Wt," ")),F&&pd?F.createHTML(Ti):Ti},e.setConfig=ke=>{kg(ke),Ig=!0},e.clearConfig=()=>{ml=null,Ig=!1},e.isValidAttribute=(ke,L,re)=>{ml||kg({});const ye=Ji(ke),zt=Ji(L);return _t(ye,zt,re)},e.addHook=(ke,L)=>{typeof L=="function"&&(Re[ke]=Re[ke]||[],xg(Re[ke],L))},e.removeHook=ke=>{if(Re[ke])return tI(Re[ke])},e.removeHooks=ke=>{Re[ke]&&(Re[ke]=[])},e.removeAllHooks=()=>{Re={}},e}ni(mC,"createDOMPurify");var sa=mC();sa.version;sa.isSupported;const bC=sa.sanitize;sa.setConfig;sa.clearConfig;sa.isValidAttribute;const Ux=sa.addHook,zx=sa.removeHook;sa.removeHooks;sa.removeAllHooks;var KF=Object.defineProperty,Xh=(t,e)=>KF(t,"name",{value:e,configurable:!0});function x_(t,e){if(typeof t=="number"){if(t===0)return null;const i=(t&65535)>>>0,s=(t&4294901760)>>>16;return s!==0?new Bb([Yg(i,e),Yg(s,e)]):new Bb([Yg(i,e)])}else{const i=[];for(let s=0;s<t.length;s++)i.push(Yg(t[s],e));return new Bb(i)}}Xh(x_,"decodeKeybinding");function Yg(t,e){const i=!!(t&2048),s=!!(t&256),n=e===ks.Macintosh?s:i,o=!!(t&1024),r=!!(t&512),a=e===ks.Macintosh?i:s,l=t&255;return new l1(n,o,r,a,l)}Xh(Yg,"createSimpleKeybinding");class l1{constructor(e,i,s,n,o){this.ctrlKey=e,this.shiftKey=i,this.altKey=s,this.metaKey=n,this.keyCode=o}static{Xh(this,"KeyCodeChord")}equals(e){return e instanceof l1&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.keyCode===e.keyCode}getHashCode(){const e=this.ctrlKey?"1":"0",i=this.shiftKey?"1":"0",s=this.altKey?"1":"0",n=this.metaKey?"1":"0";return`K${e}${i}${s}${n}${this.keyCode}`}isModifierKey(){return this.keyCode===D.Unknown||this.keyCode===D.Ctrl||this.keyCode===D.Meta||this.keyCode===D.Alt||this.keyCode===D.Shift}toKeybinding(){return new Bb([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===D.Ctrl||this.shiftKey&&this.keyCode===D.Shift||this.altKey&&this.keyCode===D.Alt||this.metaKey&&this.keyCode===D.Meta}}class $x{constructor(e,i,s,n,o){this.ctrlKey=e,this.shiftKey=i,this.altKey=s,this.metaKey=n,this.scanCode=o}static{Xh(this,"ScanCodeChord")}equals(e){return e instanceof $x&&this.ctrlKey===e.ctrlKey&&this.shiftKey===e.shiftKey&&this.altKey===e.altKey&&this.metaKey===e.metaKey&&this.scanCode===e.scanCode}getHashCode(){const e=this.ctrlKey?"1":"0",i=this.shiftKey?"1":"0",s=this.altKey?"1":"0",n=this.metaKey?"1":"0";return`S${e}${i}${s}${n}${this.scanCode}`}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===kr.ControlLeft||this.scanCode===kr.ControlRight)||this.shiftKey&&(this.scanCode===kr.ShiftLeft||this.scanCode===kr.ShiftRight)||this.altKey&&(this.scanCode===kr.AltLeft||this.scanCode===kr.AltRight)||this.metaKey&&(this.scanCode===kr.MetaLeft||this.scanCode===kr.MetaRight)}}class Bb{static{Xh(this,"Keybinding")}chords;constructor(e){if(e.length===0)throw Yw("chords");this.chords=e}getHashCode(){let e="";for(let i=0,s=this.chords.length;i<s;i++)i!==0&&(e+=";"),e+=this.chords[i].getHashCode();return e}equals(e){if(e===null||this.chords.length!==e.chords.length)return!1;for(let i=0;i<this.chords.length;i++)if(!this.chords[i].equals(e.chords[i]))return!1;return!0}}class Rne{constructor(e,i,s,n,o,r){this.ctrlKey=e,this.shiftKey=i,this.altKey=s,this.metaKey=n,this.keyLabel=o,this.keyAriaLabel=r}static{Xh(this,"ResolvedChord")}}class Nne{static{Xh(this,"ResolvedKeybinding")}}var GF=Object.defineProperty,c1=(t,e)=>GF(t,"name",{value:e,configurable:!0});function Kx(t){if(t.charCode){const i=String.fromCharCode(t.charCode).toUpperCase();return tp.fromString(i)}const e=t.keyCode;if(e===3)return D.PauseBreak;if(Ah)switch(e){case 59:return D.Semicolon;case 60:if(Ni)return D.IntlBackslash;break;case 61:return D.Equal;case 107:return D.NumpadAdd;case 109:return D.NumpadSubtract;case 173:return D.Minus;case 224:if(He)return D.Meta;break}else if(Ib){if(He&&e===93)return D.Meta;if(!He&&e===92)return D.Meta}return Px[e]||D.Unknown}c1(Kx,"extractKeyCode");const jF=He?Ze.WinCtrl:Ze.CtrlCmd,qF=Ze.Alt,YF=Ze.Shift,XF=He?Ze.CtrlCmd:Ze.WinCtrl;function ZF(t){const e=[];return t.ctrlKey&&e.push("ctrl"),t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.metaKey&&e.push("meta"),`modifiers: [${e.join(",")}], code: ${t.code}, keyCode: ${t.keyCode}, key: ${t.key}`}c1(ZF,"printKeyboardEvent");function QF(t){const e=[];return t.ctrlKey&&e.push("ctrl"),t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.metaKey&&e.push("meta"),`modifiers: [${e.join(",")}], code: ${t.code}, keyCode: ${t.keyCode} ('${tp.toString(t.keyCode)}')`}c1(QF,"printStandardKeyboardEvent");class mt{static{c1(this,"StandardKeyboardEvent")}_standardKeyboardEventBrand=!0;browserEvent;target;ctrlKey;shiftKey;altKey;metaKey;altGraphKey;keyCode;code;_asKeybinding;_asKeyCodeChord;constructor(e){const i=e;this.browserEvent=i,this.target=i.target,this.ctrlKey=i.ctrlKey,this.shiftKey=i.shiftKey,this.altKey=i.altKey,this.metaKey=i.metaKey,this.altGraphKey=i.getModifierState?.("AltGraph"),this.keyCode=Kx(i),this.code=i.code,this.ctrlKey=this.ctrlKey||this.keyCode===D.Ctrl,this.altKey=this.altKey||this.keyCode===D.Alt,this.shiftKey=this.shiftKey||this.keyCode===D.Shift,this.metaKey=this.metaKey||this.keyCode===D.Meta,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=D.Unknown;this.keyCode!==D.Ctrl&&this.keyCode!==D.Shift&&this.keyCode!==D.Alt&&this.keyCode!==D.Meta&&(e=this.keyCode);let i=0;return this.ctrlKey&&(i|=jF),this.altKey&&(i|=qF),this.shiftKey&&(i|=YF),this.metaKey&&(i|=XF),i|=e,i}_computeKeyCodeChord(){let e=D.Unknown;return this.keyCode!==D.Ctrl&&this.keyCode!==D.Shift&&this.keyCode!==D.Alt&&this.keyCode!==D.Meta&&(e=this.keyCode),new l1(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}var JF=Object.defineProperty,h1=(t,e)=>JF(t,"name",{value:e,configurable:!0});const aI=new WeakMap;function Gx(t){if(!t.parent||t.parent===t)return null;try{const e=t.location,i=t.parent.location;if(e.origin!=="null"&&i.origin!=="null"&&e.origin!==i.origin)return null}catch{return null}return t.parent}h1(Gx,"getParentWindowIfSameOrigin");class e3{static{h1(this,"IframeUtils")}static getSameOriginWindowChain(e){let i=aI.get(e);if(!i){i=[],aI.set(e,i);let s=e,n;do n=Gx(s),n?i.push({window:new WeakRef(s),iframeElement:s.frameElement||null}):i.push({window:new WeakRef(s),iframeElement:null}),s=n;while(s)}return i.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,i){if(!i||e===i)return{top:0,left:0};let s=0,n=0;const o=this.getSameOriginWindowChain(e);for(const r of o){const a=r.window.deref();if(s+=a?.scrollY??0,n+=a?.scrollX??0,a===i||!r.iframeElement)break;const l=r.iframeElement.getBoundingClientRect();s+=l.top,n+=l.left}return{top:s,left:n}}}async function t3(t,e){if(!crypto.subtle)throw new Error("'crypto.subtle' is not available so webviews will not work. This is likely because the editor is not running in a secure context (https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts).");const i=JSON.stringify({parentOrigin:t,salt:e}),n=new TextEncoder().encode(i),o=await crypto.subtle.digest("sha-256",n);return jx(o)}h1(t3,"parentOriginHash");function jx(t){const i=Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("");return BigInt(`0x${i}`).toString(32).padStart(52,"0")}h1(jx,"sha256AsBase32");var i3=Object.defineProperty,vC=(t,e)=>i3(t,"name",{value:e,configurable:!0});class qi{static{vC(this,"StandardMouseEvent")}browserEvent;leftButton;middleButton;rightButton;buttons;target;detail;posx;posy;ctrlKey;shiftKey;altKey;metaKey;timestamp;constructor(e,i){this.timestamp=Date.now(),this.browserEvent=i,this.leftButton=i.button===0,this.middleButton=i.button===1,this.rightButton=i.button===2,this.buttons=i.buttons,this.target=i.target,this.detail=i.detail||1,i.type==="dblclick"&&(this.detail=2),this.ctrlKey=i.ctrlKey,this.shiftKey=i.shiftKey,this.altKey=i.altKey,this.metaKey=i.metaKey,typeof i.pageX=="number"?(this.posx=i.pageX,this.posy=i.pageY):(this.posx=i.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=i.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const s=e3.getPositionOfChildWindowRelativeToAncestorWindow(e,i.view);this.posx-=s.left,this.posy-=s.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class One extends qi{static{vC(this,"DragMouseEvent")}dataTransfer;constructor(e,i){super(e,i),this.dataTransfer=i.dataTransfer}}class Au{static{vC(this,"StandardWheelEvent")}browserEvent;deltaY;deltaX;target;constructor(e,i=0,s=0){this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=s,this.deltaX=i;let n=!1;if(Zw){const o=navigator.userAgent.match(/Chrome\/(\d+)/);n=(o?Number.parseInt(o[1]):123)<=122}if(e){const o=e,r=e,a=e.view?.devicePixelRatio||1;if(typeof o.wheelDeltaY<"u")n?this.deltaY=o.wheelDeltaY/(120*a):this.deltaY=o.wheelDeltaY/120;else if(typeof r.VERTICAL_AXIS<"u"&&r.axis===r.VERTICAL_AXIS)this.deltaY=-r.detail/3;else if(e.type==="wheel"){const l=e;l.deltaMode===l.DOM_DELTA_LINE?Ah&&!He?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(typeof o.wheelDeltaX<"u")$p&&Lt?this.deltaX=-(o.wheelDeltaX/120):n?this.deltaX=o.wheelDeltaX/(120*a):this.deltaX=o.wheelDeltaX/120;else if(typeof r.HORIZONTAL_AXIS<"u"&&r.axis===r.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if(e.type==="wheel"){const l=e;l.deltaMode===l.DOM_DELTA_LINE?Ah&&!He?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}this.deltaY===0&&this.deltaX===0&&e.wheelDelta&&(n?this.deltaY=e.wheelDelta/(120*a):this.deltaY=e.wheelDelta/120)}}preventDefault(){this.browserEvent?.preventDefault()}stopPropagation(){this.browserEvent?.stopPropagation()}}var s3=Object.defineProperty,K=(t,e)=>s3(t,"name",{value:e,configurable:!0});const{registerWindow:n3,getWindow:be,getDocument:Bne,getWindows:ip,getWindowsCount:L_,getWindowId:ph,getWindowById:o3,hasWindow:Mne,onDidRegisterWindow:d1,onWillUnregisterWindow:Fne,onDidUnregisterWindow:r3}=(()=>{const t=new Map;jS(Q,1);const e={window:Q,disposables:new Z};t.set(Q.vscodeWindowId,e);const i=new I,s=new I,n=new I;function o(r,a){return(typeof r=="number"?t.get(r):void 0)??(a?e:void 0)}return K(o,"getWindowById"),{onDidRegisterWindow:i.event,onWillUnregisterWindow:n.event,onDidUnregisterWindow:s.event,registerWindow(r){if(t.has(r.vscodeWindowId))return q.None;const a=new Z,l={window:r,disposables:a.add(new Z)};return t.set(r.vscodeWindowId,l),a.add(Se(()=>{t.delete(r.vscodeWindowId),s.fire(r)})),a.add(N(r,U.BEFORE_UNLOAD,()=>{n.fire(r)})),i.fire(l),a},getWindows(){return t.values()},getWindowsCount(){return t.size},getWindowId(r){return r.vscodeWindowId},hasWindow(r){return t.has(r)},getWindowById:o,getWindow(r){const a=r;if(a?.ownerDocument?.defaultView)return a.ownerDocument.defaultView.window;const l=r;return l?.view?l.view.window:Q},getDocument(r){return be(r).document}}})();function ds(t){for(;t.firstChild;)t.firstChild.remove()}K(ds,"clearNode");class a3{static{K(this,"DomListener")}_handler;_node;_type;_options;constructor(e,i,s,n){this._node=e,this._type=i,this._handler=s,this._options=n||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function N(t,e,i,s){return new a3(t,e,i,s)}K(N,"addDisposableListener");function qx(t,e){return i=>e(new qi(t,i))}K(qx,"_wrapAsStandardMouseEvent");function Yx(t){return e=>t(new mt(e))}K(Yx,"_wrapAsStandardKeyboardEvent");const Dn=K(function(e,i,s,n){let o=s;return i==="click"||i==="mousedown"||i==="contextmenu"?o=qx(be(e),s):(i==="keydown"||i==="keypress"||i==="keyup")&&(o=Yx(s)),N(e,i,o,n)},"addStandardDisposableListener");function l3(t,e,i){return N(t,No&&qp.pointerEvents?U.POINTER_DOWN:U.MOUSE_DOWN,e,i)}K(l3,"addDisposableGenericMouseDownListener");function c3(t,e,i){return N(t,No&&qp.pointerEvents?U.POINTER_MOVE:U.MOUSE_MOVE,e,i)}K(c3,"addDisposableGenericMouseMoveListener");function h3(t,e,i){return N(t,No&&qp.pointerEvents?U.POINTER_UP:U.MOUSE_UP,e,i)}K(h3,"addDisposableGenericMouseUpListener");function wC(t,e,i){return mf(t,e,i)}K(wC,"runWhenWindowIdle");class Vne extends Ix{static{K(this,"WindowIdleValue")}constructor(e,i){super(e,i)}}let no;function d3(t,e,i,s){let n=0;const o=t.setInterval(()=>{n++,(typeof s=="number"&&n>=s||e()===!0)&&r.dispose()},i),r=Se(()=>{t.clearInterval(o)});return r}K(d3,"disposableWindowInterval");class u3 extends gF{static{K(this,"WindowIntervalTimer")}defaultTarget;constructor(e){super(),this.defaultTarget=e&&be(e)}cancelAndSet(e,i,s){return super.cancelAndSet(e,i,s??this.defaultTarget)}}class lI{static{K(this,"AnimationFrameQueueItem")}_runner;priority;_canceled;constructor(e,i=0){this._runner=e,this.priority=i,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(e){ss(e)}}static sort(e,i){return i.priority-e.priority}}(()=>{const t=new Map,e=new Map,i=new Map,s=new Map,n=K(o=>{i.set(o,!1);const r=t.get(o)??[];for(e.set(o,r),t.set(o,[]),s.set(o,!0);r.length>0;)r.sort(lI.sort),r.shift().execute();s.set(o,!1)},"animationFrameRunner");no=K((o,r,a=0)=>{const l=ph(o),h=new lI(r,a);let d=t.get(l);return d||(d=[],t.set(l,d)),d.push(h),i.get(l)||(i.set(l,!0),o.requestAnimationFrame(()=>n(l))),h},"scheduleAtNextAnimationFrame")})();function g3(t,e){return no(t,e,1e4)}K(g3,"measure");function f3(t,e){return no(t,e,-1e4)}K(f3,"modify");const p3=8,m3=K((t,e)=>e,"DEFAULT_EVENT_MERGER");class b3 extends q{static{K(this,"TimeoutThrottledDomListener")}constructor(e,i,s,n=m3,o=p3){super();let r=null,a=0;const l=this._register(new r1),h=K(()=>{a=new Date().getTime(),s(r),r=null},"invokeHandler");this._register(N(e,i,d=>{r=n(r,d);const u=new Date().getTime()-a;u>=o?(l.cancel(),h()):l.setIfNotSet(h,o-u)}))}}function v3(t,e,i,s,n){return new b3(t,e,i,s,n)}K(v3,"addDisposableThrottledListener");function u1(t){return be(t).getComputedStyle(t,null)}K(u1,"getComputedStyle");function kh(t,e){const i=be(t),s=i.document;if(t!==s.body)return new Vt(t.clientWidth,t.clientHeight);if(No&&i?.visualViewport)return new Vt(i.visualViewport.width,i.visualViewport.height);if(i?.innerWidth&&i.innerHeight)return new Vt(i.innerWidth,i.innerHeight);if(s.body&&s.body.clientWidth&&s.body.clientHeight)return new Vt(s.body.clientWidth,s.body.clientHeight);if(s.documentElement&&s.documentElement.clientWidth&&s.documentElement.clientHeight)return new Vt(s.documentElement.clientWidth,s.documentElement.clientHeight);if(e)return kh(e);throw new Error("Unable to figure out browser width and height")}K(kh,"getClientArea");class Yt{static{K(this,"SizeUtils")}static convertToPixels(e,i){return Number.parseFloat(i)||0}static getDimension(e,i,s){const n=u1(e),o=n?n.getPropertyValue(i):"0";return Yt.convertToPixels(e,o)}static getBorderLeftWidth(e){return Yt.getDimension(e,"border-left-width","borderLeftWidth")}static getBorderRightWidth(e){return Yt.getDimension(e,"border-right-width","borderRightWidth")}static getBorderTopWidth(e){return Yt.getDimension(e,"border-top-width","borderTopWidth")}static getBorderBottomWidth(e){return Yt.getDimension(e,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(e){return Yt.getDimension(e,"padding-left","paddingLeft")}static getPaddingRight(e){return Yt.getDimension(e,"padding-right","paddingRight")}static getPaddingTop(e){return Yt.getDimension(e,"padding-top","paddingTop")}static getPaddingBottom(e){return Yt.getDimension(e,"padding-bottom","paddingBottom")}static getMarginLeft(e){return Yt.getDimension(e,"margin-left","marginLeft")}static getMarginTop(e){return Yt.getDimension(e,"margin-top","marginTop")}static getMarginRight(e){return Yt.getDimension(e,"margin-right","marginRight")}static getMarginBottom(e){return Yt.getDimension(e,"margin-bottom","marginBottom")}}class Vt{constructor(e,i){this.width=e,this.height=i}static{K(this,"Dimension")}static None=new Vt(0,0);with(e=this.width,i=this.height){return e!==this.width||i!==this.height?new Vt(e,i):this}static is(e){return typeof e=="object"&&typeof e.height=="number"&&typeof e.width=="number"}static lift(e){return e instanceof Vt?e:new Vt(e.width,e.height)}static equals(e,i){return e===i?!0:!e||!i?!1:e.width===i.width&&e.height===i.height}}function Eu(t){let e=t.offsetParent,i=t.offsetTop,s=t.offsetLeft;for(;(t=t.parentNode)!==null&&t!==t.ownerDocument.body&&t!==t.ownerDocument.documentElement;){i-=t.scrollTop;const n=DC(t)?null:u1(t);n&&(s-=n.direction!=="rtl"?t.scrollLeft:-t.scrollLeft),t===e&&(s+=Yt.getBorderLeftWidth(t),i+=Yt.getBorderTopWidth(t),i+=t.offsetTop,s+=t.offsetLeft,e=t.offsetParent)}return{left:s,top:i}}K(Eu,"getTopLeftOffset");function yC(t,e,i){typeof e=="number"&&(t.style.width=`${e}px`),typeof i=="number"&&(t.style.height=`${i}px`)}K(yC,"size");function _C(t,e,i,s,n,o="absolute"){typeof e=="number"&&(t.style.top=`${e}px`),typeof i=="number"&&(t.style.right=`${i}px`),typeof s=="number"&&(t.style.bottom=`${s}px`),typeof n=="number"&&(t.style.left=`${n}px`),t.style.position=o}K(_C,"position");function Ul(t){const e=t.getBoundingClientRect(),i=be(t);return{left:e.left+i.scrollX,top:e.top+i.scrollY,width:e.width,height:e.height}}K(Ul,"getDomNodePagePosition");function SC(t){let e=t,i=1;do{const s=u1(e).zoom;s!=null&&s!=="1"&&(i*=s),e=e.parentElement}while(e!==null&&e!==e.ownerDocument.documentElement);return i}K(SC,"getDomNodeZoomLevel");function Iu(t){const e=Yt.getMarginLeft(t)+Yt.getMarginRight(t);return t.offsetWidth+e}K(Iu,"getTotalWidth");function bf(t){const e=Yt.getBorderLeftWidth(t)+Yt.getBorderRightWidth(t),i=Yt.getPaddingLeft(t)+Yt.getPaddingRight(t);return t.offsetWidth-e-i}K(bf,"getContentWidth");function Xx(t){const e=Yt.getMarginLeft(t)+Yt.getMarginRight(t);return t.scrollWidth+e}K(Xx,"getTotalScrollWidth");function CC(t){const e=Yt.getBorderTopWidth(t)+Yt.getBorderBottomWidth(t),i=Yt.getPaddingTop(t)+Yt.getPaddingBottom(t);return t.offsetHeight-e-i}K(CC,"getContentHeight");function xv(t){const e=Yt.getMarginTop(t)+Yt.getMarginBottom(t);return t.offsetHeight+e}K(xv,"getTotalHeight");function Zx(t,e){if(t===null)return 0;const i=Eu(t),s=Eu(e);return i.left-s.left}K(Zx,"getRelativeLeft");function w3(t,e){const i=e.map(n=>Math.max(Xx(n),Iu(n))+Zx(n,t)||0);return Math.max(...i)}K(w3,"getLargestChildWidth");function hs(t,e){return!!e?.contains(t)}K(hs,"isAncestor");const Qx="parentFlowToElementId";function y3(t,e){t.dataset[Qx]=e.id}K(y3,"setParentFlowTo");function Jx(t){const e=t.dataset[Qx];return typeof e=="string"?t.ownerDocument.getElementById(e):null}K(Jx,"getParentFlowToElement");function eL(t,e){let i=t;for(;i;){if(i===e)return!0;if(ns(i)){const s=Jx(i);if(s){i=s;continue}}i=i.parentNode}return!1}K(eL,"isAncestorUsingFlowTo");function tL(t,e,i){for(;t&&t.nodeType===t.ELEMENT_NODE;){if(t.classList.contains(e))return t;if(i){if(typeof i=="string"){if(t.classList.contains(i))return null}else if(t===i)return null}t=t.parentNode}return null}K(tL,"findParentWithClass");function Mb(t,e,i){return!!tL(t,e,i)}K(Mb,"hasParentWithClass");function DC(t){return t&&!!t.host&&!!t.mode}K(DC,"isShadowRoot");function P_(t){return!!AC(t)}K(P_,"isInShadowDOM");function AC(t){for(;t.parentNode;){if(t===t.ownerDocument?.body)return null;t=t.parentNode}return DC(t)?t:null}K(AC,"getShadowRoot");function Lo(){let t=tg().activeElement;for(;t?.shadowRoot;)t=t.shadowRoot.activeElement;return t}K(Lo,"getActiveElement");function na(t){return Lo()===t}K(na,"isActiveElement");function xh(t){return hs(Lo(),t)}K(xh,"isAncestorOfActiveElement");function iL(t){return t.ownerDocument===tg()}K(iL,"isActiveDocument");function tg(){return L_()<=1?Q.document:Array.from(ip()).map(({window:e})=>e.document).find(e=>e.hasFocus())??Q.document}K(tg,"getActiveDocument");function nr(){return tg().defaultView?.window??Q}K(nr,"getActiveWindow");const Yp=new Map;function sL(t){return Yp.has(t)}K(sL,"isGlobalStylesheet");function _3(){return new S3}K(_3,"createStyleSheet2");class S3{static{K(this,"WrappedStyleElement")}_currentCssStyle="";_styleSheet=void 0;setStyle(e){e!==this._currentCssStyle&&(this._currentCssStyle=e,this._styleSheet?this._styleSheet.innerText=e:this._styleSheet=cr(Q.document.head,i=>i.innerText=e))}dispose(){this._styleSheet&&(this._styleSheet.remove(),this._styleSheet=void 0)}}function cr(t=Q.document.head,e,i){const s=document.createElement("style");if(s.type="text/css",s.media="screen",e?.(s),t.appendChild(s),i&&i.add(Se(()=>s.remove())),t===Q.document.head){const n=new Set;Yp.set(s,n);for(const{window:o,disposables:r}of ip()){if(o===Q)continue;const a=r.add(EC(s,n,o));i?.add(a)}}return s}K(cr,"createStyleSheet");function nL(t){const e=new Z;for(const[i,s]of Yp)e.add(EC(i,s,t));return e}K(nL,"cloneGlobalStylesheets");function EC(t,e,i){const s=new Z,n=t.cloneNode(!0);i.document.head.appendChild(n),s.add(Se(()=>n.remove()));for(const o of LC(t))n.sheet?.insertRule(o.cssText,n.sheet?.cssRules.length);return s.add(IC.observe(t,s,{childList:!0})(()=>{n.textContent=t.textContent})),e.add(n),s.add(Se(()=>e.delete(n))),s}K(EC,"cloneGlobalStyleSheet");const IC=new class{mutationObservers=new Map;observe(t,e,i){let s=this.mutationObservers.get(t);s||(s=new Map,this.mutationObservers.set(t,s));const n=Th(i);let o=s.get(n);if(o)o.users+=1;else{const r=new I,a=new MutationObserver(h=>r.fire(h));a.observe(t,i);const l=o={users:1,observer:a,onDidMutate:r.event};e.add(Se(()=>{l.users-=1,l.users===0&&(r.dispose(),a.disconnect(),s?.delete(n),s?.size===0&&this.mutationObservers.delete(t))})),s.set(n,o)}return o.onDidMutate}};function TC(t=Q.document.head){return kC("meta",t)}K(TC,"createMetaElement");function oL(t=Q.document.head){return kC("link",t)}K(oL,"createLinkElement");function kC(t,e=Q.document.head){const i=document.createElement(t);return e.appendChild(i),i}K(kC,"createHeadElement");let Ny=null;function xC(){return Ny||(Ny=cr()),Ny}K(xC,"getSharedStyleSheet");function LC(t){return t?.sheet?.rules?t.sheet.rules:t?.sheet?.cssRules?t.sheet.cssRules:[]}K(LC,"getDynamicStyleSheetRules");function g1(t,e,i=xC()){if(!(!i||!e)){i.sheet?.insertRule(`${t} {${e}}`,0);for(const s of Yp.get(i)??[])g1(t,e,s)}}K(g1,"createCSSRule");function rL(t,e=xC()){if(!e)return;const i=LC(e),s=[];for(let n=0;n<i.length;n++){const o=i[n];aL(o)&&o.selectorText.indexOf(t)!==-1&&s.push(n)}for(let n=s.length-1;n>=0;n--)e.sheet?.deleteRule(s[n]);for(const n of Yp.get(e)??[])rL(t,n)}K(rL,"removeCSSRulesContainingSelector");function aL(t){return typeof t.selectorText=="string"}K(aL,"isCSSStyleRule");function ns(t){return t instanceof HTMLElement||t instanceof be(t).HTMLElement}K(ns,"isHTMLElement");function C3(t){return t instanceof HTMLAnchorElement||t instanceof be(t).HTMLAnchorElement}K(C3,"isHTMLAnchorElement");function D3(t){return t instanceof HTMLSpanElement||t instanceof be(t).HTMLSpanElement}K(D3,"isHTMLSpanElement");function A3(t){return t instanceof HTMLTextAreaElement||t instanceof be(t).HTMLTextAreaElement}K(A3,"isHTMLTextAreaElement");function E3(t){return t instanceof HTMLInputElement||t instanceof be(t).HTMLInputElement}K(E3,"isHTMLInputElement");function I3(t){return t instanceof HTMLButtonElement||t instanceof be(t).HTMLButtonElement}K(I3,"isHTMLButtonElement");function T3(t){return t instanceof HTMLDivElement||t instanceof be(t).HTMLDivElement}K(T3,"isHTMLDivElement");function lL(t){return t instanceof SVGElement||t instanceof be(t).SVGElement}K(lL,"isSVGElement");function f1(t){return t instanceof MouseEvent||t instanceof be(t).MouseEvent}K(f1,"isMouseEvent");function Aa(t){return t instanceof KeyboardEvent||t instanceof be(t).KeyboardEvent}K(Aa,"isKeyboardEvent");function k3(t){return t instanceof PointerEvent||t instanceof be(t).PointerEvent}K(k3,"isPointerEvent");function x3(t){return t instanceof DragEvent||t instanceof be(t).DragEvent}K(x3,"isDragEvent");const U={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:Ib?"webkitAnimationStart":"animationstart",ANIMATION_END:Ib?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:Ib?"webkitAnimationIteration":"animationiteration"};function cL(t){const e=t;return!!(e&&typeof e.preventDefault=="function"&&typeof e.stopPropagation=="function")}K(cL,"isEventLike");const xe={stop:K((t,e)=>(t.preventDefault(),e&&t.stopPropagation(),t),"stop")};function L3(t){const e=[];for(let i=0;t&&t.nodeType===t.ELEMENT_NODE;i++)e[i]=t.scrollTop,t=t.parentNode;return e}K(L3,"saveParentsScrollTop");function P3(t,e){for(let i=0;t&&t.nodeType===t.ELEMENT_NODE;i++)t.scrollTop!==e[i]&&(t.scrollTop=e[i]),t=t.parentNode}K(P3,"restoreParentsScrollTop");class Lv extends q{static{K(this,"FocusTracker")}_onDidFocus=this._register(new I);onDidFocus=this._onDidFocus.event;_onDidBlur=this._register(new I);onDidBlur=this._onDidBlur.event;_refreshStateHandler;static hasFocusWithin(e){if(ns(e)){const i=AC(e),s=i?i.activeElement:e.ownerDocument.activeElement;return hs(s,e)}else{const i=e;return hs(i.document.activeElement,i.document)}}constructor(e){super();let i=Lv.hasFocusWithin(e),s=!1;const n=K(()=>{s=!1,i||(i=!0,this._onDidFocus.fire())},"onFocus"),o=K(()=>{i&&(s=!0,(ns(e)?be(e):e).setTimeout(()=>{s&&(s=!1,i=!1,this._onDidBlur.fire())},0))},"onBlur");this._refreshStateHandler=()=>{Lv.hasFocusWithin(e)!==i&&(i?o():n())},this._register(N(e,U.FOCUS,n,!0)),this._register(N(e,U.BLUR,o,!0)),ns(e)&&(this._register(N(e,U.FOCUS_IN,()=>this._refreshStateHandler())),this._register(N(e,U.FOCUS_OUT,()=>this._refreshStateHandler())))}refreshState(){this._refreshStateHandler()}}function oa(t){return new Lv(t)}K(oa,"trackFocus");function hL(t,e){return t.after(e),e}K(hL,"after");function we(t,...e){if(t.append(...e),e.length===1&&typeof e[0]!="string")return e[0]}K(we,"append");function p1(t,e){return t.insertBefore(e,t.firstChild),e}K(p1,"prepend");function Zl(t,...e){t.innerText="",we(t,...e)}K(Zl,"reset");const R3=/([\w-]+)?(#([\w-]+))?((\.([\w-]+))*)/;function PC(t,e,i,...s){const n=R3.exec(e);if(!n)throw new Error("Bad use of emmet");const o=n[1]||"div";let r;return t!=="http://www.w3.org/1999/xhtml"?r=document.createElementNS(t,o):r=document.createElement(o),n[3]&&(r.id=n[3]),n[4]&&(r.className=n[4].replace(/\./g," ").trim()),i&&Object.entries(i).forEach(([a,l])=>{typeof l>"u"||(/^on\w+$/.test(a)?r[a]=l:a==="selected"?l&&r.setAttribute(a,"true"):r.setAttribute(a,l))}),r.append(...s),r}K(PC,"_$");function de(t,e,...i){return PC("http://www.w3.org/1999/xhtml",t,e,...i)}K(de,"$");de.SVG=(t,e,...i)=>PC("http://www.w3.org/2000/svg",t,e,...i);function N3(t,e){const i=[];return t.forEach((s,n)=>{n>0&&(e instanceof Node?i.push(e.cloneNode()):i.push(document.createTextNode(e))),i.push(s)}),i}K(N3,"join");function O3(t,...e){t?Wr(...e):Qa(...e)}K(O3,"setVisibility");function Wr(...t){for(const e of t)e.style.display="",e.removeAttribute("aria-hidden")}K(Wr,"show");function Qa(...t){for(const e of t)e.style.display="none",e.setAttribute("aria-hidden","true")}K(Qa,"hide");function dL(t,e){for(;t&&t.nodeType===t.ELEMENT_NODE;){if(ns(t)&&t.hasAttribute(e))return t;t=t.parentNode}return null}K(dL,"findParentWithAttribute");function B3(t){!t||!t.hasAttribute("tabIndex")||(t.ownerDocument.activeElement===t&&dL(t.parentElement,"tabIndex")?.focus(),t.removeAttribute("tabindex"))}K(B3,"removeTabIndexAndUpdateFocus");function M3(t){return e=>{e.preventDefault(),e.stopPropagation(),t(e)}}K(M3,"finalHandler");function F3(t){return new Promise(e=>{if(t.document.readyState==="complete"||t.document&&t.document.body!==null)e(void 0);else{const s=K(()=>{t.window.removeEventListener("DOMContentLoaded",s,!1),e()},"listener");t.window.addEventListener("DOMContentLoaded",s,!1)}})}K(F3,"domContentLoaded");function R_(t,e){const i=t.devicePixelRatio*e;return Math.max(1,Math.floor(i))/t.devicePixelRatio}K(R_,"computeScreenAwareSize");function N_(t){Q.open(t,"_blank","noopener")}K(N_,"windowOpenNoOpener");const cI=780,hI=640;function O_(t){const e=Math.floor(Q.screenLeft+Q.innerWidth/2-cI/2),i=Math.floor(Q.screenTop+Q.innerHeight/2-hI/2);Q.open(t,"_blank",`width=${cI},height=${hI},top=${i},left=${e}`)}K(O_,"windowOpenPopup");function uL(t,e=!0){const i=Q.open();return i?(e&&(i.opener=null),i.location.href=t,!0):!1}K(uL,"windowOpenWithSuccess");function gL(t,e){const i=K(()=>{e(),s=no(t,i)},"step");let s=no(t,i);return Se(()=>s.dispose())}K(gL,"animate");bx.setPreferredWebSchema(/^https:/.test(Q.location.href)?"https":"http");function nc(t){return t?`url('${Cu.uriToBrowserUri(t).toString(!0).replace(/'/g,"%27")}')`:"url('')"}K(nc,"asCSSUrl");function V3(t){return`'${t.replace(/'/g,"%27")}'`}K(V3,"asCSSPropertyValue");function or(t,e){if(t!==void 0){const i=t.match(/^\s*var\((.+)\)$/);if(i){const s=i[1].split(",",2);return s.length===2&&(e=or(s[1].trim(),e)),`var(${s[0]}, ${e})`}return t}return e}K(or,"asCssValueWithDefault");function H3(t,e){let i;if(j.isUri(t))i=t.toString(!0);else{const o=new Blob([t]);i=URL.createObjectURL(o),setTimeout(()=>URL.revokeObjectURL(i))}const s=nr(),n=document.createElement("a");s.document.body.appendChild(n),n.download=e,n.href=i,n.click(),setTimeout(()=>n.remove())}K(H3,"triggerDownload");function W3(){return new Promise(t=>{const e=nr(),i=document.createElement("input");e.document.body.appendChild(i),i.type="file",i.multiple=!0,R.once(R.fromDOMEventEmitter(i,"input"))(()=>{t(i.files??void 0)}),i.click(),setTimeout(()=>i.remove())})}K(W3,"triggerUpload");function U3(t){return t.document.fullscreenElement||t.document.webkitFullscreenElement||t.document.webkitIsFullScreen?{mode:1,guess:!1}:t.innerHeight===t.screen.height?{mode:2,guess:!1}:(He||Ni)&&t.outerHeight===t.screen.height&&t.outerWidth===t.screen.width?{mode:2,guess:!0}:null}K(U3,"detectFullscreen");function RC(t,e=!1){const i=document.createElement("a");return Ux("afterSanitizeAttributes",s=>{for(const n of["href","src"])if(s.hasAttribute(n)){const o=s.getAttribute(n);if(n==="href"&&o.startsWith("#"))continue;if(i.href=o,!t.includes(i.protocol.replace(/:$/,""))){if(e&&n==="src"&&i.href.startsWith("data:"))continue;s.removeAttribute(n)}}}),Se(()=>{zx("afterSanitizeAttributes")})}K(RC,"hookDomPurifyHrefAndSrcSanitizer");const z3=[Ue.http,Ue.https,Ue.command],$3=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]),K3=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});function G3(t,e,i){const s=RC(z3);try{const n=bC(e,{...K3,...i});t.innerHTML=n}finally{s.dispose()}}K(G3,"safeInnerHtml");function fL(t){const e=new Uint16Array(t.length);for(let n=0;n<e.length;n++)e[n]=t.charCodeAt(n);let i="";const s=new Uint8Array(e.buffer);for(let n=0;n<s.length;n++)i+=String.fromCharCode(s[n]);return i}K(fL,"toBinary");function j3(t){return btoa(fL(t))}K(j3,"multibyteAwareBtoa");class La extends I{static{K(this,"ModifierKeyEmitter")}_subscriptions=new Z;_keyStatus;static instance;constructor(){super(),this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(R.runAndSubscribe(d1,({window:e,disposables:i})=>this.registerListeners(e,i),{window:Q,disposables:this._subscriptions}))}registerListeners(e,i){i.add(N(e,"keydown",s=>{if(s.defaultPrevented)return;const n=new mt(s);if(!(n.keyCode===D.Alt&&s.repeat)){if(s.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(s.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(s.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(s.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(n.keyCode!==D.Alt)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=s.altKey,this._keyStatus.ctrlKey=s.ctrlKey,this._keyStatus.metaKey=s.metaKey,this._keyStatus.shiftKey=s.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=s,this.fire(this._keyStatus))}},!0)),i.add(N(e,"keyup",s=>{s.defaultPrevented||(!s.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!s.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!s.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!s.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=s.altKey,this._keyStatus.ctrlKey=s.ctrlKey,this._keyStatus.metaKey=s.metaKey,this._keyStatus.shiftKey=s.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=s,this.fire(this._keyStatus)))},!0)),i.add(N(e.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),i.add(N(e.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),i.add(N(e.document.body,"mousemove",s=>{s.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),i.add(N(e,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}get isModifierPressed(){return this._keyStatus.altKey||this._keyStatus.ctrlKey||this._keyStatus.metaKey||this._keyStatus.shiftKey}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return La.instance||(La.instance=new La),La.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}function q3(t){const e=document.cookie.match("(^|[^;]+)\\s*"+t+"\\s*=\\s*([^;]+)");return e?e.pop():void 0}K(q3,"getCookieValue");class B_ extends q{constructor(e,i){super(),this.element=e,this.callbacks=i,this.registerListeners()}static{K(this,"DragAndDropObserver")}counter=0;dragStartTime=0;registerListeners(){this.callbacks.onDragStart&&this._register(N(this.element,U.DRAG_START,e=>{this.callbacks.onDragStart?.(e)})),this.callbacks.onDrag&&this._register(N(this.element,U.DRAG,e=>{this.callbacks.onDrag?.(e)})),this._register(N(this.element,U.DRAG_ENTER,e=>{this.counter++,this.dragStartTime=e.timeStamp,this.callbacks.onDragEnter?.(e)})),this._register(N(this.element,U.DRAG_OVER,e=>{e.preventDefault(),this.callbacks.onDragOver?.(e,e.timeStamp-this.dragStartTime)})),this._register(N(this.element,U.DRAG_LEAVE,e=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave?.(e))})),this._register(N(this.element,U.DRAG_END,e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd?.(e)})),this._register(N(this.element,U.DROP,e=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop?.(e)}))}}const pL=/(?<tag>[\w-]+)?(?:#(?<id>[\w-]+))?(?<class>(?:\.(?:[\w-]+))*)(?:@(?<name>(?:[\w_])+))?/;function th(t,...e){let i,s;Array.isArray(e[0])?(i={},s=e[0]):(i=e[0]||{},s=e[1]);const n=pL.exec(t);if(!n||!n.groups)throw new Error("Bad use of h");const o=n.groups.tag||"div",r=document.createElement(o);n.groups.id&&(r.id=n.groups.id);const a=[];if(n.groups.class)for(const h of n.groups.class.split("."))h!==""&&a.push(h);if(i.className!==void 0)for(const h of i.className.split("."))h!==""&&a.push(h);a.length>0&&(r.className=a.join(" "));const l={};if(n.groups.name&&(l[n.groups.name]=r),s)for(const h of s)ns(h)?r.appendChild(h):typeof h=="string"?r.append(h):"root"in h&&(Object.assign(l,h),r.appendChild(h.root));for(const[h,d]of Object.entries(i))if(h!=="className")if(h==="style")for(const[u,g]of Object.entries(d))r.style.setProperty(sp(u),typeof g=="number"?g+"px":""+g);else h==="tabIndex"?r.tabIndex=d:r.setAttribute(sp(h),d.toString());return l.root=r,l}K(th,"h");function Y3(t,...e){let i,s;Array.isArray(e[0])?(i={},s=e[0]):(i=e[0]||{},s=e[1]);const n=pL.exec(t);if(!n||!n.groups)throw new Error("Bad use of h");const o=n.groups.tag||"div",r=document.createElementNS("http://www.w3.org/2000/svg",o);n.groups.id&&(r.id=n.groups.id);const a=[];if(n.groups.class)for(const h of n.groups.class.split("."))h!==""&&a.push(h);if(i.className!==void 0)for(const h of i.className.split("."))h!==""&&a.push(h);a.length>0&&(r.className=a.join(" "));const l={};if(n.groups.name&&(l[n.groups.name]=r),s)for(const h of s)ns(h)?r.appendChild(h):typeof h=="string"?r.append(h):"root"in h&&(Object.assign(l,h),r.appendChild(h.root));for(const[h,d]of Object.entries(i))if(h!=="className")if(h==="style")for(const[u,g]of Object.entries(d))r.style.setProperty(sp(u),typeof g=="number"?g+"px":""+g);else h==="tabIndex"?r.tabIndex=d:r.setAttribute(sp(h),d.toString());return l.root=r,l}K(Y3,"svgElem");function sp(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}K(sp,"camelCaseToHyphenCase");function Pv(t,e,i){for(const{name:s,value:n}of t.attributes)(!i||i.includes(s))&&e.setAttribute(s,n)}K(Pv,"copyAttributes");function mL(t,e,i){const s=t.getAttribute(i);s?e.setAttribute(i,s):e.removeAttribute(i)}K(mL,"copyAttribute");function Fb(t,e,i){Pv(t,e,i);const s=new Z;return s.add(IC.observe(t,s,{attributes:!0,attributeFilter:i})(n=>{for(const o of n)o.type==="attributes"&&o.attributeName&&mL(t,e,o.attributeName)})),s}K(Fb,"trackAttributes");function Ur(t){return t.tagName.toLowerCase()==="input"||t.tagName.toLowerCase()==="textarea"||ns(t)&&!!t.editContext}K(Ur,"isEditableElement");class Hne{constructor(e,i,s){this.originX=e,this.originY=i;const{top:n,left:o,right:r,bottom:a}=s.getBoundingClientRect(),l=this.points;let h=0;l[h++]=o,l[h++]=n,l[h++]=r,l[h++]=n,l[h++]=o,l[h++]=a,l[h++]=r,l[h++]=a}static{K(this,"SafeTriangle")}points=new Int16Array(8);contains(e,i){const{points:s,originX:n,originY:o}=this;for(let r=0;r<4;r++){const a=2*r,l=2*((r+1)%4);if(Mx(e,i,n,o,s[a],s[a+1],s[l],s[l+1]))return!0}return!1}}var X3=Object.defineProperty,ig=(t,e)=>X3(t,"name",{value:e,configurable:!0});function Vb(t,e){if(!t)throw new Error(e?`Assertion failed (${e})`:"Assertion Failed")}ig(Vb,"ok");function bL(t,e="Unreachable"){throw new Error(e)}ig(bL,"assertNever");function Z3(t,e="unexpected state"){if(!t)throw new Ro(`Assertion Failed: ${e}`)}ig(Z3,"assert");function Q3(t){t||ss(new Ro("Soft Assertion Failed"))}ig(Q3,"softAssert");function NC(t){if(!t()){debugger;t(),ss(new Ro("Assertion Failed"))}}ig(NC,"assertFn");function J3(t,e){let i=0;for(;i<t.length-1;){const s=t[i],n=t[i+1];if(!e(s,n))return!1;i++}return!0}ig(J3,"checkAdjacentItems");var e8=Object.defineProperty,an=(t,e)=>e8(t,"name",{value:e,configurable:!0});function Ha(t,e){const i=Math.pow(10,e);return Math.round(t*i)/i}an(Ha,"roundFloat");class dt{static{an(this,"RGBA")}_rgbaBrand=void 0;r;g;b;a;constructor(e,i,s,n=1){this.r=Math.min(255,Math.max(0,e))|0,this.g=Math.min(255,Math.max(0,i))|0,this.b=Math.min(255,Math.max(0,s))|0,this.a=Ha(Math.max(Math.min(1,n),0),3)}static equals(e,i){return e.r===i.r&&e.g===i.g&&e.b===i.b&&e.a===i.a}}class Yo{static{an(this,"HSLA")}_hslaBrand=void 0;h;s;l;a;constructor(e,i,s,n){this.h=Math.max(Math.min(360,e),0)|0,this.s=Ha(Math.max(Math.min(1,i),0),3),this.l=Ha(Math.max(Math.min(1,s),0),3),this.a=Ha(Math.max(Math.min(1,n),0),3)}static equals(e,i){return e.h===i.h&&e.s===i.s&&e.l===i.l&&e.a===i.a}static fromRGBA(e){const i=e.r/255,s=e.g/255,n=e.b/255,o=e.a,r=Math.max(i,s,n),a=Math.min(i,s,n);let l=0,h=0;const d=(a+r)/2,u=r-a;if(u>0){switch(h=Math.min(d<=.5?u/(2*d):u/(2-2*d),1),r){case i:l=(s-n)/u+(s<n?6:0);break;case s:l=(n-i)/u+2;break;case n:l=(i-s)/u+4;break}l*=60,l=Math.round(l)}return new Yo(l,h,d,o)}static _hue2rgb(e,i,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(i-e)*6*s:s<1/2?i:s<2/3?e+(i-e)*(2/3-s)*6:e}static toRGBA(e){const i=e.h/360,{s,l:n,a:o}=e;let r,a,l;if(s===0)r=a=l=n;else{const h=n<.5?n*(1+s):n+s-n*s,d=2*n-h;r=Yo._hue2rgb(d,h,i+1/3),a=Yo._hue2rgb(d,h,i),l=Yo._hue2rgb(d,h,i-1/3)}return new dt(Math.round(r*255),Math.round(a*255),Math.round(l*255),o)}}class Pd{static{an(this,"HSVA")}_hsvaBrand=void 0;h;s;v;a;constructor(e,i,s,n){this.h=Math.max(Math.min(360,e),0)|0,this.s=Ha(Math.max(Math.min(1,i),0),3),this.v=Ha(Math.max(Math.min(1,s),0),3),this.a=Ha(Math.max(Math.min(1,n),0),3)}static equals(e,i){return e.h===i.h&&e.s===i.s&&e.v===i.v&&e.a===i.a}static fromRGBA(e){const i=e.r/255,s=e.g/255,n=e.b/255,o=Math.max(i,s,n),r=Math.min(i,s,n),a=o-r,l=o===0?0:a/o;let h;return a===0?h=0:o===i?h=((s-n)/a%6+6)%6:o===s?h=(n-i)/a+2:h=(i-s)/a+4,new Pd(Math.round(h*60),l,o,e.a)}static toRGBA(e){const{h:i,s,v:n,a:o}=e,r=n*s,a=r*(1-Math.abs(i/60%2-1)),l=n-r;let[h,d,u]=[0,0,0];return i<60?(h=r,d=a):i<120?(h=a,d=r):i<180?(d=r,u=a):i<240?(d=a,u=r):i<300?(h=a,u=r):i<=360&&(h=r,u=a),h=Math.round((h+l)*255),d=Math.round((d+l)*255),u=Math.round((u+l)*255),new dt(h,d,u,o)}}class k{static{an(this,"Color")}static fromHex(e){return k.Format.CSS.parseHex(e)||k.red}static equals(e,i){return!e&&!i?!0:!e||!i?!1:e.equals(i)}rgba;_hsla;get hsla(){return this._hsla?this._hsla:Yo.fromRGBA(this.rgba)}_hsva;get hsva(){return this._hsva?this._hsva:Pd.fromRGBA(this.rgba)}constructor(e){if(e)if(e instanceof dt)this.rgba=e;else if(e instanceof Yo)this._hsla=e,this.rgba=Yo.toRGBA(e);else if(e instanceof Pd)this._hsva=e,this.rgba=Pd.toRGBA(e);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(e){return!!e&&dt.equals(this.rgba,e.rgba)&&Yo.equals(this.hsla,e.hsla)&&Pd.equals(this.hsva,e.hsva)}getRelativeLuminance(){const e=k._relativeLuminanceForComponent(this.rgba.r),i=k._relativeLuminanceForComponent(this.rgba.g),s=k._relativeLuminanceForComponent(this.rgba.b),n=.2126*e+.7152*i+.0722*s;return Ha(n,4)}static _relativeLuminanceForComponent(e){const i=e/255;return i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}getContrastRatio(e){const i=this.getRelativeLuminance(),s=e.getRelativeLuminance();return i>s?(i+.05)/(s+.05):(s+.05)/(i+.05)}isDarker(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3<128}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(e){const i=this.getRelativeLuminance(),s=e.getRelativeLuminance();return i>s}isDarkerThan(e){const i=this.getRelativeLuminance(),s=e.getRelativeLuminance();return i<s}lighten(e){return new k(new Yo(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*e,this.hsla.a))}darken(e){return new k(new Yo(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*e,this.hsla.a))}transparent(e){const{r:i,g:s,b:n,a:o}=this.rgba;return new k(new dt(i,s,n,o*e))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new k(new dt(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}blend(e){const i=e.rgba,s=this.rgba.a,n=i.a,o=s+n*(1-s);if(o<1e-6)return k.transparent;const r=this.rgba.r*s/o+i.r*n*(1-s)/o,a=this.rgba.g*s/o+i.g*n*(1-s)/o,l=this.rgba.b*s/o+i.b*n*(1-s)/o;return new k(new dt(r,a,l,o))}makeOpaque(e){if(this.isOpaque()||e.rgba.a!==1)return this;const{r:i,g:s,b:n,a:o}=this.rgba;return new k(new dt(e.rgba.r-o*(e.rgba.r-i),e.rgba.g-o*(e.rgba.g-s),e.rgba.b-o*(e.rgba.b-n),1))}flatten(...e){const i=e.reduceRight((s,n)=>k._flatten(n,s));return k._flatten(this,i)}static _flatten(e,i){const s=1-e.rgba.a;return new k(new dt(s*i.rgba.r+e.rgba.a*e.rgba.r,s*i.rgba.g+e.rgba.a*e.rgba.g,s*i.rgba.b+e.rgba.a*e.rgba.b))}_toString;toString(){return this._toString||(this._toString=k.Format.CSS.format(this)),this._toString}static getLighterColor(e,i,s){if(e.isLighterThan(i))return e;s=s||.5;const n=e.getRelativeLuminance(),o=i.getRelativeLuminance();return s=s*(o-n)/o,e.lighten(s)}static getDarkerColor(e,i,s){if(e.isDarkerThan(i))return e;s=s||.5;const n=e.getRelativeLuminance(),o=i.getRelativeLuminance();return s=s*(n-o)/n,e.darken(s)}static white=new k(new dt(255,255,255,1));static black=new k(new dt(0,0,0,1));static red=new k(new dt(255,0,0,1));static blue=new k(new dt(0,0,255,1));static green=new k(new dt(0,255,0,1));static cyan=new k(new dt(0,255,255,1));static lightgrey=new k(new dt(211,211,211,1));static transparent=new k(new dt(0,0,0,0))}(t=>{(e=>{(i=>{function s(p){return p.rgba.a===1?`rgb(${p.rgba.r}, ${p.rgba.g}, ${p.rgba.b})`:t.Format.CSS.formatRGBA(p)}i.formatRGB=s,an(s,"formatRGB");function n(p){return`rgba(${p.rgba.r}, ${p.rgba.g}, ${p.rgba.b}, ${+p.rgba.a.toFixed(2)})`}i.formatRGBA=n,an(n,"formatRGBA");function o(p){return p.hsla.a===1?`hsl(${p.hsla.h}, ${(p.hsla.s*100).toFixed(2)}%, ${(p.hsla.l*100).toFixed(2)}%)`:t.Format.CSS.formatHSLA(p)}i.formatHSL=o,an(o,"formatHSL");function r(p){return`hsla(${p.hsla.h}, ${(p.hsla.s*100).toFixed(2)}%, ${(p.hsla.l*100).toFixed(2)}%, ${p.hsla.a.toFixed(2)})`}i.formatHSLA=r,an(r,"formatHSLA");function a(p){const m=p.toString(16);return m.length!==2?"0"+m:m}an(a,"_toTwoDigitHex");function l(p){return`#${a(p.rgba.r)}${a(p.rgba.g)}${a(p.rgba.b)}`}i.formatHex=l,an(l,"formatHex");function h(p,m=!1){return m&&p.rgba.a===1?t.Format.CSS.formatHex(p):`#${a(p.rgba.r)}${a(p.rgba.g)}${a(p.rgba.b)}${a(Math.round(p.rgba.a*255))}`}i.formatHexA=h,an(h,"formatHexA");function d(p){return p.isOpaque()?t.Format.CSS.formatHex(p):t.Format.CSS.formatRGBA(p)}i.format=d,an(d,"format");function u(p){const m=p.length;if(m===0||p.charCodeAt(0)!==O.Hash)return null;if(m===7){const b=16*g(p.charCodeAt(1))+g(p.charCodeAt(2)),C=16*g(p.charCodeAt(3))+g(p.charCodeAt(4)),x=16*g(p.charCodeAt(5))+g(p.charCodeAt(6));return new t(new dt(b,C,x,1))}if(m===9){const b=16*g(p.charCodeAt(1))+g(p.charCodeAt(2)),C=16*g(p.charCodeAt(3))+g(p.charCodeAt(4)),x=16*g(p.charCodeAt(5))+g(p.charCodeAt(6)),E=16*g(p.charCodeAt(7))+g(p.charCodeAt(8));return new t(new dt(b,C,x,E/255))}if(m===4){const b=g(p.charCodeAt(1)),C=g(p.charCodeAt(2)),x=g(p.charCodeAt(3));return new t(new dt(16*b+b,16*C+C,16*x+x))}if(m===5){const b=g(p.charCodeAt(1)),C=g(p.charCodeAt(2)),x=g(p.charCodeAt(3)),E=g(p.charCodeAt(4));return new t(new dt(16*b+b,16*C+C,16*x+x,(16*E+E)/255))}return null}i.parseHex=u,an(u,"parseHex");function g(p){switch(p){case O.Digit0:return 0;case O.Digit1:return 1;case O.Digit2:return 2;case O.Digit3:return 3;case O.Digit4:return 4;case O.Digit5:return 5;case O.Digit6:return 6;case O.Digit7:return 7;case O.Digit8:return 8;case O.Digit9:return 9;case O.a:return 10;case O.A:return 10;case O.b:return 11;case O.B:return 11;case O.c:return 12;case O.C:return 12;case O.d:return 13;case O.D:return 13;case O.e:return 14;case O.E:return 14;case O.f:return 15;case O.F:return 15}return 0}an(g,"_parseHexDigit")})(e.CSS||(e.CSS={}))})(t.Format||(t.Format={}))})(k||(k={}));var t8=Object.defineProperty,Pa=(t,e)=>t8(t,"name",{value:e,configurable:!0});function vL(t){let e=!1;const i=new Map,s=new Map;if(wL(t,Pa(d=>{if(t===d)return!0;const u=JSON.stringify(d);if(u.length<30)return!0;const g=i.get(u);if(!g){const p={schemas:[d]};return i.set(u,p),s.set(d,p),!0}return g.schemas.push(d),s.set(d,g),e=!0,!1},"visitSchemas")),i.clear(),!e)return JSON.stringify(t);let o="$defs";for(;t.hasOwnProperty(o);)o+="_";const r=[];function a(d){return JSON.stringify(d,(u,g)=>{if(g!==d){const p=s.get(g);if(p&&p.schemas.length>1)return p.id||(p.id=`_${r.length}`,r.push(p.schemas[0])),{$ref:`#/${o}/${p.id}`}}return g})}Pa(a,"stringify");const l=a(t),h=[];for(let d=0;d<r.length;d++)h.push(`"_${d}":${a(r[d])}`);return h.length?`${l.substring(0,l.length-1)},"${o}":{${h.join(",")}}}`:l}Pa(vL,"getCompressedContent");function Vc(t){return typeof t=="object"&&t!==null}Pa(Vc,"isObject");function wL(t,e){if(!t||typeof t!="object")return;const i=Pa((...l)=>{for(const h of l)Vc(h)&&r.push(h)},"collectEntries"),s=Pa((...l)=>{for(const h of l)if(Vc(h))for(const d in h){const u=h[d];Vc(u)&&r.push(u)}},"collectMapEntries"),n=Pa((...l)=>{for(const h of l)if(Array.isArray(h))for(const d of h)Vc(d)&&r.push(d)},"collectArrayEntries"),o=Pa(l=>{if(Array.isArray(l))for(const h of l)Vc(h)&&r.push(h);else Vc(l)&&r.push(l)},"collectEntryOrArrayEntries"),r=[t];let a=r.pop();for(;a;)e(a)&&(i(a.additionalItems,a.additionalProperties,a.not,a.contains,a.propertyNames,a.if,a.then,a.else,a.unevaluatedItems,a.unevaluatedProperties),s(a.definitions,a.$defs,a.properties,a.patternProperties,a.dependencies,a.dependentSchemas),n(a.anyOf,a.allOf,a.oneOf,a.prefixItems),o(a.items)),a=r.pop()}Pa(wL,"traverseNodes");var i8=Object.defineProperty,s8=(t,e)=>i8(t,"name",{value:e,configurable:!0});class n8{static{s8(this,"RegistryImpl")}data=new Map;add(e,i){Vb(Yi(e)),Vb(cs(i)),Vb(!this.data.has(e),"There is already an extension with this id"),this.data.set(e,i)}knows(e){return this.data.has(e)}as(e){return this.data.get(e)||null}}const ui=new n8;var o8=Object.defineProperty,yL=(t,e)=>o8(t,"name",{value:e,configurable:!0});const m1={JSONContribution:"base.contributions.json"};function _L(t){return t.length>0&&t.charAt(t.length-1)==="#"?t.substring(0,t.length-1):t}yL(_L,"normalizeId");class r8{static{yL(this,"JSONContributionRegistry")}schemasById;_onDidChangeSchema=new I;onDidChangeSchema=this._onDidChangeSchema.event;constructor(){this.schemasById={}}registerSchema(e,i){this.schemasById[_L(e)]=i,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}getSchemaContributions(){return{schemas:this.schemasById}}getSchemaContent(e){const i=this.schemasById[e];return i?vL(i):void 0}hasSchemaContent(e){return!!this.schemasById[e]}}const a8=new r8;ui.add(m1.JSONContribution,a8);var l8=Object.defineProperty,Ps=(t,e)=>l8(t,"name",{value:e,configurable:!0});function OC(t){return`--vscode-${t.replace(/\./g,"-")}`}Ps(OC,"asCssVariableName");function Y(t){return`var(${OC(t)})`}Ps(Y,"asCssVariable");function SL(t,e){return`var(${OC(t)}, ${e})`}Ps(SL,"asCssVariableWithDefault");function CL(t){return t!==null&&typeof t=="object"&&"light"in t&&"dark"in t}Ps(CL,"isColorDefaults");const c8={ColorContribution:"base.contributions.colors"},h8="default";class d8{static{Ps(this,"ColorRegistry")}_onDidChangeSchema=new I;onDidChangeSchema=this._onDidChangeSchema.event;colorsById;colorSchema={type:"object",properties:{}};colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]};constructor(){this.colorsById={}}notifyThemeUpdate(e){for(const i of Object.keys(this.colorsById)){const s=e.getColor(i);s&&(this.colorSchema.properties[i].oneOf[0].defaultSnippets[0].body=`\${1:${s.toString()}}`)}this._onDidChangeSchema.fire()}registerColor(e,i,s,n=!1,o){const r={id:e,description:s,defaults:i,needsTransparency:n,deprecationMessage:o};this.colorsById[e]=r;const a={type:"string",format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return o&&(a.deprecationMessage=o),n&&(a.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",a.patternErrorMessage=c("transparecyRequired","This color must be transparent or it will obscure content")),this.colorSchema.properties[e]={description:s,oneOf:[a,{type:"string",const:h8,description:c("useDefault","Use the default color.")}]},this.colorReferenceSchema.enum.push(e),this.colorReferenceSchema.enumDescriptions.push(s),this._onDidChangeSchema.fire(),e}deregisterColor(e){delete this.colorsById[e],delete this.colorSchema.properties[e];const i=this.colorReferenceSchema.enum.indexOf(e);i!==-1&&(this.colorReferenceSchema.enum.splice(i,1),this.colorReferenceSchema.enumDescriptions.splice(i,1)),this._onDidChangeSchema.fire()}getColors(){return Object.keys(this.colorsById).map(e=>this.colorsById[e])}resolveDefaultColor(e,i){const s=this.colorsById[e];if(s?.defaults){const n=CL(s.defaults)?s.defaults[i.type]:s.defaults;return yo(n,i)}}getColorSchema(){return this.colorSchema}getColorReferenceSchema(){return this.colorReferenceSchema}toString(){const e=Ps((i,s)=>{const n=i.indexOf(".")===-1?0:1,o=s.indexOf(".")===-1?0:1;return n!==o?n-o:i.localeCompare(s)},"sorter");return Object.keys(this.colorsById).sort(e).map(i=>`- \`${i}\`: ${this.colorsById[i].description}`).join(`
`)}}const Xp=new d8;ui.add(c8.ColorContribution,Xp);function v(t,e,i,s,n){return Xp.registerColor(t,e,i,s,n)}Ps(v,"registerColor");function u8(){return Xp}Ps(u8,"getColorRegistry");function DL(t,e){switch(t.op){case 0:return yo(t.value,e)?.darken(t.factor);case 1:return yo(t.value,e)?.lighten(t.factor);case 2:return yo(t.value,e)?.transparent(t.factor);case 3:{const i=yo(t.background,e);return i?yo(t.value,e)?.makeOpaque(i):yo(t.value,e)}case 4:for(const i of t.values){const s=yo(i,e);if(s)return s}return;case 6:return yo(e.defines(t.if)?t.then:t.else,e);case 5:{const i=yo(t.value,e);if(!i)return;const s=yo(t.background,e);return s?i.isDarkerThan(s)?k.getLighterColor(i,s,t.factor).transparent(t.transparency):k.getDarkerColor(i,s,t.factor).transparent(t.transparency):i.transparent(t.factor*t.transparency)}default:throw bL()}}Ps(DL,"executeTransform");function Rn(t,e){return{op:0,value:t,factor:e}}Ps(Rn,"darken");function Zn(t,e){return{op:1,value:t,factor:e}}Ps(Zn,"lighten");function le(t,e){return{op:2,value:t,factor:e}}Ps(le,"transparent");function g8(t,e){return{op:3,value:t,background:e}}Ps(g8,"opaque");function M_(...t){return{op:4,values:t}}Ps(M_,"oneOf");function AL(t,e,i){return{op:6,if:t,then:e,else:i}}Ps(AL,"ifDefinedThenElse");function F_(t,e,i,s){return{op:5,value:t,background:e,factor:i,transparency:s}}Ps(F_,"lessProminent");function yo(t,e){if(t!==null){if(typeof t=="string")return t[0]==="#"?k.fromHex(t):e.getColor(t);if(t instanceof k)return t;if(typeof t=="object")return DL(t,e)}}Ps(yo,"resolveColorValue");const EL="vscode://schemas/workbench-colors",IL=ui.as(m1.JSONContribution);IL.registerSchema(EL,Xp.getColorSchema());const dI=new Ls(()=>IL.notifySchemaChanged(EL),200);Xp.onDidChangeSchema(()=>{dI.isScheduled()||dI.schedule()});const Ct=v("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},c("foreground","Overall foreground color. This color is only used if not overridden by a component."));v("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},c("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component."));const uI=v("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},c("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."));v("descriptionForeground",{light:"#717171",dark:le(Ct,.7),hcDark:le(Ct,.7),hcLight:le(Ct,.7)},c("descriptionForeground","Foreground color for description text providing additional information, for example for a label."));const V_=v("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},c("iconForeground","The default color for icons in the workbench.")),oo=v("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},c("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),ce=v("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},c("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),yi=v("contrastActiveBorder",{light:null,dark:null,hcDark:oo,hcLight:oo},c("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),f8=v("selection.background",null,c("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),TL=v("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},c("textLinkForeground","Foreground color for links in text."));v("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},c("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover."));v("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:k.black,hcLight:"#292929"},c("textSeparatorForeground","Color for text separators."));v("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},c("textPreformatForeground","Foreground color for preformatted text segments."));v("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},c("textPreformatBackground","Background color for preformatted text segments."));v("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},c("textBlockQuoteBackground","Background color for block quotes in text."));v("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:k.white,hcLight:"#292929"},c("textBlockQuoteBorder","Border color for block quotes in text."));v("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:k.black,hcLight:"#F2F2F2"},c("textCodeBlockBackground","Background color for code blocks in text."));v("sash.hoverBorder",oo,c("sashActiveBorder","Border color of active sashes."));const mh=v("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:k.black,hcLight:"#0F4A85"},c("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),b1=v("badge.foreground",{dark:k.white,light:"#333",hcDark:k.white,hcLight:k.white},c("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Zp=v("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},c("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),kL=v("scrollbarSlider.background",{dark:k.fromHex("#797979").transparent(.4),light:k.fromHex("#646464").transparent(.4),hcDark:le(ce,.6),hcLight:le(ce,.4)},c("scrollbarSliderBackground","Scrollbar slider background color.")),xL=v("scrollbarSlider.hoverBackground",{dark:k.fromHex("#646464").transparent(.7),light:k.fromHex("#646464").transparent(.7),hcDark:le(ce,.8),hcLight:le(ce,.8)},c("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),LL=v("scrollbarSlider.activeBackground",{dark:k.fromHex("#BFBFBF").transparent(.4),light:k.fromHex("#000000").transparent(.6),hcDark:ce,hcLight:ce},c("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),p8=v("progressBar.background",{dark:k.fromHex("#0E70C0"),light:k.fromHex("#0E70C0"),hcDark:ce,hcLight:ce},c("progressBarBackground","Background color of the progress bar that can show for long running operations.")),oc=v("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:k.black,hcLight:k.white},c("editorBackground","Editor background color.")),Zh=v("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:k.white,hcLight:Ct},c("editorForeground","Editor default foreground color."));v("editorStickyScroll.background",oc,c("editorStickyScrollBackground","Background color of sticky scroll in the editor"));v("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:k.fromHex("#0F4A85").transparent(.1)},c("editorStickyScrollHoverBackground","Background color of sticky scroll on hover in the editor"));v("editorStickyScroll.border",{dark:null,light:null,hcDark:ce,hcLight:ce},c("editorStickyScrollBorder","Border color of sticky scroll in the editor"));v("editorStickyScroll.shadow",Zp,c("editorStickyScrollShadow"," Shadow color of sticky scroll in the editor"));const An=v("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:k.white},c("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),sg=v("editorWidget.foreground",Ct,c("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),PL=v("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:ce,hcLight:ce},c("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget."));v("editorWidget.resizeBorder",null,c("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget."));v("editorError.background",null,c("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const BC=v("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},c("editorError.foreground","Foreground color of error squigglies in the editor."));v("editorError.border",{dark:null,light:null,hcDark:k.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},c("errorBorder","If set, color of double underlines for errors in the editor."));v("editorWarning.background",null,c("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const Lh=v("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},c("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),gI=v("editorWarning.border",{dark:null,light:null,hcDark:k.fromHex("#FFCC00").transparent(.8),hcLight:k.fromHex("#FFCC00").transparent(.8)},c("warningBorder","If set, color of double underlines for warnings in the editor."));v("editorInfo.background",null,c("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0);const Tu=v("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},c("editorInfo.foreground","Foreground color of info squigglies in the editor.")),fI=v("editorInfo.border",{dark:null,light:null,hcDark:k.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},c("infoBorder","If set, color of double underlines for infos in the editor."));v("editorHint.foreground",{dark:k.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},c("editorHint.foreground","Foreground color of hint squigglies in the editor."));v("editorHint.border",{dark:null,light:null,hcDark:k.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},c("hintBorder","If set, color of double underlines for hints in the editor."));v("editorLink.activeForeground",{dark:"#4E94CE",light:k.blue,hcDark:k.cyan,hcLight:"#292929"},c("activeLinkForeground","Color of active links."));const Rd=v("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},c("editorSelectionBackground","Color of the editor selection."));v("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:k.white},c("editorSelectionForeground","Color of the selected text for high contrast."));v("editor.inactiveSelectionBackground",{light:le(Rd,.5),dark:le(Rd,.5),hcDark:le(Rd,.7),hcLight:le(Rd,.5)},c("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0);v("editor.selectionHighlightBackground",{light:F_(Rd,oc,.3,.6),dark:F_(Rd,oc,.3,.6),hcDark:null,hcLight:null},c("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0);v("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:yi,hcLight:yi},c("editorSelectionHighlightBorder","Border color for regions with the same content as the selection."));v("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},c("editorFindMatch","Color of the current search match."));v("editor.findMatchForeground",null,c("editorFindMatchForeground","Text color of the current search match."));const Nd=v("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},c("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0);v("editor.findMatchHighlightForeground",null,c("findMatchHighlightForeground","Foreground color of the other search matches."),!0);v("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},c("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);v("editor.findMatchBorder",{light:null,dark:null,hcDark:yi,hcLight:yi},c("editorFindMatchBorder","Border color of the current search match."));const Od=v("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:yi,hcLight:yi},c("findMatchHighlightBorder","Border color of the other search matches."));v("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:le(yi,.4),hcLight:le(yi,.4)},c("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0);v("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},c("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0);const pI=v("editorHoverWidget.background",An,c("hoverBackground","Background color of the editor hover."));v("editorHoverWidget.foreground",sg,c("hoverForeground","Foreground color of the editor hover."));v("editorHoverWidget.border",PL,c("hoverBorder","Border color of the editor hover."));v("editorHoverWidget.statusBarBackground",{dark:Zn(pI,.2),light:Rn(pI,.05),hcDark:An,hcLight:An},c("statusBarBackground","Background color of the editor hover status bar."));const RL=v("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:k.white,hcLight:k.black},c("editorInlayHintForeground","Foreground color of inline hints")),NL=v("editorInlayHint.background",{dark:le(mh,.1),light:le(mh,.1),hcDark:le(k.white,.1),hcLight:le(mh,.1)},c("editorInlayHintBackground","Background color of inline hints"));v("editorInlayHint.typeForeground",RL,c("editorInlayHintForegroundTypes","Foreground color of inline hints for types"));v("editorInlayHint.typeBackground",NL,c("editorInlayHintBackgroundTypes","Background color of inline hints for types"));v("editorInlayHint.parameterForeground",RL,c("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters"));v("editorInlayHint.parameterBackground",NL,c("editorInlayHintBackgroundParameter","Background color of inline hints for parameters"));const m8=v("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},c("editorLightBulbForeground","The color used for the lightbulb actions icon."));v("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},c("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon."));v("editorLightBulbAi.foreground",m8,c("editorLightBulbAiForeground","The color used for the lightbulb AI icon."));v("editor.snippetTabstopHighlightBackground",{dark:new k(new dt(124,124,124,.3)),light:new k(new dt(10,50,100,.2)),hcDark:new k(new dt(124,124,124,.3)),hcLight:new k(new dt(10,50,100,.2))},c("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop."));v("editor.snippetTabstopHighlightBorder",null,c("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop."));v("editor.snippetFinalTabstopHighlightBackground",null,c("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet."));v("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new k(new dt(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},c("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet."));const mI=new k(new dt(155,185,85,.2)),bI=new k(new dt(255,0,0,.2));v("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},c("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0);v("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},c("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);v("diffEditor.insertedLineBackground",{dark:mI,light:mI,hcDark:null,hcLight:null},c("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0);v("diffEditor.removedLineBackground",{dark:bI,light:bI,hcDark:null,hcLight:null},c("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0);v("diffEditorGutter.insertedLineBackground",null,c("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted."));v("diffEditorGutter.removedLineBackground",null,c("diffEditorRemovedLineGutter","Background color for the margin where lines got removed."));v("diffEditorOverview.insertedForeground",null,c("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content."));v("diffEditorOverview.removedForeground",null,c("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content."));v("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},c("diffEditorInsertedOutline","Outline color for the text that got inserted."));v("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},c("diffEditorRemovedOutline","Outline color for text that got removed."));v("diffEditor.border",{dark:null,light:null,hcDark:ce,hcLight:ce},c("diffEditorBorder","Border color between the two text editors."));v("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},c("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views."));v("diffEditor.unchangedRegionBackground","sideBar.background",c("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor."));v("diffEditor.unchangedRegionForeground","foreground",c("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor."));v("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},c("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor."));const ng=v("widget.shadow",{dark:le(k.black,.36),light:le(k.black,.16),hcDark:null,hcLight:null},c("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),Rv=v("widget.border",{dark:null,light:null,hcDark:ce,hcLight:ce},c("widgetBorder","Border color of widgets such as find/replace inside the editor.")),Nv=v("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},c("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse"));v("toolbar.hoverOutline",{dark:null,light:null,hcDark:yi,hcLight:yi},c("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse"));v("toolbar.activeBackground",{dark:Zn(Nv,.1),light:Rn(Nv,.1),hcDark:null,hcLight:null},c("toolbarActiveBackground","Toolbar background when holding the mouse over actions"));const b8=v("breadcrumb.foreground",le(Ct,.8),c("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),v8=v("breadcrumb.background",oc,c("breadcrumbsBackground","Background color of breadcrumb items.")),vI=v("breadcrumb.focusForeground",{light:Rn(Ct,.2),dark:Zn(Ct,.1),hcDark:Zn(Ct,.1),hcLight:Zn(Ct,.1)},c("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),w8=v("breadcrumb.activeSelectionForeground",{light:Rn(Ct,.2),dark:Zn(Ct,.1),hcDark:Zn(Ct,.1),hcLight:Zn(Ct,.1)},c("breadcrumbsSelectedForeground","Color of selected breadcrumb items."));v("breadcrumbPicker.background",An,c("breadcrumbsSelectedBackground","Background color of breadcrumb item picker."));const OL=.5,wI=k.fromHex("#40C8AE").transparent(OL),yI=k.fromHex("#40A6FF").transparent(OL),_I=k.fromHex("#606060").transparent(.4),MC=.4,ku=1,H_=v("merge.currentHeaderBackground",{dark:wI,light:wI,hcDark:null,hcLight:null},c("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);v("merge.currentContentBackground",le(H_,MC),c("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const W_=v("merge.incomingHeaderBackground",{dark:yI,light:yI,hcDark:null,hcLight:null},c("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);v("merge.incomingContentBackground",le(W_,MC),c("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const U_=v("merge.commonHeaderBackground",{dark:_I,light:_I,hcDark:null,hcLight:null},c("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);v("merge.commonContentBackground",le(U_,MC),c("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0);const xu=v("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},c("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."));v("editorOverviewRuler.currentContentForeground",{dark:le(H_,ku),light:le(H_,ku),hcDark:xu,hcLight:xu},c("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts."));v("editorOverviewRuler.incomingContentForeground",{dark:le(W_,ku),light:le(W_,ku),hcDark:xu,hcLight:xu},c("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts."));v("editorOverviewRuler.commonContentForeground",{dark:le(U_,ku),light:le(U_,ku),hcDark:xu,hcLight:xu},c("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts."));v("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:"#AB5A00"},c("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0);v("editorOverviewRuler.selectionHighlightForeground","#A0A0A0CC",c("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0);const y8=v("problemsErrorIcon.foreground",BC,c("problemsErrorIconForeground","The color used for the problems error icon.")),_8=v("problemsWarningIcon.foreground",Lh,c("problemsWarningIconForeground","The color used for the problems warning icon.")),S8=v("problemsInfoIcon.foreground",Tu,c("problemsInfoIconForeground","The color used for the problems info icon.")),C8=v("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},c("minimapFindMatchHighlight","Minimap marker color for find matches."),!0);v("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},c("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0);v("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},c("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0);v("minimap.infoHighlight",{dark:Tu,light:Tu,hcDark:fI,hcLight:fI},c("minimapInfo","Minimap marker color for infos."));v("minimap.warningHighlight",{dark:Lh,light:Lh,hcDark:gI,hcLight:gI},c("overviewRuleWarning","Minimap marker color for warnings."));v("minimap.errorHighlight",{dark:new k(new dt(255,18,18,.7)),light:new k(new dt(255,18,18,.7)),hcDark:new k(new dt(255,50,50,1)),hcLight:"#B5200D"},c("minimapError","Minimap marker color for errors."));v("minimap.background",null,c("minimapBackground","Minimap background color."));v("minimap.foregroundOpacity",k.fromHex("#000f"),c("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.'));v("minimapSlider.background",le(kL,.5),c("minimapSliderBackground","Minimap slider background color."));v("minimapSlider.hoverBackground",le(xL,.5),c("minimapSliderHoverBackground","Minimap slider background color when hovering."));v("minimapSlider.activeBackground",le(LL,.5),c("minimapSliderActiveBackground","Minimap slider background color when clicked on."));v("charts.foreground",Ct,c("chartsForeground","The foreground color used in charts."));v("charts.lines",le(Ct,.5),c("chartsLines","The color used for horizontal lines in charts."));v("charts.red",BC,c("chartsRed","The red color used in chart visualizations."));v("charts.blue",Tu,c("chartsBlue","The blue color used in chart visualizations."));v("charts.yellow",Lh,c("chartsYellow","The yellow color used in chart visualizations."));v("charts.orange",C8,c("chartsOrange","The orange color used in chart visualizations."));v("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},c("chartsGreen","The green color used in chart visualizations."));v("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},c("chartsPurple","The purple color used in chart visualizations."));const D8=v("input.background",{dark:"#3C3C3C",light:k.white,hcDark:k.black,hcLight:k.white},c("inputBoxBackground","Input box background.")),A8=v("input.foreground",Ct,c("inputBoxForeground","Input box foreground.")),Hb=v("input.border",{dark:null,light:null,hcDark:ce,hcLight:ce},c("inputBoxBorder","Input box border.")),BL=v("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:ce,hcLight:ce},c("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),E8=v("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},c("inputOption.hoverBackground","Background color of activated options in input fields.")),ML=v("inputOption.activeBackground",{dark:le(oo,.4),light:le(oo,.2),hcDark:k.transparent,hcLight:k.transparent},c("inputOption.activeBackground","Background hover color of options in input fields.")),FL=v("inputOption.activeForeground",{dark:k.white,light:k.black,hcDark:Ct,hcLight:Ct},c("inputOption.activeForeground","Foreground color of activated options in input fields."));v("input.placeholderForeground",{light:le(Ct,.5),dark:le(Ct,.5),hcDark:le(Ct,.7),hcLight:le(Ct,.7)},c("inputPlaceholderForeground","Input box foreground color for placeholder text."));const I8=v("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:k.black,hcLight:k.white},c("inputValidationInfoBackground","Input validation background color for information severity.")),T8=v("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:Ct},c("inputValidationInfoForeground","Input validation foreground color for information severity.")),k8=v("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:ce,hcLight:ce},c("inputValidationInfoBorder","Input validation border color for information severity.")),x8=v("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:k.black,hcLight:k.white},c("inputValidationWarningBackground","Input validation background color for warning severity.")),L8=v("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:Ct},c("inputValidationWarningForeground","Input validation foreground color for warning severity.")),P8=v("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:ce,hcLight:ce},c("inputValidationWarningBorder","Input validation border color for warning severity.")),R8=v("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:k.black,hcLight:k.white},c("inputValidationErrorBackground","Input validation background color for error severity.")),N8=v("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:Ct},c("inputValidationErrorForeground","Input validation foreground color for error severity.")),O8=v("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:ce,hcLight:ce},c("inputValidationErrorBorder","Input validation border color for error severity.")),v1=v("dropdown.background",{dark:"#3C3C3C",light:k.white,hcDark:k.black,hcLight:k.white},c("dropdownBackground","Dropdown background.")),B8=v("dropdown.listBackground",{dark:null,light:null,hcDark:k.black,hcLight:k.white},c("dropdownListBackground","Dropdown list background.")),FC=v("dropdown.foreground",{dark:"#F0F0F0",light:Ct,hcDark:k.white,hcLight:Ct},c("dropdownForeground","Dropdown foreground.")),VC=v("dropdown.border",{dark:v1,light:"#CECECE",hcDark:ce,hcLight:ce},c("dropdownBorder","Dropdown border.")),VL=v("button.foreground",k.white,c("buttonForeground","Button foreground color.")),M8=v("button.separator",le(VL,.4),c("buttonSeparator","Button separator color.")),Xg=v("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},c("buttonBackground","Button background color.")),F8=v("button.hoverBackground",{dark:Zn(Xg,.2),light:Rn(Xg,.2),hcDark:Xg,hcLight:Xg},c("buttonHoverBackground","Button background color when hovering.")),V8=v("button.border",ce,c("buttonBorder","Button border color.")),H8=v("button.secondaryForeground",{dark:k.white,light:k.white,hcDark:k.white,hcLight:Ct},c("buttonSecondaryForeground","Secondary button foreground color.")),z_=v("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:k.white},c("buttonSecondaryBackground","Secondary button background color.")),W8=v("button.secondaryHoverBackground",{dark:Zn(z_,.2),light:Rn(z_,.2),hcDark:null,hcLight:null},c("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),Zg=v("radio.activeForeground",FL,c("radioActiveForeground","Foreground color of active radio option.")),U8=v("radio.activeBackground",ML,c("radioBackground","Background color of active radio option.")),z8=v("radio.activeBorder",BL,c("radioActiveBorder","Border color of the active radio option.")),$8=v("radio.inactiveForeground",null,c("radioInactiveForeground","Foreground color of inactive radio option.")),K8=v("radio.inactiveBackground",null,c("radioInactiveBackground","Background color of inactive radio option.")),G8=v("radio.inactiveBorder",{light:le(Zg,.2),dark:le(Zg,.2),hcDark:le(Zg,.4),hcLight:le(Zg,.2)},c("radioInactiveBorder","Border color of the inactive radio option.")),j8=v("radio.inactiveHoverBackground",E8,c("radioHoverBackground","Background color of inactive active radio option when hovering.")),q8=v("checkbox.background",v1,c("checkbox.background","Background color of checkbox widget."));v("checkbox.selectBackground",An,c("checkbox.select.background","Background color of checkbox widget when the element it's in is selected."));const Y8=v("checkbox.foreground",FC,c("checkbox.foreground","Foreground color of checkbox widget.")),X8=v("checkbox.border",VC,c("checkbox.border","Border color of checkbox widget."));v("checkbox.selectBorder",V_,c("checkbox.select.border","Border color of checkbox widget when the element it's in is selected."));const Z8=v("keybindingLabel.background",{dark:new k(new dt(128,128,128,.17)),light:new k(new dt(221,221,221,.4)),hcDark:k.transparent,hcLight:k.transparent},c("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Q8=v("keybindingLabel.foreground",{dark:k.fromHex("#CCCCCC"),light:k.fromHex("#555555"),hcDark:k.white,hcLight:Ct},c("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),J8=v("keybindingLabel.border",{dark:new k(new dt(51,51,51,.6)),light:new k(new dt(204,204,204,.4)),hcDark:new k(new dt(111,195,223)),hcLight:ce},c("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),eV=v("keybindingLabel.bottomBorder",{dark:new k(new dt(68,68,68,.6)),light:new k(new dt(187,187,187,.4)),hcDark:new k(new dt(111,195,223)),hcLight:Ct},c("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),tV=v("list.focusBackground",null,c("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),iV=v("list.focusForeground",null,c("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),sV=v("list.focusOutline",{dark:oo,light:oo,hcDark:yi,hcLight:yi},c("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),nV=v("list.focusAndSelectionOutline",null,c("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Jo=v("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:k.fromHex("#0F4A85").transparent(.1)},c("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Lu=v("list.activeSelectionForeground",{dark:k.white,light:k.white,hcDark:null,hcLight:null},c("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),HL=v("list.activeSelectionIconForeground",null,c("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),oV=v("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:k.fromHex("#0F4A85").transparent(.1)},c("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),rV=v("list.inactiveSelectionForeground",null,c("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),aV=v("list.inactiveSelectionIconForeground",null,c("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),lV=v("list.inactiveFocusBackground",null,c("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),cV=v("list.inactiveFocusOutline",null,c("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),WL=v("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:k.white.transparent(.1),hcLight:k.fromHex("#0F4A85").transparent(.1)},c("listHoverBackground","List/Tree background when hovering over items using the mouse.")),UL=v("list.hoverForeground",null,c("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),hV=v("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},c("listDropBackground","List/Tree drag and drop background when moving items over other items when using the mouse.")),dV=v("list.dropBetweenBackground",{dark:V_,light:V_,hcDark:null,hcLight:null},c("listDropBetweenBackground","List/Tree drag and drop border color when moving items between items when using the mouse.")),Gm=v("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:oo,hcLight:oo},c("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree."));v("list.focusHighlightForeground",{dark:Gm,light:AL(Jo,Gm,"#BBE7FF"),hcDark:Gm,hcLight:Gm},c("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree."));v("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},c("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer."));v("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},c("listErrorForeground","Foreground color of list items containing errors."));v("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},c("listWarningForeground","Foreground color of list items containing warnings."));const uV=v("listFilterWidget.background",{light:Rn(An,0),dark:Zn(An,0),hcDark:An,hcLight:An},c("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),gV=v("listFilterWidget.outline",{dark:k.transparent,light:k.transparent,hcDark:"#f38518",hcLight:"#007ACC"},c("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),fV=v("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:ce,hcLight:ce},c("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),pV=v("listFilterWidget.shadow",ng,c("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees."));v("list.filterMatchBackground",{dark:Nd,light:Nd,hcDark:null,hcLight:null},c("listFilterMatchHighlight","Background color of the filtered match."));v("list.filterMatchBorder",{dark:Od,light:Od,hcDark:ce,hcLight:yi},c("listFilterMatchHighlightBorder","Border color of the filtered match."));v("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},c("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized."));const Ov=v("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},c("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),mV=v("tree.inactiveIndentGuidesStroke",le(Ov,.4),c("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),bV=v("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},c("tableColumnsBorder","Table border color between columns.")),vV=v("tree.tableOddRowsBackground",{dark:le(Ct,.04),light:le(Ct,.04),hcDark:null,hcLight:null},c("tableOddRowsBackgroundColor","Background color for odd table rows."));v("editorActionList.background",An,c("editorActionListBackground","Action List background color."));v("editorActionList.foreground",sg,c("editorActionListForeground","Action List foreground color."));v("editorActionList.focusForeground",Lu,c("editorActionListFocusForeground","Action List foreground color for the focused item."));v("editorActionList.focusBackground",Jo,c("editorActionListFocusBackground","Action List background color for the focused item."));const wV=v("menu.border",{dark:null,light:null,hcDark:ce,hcLight:ce},c("menuBorder","Border color of menus.")),yV=v("menu.foreground",FC,c("menuForeground","Foreground color of menu items.")),_V=v("menu.background",v1,c("menuBackground","Background color of menu items.")),SV=v("menu.selectionForeground",Lu,c("menuSelectionForeground","Foreground color of the selected menu item in menus.")),CV=v("menu.selectionBackground",Jo,c("menuSelectionBackground","Background color of the selected menu item in menus.")),DV=v("menu.selectionBorder",{dark:null,light:null,hcDark:yi,hcLight:yi},c("menuSelectionBorder","Border color of the selected menu item in menus.")),AV=v("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:ce,hcLight:ce},c("menuSeparatorBackground","Color of a separator menu item in menus."));v("quickInput.background",An,c("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette."));v("quickInput.foreground",sg,c("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette."));v("quickInputTitle.background",{dark:new k(new dt(255,255,255,.105)),light:new k(new dt(0,0,0,.06)),hcDark:"#000000",hcLight:k.white},c("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette."));const EV=v("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:k.white,hcLight:"#0F4A85"},c("pickerGroupForeground","Quick picker color for grouping labels."));v("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:k.white,hcLight:"#0F4A85"},c("pickerGroupBorder","Quick picker color for grouping borders."));const SI=v("quickInput.list.focusBackground",null,"",void 0,c("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),IV=v("quickInputList.focusForeground",Lu,c("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),TV=v("quickInputList.focusIconForeground",HL,c("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),kV=v("quickInputList.focusBackground",{dark:M_(SI,Jo),light:M_(SI,Jo),hcDark:null,hcLight:null},c("quickInput.listFocusBackground","Quick picker background color for the focused item."));v("search.resultsInfoForeground",{light:Ct,dark:le(Ct,.65),hcDark:Ct,hcLight:Ct},c("search.resultsInfoForeground","Color of the text in the search viewlet's completion message."));v("searchEditor.findMatchBackground",{light:le(Nd,.66),dark:le(Nd,.66),hcDark:Nd,hcLight:Nd},c("searchEditor.queryMatch","Color of the Search Editor query matches."));v("searchEditor.findMatchBorder",{light:le(Od,.66),dark:le(Od,.66),hcDark:Od,hcLight:Od},c("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches."));var xV=Object.defineProperty,zL=(t,e)=>xV(t,"name",{value:e,configurable:!0});const $_=Object.create(null);function f(t,e){if(Yi(e)){const i=$_[e];if(i===void 0)throw new Error(`${t} references an unknown codicon: ${e}`);e=i}return $_[t]=e,{id:t}}zL(f,"register");function HC(){return $_}zL(HC,"getCodiconFontCharacters");const LV={add:f("add",6e4),plus:f("plus",6e4),gistNew:f("gist-new",6e4),repoCreate:f("repo-create",6e4),lightbulb:f("lightbulb",60001),lightBulb:f("light-bulb",60001),repo:f("repo",60002),repoDelete:f("repo-delete",60002),gistFork:f("gist-fork",60003),repoForked:f("repo-forked",60003),gitPullRequest:f("git-pull-request",60004),gitPullRequestAbandoned:f("git-pull-request-abandoned",60004),recordKeys:f("record-keys",60005),keyboard:f("keyboard",60005),tag:f("tag",60006),gitPullRequestLabel:f("git-pull-request-label",60006),tagAdd:f("tag-add",60006),tagRemove:f("tag-remove",60006),person:f("person",60007),personFollow:f("person-follow",60007),personOutline:f("person-outline",60007),personFilled:f("person-filled",60007),gitBranch:f("git-branch",60008),gitBranchCreate:f("git-branch-create",60008),gitBranchDelete:f("git-branch-delete",60008),sourceControl:f("source-control",60008),mirror:f("mirror",60009),mirrorPublic:f("mirror-public",60009),star:f("star",60010),starAdd:f("star-add",60010),starDelete:f("star-delete",60010),starEmpty:f("star-empty",60010),comment:f("comment",60011),commentAdd:f("comment-add",60011),alert:f("alert",60012),warning:f("warning",60012),search:f("search",60013),searchSave:f("search-save",60013),logOut:f("log-out",60014),signOut:f("sign-out",60014),logIn:f("log-in",60015),signIn:f("sign-in",60015),eye:f("eye",60016),eyeUnwatch:f("eye-unwatch",60016),eyeWatch:f("eye-watch",60016),circleFilled:f("circle-filled",60017),primitiveDot:f("primitive-dot",60017),closeDirty:f("close-dirty",60017),debugBreakpoint:f("debug-breakpoint",60017),debugBreakpointDisabled:f("debug-breakpoint-disabled",60017),debugHint:f("debug-hint",60017),terminalDecorationSuccess:f("terminal-decoration-success",60017),primitiveSquare:f("primitive-square",60018),edit:f("edit",60019),pencil:f("pencil",60019),info:f("info",60020),issueOpened:f("issue-opened",60020),gistPrivate:f("gist-private",60021),gitForkPrivate:f("git-fork-private",60021),lock:f("lock",60021),mirrorPrivate:f("mirror-private",60021),close:f("close",60022),removeClose:f("remove-close",60022),x:f("x",60022),repoSync:f("repo-sync",60023),sync:f("sync",60023),clone:f("clone",60024),desktopDownload:f("desktop-download",60024),beaker:f("beaker",60025),microscope:f("microscope",60025),vm:f("vm",60026),deviceDesktop:f("device-desktop",60026),file:f("file",60027),fileText:f("file-text",60027),more:f("more",60028),ellipsis:f("ellipsis",60028),kebabHorizontal:f("kebab-horizontal",60028),mailReply:f("mail-reply",60029),reply:f("reply",60029),organization:f("organization",60030),organizationFilled:f("organization-filled",60030),organizationOutline:f("organization-outline",60030),newFile:f("new-file",60031),fileAdd:f("file-add",60031),newFolder:f("new-folder",60032),fileDirectoryCreate:f("file-directory-create",60032),trash:f("trash",60033),trashcan:f("trashcan",60033),history:f("history",60034),clock:f("clock",60034),folder:f("folder",60035),fileDirectory:f("file-directory",60035),symbolFolder:f("symbol-folder",60035),logoGithub:f("logo-github",60036),markGithub:f("mark-github",60036),github:f("github",60036),terminal:f("terminal",60037),console:f("console",60037),repl:f("repl",60037),zap:f("zap",60038),symbolEvent:f("symbol-event",60038),error:f("error",60039),stop:f("stop",60039),variable:f("variable",60040),symbolVariable:f("symbol-variable",60040),array:f("array",60042),symbolArray:f("symbol-array",60042),symbolModule:f("symbol-module",60043),symbolPackage:f("symbol-package",60043),symbolNamespace:f("symbol-namespace",60043),symbolObject:f("symbol-object",60043),symbolMethod:f("symbol-method",60044),symbolFunction:f("symbol-function",60044),symbolConstructor:f("symbol-constructor",60044),symbolBoolean:f("symbol-boolean",60047),symbolNull:f("symbol-null",60047),symbolNumeric:f("symbol-numeric",60048),symbolNumber:f("symbol-number",60048),symbolStructure:f("symbol-structure",60049),symbolStruct:f("symbol-struct",60049),symbolParameter:f("symbol-parameter",60050),symbolTypeParameter:f("symbol-type-parameter",60050),symbolKey:f("symbol-key",60051),symbolText:f("symbol-text",60051),symbolReference:f("symbol-reference",60052),goToFile:f("go-to-file",60052),symbolEnum:f("symbol-enum",60053),symbolValue:f("symbol-value",60053),symbolRuler:f("symbol-ruler",60054),symbolUnit:f("symbol-unit",60054),activateBreakpoints:f("activate-breakpoints",60055),archive:f("archive",60056),arrowBoth:f("arrow-both",60057),arrowDown:f("arrow-down",60058),arrowLeft:f("arrow-left",60059),arrowRight:f("arrow-right",60060),arrowSmallDown:f("arrow-small-down",60061),arrowSmallLeft:f("arrow-small-left",60062),arrowSmallRight:f("arrow-small-right",60063),arrowSmallUp:f("arrow-small-up",60064),arrowUp:f("arrow-up",60065),bell:f("bell",60066),bold:f("bold",60067),book:f("book",60068),bookmark:f("bookmark",60069),debugBreakpointConditionalUnverified:f("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:f("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:f("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:f("debug-breakpoint-data-unverified",60072),debugBreakpointData:f("debug-breakpoint-data",60073),debugBreakpointDataDisabled:f("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:f("debug-breakpoint-log-unverified",60074),debugBreakpointLog:f("debug-breakpoint-log",60075),debugBreakpointLogDisabled:f("debug-breakpoint-log-disabled",60075),briefcase:f("briefcase",60076),broadcast:f("broadcast",60077),browser:f("browser",60078),bug:f("bug",60079),calendar:f("calendar",60080),caseSensitive:f("case-sensitive",60081),check:f("check",60082),checklist:f("checklist",60083),chevronDown:f("chevron-down",60084),chevronLeft:f("chevron-left",60085),chevronRight:f("chevron-right",60086),chevronUp:f("chevron-up",60087),chromeClose:f("chrome-close",60088),chromeMaximize:f("chrome-maximize",60089),chromeMinimize:f("chrome-minimize",60090),chromeRestore:f("chrome-restore",60091),circleOutline:f("circle-outline",60092),circle:f("circle",60092),debugBreakpointUnverified:f("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:f("terminal-decoration-incomplete",60092),circleSlash:f("circle-slash",60093),circuitBoard:f("circuit-board",60094),clearAll:f("clear-all",60095),clippy:f("clippy",60096),closeAll:f("close-all",60097),cloudDownload:f("cloud-download",60098),cloudUpload:f("cloud-upload",60099),code:f("code",60100),collapseAll:f("collapse-all",60101),colorMode:f("color-mode",60102),commentDiscussion:f("comment-discussion",60103),creditCard:f("credit-card",60105),dash:f("dash",60108),dashboard:f("dashboard",60109),database:f("database",60110),debugContinue:f("debug-continue",60111),debugDisconnect:f("debug-disconnect",60112),debugPause:f("debug-pause",60113),debugRestart:f("debug-restart",60114),debugStart:f("debug-start",60115),debugStepInto:f("debug-step-into",60116),debugStepOut:f("debug-step-out",60117),debugStepOver:f("debug-step-over",60118),debugStop:f("debug-stop",60119),debug:f("debug",60120),deviceCameraVideo:f("device-camera-video",60121),deviceCamera:f("device-camera",60122),deviceMobile:f("device-mobile",60123),diffAdded:f("diff-added",60124),diffIgnored:f("diff-ignored",60125),diffModified:f("diff-modified",60126),diffRemoved:f("diff-removed",60127),diffRenamed:f("diff-renamed",60128),diff:f("diff",60129),diffSidebyside:f("diff-sidebyside",60129),discard:f("discard",60130),editorLayout:f("editor-layout",60131),emptyWindow:f("empty-window",60132),exclude:f("exclude",60133),extensions:f("extensions",60134),eyeClosed:f("eye-closed",60135),fileBinary:f("file-binary",60136),fileCode:f("file-code",60137),fileMedia:f("file-media",60138),filePdf:f("file-pdf",60139),fileSubmodule:f("file-submodule",60140),fileSymlinkDirectory:f("file-symlink-directory",60141),fileSymlinkFile:f("file-symlink-file",60142),fileZip:f("file-zip",60143),files:f("files",60144),filter:f("filter",60145),flame:f("flame",60146),foldDown:f("fold-down",60147),foldUp:f("fold-up",60148),fold:f("fold",60149),folderActive:f("folder-active",60150),folderOpened:f("folder-opened",60151),gear:f("gear",60152),gift:f("gift",60153),gistSecret:f("gist-secret",60154),gist:f("gist",60155),gitCommit:f("git-commit",60156),gitCompare:f("git-compare",60157),compareChanges:f("compare-changes",60157),gitMerge:f("git-merge",60158),githubAction:f("github-action",60159),githubAlt:f("github-alt",60160),globe:f("globe",60161),grabber:f("grabber",60162),graph:f("graph",60163),gripper:f("gripper",60164),heart:f("heart",60165),home:f("home",60166),horizontalRule:f("horizontal-rule",60167),hubot:f("hubot",60168),inbox:f("inbox",60169),issueReopened:f("issue-reopened",60171),issues:f("issues",60172),italic:f("italic",60173),jersey:f("jersey",60174),json:f("json",60175),kebabVertical:f("kebab-vertical",60176),key:f("key",60177),law:f("law",60178),lightbulbAutofix:f("lightbulb-autofix",60179),linkExternal:f("link-external",60180),link:f("link",60181),listOrdered:f("list-ordered",60182),listUnordered:f("list-unordered",60183),liveShare:f("live-share",60184),loading:f("loading",60185),location:f("location",60186),mailRead:f("mail-read",60187),mail:f("mail",60188),markdown:f("markdown",60189),megaphone:f("megaphone",60190),mention:f("mention",60191),milestone:f("milestone",60192),gitPullRequestMilestone:f("git-pull-request-milestone",60192),mortarBoard:f("mortar-board",60193),move:f("move",60194),multipleWindows:f("multiple-windows",60195),mute:f("mute",60196),noNewline:f("no-newline",60197),note:f("note",60198),octoface:f("octoface",60199),openPreview:f("open-preview",60200),package:f("package",60201),paintcan:f("paintcan",60202),pin:f("pin",60203),play:f("play",60204),run:f("run",60204),plug:f("plug",60205),preserveCase:f("preserve-case",60206),preview:f("preview",60207),project:f("project",60208),pulse:f("pulse",60209),question:f("question",60210),quote:f("quote",60211),radioTower:f("radio-tower",60212),reactions:f("reactions",60213),references:f("references",60214),refresh:f("refresh",60215),regex:f("regex",60216),remoteExplorer:f("remote-explorer",60217),remote:f("remote",60218),remove:f("remove",60219),replaceAll:f("replace-all",60220),replace:f("replace",60221),repoClone:f("repo-clone",60222),repoForcePush:f("repo-force-push",60223),repoPull:f("repo-pull",60224),repoPush:f("repo-push",60225),report:f("report",60226),requestChanges:f("request-changes",60227),rocket:f("rocket",60228),rootFolderOpened:f("root-folder-opened",60229),rootFolder:f("root-folder",60230),rss:f("rss",60231),ruby:f("ruby",60232),saveAll:f("save-all",60233),saveAs:f("save-as",60234),save:f("save",60235),screenFull:f("screen-full",60236),screenNormal:f("screen-normal",60237),searchStop:f("search-stop",60238),server:f("server",60240),settingsGear:f("settings-gear",60241),settings:f("settings",60242),shield:f("shield",60243),smiley:f("smiley",60244),sortPrecedence:f("sort-precedence",60245),splitHorizontal:f("split-horizontal",60246),splitVertical:f("split-vertical",60247),squirrel:f("squirrel",60248),starFull:f("star-full",60249),starHalf:f("star-half",60250),symbolClass:f("symbol-class",60251),symbolColor:f("symbol-color",60252),symbolConstant:f("symbol-constant",60253),symbolEnumMember:f("symbol-enum-member",60254),symbolField:f("symbol-field",60255),symbolFile:f("symbol-file",60256),symbolInterface:f("symbol-interface",60257),symbolKeyword:f("symbol-keyword",60258),symbolMisc:f("symbol-misc",60259),symbolOperator:f("symbol-operator",60260),symbolProperty:f("symbol-property",60261),wrench:f("wrench",60261),wrenchSubaction:f("wrench-subaction",60261),symbolSnippet:f("symbol-snippet",60262),tasklist:f("tasklist",60263),telescope:f("telescope",60264),textSize:f("text-size",60265),threeBars:f("three-bars",60266),thumbsdown:f("thumbsdown",60267),thumbsup:f("thumbsup",60268),tools:f("tools",60269),triangleDown:f("triangle-down",60270),triangleLeft:f("triangle-left",60271),triangleRight:f("triangle-right",60272),triangleUp:f("triangle-up",60273),twitter:f("twitter",60274),unfold:f("unfold",60275),unlock:f("unlock",60276),unmute:f("unmute",60277),unverified:f("unverified",60278),verified:f("verified",60279),versions:f("versions",60280),vmActive:f("vm-active",60281),vmOutline:f("vm-outline",60282),vmRunning:f("vm-running",60283),watch:f("watch",60284),whitespace:f("whitespace",60285),wholeWord:f("whole-word",60286),window:f("window",60287),wordWrap:f("word-wrap",60288),zoomIn:f("zoom-in",60289),zoomOut:f("zoom-out",60290),listFilter:f("list-filter",60291),listFlat:f("list-flat",60292),listSelection:f("list-selection",60293),selection:f("selection",60293),listTree:f("list-tree",60294),debugBreakpointFunctionUnverified:f("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:f("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:f("debug-breakpoint-function-disabled",60296),debugStackframeActive:f("debug-stackframe-active",60297),circleSmallFilled:f("circle-small-filled",60298),debugStackframeDot:f("debug-stackframe-dot",60298),terminalDecorationMark:f("terminal-decoration-mark",60298),debugStackframe:f("debug-stackframe",60299),debugStackframeFocused:f("debug-stackframe-focused",60299),debugBreakpointUnsupported:f("debug-breakpoint-unsupported",60300),symbolString:f("symbol-string",60301),debugReverseContinue:f("debug-reverse-continue",60302),debugStepBack:f("debug-step-back",60303),debugRestartFrame:f("debug-restart-frame",60304),debugAlt:f("debug-alt",60305),callIncoming:f("call-incoming",60306),callOutgoing:f("call-outgoing",60307),menu:f("menu",60308),expandAll:f("expand-all",60309),feedback:f("feedback",60310),gitPullRequestReviewer:f("git-pull-request-reviewer",60310),groupByRefType:f("group-by-ref-type",60311),ungroupByRefType:f("ungroup-by-ref-type",60312),account:f("account",60313),gitPullRequestAssignee:f("git-pull-request-assignee",60313),bellDot:f("bell-dot",60314),debugConsole:f("debug-console",60315),library:f("library",60316),output:f("output",60317),runAll:f("run-all",60318),syncIgnored:f("sync-ignored",60319),pinned:f("pinned",60320),githubInverted:f("github-inverted",60321),serverProcess:f("server-process",60322),serverEnvironment:f("server-environment",60323),pass:f("pass",60324),issueClosed:f("issue-closed",60324),stopCircle:f("stop-circle",60325),playCircle:f("play-circle",60326),record:f("record",60327),debugAltSmall:f("debug-alt-small",60328),vmConnect:f("vm-connect",60329),cloud:f("cloud",60330),merge:f("merge",60331),export:f("export",60332),graphLeft:f("graph-left",60333),magnet:f("magnet",60334),notebook:f("notebook",60335),redo:f("redo",60336),checkAll:f("check-all",60337),pinnedDirty:f("pinned-dirty",60338),passFilled:f("pass-filled",60339),circleLargeFilled:f("circle-large-filled",60340),circleLarge:f("circle-large",60341),circleLargeOutline:f("circle-large-outline",60341),combine:f("combine",60342),gather:f("gather",60342),table:f("table",60343),variableGroup:f("variable-group",60344),typeHierarchy:f("type-hierarchy",60345),typeHierarchySub:f("type-hierarchy-sub",60346),typeHierarchySuper:f("type-hierarchy-super",60347),gitPullRequestCreate:f("git-pull-request-create",60348),runAbove:f("run-above",60349),runBelow:f("run-below",60350),notebookTemplate:f("notebook-template",60351),debugRerun:f("debug-rerun",60352),workspaceTrusted:f("workspace-trusted",60353),workspaceUntrusted:f("workspace-untrusted",60354),workspaceUnknown:f("workspace-unknown",60355),terminalCmd:f("terminal-cmd",60356),terminalDebian:f("terminal-debian",60357),terminalLinux:f("terminal-linux",60358),terminalPowershell:f("terminal-powershell",60359),terminalTmux:f("terminal-tmux",60360),terminalUbuntu:f("terminal-ubuntu",60361),terminalBash:f("terminal-bash",60362),arrowSwap:f("arrow-swap",60363),copy:f("copy",60364),personAdd:f("person-add",60365),filterFilled:f("filter-filled",60366),wand:f("wand",60367),debugLineByLine:f("debug-line-by-line",60368),inspect:f("inspect",60369),layers:f("layers",60370),layersDot:f("layers-dot",60371),layersActive:f("layers-active",60372),compass:f("compass",60373),compassDot:f("compass-dot",60374),compassActive:f("compass-active",60375),azure:f("azure",60376),issueDraft:f("issue-draft",60377),gitPullRequestClosed:f("git-pull-request-closed",60378),gitPullRequestDraft:f("git-pull-request-draft",60379),debugAll:f("debug-all",60380),debugCoverage:f("debug-coverage",60381),runErrors:f("run-errors",60382),folderLibrary:f("folder-library",60383),debugContinueSmall:f("debug-continue-small",60384),beakerStop:f("beaker-stop",60385),graphLine:f("graph-line",60386),graphScatter:f("graph-scatter",60387),pieChart:f("pie-chart",60388),bracket:f("bracket",60175),bracketDot:f("bracket-dot",60389),bracketError:f("bracket-error",60390),lockSmall:f("lock-small",60391),azureDevops:f("azure-devops",60392),verifiedFilled:f("verified-filled",60393),newline:f("newline",60394),layout:f("layout",60395),layoutActivitybarLeft:f("layout-activitybar-left",60396),layoutActivitybarRight:f("layout-activitybar-right",60397),layoutPanelLeft:f("layout-panel-left",60398),layoutPanelCenter:f("layout-panel-center",60399),layoutPanelJustify:f("layout-panel-justify",60400),layoutPanelRight:f("layout-panel-right",60401),layoutPanel:f("layout-panel",60402),layoutSidebarLeft:f("layout-sidebar-left",60403),layoutSidebarRight:f("layout-sidebar-right",60404),layoutStatusbar:f("layout-statusbar",60405),layoutMenubar:f("layout-menubar",60406),layoutCentered:f("layout-centered",60407),target:f("target",60408),indent:f("indent",60409),recordSmall:f("record-small",60410),errorSmall:f("error-small",60411),terminalDecorationError:f("terminal-decoration-error",60411),arrowCircleDown:f("arrow-circle-down",60412),arrowCircleLeft:f("arrow-circle-left",60413),arrowCircleRight:f("arrow-circle-right",60414),arrowCircleUp:f("arrow-circle-up",60415),layoutSidebarRightOff:f("layout-sidebar-right-off",60416),layoutPanelOff:f("layout-panel-off",60417),layoutSidebarLeftOff:f("layout-sidebar-left-off",60418),blank:f("blank",60419),heartFilled:f("heart-filled",60420),map:f("map",60421),mapHorizontal:f("map-horizontal",60421),foldHorizontal:f("fold-horizontal",60421),mapFilled:f("map-filled",60422),mapHorizontalFilled:f("map-horizontal-filled",60422),foldHorizontalFilled:f("fold-horizontal-filled",60422),circleSmall:f("circle-small",60423),bellSlash:f("bell-slash",60424),bellSlashDot:f("bell-slash-dot",60425),commentUnresolved:f("comment-unresolved",60426),gitPullRequestGoToChanges:f("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:f("git-pull-request-new-changes",60428),searchFuzzy:f("search-fuzzy",60429),commentDraft:f("comment-draft",60430),send:f("send",60431),sparkle:f("sparkle",60432),insert:f("insert",60433),mic:f("mic",60434),thumbsdownFilled:f("thumbsdown-filled",60435),thumbsupFilled:f("thumbsup-filled",60436),coffee:f("coffee",60437),snake:f("snake",60438),game:f("game",60439),vr:f("vr",60440),chip:f("chip",60441),piano:f("piano",60442),music:f("music",60443),micFilled:f("mic-filled",60444),repoFetch:f("repo-fetch",60445),copilot:f("copilot",60446),lightbulbSparkle:f("lightbulb-sparkle",60447),robot:f("robot",60448),sparkleFilled:f("sparkle-filled",60449),diffSingle:f("diff-single",60450),diffMultiple:f("diff-multiple",60451),surroundWith:f("surround-with",60452),share:f("share",60453),gitStash:f("git-stash",60454),gitStashApply:f("git-stash-apply",60455),gitStashPop:f("git-stash-pop",60456),vscode:f("vscode",60457),vscodeInsiders:f("vscode-insiders",60458),codeOss:f("code-oss",60459),runCoverage:f("run-coverage",60460),runAllCoverage:f("run-all-coverage",60461),coverage:f("coverage",60462),githubProject:f("github-project",60463),mapVertical:f("map-vertical",60464),foldVertical:f("fold-vertical",60464),mapVerticalFilled:f("map-vertical-filled",60465),foldVerticalFilled:f("fold-vertical-filled",60465),goToSearch:f("go-to-search",60466),percentage:f("percentage",60467),sortPercentage:f("sort-percentage",60467),attach:f("attach",60468)};var PV=Object.defineProperty,RV=(t,e)=>PV(t,"name",{value:e,configurable:!0});function NV(){return Object.values(he)}RV(NV,"getAllCodicons");const OV={dialogError:f("dialog-error","error"),dialogWarning:f("dialog-warning","warning"),dialogInfo:f("dialog-info","info"),dialogClose:f("dialog-close","close"),treeItemExpanded:f("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:f("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:f("tree-filter-on-type-off","list-selection"),treeFilterClear:f("tree-filter-clear","close"),treeItemLoading:f("tree-item-loading","loading"),menuSelection:f("menu-selection","check"),menuSubmenu:f("menu-submenu","chevron-right"),menuBarMore:f("menubar-more","more"),scrollbarButtonLeft:f("scrollbar-button-left","triangle-left"),scrollbarButtonRight:f("scrollbar-button-right","triangle-right"),scrollbarButtonUp:f("scrollbar-button-up","triangle-up"),scrollbarButtonDown:f("scrollbar-button-down","triangle-down"),toolBarMore:f("toolbar-more","more"),quickInputBack:f("quick-input-back","arrow-left"),dropDownButton:f("drop-down-button",60084),symbolCustomColor:f("symbol-customcolor",60252),exportIcon:f("export",60332),workspaceUnspecified:f("workspace-unspecified",60355),newLine:f("newline",60394),thumbsDownFilled:f("thumbsdown-filled",60435),thumbsUpFilled:f("thumbsup-filled",60436),gitFetch:f("git-fetch",60445),lightbulbSparkleAutofix:f("lightbulb-sparkle-autofix",60447),debugBreakpointPending:f("debug-breakpoint-pending",60377)},he={...LV,...OV};var BV=Object.defineProperty,Qp=(t,e)=>BV(t,"name",{value:e,configurable:!0}),er;(t=>{t.serviceIds=new Map,t.DI_TARGET="$di$target",t.DI_DEPENDENCIES="$di$dependencies";function e(i){return i[t.DI_DEPENDENCIES]||[]}t.getServiceDependencies=e,Qp(e,"getServiceDependencies")})(er||(er={}));const rt=Ce("instantiationService");function $L(t,e,i){e[er.DI_TARGET]===e?e[er.DI_DEPENDENCIES].push({id:t,index:i}):(e[er.DI_DEPENDENCIES]=[{id:t,index:i}],e[er.DI_TARGET]=e)}Qp($L,"storeServiceDependency");function Ce(t){if(er.serviceIds.has(t))return er.serviceIds.get(t);const e=Qp((i,s,n)=>{if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");$L(e,i,n)},"id");return e.toString=()=>t,er.serviceIds.set(t,e),e}Qp(Ce,"createDecorator");function MV(t){return t}Qp(MV,"refineServiceDecorator");var FV=Object.defineProperty,KL=(t,e)=>FV(t,"name",{value:e,configurable:!0}),bh=(t=>(t.DARK="dark",t.LIGHT="light",t.HIGH_CONTRAST_DARK="hcDark",t.HIGH_CONTRAST_LIGHT="hcLight",t))(bh||{});function VV(t){return t==="hcDark"||t==="hcLight"}KL(VV,"isHighContrast");function WC(t){return t==="dark"||t==="hcDark"}KL(WC,"isDark");var HV=Object.defineProperty,Jp=(t,e)=>HV(t,"name",{value:e,configurable:!0});const Vi=Ce("themeService");function WV(t){return{id:t}}Jp(WV,"themeColorFromId");function UV(t){switch(t){case bh.DARK:return"vs-dark";case bh.HIGH_CONTRAST_DARK:return"hc-black";case bh.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}Jp(UV,"getThemeTypeSelector");const zV={ThemingContribution:"base.contributions.theming"};class $V{static{Jp(this,"ThemingRegistry")}themingParticipants=[];onThemingParticipantAddedEmitter;constructor(){this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new I}onColorThemeChange(e){return this.themingParticipants.push(e),this.onThemingParticipantAddedEmitter.fire(e),Se(()=>{const i=this.themingParticipants.indexOf(e);this.themingParticipants.splice(i,1)})}get onThemingParticipantAdded(){return this.onThemingParticipantAddedEmitter.event}getThemingParticipants(){return this.themingParticipants}}const GL=new $V;ui.add(zV.ThemingContribution,GL);function UC(t){return GL.onColorThemeChange(t)}Jp(UC,"registerThemingParticipant");class w1 extends q{constructor(e){super(),this.themeService=e,this.theme=e.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(i=>this.onThemeChange(i)))}static{Jp(this,"Themable")}theme;onThemeChange(e){this.theme=e,this.updateStyles()}updateStyles(){}getColor(e,i){let s=this.theme.getColor(e);return s&&i&&(s=i(s,this.theme)),s?s.toString():null}}var KV=Object.defineProperty,GV=(t,e)=>KV(t,"name",{value:e,configurable:!0});function jL(t){switch(t.type){case bh.LIGHT:return k.fromHex("#F3F3F3");case bh.HIGH_CONTRAST_LIGHT:return k.fromHex("#FFFFFF");case bh.HIGH_CONTRAST_DARK:return k.fromHex("#000000");default:return k.fromHex("#252526")}}GV(jL,"WORKBENCH_BACKGROUND");const qL=v("tab.activeBackground",oc,c("tabActiveBackground","Active tab background color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("tab.unfocusedActiveBackground",qL,c("tabUnfocusedActiveBackground","Active tab background color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));const jV=v("tab.inactiveBackground",{dark:"#2D2D2D",light:"#ECECEC",hcDark:null,hcLight:null},c("tabInactiveBackground","Inactive tab background color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("tab.unfocusedInactiveBackground",jV,c("tabUnfocusedInactiveBackground","Inactive tab background color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));const Ph=v("tab.activeForeground",{dark:k.white,light:"#333333",hcDark:k.white,hcLight:"#292929"},c("tabActiveForeground","Active tab foreground color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),CI=v("tab.inactiveForeground",{dark:le(Ph,.5),light:le(Ph,.7),hcDark:k.white,hcLight:"#292929"},c("tabInactiveForeground","Inactive tab foreground color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("tab.unfocusedActiveForeground",{dark:le(Ph,.5),light:le(Ph,.7),hcDark:k.white,hcLight:"#292929"},c("tabUnfocusedActiveForeground","Active tab foreground color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("tab.unfocusedInactiveForeground",{dark:le(CI,.5),light:le(CI,.5),hcDark:k.white,hcLight:"#292929"},c("tabUnfocusedInactiveForeground","Inactive tab foreground color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));const DI=v("tab.hoverBackground",null,c("tabHoverBackground","Tab background color when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("tab.unfocusedHoverBackground",{dark:le(DI,.5),light:le(DI,.7),hcDark:null,hcLight:null},c("tabUnfocusedHoverBackground","Tab background color in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));const AI=v("tab.hoverForeground",null,c("tabHoverForeground","Tab foreground color when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("tab.unfocusedHoverForeground",{dark:le(AI,.5),light:le(AI,.5),hcDark:null,hcLight:null},c("tabUnfocusedHoverForeground","Tab foreground color in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("tab.border",{dark:"#252526",light:"#F3F3F3",hcDark:ce,hcLight:ce},c("tabBorder","Border to separate tabs from each other. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("tab.lastPinnedBorder",{dark:Ov,light:Ov,hcDark:ce,hcLight:ce},c("lastPinnedTabBorder","Border to separate pinned tabs from other tabs. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));const EI=v("tab.activeBorder",null,c("tabActiveBorder","Border on the bottom of an active tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("tab.unfocusedActiveBorder",{dark:le(EI,.5),light:le(EI,.7),hcDark:null,hcLight:null},c("tabActiveUnfocusedBorder","Border on the bottom of an active tab in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));const K_=v("tab.activeBorderTop",{dark:null,light:null,hcDark:null,hcLight:"#B5200D"},c("tabActiveBorderTop","Border to the top of an active tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("tab.unfocusedActiveBorderTop",{dark:le(K_,.5),light:le(K_,.7),hcDark:null,hcLight:"#B5200D"},c("tabActiveUnfocusedBorderTop","Border to the top of an active tab in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("tab.selectedBorderTop",K_,c("tabSelectedBorderTop","Border to the top of a selected tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("tab.selectedBackground",qL,c("tabSelectedBackground","Background of a selected tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("tab.selectedForeground",Ph,c("tabSelectedForeground","Foreground of a selected tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));const II=v("tab.hoverBorder",null,c("tabHoverBorder","Border to highlight tabs when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("tab.unfocusedHoverBorder",{dark:le(II,.5),light:le(II,.7),hcDark:null,hcLight:ce},c("tabUnfocusedHoverBorder","Border to highlight tabs in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("tab.dragAndDropBorder",{dark:Ph,light:Ph,hcDark:yi,hcLight:yi},c("tabDragAndDropBorder","Border between tabs to indicate that a tab can be inserted between two tabs. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));const Bv=v("tab.activeModifiedBorder",{dark:"#3399CC",light:"#33AAEE",hcDark:null,hcLight:ce},c("tabActiveModifiedBorder","Border on the top of modified active tabs in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.")),TI=v("tab.inactiveModifiedBorder",{dark:le(Bv,.5),light:le(Bv,.5),hcDark:k.white,hcLight:ce},c("tabInactiveModifiedBorder","Border on the top of modified inactive tabs in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("tab.unfocusedActiveModifiedBorder",{dark:le(Bv,.5),light:le(Bv,.7),hcDark:k.white,hcLight:ce},c("unfocusedActiveModifiedBorder","Border on the top of modified active tabs in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("tab.unfocusedInactiveModifiedBorder",{dark:le(TI,.5),light:le(TI,.5),hcDark:k.white,hcLight:ce},c("unfocusedINactiveModifiedBorder","Border on the top of modified inactive tabs in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups."));v("editorPane.background",oc,c("editorPaneBackground","Background color of the editor pane visible on the left and right side of the centered editor layout."));v("editorGroup.emptyBackground",null,c("editorGroupEmptyBackground","Background color of an empty editor group. Editor groups are the containers of editors."));v("editorGroup.focusedEmptyBorder",{dark:null,light:null,hcDark:oo,hcLight:oo},c("editorGroupFocusedEmptyBorder","Border color of an empty editor group that is focused. Editor groups are the containers of editors."));v("editorGroupHeader.tabsBackground",{dark:"#252526",light:"#F3F3F3",hcDark:null,hcLight:null},c("tabsContainerBackground","Background color of the editor group title header when tabs are enabled. Editor groups are the containers of editors."));v("editorGroupHeader.tabsBorder",null,c("tabsContainerBorder","Border color of the editor group title header when tabs are enabled. Editor groups are the containers of editors."));v("editorGroupHeader.noTabsBackground",oc,c("editorGroupHeaderBackground",'Background color of the editor group title header when (`"workbench.editor.showTabs": "single"`). Editor groups are the containers of editors.'));v("editorGroupHeader.border",{dark:null,light:null,hcDark:ce,hcLight:ce},c("editorTitleContainerBorder","Border color of the editor group title header. Editor groups are the containers of editors."));const YL=v("editorGroup.border",{dark:"#444444",light:"#E7E7E7",hcDark:ce,hcLight:ce},c("editorGroupBorder","Color to separate multiple editor groups from each other. Editor groups are the containers of editors.")),zC=v("editorGroup.dropBackground",{dark:k.fromHex("#53595D").transparent(.5),light:k.fromHex("#2677CB").transparent(.18),hcDark:null,hcLight:k.fromHex("#0F4A85").transparent(.5)},c("editorDragAndDropBackground","Background color when dragging editors around. The color should have transparency so that the editor contents can still shine through."));v("editorGroup.dropIntoPromptForeground",sg,c("editorDropIntoPromptForeground","Foreground color of text shown over editors when dragging files. This text informs the user that they can hold shift to drop into the editor."));v("editorGroup.dropIntoPromptBackground",An,c("editorDropIntoPromptBackground","Background color of text shown over editors when dragging files. This text informs the user that they can hold shift to drop into the editor."));v("editorGroup.dropIntoPromptBorder",{dark:null,light:null,hcDark:ce,hcLight:ce},c("editorDropIntoPromptBorder","Border color of text shown over editors when dragging files. This text informs the user that they can hold shift to drop into the editor."));v("sideBySideEditor.horizontalBorder",YL,c("sideBySideEditor.horizontalBorder","Color to separate two editors from each other when shown side by side in an editor group from top to bottom."));v("sideBySideEditor.verticalBorder",YL,c("sideBySideEditor.verticalBorder","Color to separate two editors from each other when shown side by side in an editor group from left to right."));const vf=v("panel.background",oc,c("panelBackground","Panel background color. Panels are shown below the editor area and contain views like output and integrated terminal.")),G_=v("panel.border",{dark:k.fromHex("#808080").transparent(.35),light:k.fromHex("#808080").transparent(.35),hcDark:ce,hcLight:ce},c("panelBorder","Panel border color to separate the panel from the editor. Panels are shown below the editor area and contain views like output and integrated terminal.")),Rh=v("panelTitle.activeForeground",{dark:"#E7E7E7",light:"#424242",hcDark:k.white,hcLight:Zh},c("panelActiveTitleForeground","Title color for the active panel. Panels are shown below the editor area and contain views like output and integrated terminal.")),XL=v("panelTitle.inactiveForeground",{dark:le(Rh,.6),light:le(Rh,.75),hcDark:k.white,hcLight:Zh},c("panelInactiveTitleForeground","Title color for the inactive panel. Panels are shown below the editor area and contain views like output and integrated terminal.")),ZL=v("panelTitle.activeBorder",{dark:Rh,light:Rh,hcDark:ce,hcLight:"#B5200D"},c("panelActiveTitleBorder","Border color for the active panel title. Panels are shown below the editor area and contain views like output and integrated terminal."));v("panelInput.border",{dark:Hb,light:k.fromHex("#ddd"),hcDark:Hb,hcLight:Hb},c("panelInputBorder","Input box border for inputs in the panel."));const QL=v("panel.dropBorder",Rh,c("panelDragAndDropBorder","Drag and drop feedback color for the panel titles. Panels are shown below the editor area and contain views like output and integrated terminal.")),JL=v("panelSection.dropBackground",zC,c("panelSectionDragAndDropBackground","Drag and drop feedback color for the panel sections. The color should have transparency so that the panel sections can still shine through. Panels are shown below the editor area and contain views like output and integrated terminal. Panel sections are views nested within the panels.")),qV=v("panelSectionHeader.background",{dark:k.fromHex("#808080").transparent(.2),light:k.fromHex("#808080").transparent(.2),hcDark:null,hcLight:null},c("panelSectionHeaderBackground","Panel section header background color. Panels are shown below the editor area and contain views like output and integrated terminal. Panel sections are views nested within the panels.")),YV=v("panelSectionHeader.foreground",null,c("panelSectionHeaderForeground","Panel section header foreground color. Panels are shown below the editor area and contain views like output and integrated terminal. Panel sections are views nested within the panels.")),XV=v("panelSectionHeader.border",ce,c("panelSectionHeaderBorder","Panel section header border color used when multiple views are stacked vertically in the panel. Panels are shown below the editor area and contain views like output and integrated terminal. Panel sections are views nested within the panels.")),ZV=v("panelSection.border",G_,c("panelSectionBorder","Panel section border color used when multiple views are stacked horizontally in the panel. Panels are shown below the editor area and contain views like output and integrated terminal. Panel sections are views nested within the panels.")),QV=v("panelStickyScroll.background",vf,c("panelStickyScrollBackground","Background color of sticky scroll in the panel.")),JV=v("panelStickyScroll.border",null,c("panelStickyScrollBorder","Border color of sticky scroll in the panel.")),eH=v("panelStickyScroll.shadow",Zp,c("panelStickyScrollShadow","Shadow color of sticky scroll in the panel.")),tH=v("outputView.background",null,c("outputViewBackground","Output view background color."));v("outputViewStickyScroll.background",tH,c("outputViewStickyScrollBackground","Output view sticky scroll background color."));v("banner.background",{dark:Jo,light:Rn(Jo,.3),hcDark:Jo,hcLight:Jo},c("banner.background","Banner background color. The banner is shown under the title bar of the window."));v("banner.foreground",Lu,c("banner.foreground","Banner foreground color. The banner is shown under the title bar of the window."));v("banner.iconForeground",Tu,c("banner.iconForeground","Banner icon color. The banner is shown under the title bar of the window."));const Ql=v("statusBar.foreground",{dark:"#FFFFFF",light:"#FFFFFF",hcDark:"#FFFFFF",hcLight:Zh},c("statusBarForeground","Status bar foreground color when a workspace or folder is opened. The status bar is shown in the bottom of the window."));v("statusBar.noFolderForeground",Ql,c("statusBarNoFolderForeground","Status bar foreground color when no folder is opened. The status bar is shown in the bottom of the window."));v("statusBar.background",{dark:"#007ACC",light:"#007ACC",hcDark:null,hcLight:null},c("statusBarBackground","Status bar background color when a workspace or folder is opened. The status bar is shown in the bottom of the window."));v("statusBar.noFolderBackground",{dark:"#68217A",light:"#68217A",hcDark:null,hcLight:null},c("statusBarNoFolderBackground","Status bar background color when no folder is opened. The status bar is shown in the bottom of the window."));const iH=v("statusBar.border",{dark:null,light:null,hcDark:ce,hcLight:ce},c("statusBarBorder","Status bar border color separating to the sidebar and editor. The status bar is shown in the bottom of the window."));v("statusBar.focusBorder",{dark:Ql,light:Ql,hcDark:null,hcLight:Ql},c("statusBarFocusBorder","Status bar border color when focused on keyboard navigation. The status bar is shown in the bottom of the window."));v("statusBar.noFolderBorder",iH,c("statusBarNoFolderBorder","Status bar border color separating to the sidebar and editor when no folder is opened. The status bar is shown in the bottom of the window."));v("statusBarItem.activeBackground",{dark:k.white.transparent(.18),light:k.white.transparent(.18),hcDark:k.white.transparent(.18),hcLight:k.black.transparent(.18)},c("statusBarItemActiveBackground","Status bar item background color when clicking. The status bar is shown in the bottom of the window."));v("statusBarItem.focusBorder",{dark:Ql,light:Ql,hcDark:null,hcLight:yi},c("statusBarItemFocusBorder","Status bar item border color when focused on keyboard navigation. The status bar is shown in the bottom of the window."));const Jl=v("statusBarItem.hoverBackground",{dark:k.white.transparent(.12),light:k.white.transparent(.12),hcDark:k.white.transparent(.12),hcLight:k.black.transparent(.12)},c("statusBarItemHoverBackground","Status bar item background color when hovering. The status bar is shown in the bottom of the window.")),em=v("statusBarItem.hoverForeground",Ql,c("statusBarItemHoverForeground","Status bar item foreground color when hovering. The status bar is shown in the bottom of the window."));v("statusBarItem.compactHoverBackground",{dark:k.white.transparent(.2),light:k.white.transparent(.2),hcDark:k.white.transparent(.2),hcLight:k.black.transparent(.2)},c("statusBarItemCompactHoverBackground","Status bar item background color when hovering an item that contains two hovers. The status bar is shown in the bottom of the window."));v("statusBarItem.prominentForeground",Ql,c("statusBarProminentItemForeground","Status bar prominent items foreground color. Prominent items stand out from other status bar entries to indicate importance. The status bar is shown in the bottom of the window."));v("statusBarItem.prominentBackground",k.black.transparent(.5),c("statusBarProminentItemBackground","Status bar prominent items background color. Prominent items stand out from other status bar entries to indicate importance. The status bar is shown in the bottom of the window."));v("statusBarItem.prominentHoverForeground",em,c("statusBarProminentItemHoverForeground","Status bar prominent items foreground color when hovering. Prominent items stand out from other status bar entries to indicate importance. The status bar is shown in the bottom of the window."));v("statusBarItem.prominentHoverBackground",{dark:k.black.transparent(.3),light:k.black.transparent(.3),hcDark:k.black.transparent(.3),hcLight:null},c("statusBarProminentItemHoverBackground","Status bar prominent items background color when hovering. Prominent items stand out from other status bar entries to indicate importance. The status bar is shown in the bottom of the window."));v("statusBarItem.errorBackground",{dark:Rn(uI,.4),light:Rn(uI,.4),hcDark:null,hcLight:"#B5200D"},c("statusBarErrorItemBackground","Status bar error items background color. Error items stand out from other status bar entries to indicate error conditions. The status bar is shown in the bottom of the window."));v("statusBarItem.errorForeground",k.white,c("statusBarErrorItemForeground","Status bar error items foreground color. Error items stand out from other status bar entries to indicate error conditions. The status bar is shown in the bottom of the window."));v("statusBarItem.errorHoverForeground",em,c("statusBarErrorItemHoverForeground","Status bar error items foreground color when hovering. Error items stand out from other status bar entries to indicate error conditions. The status bar is shown in the bottom of the window."));v("statusBarItem.errorHoverBackground",Jl,c("statusBarErrorItemHoverBackground","Status bar error items background color when hovering. Error items stand out from other status bar entries to indicate error conditions. The status bar is shown in the bottom of the window."));v("statusBarItem.warningBackground",{dark:Rn(Lh,.4),light:Rn(Lh,.4),hcDark:null,hcLight:"#895503"},c("statusBarWarningItemBackground","Status bar warning items background color. Warning items stand out from other status bar entries to indicate warning conditions. The status bar is shown in the bottom of the window."));v("statusBarItem.warningForeground",k.white,c("statusBarWarningItemForeground","Status bar warning items foreground color. Warning items stand out from other status bar entries to indicate warning conditions. The status bar is shown in the bottom of the window."));v("statusBarItem.warningHoverForeground",em,c("statusBarWarningItemHoverForeground","Status bar warning items foreground color when hovering. Warning items stand out from other status bar entries to indicate warning conditions. The status bar is shown in the bottom of the window."));v("statusBarItem.warningHoverBackground",Jl,c("statusBarWarningItemHoverBackground","Status bar warning items background color when hovering. Warning items stand out from other status bar entries to indicate warning conditions. The status bar is shown in the bottom of the window."));const sH=v("activityBar.background",{dark:"#333333",light:"#2C2C2C",hcDark:"#000000",hcLight:"#FFFFFF"},c("activityBarBackground","Activity bar background color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),Nh=v("activityBar.foreground",{dark:k.white,light:k.white,hcDark:k.white,hcLight:Zh},c("activityBarForeground","Activity bar item foreground color when it is active. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),nH=v("activityBar.inactiveForeground",{dark:le(Nh,.4),light:le(Nh,.4),hcDark:k.white,hcLight:Zh},c("activityBarInActiveForeground","Activity bar item foreground color when it is inactive. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),oH=v("activityBar.border",{dark:null,light:null,hcDark:ce,hcLight:ce},c("activityBarBorder","Activity bar border color separating to the side bar. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),eP=v("activityBar.activeBorder",{dark:Nh,light:Nh,hcDark:ce,hcLight:ce},c("activityBarActiveBorder","Activity bar border color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),rH=v("activityBar.activeFocusBorder",{dark:null,light:null,hcDark:null,hcLight:"#B5200D"},c("activityBarActiveFocusBorder","Activity bar focus border color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),tP=v("activityBar.activeBackground",null,c("activityBarActiveBackground","Activity bar background color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),aH=v("activityBar.dropBorder",{dark:Nh,light:Nh,hcDark:null,hcLight:null},c("activityBarDragAndDropBorder","Drag and drop feedback color for the activity bar items. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),Qh=v("activityBarBadge.background",{dark:"#007ACC",light:"#007ACC",hcDark:"#000000",hcLight:"#0F4A85"},c("activityBarBadgeBackground","Activity notification badge background color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),Jh=v("activityBarBadge.foreground",k.white,c("activityBarBadgeForeground","Activity notification badge foreground color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.")),Oh=v("activityBarTop.foreground",{dark:"#E7E7E7",light:"#424242",hcDark:k.white,hcLight:Zh},c("activityBarTop","Active foreground color of the item in the Activity bar when it is on top / bottom. The activity allows to switch between views of the side bar.")),iP=v("activityBarTop.activeBorder",{dark:Oh,light:Oh,hcDark:ce,hcLight:"#B5200D"},c("activityBarTopActiveFocusBorder","Focus border color for the active item in the Activity bar when it is on top / bottom. The activity allows to switch between views of the side bar."));v("activityBarTop.activeBackground",null,c("activityBarTopActiveBackground","Background color for the active item in the Activity bar when it is on top / bottom. The activity allows to switch between views of the side bar."));const sP=v("activityBarTop.inactiveForeground",{dark:le(Oh,.6),light:le(Oh,.75),hcDark:k.white,hcLight:Zh},c("activityBarTopInActiveForeground","Inactive foreground color of the item in the Activity bar when it is on top / bottom. The activity allows to switch between views of the side bar.")),nP=v("activityBarTop.dropBorder",Oh,c("activityBarTopDragAndDropBorder","Drag and drop feedback color for the items in the Activity bar when it is on top / bottom. The activity allows to switch between views of the side bar."));v("activityBarTop.background",null,c("activityBarTopBackground","Background color of the activity bar when set to top / bottom."));v("profileBadge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:k.white,hcLight:k.black},c("profileBadgeBackground","Profile badge background color. The profile badge shows on top of the settings gear icon in the activity bar."));v("profileBadge.foreground",{dark:k.white,light:"#333333",hcDark:k.black,hcLight:k.white},c("profileBadgeForeground","Profile badge foreground color. The profile badge shows on top of the settings gear icon in the activity bar."));v("statusBarItem.remoteBackground",Qh,c("statusBarItemHostBackground","Background color for the remote indicator on the status bar."));const lH=v("statusBarItem.remoteForeground",Jh,c("statusBarItemHostForeground","Foreground color for the remote indicator on the status bar."));v("statusBarItem.remoteHoverForeground",em,c("statusBarRemoteItemHoverForeground","Foreground color for the remote indicator on the status bar when hovering."));v("statusBarItem.remoteHoverBackground",{dark:Jl,light:Jl,hcDark:Jl,hcLight:null},c("statusBarRemoteItemHoverBackground","Background color for the remote indicator on the status bar when hovering."));v("statusBarItem.offlineBackground","#6c1717",c("statusBarItemOfflineBackground","Status bar item background color when the workbench is offline."));v("statusBarItem.offlineForeground",lH,c("statusBarItemOfflineForeground","Status bar item foreground color when the workbench is offline."));v("statusBarItem.offlineHoverForeground",em,c("statusBarOfflineItemHoverForeground","Status bar item foreground hover color when the workbench is offline."));v("statusBarItem.offlineHoverBackground",{dark:Jl,light:Jl,hcDark:Jl,hcLight:null},c("statusBarOfflineItemHoverBackground","Status bar item background hover color when the workbench is offline."));v("extensionBadge.remoteBackground",Qh,c("extensionBadge.remoteBackground","Background color for the remote badge in the extensions view."));v("extensionBadge.remoteForeground",Jh,c("extensionBadge.remoteForeground","Foreground color for the remote badge in the extensions view."));const Wa=v("sideBar.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#000000",hcLight:"#FFFFFF"},c("sideBarBackground","Side bar background color. The side bar is the container for views like explorer and search.")),y1=v("sideBar.foreground",null,c("sideBarForeground","Side bar foreground color. The side bar is the container for views like explorer and search.")),Mv=v("sideBar.border",{dark:null,light:null,hcDark:ce,hcLight:ce},c("sideBarBorder","Side bar border color on the side separating to the editor. The side bar is the container for views like explorer and search."));v("sideBarTitle.background",Wa,c("sideBarTitleBackground","Side bar title background color. The side bar is the container for views like explorer and search."));const cH=v("sideBarTitle.foreground",y1,c("sideBarTitleForeground","Side bar title foreground color. The side bar is the container for views like explorer and search.")),$C=v("sideBar.dropBackground",zC,c("sideBarDragAndDropBackground","Drag and drop feedback color for the side bar sections. The color should have transparency so that the side bar sections can still shine through. The side bar is the container for views like explorer and search. Side bar sections are views nested within the side bar.")),hH=v("sideBarSectionHeader.background",{dark:k.fromHex("#808080").transparent(.2),light:k.fromHex("#808080").transparent(.2),hcDark:null,hcLight:null},c("sideBarSectionHeaderBackground","Side bar section header background color. The side bar is the container for views like explorer and search. Side bar sections are views nested within the side bar.")),dH=v("sideBarSectionHeader.foreground",y1,c("sideBarSectionHeaderForeground","Side bar section header foreground color. The side bar is the container for views like explorer and search. Side bar sections are views nested within the side bar.")),oP=v("sideBarSectionHeader.border",ce,c("sideBarSectionHeaderBorder","Side bar section header border color. The side bar is the container for views like explorer and search. Side bar sections are views nested within the side bar."));v("sideBarActivityBarTop.border",oP,c("sideBarActivityBarTopBorder","Border color between the activity bar at the top/bottom and the views."));const uH=v("sideBarStickyScroll.background",Wa,c("sideBarStickyScrollBackground","Background color of sticky scroll in the side bar.")),gH=v("sideBarStickyScroll.border",null,c("sideBarStickyScrollBorder","Border color of sticky scroll in the side bar.")),fH=v("sideBarStickyScroll.shadow",Zp,c("sideBarStickyScrollShadow","Shadow color of sticky scroll in the side bar.")),Br=v("titleBar.activeForeground",{dark:"#CCCCCC",light:"#333333",hcDark:"#FFFFFF",hcLight:"#292929"},c("titleBarActiveForeground","Title bar foreground when the window is active.")),rP=v("titleBar.inactiveForeground",{dark:le(Br,.6),light:le(Br,.6),hcDark:null,hcLight:"#292929"},c("titleBarInactiveForeground","Title bar foreground when the window is inactive.")),j_=v("titleBar.activeBackground",{dark:"#3C3C3C",light:"#DDDDDD",hcDark:"#000000",hcLight:"#FFFFFF"},c("titleBarActiveBackground","Title bar background when the window is active."));v("titleBar.inactiveBackground",{dark:le(j_,.6),light:le(j_,.6),hcDark:null,hcLight:null},c("titleBarInactiveBackground","Title bar background when the window is inactive."));v("titleBar.border",{dark:null,light:null,hcDark:ce,hcLight:ce},c("titleBarBorder","Title bar border color."));const pH=v("menubar.selectionForeground",Br,c("menubarSelectionForeground","Foreground color of the selected menu item in the menubar.")),kI=v("menubar.selectionBackground",{dark:Nv,light:Nv,hcDark:null,hcLight:null},c("menubarSelectionBackground","Background color of the selected menu item in the menubar."));v("menubar.selectionBorder",{dark:null,light:null,hcDark:yi,hcLight:yi},c("menubarSelectionBorder","Border color of the selected menu item in the menubar."));v("commandCenter.foreground",Br,c("commandCenter-foreground","Foreground color of the command center"),!1);v("commandCenter.activeForeground",pH,c("commandCenter-activeForeground","Active foreground color of the command center"),!1);v("commandCenter.inactiveForeground",rP,c("commandCenter-inactiveForeground","Foreground color of the command center when the window is inactive"),!1);v("commandCenter.background",{dark:k.white.transparent(.05),hcDark:null,light:k.black.transparent(.05),hcLight:null},c("commandCenter-background","Background color of the command center"),!1);v("commandCenter.activeBackground",{dark:k.white.transparent(.08),hcDark:kI,light:k.black.transparent(.08),hcLight:kI},c("commandCenter-activeBackground","Active background color of the command center"),!1);v("commandCenter.border",{dark:le(Br,.2),hcDark:ce,light:le(Br,.2),hcLight:ce},c("commandCenter-border","Border color of the command center"),!1);v("commandCenter.activeBorder",{dark:le(Br,.3),hcDark:Br,light:le(Br,.3),hcLight:Br},c("commandCenter-activeBorder","Active border color of the command center"),!1);v("commandCenter.inactiveBorder",le(rP,.25),c("commandCenter-inactiveBorder","Border color of the command center when the window is inactive"),!1);const mH=v("notificationCenter.border",{dark:Rv,light:Rv,hcDark:ce,hcLight:ce},c("notificationCenterBorder","Notifications center border color. Notifications slide in from the bottom right of the window.")),bH=v("notificationToast.border",{dark:Rv,light:Rv,hcDark:ce,hcLight:ce},c("notificationToastBorder","Notification toast border color. Notifications slide in from the bottom right of the window."));v("notifications.foreground",sg,c("notificationsForeground","Notifications foreground color. Notifications slide in from the bottom right of the window."));const Bd=v("notifications.background",An,c("notificationsBackground","Notifications background color. Notifications slide in from the bottom right of the window."));v("notificationLink.foreground",TL,c("notificationsLink","Notification links foreground color. Notifications slide in from the bottom right of the window."));const vH=v("notificationCenterHeader.foreground",null,c("notificationCenterHeaderForeground","Notifications center header foreground color. Notifications slide in from the bottom right of the window.")),aP=v("notificationCenterHeader.background",{dark:Zn(Bd,.3),light:Rn(Bd,.05),hcDark:Bd,hcLight:Bd},c("notificationCenterHeaderBackground","Notifications center header background color. Notifications slide in from the bottom right of the window."));v("notifications.border",aP,c("notificationsBorder","Notifications border color separating from other notifications in the notifications center. Notifications slide in from the bottom right of the window."));v("notificationsErrorIcon.foreground",BC,c("notificationsErrorIconForeground","The color used for the icon of error notifications. Notifications slide in from the bottom right of the window."));v("notificationsWarningIcon.foreground",Lh,c("notificationsWarningIconForeground","The color used for the icon of warning notifications. Notifications slide in from the bottom right of the window."));v("notificationsInfoIcon.foreground",Tu,c("notificationsInfoIconForeground","The color used for the icon of info notifications. Notifications slide in from the bottom right of the window."));const wH=v("window.activeBorder",{dark:null,light:null,hcDark:ce,hcLight:ce},c("windowActiveBorder","The color used for the border of the window when it is active. Only supported in the macOS and Linux desktop client when using the custom title bar.")),yH=v("window.inactiveBorder",{dark:null,light:null,hcDark:ce,hcLight:ce},c("windowInactiveBorder","The color used for the border of the window when it is inactive. Only supported in the macOS and Linux desktop client when using the custom title bar."));UC((t,e)=>{const i=jL(t);e.addRule(`.monaco-workbench { background-color: ${i}; }`);const s=t.getColor(f8);if(s&&e.addRule(`.monaco-workbench ::selection { background-color: ${s}; }`),Qt){const n=t.getColor(j_);if(n){const o="monaco-workbench-meta-theme-color";let r=Q.document.getElementById(o);r||(r=TC(),r.name="theme-color",r.id=o),r.content=n.toString()}}$p&&e.addRule(`
			body.web {
				touch-action: none;
			}
			.monaco-workbench .monaco-editor .view-lines {
				user-select: text;
				-webkit-user-select: text;
			}
		`),No&&XS()&&e.addRule(`body { background-color: ${i}; }`)});var _H=Object.defineProperty,KC=(t,e)=>_H(t,"name",{value:e,configurable:!0});class SH extends q{static{KC(this,"DevicePixelRatioMonitor")}_onDidChange=this._register(new I);onDidChange=this._onDidChange.event;_listener;_mediaQueryList;constructor(e){super(),this._listener=()=>this._handleChange(e,!0),this._mediaQueryList=null,this._handleChange(e,!1)}_handleChange(e,i){this._mediaQueryList?.removeEventListener("change",this._listener),this._mediaQueryList=e.matchMedia(`(resolution: ${e.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),i&&this._onDidChange.fire()}}class CH extends q{static{KC(this,"PixelRatioMonitorImpl")}_onDidChange=this._register(new I);onDidChange=this._onDidChange.event;_value;get value(){return this._value}constructor(e){super(),this._value=this._getPixelRatio(e);const i=this._register(new SH(e));this._register(i.onDidChange(()=>{this._value=this._getPixelRatio(e),this._onDidChange.fire(this._value)}))}_getPixelRatio(e){const i=document.createElement("canvas").getContext("2d"),s=e.devicePixelRatio||1,n=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1;return s/n}}class DH{static{KC(this,"PixelRatioMonitorFacade")}mapWindowIdToPixelRatioMonitor=new Map;_getOrCreatePixelRatioMonitor(e){const i=ph(e);let s=this.mapWindowIdToPixelRatioMonitor.get(i);return s||(s=yu(new CH(e)),this.mapWindowIdToPixelRatioMonitor.set(i,s),yu(R.once(r3)(({vscodeWindowId:n})=>{n===i&&(s?.dispose(),this.mapWindowIdToPixelRatioMonitor.delete(i))}))),s}getInstance(e){return this._getOrCreatePixelRatioMonitor(e)}}const q_=new DH;var AH=Object.defineProperty,Pu=(t,e)=>AH(t,"name",{value:e,configurable:!0});const xI=2e4;let Yc,Wb,Y_,Ub,X_;function lP(t){Yc=document.createElement("div"),Yc.className="monaco-aria-container";const e=Pu(()=>{const s=document.createElement("div");return s.className="monaco-alert",s.setAttribute("role","alert"),s.setAttribute("aria-atomic","true"),Yc.appendChild(s),s},"createAlertContainer");Wb=e(),Y_=e();const i=Pu(()=>{const s=document.createElement("div");return s.className="monaco-status",s.setAttribute("aria-live","polite"),s.setAttribute("aria-atomic","true"),Yc.appendChild(s),s},"createStatusContainer");Ub=i(),X_=i(),t.appendChild(Yc)}Pu(lP,"setARIAContainer");function Bh(t){Yc&&(Wb.textContent!==t?(ds(Y_),np(Wb,t)):(ds(Wb),np(Y_,t)))}Pu(Bh,"alert");function Z_(t){Yc&&(Ub.textContent!==t?(ds(X_),np(Ub,t)):(ds(Ub),np(X_,t)))}Pu(Z_,"status");function np(t,e){ds(t),e.length>xI&&(e=e.substr(0,xI)),t.textContent=e,t.style.visibility="hidden",t.style.visibility="visible"}Pu(np,"insertMessage");var EH=Object.defineProperty,Xc=(t,e)=>EH(t,"name",{value:e,configurable:!0});let cP={showHover:Xc(()=>{},"showHover"),hideHover:Xc(()=>{},"hideHover"),showAndFocusLastHover:Xc(()=>{},"showAndFocusLastHover"),setupManagedHover:Xc(()=>null,"setupManagedHover"),showManagedHover:Xc(()=>{},"showManagedHover")};function hP(t){cP=t}Xc(hP,"setBaseLayerHoverDelegate");function ra(){return cP}Xc(ra,"getBaseLayerHoverDelegate");var IH=Object.defineProperty,Yd=(t,e)=>IH(t,"name",{value:e,configurable:!0});const TH=Yd(()=>({get delay(){return-1},dispose:Yd(()=>{},"dispose"),showHover:Yd(()=>{},"showHover")}),"nullHoverDelegateFactory");let _1=TH;const kH=new kn(()=>_1("mouse",!1)),xH=new kn(()=>_1("element",!1));function dP(t){_1=t}Yd(dP,"setHoverDelegateFactory");function Ri(t){return t==="element"?xH.value:kH.value}Yd(Ri,"getDefaultHoverDelegate");function og(){return _1("element",!0)}Yd(og,"createInstantHoverDelegate");var LH=Object.defineProperty,Fv=(t,e)=>LH(t,"name",{value:e,configurable:!0});const PH=Fv(()=>({msLoopTime:-1,msDelayTime:-1,dispose:Fv(()=>{},"dispose")}),"nullScopedAccessibilityProgressSignalFactory");let uP=PH;function gP(t){uP=t}Fv(gP,"setProgressAcccessibilitySignalScheduler");function fP(t,e){return uP(t,e)}Fv(fP,"getProgressAcccessibilitySignalScheduler");var RH=Object.defineProperty,jm=(t,e)=>RH(t,"name",{value:e,configurable:!0});class Wne{static{jm(this,"LoaderStats")}static get(){const e=new Map,i=new Map,s=new Map,n=new Map;function o(d,u){d.has(u.detail)||d.set(u.detail,-u.timestamp)}jm(o,"mark");function r(d,u){const g=d.get(u.detail);g&&(g>=0||d.set(u.detail,g+u.timestamp))}jm(r,"diff");let a=[];typeof require=="function"&&typeof require.getStats=="function"&&(a=require.getStats().slice(0).sort((d,u)=>d.timestamp-u.timestamp));for(const d of a)switch(d.type){case 10:o(e,d);break;case 11:case 12:r(e,d);break;case 21:o(i,d);break;case 22:r(i,d);break;case 33:o(s,d);break;case 34:r(s,d);break;case 31:o(n,d);break;case 32:r(n,d);break}let l=0;s.forEach(d=>l+=d);function h(d){const u=[];return d.forEach((g,p)=>u.push([p,g])),u}return jm(h,"to2dArray"),{amdLoad:h(e),amdInvoke:h(i),nodeRequire:h(s),nodeEval:h(n),nodeRequireTotal:l}}static toMarkdownTable(e,i){let s="";const n=[];return e.forEach((o,r)=>{n[r]=o.length}),i.forEach(o=>{o.forEach((r,a)=>{typeof r>"u"&&(r=o[a]="-");const l=r.toString().length;n[a]=Math.max(l,n[a])})}),e.forEach((o,r)=>{s+=`| ${o+" ".repeat(n[r]-o.toString().length)} `}),s+=`|
`,e.forEach((o,r)=>{s+=`| ${"-".repeat(n[r])} `}),s+=`|
`,i.forEach(o=>{o.forEach((r,a)=>{typeof r<"u"&&(s+=`| ${r+" ".repeat(n[a]-r.toString().length)} `)}),s+=`|
`}),s}}var NH=Object.defineProperty,rg=(t,e)=>NH(t,"name",{value:e,configurable:!0});function zb(t,e){return e&&(t.stack||t.stacktrace)?c("stackTrace.format","{0}: {1}",J_(t),Q_(t.stack)||Q_(t.stacktrace)):J_(t)}rg(zb,"exceptionToErrorMessage");function Q_(t){return Array.isArray(t)?t.join(`
`):t}rg(Q_,"stackToString");function J_(t){return t.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${t.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof t.code=="string"&&typeof t.errno=="number"&&typeof t.syscall=="string"?c("nodeExceptionMessage","A system error occurred ({0})",t.message):t.message||c("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}rg(J_,"detectSystemErrorMessage");function mc(t=null,e=!1){if(!t)return c("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(t)){const i=Tn(t),s=mc(i[0],e);return i.length>1?c("error.moreErrors","{0} ({1} errors in total)",s,i.length):s}if(Yi(t))return t;if(t.detail){const i=t.detail;if(i.error)return zb(i.error,e);if(i.exception)return zb(i.exception,e)}return t.stack?zb(t,e):t.message?t.message:c("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}rg(mc,"toErrorMessage");function GC(t){const e=t;return e instanceof Error&&Array.isArray(e.actions)}rg(GC,"isErrorWithActions");function pP(t,e){let i;return typeof t=="string"?i=new Error(t):i=t,i.actions=e,i}rg(pP,"createErrorWithActions");var OH=Object.defineProperty,Pg=(t,e)=>OH(t,"name",{value:e,configurable:!0});const wf={exports:{}};(()=>{function t(n){const o=[];typeof n=="number"&&o.push("code/timeOrigin",n);function r(l){o.push(l,Date.now())}Pg(r,"mark");function a(){const l=[];for(let h=0;h<o.length;h+=2)l.push({name:o[h],startTime:o[h+1]});return l}return Pg(a,"getMarks"),{mark:r,getMarks:a}}Pg(t,"_definePolyfillMarks");function e(){if(typeof performance=="object"&&typeof performance.mark=="function"&&!performance.nodeTiming)return typeof performance.timeOrigin!="number"&&!performance.timing?t():{mark(n){performance.mark(n)},getMarks(){let n=performance.timeOrigin;typeof n!="number"&&(n=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);const o=[{name:"code/timeOrigin",startTime:Math.round(n)}];for(const r of performance.getEntriesByType("mark"))o.push({name:r.name,startTime:Math.round(n+r.startTime)});return o}};if(typeof process=="object"){const n=performance?.timeOrigin;return t(n)}else return console.trace("perf-util loaded in UNKNOWN environment"),t()}Pg(e,"_define");function i(n){return n.MonacoPerformanceMarks||(n.MonacoPerformanceMarks=e()),n.MonacoPerformanceMarks}Pg(i,"_factory");var s;typeof global=="object"?s=global:typeof self=="object"?s=self:s={},typeof wf=="object"&&typeof wf.exports=="object"?wf.exports=i(s):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),s.perf=i(s))})();const Mt=wf.exports.mark;wf.exports.getMarks;var BH=Object.defineProperty,pn=(t,e)=>BH(t,"name",{value:e,configurable:!0});function jC(t){if(!t||typeof t!="object"||t instanceof RegExp)return t;const e=Array.isArray(t)?[]:{};return Object.entries(t).forEach(([i,s])=>{e[i]=s&&typeof s=="object"?jC(s):s}),e}pn(jC,"deepClone");function MH(t){if(!t||typeof t!="object")return t;const e=[t];for(;e.length>0;){const i=e.shift();Object.freeze(i);for(const s in i)if(mP.call(i,s)){const n=i[s];typeof n=="object"&&!Object.isFrozen(n)&&!sx(n)&&e.push(n)}}return t}pn(MH,"deepFreeze");const mP=Object.prototype.hasOwnProperty;function qC(t,e){return Vv(t,e,new Set)}pn(qC,"cloneAndChange");function Vv(t,e,i){if(ji(t))return t;const s=e(t);if(typeof s<"u")return s;if(Array.isArray(t)){const n=[];for(const o of t)n.push(Vv(o,e,i));return n}if(cs(t)){if(i.has(t))throw new Error("Cannot clone recursive data-structure");i.add(t);const n={};for(const o in t)mP.call(t,o)&&(n[o]=Vv(t[o],e,i));return i.delete(t),n}return t}pn(Vv,"_cloneAndChange");function YC(t,e,i=!0){return cs(t)?(cs(e)&&Object.keys(e).forEach(s=>{s in t?i&&(cs(t[s])&&cs(e[s])?YC(t[s],e[s],i):t[s]=e[s]):t[s]=e[s]}),t):e}pn(YC,"mixin");function Ua(t,e){if(t===e)return!0;if(t==null||e===null||e===void 0||typeof t!=typeof e||typeof t!="object"||Array.isArray(t)!==Array.isArray(e))return!1;let i,s;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(!Ua(t[i],e[i]))return!1}else{const n=[];for(s in t)n.push(s);n.sort();const o=[];for(s in e)o.push(s);if(o.sort(),!Ua(n,o))return!1;for(i=0;i<n.length;i++)if(!Ua(t[n[i]],e[n[i]]))return!1}return!0}pn(Ua,"equals");function e0(t){const e=new Set;return JSON.stringify(t,(i,s)=>{if(cs(s)||Array.isArray(s)){if(e.has(s))return"[Circular]";e.add(s)}return typeof s=="bigint"?`[BigInt ${s.toString()}]`:s})}pn(e0,"safeStringify");function FH(t,e){const i=Object.create(null);return!t||!e||Object.keys(e).forEach(n=>{const o=t[n],r=e[n];Ua(o,r)||(i[n]=r)}),i}pn(FH,"distinct");function VH(t,e){const i=e.toLowerCase(),s=Object.keys(t).find(n=>n.toLowerCase()===i);return s?t[s]:t[e]}pn(VH,"getCaseInsensitive");function HH(t,e){const i=Object.create(null);for(const[s,n]of Object.entries(t))e(s,n)&&(i[s]=n);return i}pn(HH,"filter");function bP(t){let e=[];for(;Object.prototype!==t;)e=e.concat(Object.getOwnPropertyNames(t)),t=Object.getPrototypeOf(t);return e}pn(bP,"getAllPropertyNames");function WH(t){const e=[];for(const i of bP(t))typeof t[i]=="function"&&e.push(i);return e}pn(WH,"getAllMethodNames");function UH(t,e){const i=pn(n=>()=>{const o=Array.prototype.slice.call(arguments,0);return e(n,o)},"createProxyMethod"),s={};for(const n of t)s[n]=i(n);return s}pn(UH,"createProxyObject");function zH(t,e){const i={};for(const[s,n]of Object.entries(t))i[s]=e(n,s);return i}pn(zH,"mapValues");var $H=Object.defineProperty,bc=(t,e)=>$H(t,"name",{value:e,configurable:!0}),Jt=(t=>(t[t.Auto=1]="Auto",t[t.Hidden=2]="Hidden",t[t.Visible=3]="Visible",t))(Jt||{});class Hv{constructor(e,i,s,n,o,r,a){this._forceIntegerValues=e,this._forceIntegerValues&&(i=i|0,s=s|0,n=n|0,o=o|0,r=r|0,a=a|0),this.rawScrollLeft=n,this.rawScrollTop=a,i<0&&(i=0),n+i>s&&(n=s-i),n<0&&(n=0),o<0&&(o=0),a+o>r&&(a=r-o),a<0&&(a=0),this.width=i,this.scrollWidth=s,this.scrollLeft=n,this.height=o,this.scrollHeight=r,this.scrollTop=a}static{bc(this,"ScrollState")}_scrollStateBrand=void 0;rawScrollLeft;rawScrollTop;width;scrollWidth;scrollLeft;height;scrollHeight;scrollTop;equals(e){return this.rawScrollLeft===e.rawScrollLeft&&this.rawScrollTop===e.rawScrollTop&&this.width===e.width&&this.scrollWidth===e.scrollWidth&&this.scrollLeft===e.scrollLeft&&this.height===e.height&&this.scrollHeight===e.scrollHeight&&this.scrollTop===e.scrollTop}withScrollDimensions(e,i){return new Hv(this._forceIntegerValues,typeof e.width<"u"?e.width:this.width,typeof e.scrollWidth<"u"?e.scrollWidth:this.scrollWidth,i?this.rawScrollLeft:this.scrollLeft,typeof e.height<"u"?e.height:this.height,typeof e.scrollHeight<"u"?e.scrollHeight:this.scrollHeight,i?this.rawScrollTop:this.scrollTop)}withScrollPosition(e){return new Hv(this._forceIntegerValues,this.width,this.scrollWidth,typeof e.scrollLeft<"u"?e.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof e.scrollTop<"u"?e.scrollTop:this.rawScrollTop)}createScrollEvent(e,i){const s=this.width!==e.width,n=this.scrollWidth!==e.scrollWidth,o=this.scrollLeft!==e.scrollLeft,r=this.height!==e.height,a=this.scrollHeight!==e.scrollHeight,l=this.scrollTop!==e.scrollTop;return{inSmoothScrolling:i,oldWidth:e.width,oldScrollWidth:e.scrollWidth,oldScrollLeft:e.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:e.height,oldScrollHeight:e.scrollHeight,oldScrollTop:e.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:s,scrollWidthChanged:n,scrollLeftChanged:o,heightChanged:r,scrollHeightChanged:a,scrollTopChanged:l}}}class S1 extends q{static{bc(this,"Scrollable")}_scrollableBrand=void 0;_smoothScrollDuration;_scheduleAtNextAnimationFrame;_state;_smoothScrolling;_onScroll=this._register(new I);onScroll=this._onScroll.event;constructor(e){super(),this._smoothScrollDuration=e.smoothScrollDuration,this._scheduleAtNextAnimationFrame=e.scheduleAtNextAnimationFrame,this._state=new Hv(e.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(e){this._smoothScrollDuration=e}validateScrollPosition(e){return this._state.withScrollPosition(e)}getScrollDimensions(){return this._state}setScrollDimensions(e,i){const s=this._state.withScrollDimensions(e,i);this._setState(s,!!this._smoothScrolling),this._smoothScrolling?.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(e){const i=this._state.withScrollPosition(e);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(i,!1)}setScrollPositionSmooth(e,i){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(e);if(this._smoothScrolling){e={scrollLeft:typeof e.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:e.scrollLeft,scrollTop:typeof e.scrollTop>"u"?this._smoothScrolling.to.scrollTop:e.scrollTop};const s=this._state.withScrollPosition(e);if(this._smoothScrolling.to.scrollLeft===s.scrollLeft&&this._smoothScrolling.to.scrollTop===s.scrollTop)return;let n;i?n=new op(this._smoothScrolling.from,s,this._smoothScrolling.startTime,this._smoothScrolling.duration):n=this._smoothScrolling.combine(this._state,s,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=n}else{const s=this._state.withScrollPosition(e);this._smoothScrolling=op.start(this._state,s,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const e=this._smoothScrolling.tick(),i=this._state.withScrollPosition(e);if(this._setState(i,!0),!!this._smoothScrolling){if(e.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(e,i){const s=this._state;s.equals(e)||(this._state=e,this._onScroll.fire(this._state.createScrollEvent(s,i)))}}class LI{static{bc(this,"SmoothScrollingUpdate")}scrollLeft;scrollTop;isDone;constructor(e,i,s){this.scrollLeft=e,this.scrollTop=i,this.isDone=s}}function $b(t,e){const i=e-t;return s=>t+i*yP(s)}bc($b,"createEaseOutCubic");function vP(t,e,i){return s=>s<i?t(s/i):e((s-i)/(1-i))}bc(vP,"createComposed");class op{static{bc(this,"SmoothScrollingOperation")}from;to;duration;startTime;animationFrameDisposable;scrollLeft;scrollTop;constructor(e,i,s,n){this.from=e,this.to=i,this.duration=n,this.startTime=s,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(e,i,s){if(Math.abs(e-i)>2.5*s){let o,r;return e<i?(o=e+.75*s,r=i-.75*s):(o=e-.75*s,r=i+.75*s),vP($b(e,o),$b(r,i),.33)}return $b(e,i)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(e){this.to=e.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(e){const i=(e-this.startTime)/this.duration;if(i<1){const s=this.scrollLeft(i),n=this.scrollTop(i);return new LI(s,n,!1)}return new LI(this.to.scrollLeft,this.to.scrollTop,!0)}combine(e,i,s){return op.start(e,i,s)}static start(e,i,s){s=s+10;const n=Date.now()-10;return new op(e,i,n,s)}}function wP(t){return Math.pow(t,3)}bc(wP,"easeInCubic");function yP(t){return 1-wP(1-t)}bc(yP,"easeOutCubic");var KH=Object.defineProperty,_P=(t,e)=>KH(t,"name",{value:e,configurable:!0}),nt=(t=>(t[t.LParen=0]="LParen",t[t.RParen=1]="RParen",t[t.Neg=2]="Neg",t[t.Eq=3]="Eq",t[t.NotEq=4]="NotEq",t[t.Lt=5]="Lt",t[t.LtEq=6]="LtEq",t[t.Gt=7]="Gt",t[t.GtEq=8]="GtEq",t[t.RegexOp=9]="RegexOp",t[t.RegexStr=10]="RegexStr",t[t.True=11]="True",t[t.False=12]="False",t[t.In=13]="In",t[t.Not=14]="Not",t[t.And=15]="And",t[t.Or=16]="Or",t[t.Str=17]="Str",t[t.QuotedStr=18]="QuotedStr",t[t.Error=19]="Error",t[t.EOF=20]="EOF",t))(nt||{});function Kb(...t){switch(t.length){case 1:return c("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",t[0]);case 2:return c("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",t[0],t[1]);case 3:return c("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",t[0],t[1],t[2]);default:return}}_P(Kb,"hintDidYouMean");const GH=c("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),jH=c("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class El{static{_P(this,"Scanner")}static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return e.lexeme;case 18:return e.lexeme;case 19:return e.lexeme;case 20:return"EOF";default:throw BS(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}static _regexFlags=new Set(["i","g","s","m","y","u"].map(e=>e.charCodeAt(0)));static _keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);_input="";_start=0;_current=0;_tokens=[];_errors=[];get errors(){return this._errors}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case O.OpenParen:this._addToken(0);break;case O.CloseParen:this._addToken(1);break;case O.ExclamationMark:if(this._match(O.Equals)){const i=this._match(O.Equals);this._tokens.push({type:4,offset:this._start,isTripleEq:i})}else this._addToken(2);break;case O.SingleQuote:this._quotedString();break;case O.Slash:this._regex();break;case O.Equals:if(this._match(O.Equals)){const i=this._match(O.Equals);this._tokens.push({type:3,offset:this._start,isTripleEq:i})}else this._match(O.Tilde)?this._addToken(9):this._error(Kb("==","=~"));break;case O.LessThan:this._addToken(this._match(O.Equals)?6:5);break;case O.GreaterThan:this._addToken(this._match(O.Equals)?8:7);break;case O.Ampersand:this._match(O.Ampersand)?this._addToken(15):this._error(Kb("&&"));break;case O.Pipe:this._match(O.Pipe)?this._addToken(16):this._error(Kb("||"));break;case O.Space:case O.CarriageReturn:case O.Tab:case O.LineFeed:case O.NoBreakSpace:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return this._isAtEnd()||this._input.charCodeAt(this._current)!==e?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?O.Null:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){const i=this._start,s=this._input.substring(this._start,this._current),n={type:19,offset:this._start,lexeme:s};this._errors.push({offset:i,lexeme:s,additionalInfo:e}),this._tokens.push(n)}stringRe=/[a-zA-Z0-9_<>\-./\\:*?+[\]^,#@;"%$\p{L}-]+/uy;_string(){this.stringRe.lastIndex=this._start;const e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;const i=this._input.substring(this._start,this._current),s=El._keywords.get(i);s?this._addToken(s):this._tokens.push({type:17,lexeme:i,offset:this._start})}}_quotedString(){for(;this._peek()!==O.SingleQuote&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(GH);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let e=this._current,i=!1,s=!1;for(;;){if(e>=this._input.length){this._current=e,this._error(jH);return}const o=this._input.charCodeAt(e);if(i)i=!1;else if(o===O.Slash&&!s){e++;break}else o===O.OpenSquareBracket?s=!0:o===O.Backslash?i=!0:o===O.CloseSquareBracket&&(s=!1);e++}for(;e<this._input.length&&El._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;const n=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:n,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}var qH=Object.defineProperty,ei=(t,e)=>qH(t,"name",{value:e,configurable:!0});const Xi=new Map;Xi.set("false",!1);Xi.set("true",!0);Xi.set("isMac",He);Xi.set("isLinux",Ni);Xi.set("isWindows",Lt);Xi.set("isWeb",Qt);Xi.set("isMacNative",He&&!Qt);Xi.set("isEdge",h6);Xi.set("isFirefox",Bk);Xi.set("isChrome",Ok);Xi.set("isSafari",c6);function SP(t,e){if(Xi.get(t)!==void 0)throw Yw("contextkey.setConstant(k, v) invoked with already set constant `k`");Xi.set(t,e)}ei(SP,"setConstant");const YH=Object.prototype.hasOwnProperty;var Qg=(t=>(t[t.False=0]="False",t[t.True=1]="True",t[t.Defined=2]="Defined",t[t.Not=3]="Not",t[t.Equals=4]="Equals",t[t.NotEquals=5]="NotEquals",t[t.And=6]="And",t[t.Regex=7]="Regex",t[t.NotRegex=8]="NotRegex",t[t.Or=9]="Or",t[t.In=10]="In",t[t.NotIn=11]="NotIn",t[t.Greater=12]="Greater",t[t.GreaterEquals=13]="GreaterEquals",t[t.Smaller=14]="Smaller",t[t.SmallerEquals=15]="SmallerEquals",t))(Qg||{});const XH={regexParsingWithErrorRecovery:!0},ZH=c("contextkey.parser.error.emptyString","Empty context key expression"),QH=c("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),JH=c("contextkey.parser.error.noInAfterNot","'in' after 'not'."),PI=c("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),eW=c("contextkey.parser.error.unexpectedToken","Unexpected token"),tW=c("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),iW=c("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),sW=c("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");class ih{constructor(e=XH){this._config=e}static{ei(this,"Parser")}static _parseError=new Error;_scanner=new El;_tokens=[];_current=0;_parsingErrors=[];get lexingErrors(){return this._scanner.errors}get parsingErrors(){return this._parsingErrors}parse(e){if(e===""){this._parsingErrors.push({message:ZH,offset:0,lexeme:"",additionalInfo:QH});return}this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{const i=this._expr();if(!this._isAtEnd()){const s=this._peek(),n=s.type===nt.Str?tW:void 0;throw this._parsingErrors.push({message:eW,offset:s.offset,lexeme:El.getLexeme(s),additionalInfo:n}),ih._parseError}return i}catch(i){if(i!==ih._parseError)throw i;return}}_expr(){return this._or()}_or(){const e=[this._and()];for(;this._matchOne(nt.Or);){const i=this._and();e.push(i)}return e.length===1?e[0]:H.or(...e)}_and(){const e=[this._term()];for(;this._matchOne(nt.And);){const i=this._term();e.push(i)}return e.length===1?e[0]:H.and(...e)}_term(){if(this._matchOne(nt.Neg)){const e=this._peek();switch(e.type){case nt.True:return this._advance(),Rs.INSTANCE;case nt.False:return this._advance(),Xs.INSTANCE;case nt.LParen:{this._advance();const i=this._expr();return this._consume(nt.RParen,PI),i?.negate()}case nt.Str:return this._advance(),td.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){const e=this._peek();switch(e.type){case nt.True:return this._advance(),H.true();case nt.False:return this._advance(),H.false();case nt.LParen:{this._advance();const i=this._expr();return this._consume(nt.RParen,PI),i}case nt.Str:{const i=e.lexeme;if(this._advance(),this._matchOne(nt.RegexOp)){const n=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),n.type!==nt.RegexStr)throw this._errExpectedButGot("REGEX",n);const o=n.lexeme,r=o.lastIndexOf("/"),a=r===o.length-1?void 0:this._removeFlagsGY(o.substring(r+1));let l;try{l=new RegExp(o.substring(1,r),a)}catch{throw this._errExpectedButGot("REGEX",n)}return rp.create(i,l)}switch(n.type){case nt.RegexStr:case nt.Error:{const o=[n.lexeme];this._advance();let r=this._peek(),a=0;for(let g=0;g<n.lexeme.length;g++)n.lexeme.charCodeAt(g)===O.OpenParen?a++:n.lexeme.charCodeAt(g)===O.CloseParen&&a--;for(;!this._isAtEnd()&&r.type!==nt.And&&r.type!==nt.Or;){switch(r.type){case nt.LParen:a++;break;case nt.RParen:a--;break;case nt.RegexStr:case nt.QuotedStr:for(let g=0;g<r.lexeme.length;g++)r.lexeme.charCodeAt(g)===O.OpenParen?a++:n.lexeme.charCodeAt(g)===O.CloseParen&&a--}if(a<0)break;o.push(El.getLexeme(r)),this._advance(),r=this._peek()}const l=o.join(""),h=l.lastIndexOf("/"),d=h===l.length-1?void 0:this._removeFlagsGY(l.substring(h+1));let u;try{u=new RegExp(l.substring(1,h),d)}catch{throw this._errExpectedButGot("REGEX",n)}return H.regex(i,u)}case nt.QuotedStr:{const o=n.lexeme;this._advance();let r=null;if(!Dv(o)){const a=o.indexOf("/"),l=o.lastIndexOf("/");if(a!==l&&a>=0){const h=o.slice(a+1,l),d=o[l+1]==="i"?"i":"";try{r=new RegExp(h,d)}catch{throw this._errExpectedButGot("REGEX",n)}}}if(r===null)throw this._errExpectedButGot("REGEX",n);return rp.create(i,r)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(nt.Not)){this._consume(nt.In,JH);const n=this._value();return H.notIn(i,n)}switch(this._peek().type){case nt.Eq:{this._advance();const n=this._value();if(this._previous().type===nt.QuotedStr)return H.equals(i,n);switch(n){case"true":return H.has(i);case"false":return H.not(i);default:return H.equals(i,n)}}case nt.NotEq:{this._advance();const n=this._value();if(this._previous().type===nt.QuotedStr)return H.notEquals(i,n);switch(n){case"true":return H.not(i);case"false":return H.has(i);default:return H.notEquals(i,n)}}case nt.Lt:return this._advance(),rm.create(i,this._value());case nt.LtEq:return this._advance(),am.create(i,this._value());case nt.Gt:return this._advance(),nm.create(i,this._value());case nt.GtEq:return this._advance(),om.create(i,this._value());case nt.In:return this._advance(),H.in(i,this._value());default:return H.has(i)}}case nt.EOF:throw this._parsingErrors.push({message:iW,offset:e.offset,lexeme:"",additionalInfo:sW}),ih._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const e=this._peek();switch(e.type){case nt.Str:case nt.QuotedStr:return this._advance(),e.lexeme;case nt.True:return this._advance(),"true";case nt.False:return this._advance(),"false";case nt.In:return this._advance(),"in";default:return""}}_flagsGYRe=/g|y/g;_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return this._check(e)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,i){if(this._check(e))return this._advance();throw this._errExpectedButGot(i,this._peek())}_errExpectedButGot(e,i,s){const n=c("contextkey.parser.error.expectedButGot",`Expected: {0}
Received: '{1}'.`,e,El.getLexeme(i)),o=i.offset,r=El.getLexeme(i);return this._parsingErrors.push({message:n,offset:o,lexeme:r,additionalInfo:s}),ih._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===nt.EOF}}class H{static{ei(this,"ContextKeyExpr")}static false(){return Rs.INSTANCE}static true(){return Xs.INSTANCE}static has(e){return ed.create(e)}static equals(e,i){return tm.create(e,i)}static notEquals(e,i){return im.create(e,i)}static regex(e,i){return rp.create(e,i)}static in(e,i){return C1.create(e,i)}static notIn(e,i){return D1.create(e,i)}static not(e){return td.create(e)}static and(...e){return Il.create(e,null,!0)}static or(...e){return Pr.create(e,null,!0)}static greater(e,i){return nm.create(e,i)}static greaterEquals(e,i){return om.create(e,i)}static smaller(e,i){return rm.create(e,i)}static smallerEquals(e,i){return am.create(e,i)}static _parser=new ih({regexParsingWithErrorRecovery:!1});static deserialize(e){return e==null?void 0:this._parser.parse(e)}}function nW(t){const e=new ih({regexParsingWithErrorRecovery:!1});return t.map(i=>(e.parse(i),e.lexingErrors.length>0?e.lexingErrors.map(s=>({errorMessage:s.additionalInfo?c("contextkey.scanner.errorForLinterWithHint","Unexpected token. Hint: {0}",s.additionalInfo):c("contextkey.scanner.errorForLinter","Unexpected token."),offset:s.offset,length:s.lexeme.length})):e.parsingErrors.length>0?e.parsingErrors.map(s=>({errorMessage:s.additionalInfo?`${s.message}. ${s.additionalInfo}`:s.message,offset:s.offset,length:s.lexeme.length})):[]))}ei(nW,"validateWhenClauses");function CP(t,e){const i=t?t.substituteConstants():void 0,s=e?e.substituteConstants():void 0;return!i&&!s?!0:!i||!s?!1:i.equals(s)}ei(CP,"expressionsAreEqualWithConstantSubstitution");function Xd(t,e){return t.cmp(e)}ei(Xd,"cmp");class Rs{static{ei(this,"ContextKeyFalseExpr")}static INSTANCE=new Rs;type=0;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}map(e){return this}negate(){return Xs.INSTANCE}}class Xs{static{ei(this,"ContextKeyTrueExpr")}static INSTANCE=new Xs;type=1;constructor(){}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}map(e){return this}negate(){return Rs.INSTANCE}}class ed{constructor(e,i){this.key=e,this.negated=i}static{ei(this,"ContextKeyDefinedExpr")}static create(e,i=null){const s=Xi.get(e);return typeof s=="boolean"?s?Xs.INSTANCE:Rs.INSTANCE:new ed(e,i)}type=2;cmp(e){return e.type!==this.type?this.type-e.type:ZC(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=Xi.get(this.key);return typeof e=="boolean"?e?Xs.INSTANCE:Rs.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(e){return e.mapDefined(this.key)}negate(){return this.negated||(this.negated=td.create(this.key,this)),this.negated}}class tm{constructor(e,i,s){this.key=e,this.value=i,this.negated=s}static{ei(this,"ContextKeyEqualsExpr")}static create(e,i,s=null){if(typeof i=="boolean")return i?ed.create(e,s):td.create(e,s);const n=Xi.get(e);return typeof n=="boolean"?i===(n?"true":"false")?Xs.INSTANCE:Rs.INSTANCE:new tm(e,i,s)}type=4;cmp(e){return e.type!==this.type?this.type-e.type:vc(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=Xi.get(this.key);if(typeof e=="boolean"){const i=e?"true":"false";return this.value===i?Xs.INSTANCE:Rs.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}map(e){return e.mapEquals(this.key,this.value)}negate(){return this.negated||(this.negated=im.create(this.key,this.value,this)),this.negated}}class C1{constructor(e,i){this.key=e,this.valueKey=i}static{ei(this,"ContextKeyInExpr")}static create(e,i){return new C1(e,i)}type=10;negated=null;cmp(e){return e.type!==this.type?this.type-e.type:vc(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type?this.key===e.key&&this.valueKey===e.valueKey:!1}substituteConstants(){return this}evaluate(e){const i=e.getValue(this.valueKey),s=e.getValue(this.key);return Array.isArray(i)?i.includes(s):typeof s=="string"&&typeof i=="object"&&i!==null?YH.call(i,s):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}map(e){return e.mapIn(this.key,this.valueKey)}negate(){return this.negated||(this.negated=D1.create(this.key,this.valueKey)),this.negated}}class D1{constructor(e,i){this.key=e,this.valueKey=i,this._negated=C1.create(e,i)}static{ei(this,"ContextKeyNotInExpr")}static create(e,i){return new D1(e,i)}type=11;_negated;cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type?this._negated.equals(e._negated):!1}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}map(e){return e.mapNotIn(this.key,this.valueKey)}negate(){return this._negated}}class im{constructor(e,i,s){this.key=e,this.value=i,this.negated=s}static{ei(this,"ContextKeyNotEqualsExpr")}static create(e,i,s=null){if(typeof i=="boolean")return i?td.create(e,s):ed.create(e,s);const n=Xi.get(e);return typeof n=="boolean"?i===(n?"true":"false")?Rs.INSTANCE:Xs.INSTANCE:new im(e,i,s)}type=5;cmp(e){return e.type!==this.type?this.type-e.type:vc(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){const e=Xi.get(this.key);if(typeof e=="boolean"){const i=e?"true":"false";return this.value===i?Rs.INSTANCE:Xs.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}map(e){return e.mapNotEquals(this.key,this.value)}negate(){return this.negated||(this.negated=tm.create(this.key,this.value,this)),this.negated}}class td{constructor(e,i){this.key=e,this.negated=i}static{ei(this,"ContextKeyNotExpr")}static create(e,i=null){const s=Xi.get(e);return typeof s=="boolean"?s?Rs.INSTANCE:Xs.INSTANCE:new td(e,i)}type=3;cmp(e){return e.type!==this.type?this.type-e.type:ZC(this.key,e.key)}equals(e){return e.type===this.type?this.key===e.key:!1}substituteConstants(){const e=Xi.get(this.key);return typeof e=="boolean"?e?Rs.INSTANCE:Xs.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}map(e){return e.mapNot(this.key)}negate(){return this.negated||(this.negated=ed.create(this.key,this)),this.negated}}function sm(t,e){if(typeof t=="string"){const i=Number.parseFloat(t);isNaN(i)||(t=i)}return typeof t=="string"||typeof t=="number"?e(t):Rs.INSTANCE}ei(sm,"withFloatOrStr");class nm{constructor(e,i,s){this.key=e,this.value=i,this.negated=s}static{ei(this,"ContextKeyGreaterExpr")}static create(e,i,s=null){return sm(i,n=>new nm(e,n,s))}type=12;cmp(e){return e.type!==this.type?this.type-e.type:vc(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:Number.parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreater(this.key,this.value)}negate(){return this.negated||(this.negated=am.create(this.key,this.value,this)),this.negated}}class om{constructor(e,i,s){this.key=e,this.value=i,this.negated=s}static{ei(this,"ContextKeyGreaterEqualsExpr")}static create(e,i,s=null){return sm(i,n=>new om(e,n,s))}type=13;cmp(e){return e.type!==this.type?this.type-e.type:vc(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:Number.parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}map(e){return e.mapGreaterEquals(this.key,this.value)}negate(){return this.negated||(this.negated=rm.create(this.key,this.value,this)),this.negated}}class rm{constructor(e,i,s){this.key=e,this.value=i,this.negated=s}static{ei(this,"ContextKeySmallerExpr")}static create(e,i,s=null){return sm(i,n=>new rm(e,n,s))}type=14;cmp(e){return e.type!==this.type?this.type-e.type:vc(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:Number.parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmaller(this.key,this.value)}negate(){return this.negated||(this.negated=om.create(this.key,this.value,this)),this.negated}}class am{constructor(e,i,s){this.key=e,this.value=i,this.negated=s}static{ei(this,"ContextKeySmallerEqualsExpr")}static create(e,i,s=null){return sm(i,n=>new am(e,n,s))}type=15;cmp(e){return e.type!==this.type?this.type-e.type:vc(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type?this.key===e.key&&this.value===e.value:!1}substituteConstants(){return this}evaluate(e){return typeof this.value=="string"?!1:Number.parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}map(e){return e.mapSmallerEquals(this.key,this.value)}negate(){return this.negated||(this.negated=nm.create(this.key,this.value,this)),this.negated}}class rp{constructor(e,i){this.key=e,this.regexp=i}static{ei(this,"ContextKeyRegexExpr")}static create(e,i){return new rp(e,i)}type=7;negated=null;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const i=this.regexp?this.regexp.source:"",s=e.regexp?e.regexp.source:"";return i<s?-1:i>s?1:0}equals(e){if(e.type===this.type){const i=this.regexp?this.regexp.source:"",s=e.regexp?e.regexp.source:"";return this.key===e.key&&i===s}return!1}substituteConstants(){return this}evaluate(e){const i=e.getValue(this.key);return this.regexp?this.regexp.test(i):!1}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}map(e){return e.mapRegex(this.key,this.regexp)}negate(){return this.negated||(this.negated=Wv.create(this)),this.negated}}class Wv{constructor(e){this._actual=e}static{ei(this,"ContextKeyNotRegexExpr")}static create(e){return new Wv(e)}type=8;cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type?this._actual.equals(e._actual):!1}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}map(e){return new Wv(this._actual.map(e))}negate(){return this._actual}}function XC(t){let e=null;for(let i=0,s=t.length;i<s;i++){const n=t[i].substituteConstants();if(t[i]!==n&&e===null){e=[];for(let o=0;o<i;o++)e[o]=t[o]}e!==null&&(e[i]=n)}return e===null?t:e}ei(XC,"eliminateConstantsInArray");class Il{constructor(e,i){this.expr=e,this.negated=i}static{ei(this,"ContextKeyAndExpr")}static create(e,i,s){return Il._normalizeArr(e,i,s)}type=6;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let i=0,s=this.expr.length;i<s;i++){const n=Xd(this.expr[i],e.expr[i]);if(n!==0)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let i=0,s=this.expr.length;i<s;i++)if(!this.expr[i].equals(e.expr[i]))return!1;return!0}return!1}substituteConstants(){const e=XC(this.expr);return e===this.expr?this:Il.create(e,this.negated,!1)}evaluate(e){for(let i=0,s=this.expr.length;i<s;i++)if(!this.expr[i].evaluate(e))return!1;return!0}static _normalizeArr(e,i,s){const n=[];let o=!1;for(const r of e)if(r){if(r.type===1){o=!0;continue}if(r.type===0)return Rs.INSTANCE;if(r.type===6){n.push(...r.expr);continue}n.push(r)}if(n.length===0&&o)return Xs.INSTANCE;if(n.length!==0){if(n.length===1)return n[0];n.sort(Xd);for(let r=1;r<n.length;r++)n[r-1].equals(n[r])&&(n.splice(r,1),r--);if(n.length===1)return n[0];for(;n.length>1;){const r=n[n.length-1];if(r.type!==9)break;n.pop();const a=n.pop(),l=n.length===0,h=Pr.create(r.expr.map(d=>Il.create([d,a],null,s)),null,l);h&&(n.push(h),n.sort(Xd))}if(n.length===1)return n[0];if(s){for(let r=0;r<n.length;r++)for(let a=r+1;a<n.length;a++)if(n[r].negate().equals(n[a]))return Rs.INSTANCE;if(n.length===1)return n[0]}return new Il(n,i)}}serialize(){return this.expr.map(e=>e.serialize()).join(" && ")}keys(){const e=[];for(const i of this.expr)e.push(...i.keys());return e}map(e){return new Il(this.expr.map(i=>i.map(e)),null)}negate(){if(!this.negated){const e=[];for(const i of this.expr)e.push(i.negate());this.negated=Pr.create(e,this,!0)}return this.negated}}class Pr{constructor(e,i){this.expr=e,this.negated=i}static{ei(this,"ContextKeyOrExpr")}static create(e,i,s){return Pr._normalizeArr(e,i,s)}type=9;cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let i=0,s=this.expr.length;i<s;i++){const n=Xd(this.expr[i],e.expr[i]);if(n!==0)return n}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let i=0,s=this.expr.length;i<s;i++)if(!this.expr[i].equals(e.expr[i]))return!1;return!0}return!1}substituteConstants(){const e=XC(this.expr);return e===this.expr?this:Pr.create(e,this.negated,!1)}evaluate(e){for(let i=0,s=this.expr.length;i<s;i++)if(this.expr[i].evaluate(e))return!0;return!1}static _normalizeArr(e,i,s){let n=[],o=!1;if(e){for(let r=0,a=e.length;r<a;r++){const l=e[r];if(l){if(l.type===0){o=!0;continue}if(l.type===1)return Xs.INSTANCE;if(l.type===9){n=n.concat(l.expr);continue}n.push(l)}}if(n.length===0&&o)return Rs.INSTANCE;n.sort(Xd)}if(n.length!==0){if(n.length===1)return n[0];for(let r=1;r<n.length;r++)n[r-1].equals(n[r])&&(n.splice(r,1),r--);if(n.length===1)return n[0];if(s){for(let r=0;r<n.length;r++)for(let a=r+1;a<n.length;a++)if(n[r].negate().equals(n[a]))return Xs.INSTANCE;if(n.length===1)return n[0]}return new Pr(n,i)}}serialize(){return this.expr.map(e=>e.serialize()).join(" || ")}keys(){const e=[];for(const i of this.expr)e.push(...i.keys());return e}map(e){return new Pr(this.expr.map(i=>i.map(e)),null)}negate(){if(!this.negated){const e=[];for(const i of this.expr)e.push(i.negate());for(;e.length>1;){const i=e.shift(),s=e.shift(),n=[];for(const o of i0(i))for(const r of i0(s))n.push(Il.create([o,r],null,!1));e.unshift(Pr.create(n,null,!1))}this.negated=Pr.create(e,this,!0)}return this.negated}}class J extends ed{static{ei(this,"RawContextKey")}static _info=[];static all(){return J._info.values()}_defaultValue;constructor(e,i,s){super(e,null),this._defaultValue=i,typeof s=="object"?J._info.push({...s,key:e}):s!==!0&&J._info.push({key:e,description:s,type:i!=null?typeof i:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return tm.create(this.key,e)}notEqualsTo(e){return im.create(this.key,e)}}const Qe=Ce("contextKeyService");function ZC(t,e){return t<e?-1:t>e?1:0}ei(ZC,"cmp1");function vc(t,e,i,s){return t<i?-1:t>i?1:e<s?-1:e>s?1:0}ei(vc,"cmp2");function Uv(t,e){if(t.type===0||e.type===1)return!0;if(t.type===9)return e.type===9?t0(t.expr,e.expr):!1;if(e.type===9){for(const i of e.expr)if(Uv(t,i))return!0;return!1}if(t.type===6){if(e.type===6)return t0(e.expr,t.expr);for(const i of t.expr)if(Uv(i,e))return!0;return!1}return t.equals(e)}ei(Uv,"implies");function t0(t,e){let i=0,s=0;for(;i<t.length&&s<e.length;){const n=t[i].cmp(e[s]);if(n<0)return!1;n===0&&i++,s++}return i===t.length}ei(t0,"allElementsIncluded");function i0(t){return t.type===9?t.expr:[t]}ei(i0,"getTerminals");var oW=Object.defineProperty,rW=(t,e)=>oW(t,"name",{value:e,configurable:!0});const A1=Ce("accessibilityService");var Tl=(t=>(t[t.Unknown=0]="Unknown",t[t.Disabled=1]="Disabled",t[t.Enabled=2]="Enabled",t))(Tl||{});new J("accessibilityModeEnabled",!1);function aW(t){return t&&typeof t=="object"&&typeof t.label=="string"&&(typeof t.role>"u"||typeof t.role=="string")}rW(aW,"isAccessibilityInformation");const RI={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}};var lW=Object.defineProperty,lm=(t,e)=>lW(t,"name",{value:e,configurable:!0});const DP="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function AP(t=""){let e="(-?\\d*\\.\\d\\w*)|([^";for(const i of DP)t.indexOf(i)>=0||(e+="\\"+i);return e+="\\s]+)",new RegExp(e,"g")}lm(AP,"createWordRegExp");const cW=AP();function EP(t){let e=cW;if(t&&t instanceof RegExp)if(t.global)e=t;else{let i="g";t.ignoreCase&&(i+="i"),t.multiline&&(i+="m"),t.unicode&&(i+="u"),e=new RegExp(t.source,i)}return e.lastIndex=0,e}lm(EP,"ensureValidWordDefinition");const QC=new Xa;QC.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function hW(t){const e=QC.unshift(t);return Se(e)}lm(hW,"setDefaultGetWordAtTextConfig");function IP(t,e,i,s,n){if(e=EP(e),n||(n=ut.first(QC)),i.length>n.maxLen){let h=t-n.maxLen/2;return h<0?h=0:s+=h,i=i.substring(h,t+n.maxLen/2),IP(t,e,i,s,n)}const o=Date.now(),r=t-1-s;let a=-1,l=null;for(let h=1;!(Date.now()-o>=n.timeBudget);h++){const d=r-n.windowSize*h;e.lastIndex=Math.max(0,d);const u=TP(e,i,r,a);if(!u&&l||(l=u,d<=0))break;a=d}if(l){const h={word:l[0],startColumn:s+1+l.index,endColumn:s+1+l.index+l[0].length};return e.lastIndex=0,h}return null}lm(IP,"getWordAtText");function TP(t,e,i,s){let n;for(;n=t.exec(e);){const o=n.index||0;if(o<=i&&t.lastIndex>=i)return n;if(s>0&&o>s)return null}return null}lm(TP,"_findRegexMatchEnclosingPosition");var dW=Object.defineProperty,Oe=(t,e)=>dW(t,"name",{value:e,configurable:!0});const uW=8;class Une{static{Oe(this,"ConfigurationChangedEvent")}_values;constructor(e){this._values=e}hasChanged(e){return this._values[e]}}class gW{static{Oe(this,"ComputeOptionsMemory")}stableMinimapLayoutInput;stableFitMaxMinimapScale;stableFitRemainingWidth;constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class Ot{static{Oe(this,"BaseEditorOption")}id;name;defaultValue;schema;constructor(e,i,s,n){this.id=e,this.name=i,this.defaultValue=s,this.schema=n}applyUpdate(e,i){return cm(e,i)}compute(e,i,s){return s}}class Gb{constructor(e,i){this.newValue=e,this.didChange=i}static{Oe(this,"ApplyUpdateResult")}}function cm(t,e){if(typeof t!="object"||typeof e!="object"||!t||!e)return new Gb(e,t!==e);if(Array.isArray(t)||Array.isArray(e)){const s=Array.isArray(t)&&Array.isArray(e)&&Pn(t,e);return new Gb(e,!s)}let i=!1;for(const s in e)if(e.hasOwnProperty(s)){const n=cm(t[s],e[s]);n.didChange&&(t[s]=n.newValue,i=!0)}return new Gb(t,i)}Oe(cm,"applyUpdate");class hm{static{Oe(this,"ComputedEditorOption")}id;name;defaultValue;schema=void 0;constructor(e){this.id=e,this.name="_never_",this.defaultValue=void 0}applyUpdate(e,i){return cm(e,i)}validate(e){return this.defaultValue}}class ag{static{Oe(this,"SimpleEditorOption")}id;name;defaultValue;schema;constructor(e,i,s,n){this.id=e,this.name=i,this.defaultValue=s,this.schema=n}applyUpdate(e,i){return cm(e,i)}validate(e){return typeof e>"u"?this.defaultValue:e}compute(e,i,s){return s}}function fe(t,e){return typeof t>"u"?e:t==="false"?!1:!!t}Oe(fe,"boolean");class Xe extends ag{static{Oe(this,"EditorBooleanOption")}constructor(e,i,s,n=void 0){typeof n<"u"&&(n.type="boolean",n.default=s),super(e,i,s,n)}validate(e){return fe(e,this.defaultValue)}}function kP(t,e,i,s){if(typeof t>"u")return e;let n=Number.parseInt(t,10);return isNaN(n)?e:(n=Math.max(i,n),n=Math.min(s,n),n|0)}Oe(kP,"clampedInt");class St extends ag{static{Oe(this,"EditorIntOption")}static clampedInt(e,i,s,n){return kP(e,i,s,n)}minimum;maximum;constructor(e,i,s,n,o,r=void 0){typeof r<"u"&&(r.type="integer",r.default=s,r.minimum=n,r.maximum=o),super(e,i,s,r),this.minimum=n,this.maximum=o}validate(e){return St.clampedInt(e,this.defaultValue,this.minimum,this.maximum)}}function fW(t,e,i,s){if(typeof t>"u")return e;const n=En.float(t,e);return En.clamp(n,i,s)}Oe(fW,"clampedFloat");class En extends ag{static{Oe(this,"EditorFloatOption")}static clamp(e,i,s){return e<i?i:e>s?s:e}static float(e,i){if(typeof e=="number")return e;if(typeof e>"u")return i;const s=Number.parseFloat(e);return isNaN(s)?i:s}validationFn;constructor(e,i,s,n,o){typeof o<"u"&&(o.type="number",o.default=s),super(e,i,s,o),this.validationFn=n}validate(e){return this.validationFn(En.float(e,this.defaultValue))}}class ys extends ag{static{Oe(this,"EditorStringOption")}static string(e,i){return typeof e!="string"?i:e}constructor(e,i,s,n=void 0){typeof n<"u"&&(n.type="string",n.default=s),super(e,i,s,n)}validate(e){return ys.string(e,this.defaultValue)}}function oi(t,e,i,s){return typeof t!="string"?e:s&&t in s?s[t]:i.indexOf(t)===-1?e:t}Oe(oi,"stringSet");class $t extends ag{static{Oe(this,"EditorStringEnumOption")}_allowedValues;constructor(e,i,s,n,o=void 0){typeof o<"u"&&(o.type="string",o.enum=n,o.default=s),super(e,i,s,o),this._allowedValues=n}validate(e){return oi(e,this.defaultValue,this._allowedValues)}}class qm extends Ot{static{Oe(this,"EditorEnumOption")}_allowedValues;_convert;constructor(e,i,s,n,o,r,a=void 0){typeof a<"u"&&(a.type="string",a.enum=o,a.default=n),super(e,i,s,a),this._allowedValues=o,this._convert=r}validate(e){return typeof e!="string"?this.defaultValue:this._allowedValues.indexOf(e)===-1?this.defaultValue:this._convert(e)}}function xP(t){switch(t){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}Oe(xP,"_autoIndentFromString");class pW extends Ot{static{Oe(this,"EditorAccessibilitySupport")}constructor(){super(2,"accessibilitySupport",Tl.Unknown,{type:"string",enum:["auto","on","off"],enumDescriptions:[c("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached."),c("accessibilitySupport.on","Optimize for usage with a Screen Reader."),c("accessibilitySupport.off","Assume a screen reader is not attached.")],default:"auto",tags:["accessibility"],description:c("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(e){switch(e){case"auto":return Tl.Unknown;case"off":return Tl.Disabled;case"on":return Tl.Enabled}return this.defaultValue}compute(e,i,s){return s===Tl.Unknown?e.accessibilitySupport:s}}class mW extends Ot{static{Oe(this,"EditorComments")}constructor(){const e={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",e,{"editor.comments.insertSpace":{type:"boolean",default:e.insertSpace,description:c("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:e.ignoreEmptyLines,description:c("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e;return{insertSpace:fe(i.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:fe(i.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function LP(t){switch(t){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}Oe(LP,"_cursorBlinkingStyleFromString");function bW(t){switch(t){case 1:return"line";case 2:return"block";case 3:return"underline";case 4:return"line-thin";case 5:return"block-outline";case 6:return"underline-thin"}}Oe(bW,"cursorStyleToString");function PP(t){switch(t){case"line":return 1;case"block":return 2;case"underline":return 3;case"line-thin":return 4;case"block-outline":return 5;case"underline-thin":return 6}}Oe(PP,"_cursorStyleFromString");class vW extends hm{static{Oe(this,"EditorClassName")}constructor(){super(145)}compute(e,i,s){const n=["monaco-editor"];return i.get(41)&&n.push(i.get(41)),e.extraEditorClassName&&n.push(e.extraEditorClassName),i.get(76)==="default"?n.push("mouse-default"):i.get(76)==="copy"&&n.push("mouse-copy"),i.get(114)&&n.push("showUnused"),i.get(143)&&n.push("showDeprecated"),n.join(" ")}}class wW extends Xe{static{Oe(this,"EditorEmptySelectionClipboard")}constructor(){super(38,"emptySelectionClipboard",!0,{description:c("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(e,i,s){return s&&e.emptySelectionClipboard}}class yW extends Ot{static{Oe(this,"EditorFind")}constructor(){const e={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(43,"find",e,{"editor.find.cursorMoveOnType":{type:"boolean",default:e.cursorMoveOnType,description:c("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:e.seedSearchStringFromSelection,enumDescriptions:[c("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),c("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),c("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:c("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:e.autoFindInSelection,enumDescriptions:[c("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),c("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),c("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:c("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:e.globalFindClipboard,description:c("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:He},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:e.addExtraSpaceOnTop,description:c("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:e.loop,description:c("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e;return{cursorMoveOnType:fe(i.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof e.seedSearchStringFromSelection=="boolean"?e.seedSearchStringFromSelection?"always":"never":oi(i.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof e.autoFindInSelection=="boolean"?e.autoFindInSelection?"always":"never":oi(i.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:fe(i.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:fe(i.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:fe(i.loop,this.defaultValue.loop)}}}class kl extends Ot{static{Oe(this,"EditorFontLigatures")}static OFF='"liga" off, "calt" off';static ON='"liga" on, "calt" on';constructor(){super(53,"fontLigatures",kl.OFF,{anyOf:[{type:"boolean",description:c("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:c("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:c("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"||e.length===0?kl.OFF:e==="true"?kl.ON:e:e?kl.ON:kl.OFF}}class Ia extends Ot{static{Oe(this,"EditorFontVariations")}static OFF="normal";static TRANSLATE="translate";constructor(){super(56,"fontVariations",Ia.OFF,{anyOf:[{type:"boolean",description:c("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:c("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:c("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e==="false"?Ia.OFF:e==="true"?Ia.TRANSLATE:e:e?Ia.TRANSLATE:Ia.OFF}compute(e,i,s){return e.fontInfo.fontVariationSettings}}class _W extends hm{static{Oe(this,"EditorFontInfo")}constructor(){super(52)}compute(e,i,s){return e.fontInfo}}class SW extends ag{static{Oe(this,"EditorFontSize")}constructor(){super(54,"fontSize",zr.fontSize,{type:"number",minimum:6,maximum:100,default:zr.fontSize,description:c("fontSize","Controls the font size in pixels.")})}validate(e){const i=En.float(e,this.defaultValue);return i===0?zr.fontSize:En.clamp(i,6,100)}compute(e,i,s){return e.fontInfo.fontSize}}class Zc extends Ot{static{Oe(this,"EditorFontWeight")}static SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"];static MINIMUM_VALUE=1;static MAXIMUM_VALUE=1e3;constructor(){super(55,"fontWeight",zr.fontWeight,{anyOf:[{type:"number",minimum:Zc.MINIMUM_VALUE,maximum:Zc.MAXIMUM_VALUE,errorMessage:c("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Zc.SUGGESTION_VALUES}],default:zr.fontWeight,description:c("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(e){return e==="normal"||e==="bold"?e:String(St.clampedInt(e,zr.fontWeight,Zc.MINIMUM_VALUE,Zc.MAXIMUM_VALUE))}}class CW extends Ot{static{Oe(this,"EditorGoToLocation")}constructor(){const e={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",multipleTests:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:"",alternativeTestsCommand:""},i={type:"string",enum:["peek","gotoAndPeek","goto"],default:e.multiple,enumDescriptions:[c("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),c("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),c("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},s=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(60,"gotoLocation",e,{"editor.gotoLocation.multiple":{deprecationMessage:c("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":{description:c("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist."),...i},"editor.gotoLocation.multipleTypeDefinitions":{description:c("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist."),...i},"editor.gotoLocation.multipleDeclarations":{description:c("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist."),...i},"editor.gotoLocation.multipleImplementations":{description:c("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist."),...i},"editor.gotoLocation.multipleReferences":{description:c("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist."),...i},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:e.alternativeDefinitionCommand,enum:s,description:c("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:e.alternativeTypeDefinitionCommand,enum:s,description:c("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:e.alternativeDeclarationCommand,enum:s,description:c("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:e.alternativeImplementationCommand,enum:s,description:c("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:e.alternativeReferenceCommand,enum:s,description:c("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e;return{multiple:oi(i.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:i.multipleDefinitions??oi(i.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:i.multipleTypeDefinitions??oi(i.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:i.multipleDeclarations??oi(i.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:i.multipleImplementations??oi(i.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:i.multipleReferences??oi(i.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),multipleTests:i.multipleTests??oi(i.multipleTests,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:ys.string(i.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:ys.string(i.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:ys.string(i.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:ys.string(i.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:ys.string(i.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand),alternativeTestsCommand:ys.string(i.alternativeTestsCommand,this.defaultValue.alternativeTestsCommand)}}}class DW extends Ot{static{Oe(this,"EditorHover")}constructor(){const e={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(62,"hover",e,{"editor.hover.enabled":{type:"boolean",default:e.enabled,description:c("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:e.delay,minimum:0,maximum:1e4,description:c("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:e.sticky,description:c("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:e.hidingDelay,description:c("hover.hidingDelay","Controls the delay in milliseconds after which the hover is hidden. Requires `editor.hover.sticky` to be enabled.")},"editor.hover.above":{type:"boolean",default:e.above,description:c("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e;return{enabled:fe(i.enabled,this.defaultValue.enabled),delay:St.clampedInt(i.delay,this.defaultValue.delay,0,1e4),sticky:fe(i.sticky,this.defaultValue.sticky),hidingDelay:St.clampedInt(i.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:fe(i.above,this.defaultValue.above)}}}class yf extends hm{static{Oe(this,"EditorLayoutInfoComputer")}constructor(){super(148)}compute(e,i,s){return yf.computeLayout(i,{memory:e.memory,outerWidth:e.outerWidth,outerHeight:e.outerHeight,isDominatedByLongLines:e.isDominatedByLongLines,lineHeight:e.fontInfo.lineHeight,viewLineCount:e.viewLineCount,lineNumbersDigitCount:e.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:e.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:e.fontInfo.maxDigitWidth,pixelRatio:e.pixelRatio,glyphMarginDecorationLaneCount:e.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(e){const i=e.height/e.lineHeight,s=Math.floor(e.paddingTop/e.lineHeight);let n=Math.floor(e.paddingBottom/e.lineHeight);e.scrollBeyondLastLine&&(n=Math.max(n,i-1));const o=(s+e.viewLineCount+n)/(e.pixelRatio*e.height),r=Math.floor(e.viewLineCount/o);return{typicalViewportLineCount:i,extraLinesBeforeFirstLine:s,extraLinesBeyondLastLine:n,desiredRatio:o,minimapLineCount:r}}static _computeMinimapLayout(e,i){const s=e.outerWidth,n=e.outerHeight,o=e.pixelRatio;if(!e.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(o*n),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:n};const r=i.stableMinimapLayoutInput,a=r&&e.outerHeight===r.outerHeight&&e.lineHeight===r.lineHeight&&e.typicalHalfwidthCharacterWidth===r.typicalHalfwidthCharacterWidth&&e.pixelRatio===r.pixelRatio&&e.scrollBeyondLastLine===r.scrollBeyondLastLine&&e.paddingTop===r.paddingTop&&e.paddingBottom===r.paddingBottom&&e.minimap.enabled===r.minimap.enabled&&e.minimap.side===r.minimap.side&&e.minimap.size===r.minimap.size&&e.minimap.showSlider===r.minimap.showSlider&&e.minimap.renderCharacters===r.minimap.renderCharacters&&e.minimap.maxColumn===r.minimap.maxColumn&&e.minimap.scale===r.minimap.scale&&e.verticalScrollbarWidth===r.verticalScrollbarWidth&&e.isViewportWrapping===r.isViewportWrapping,l=e.lineHeight,h=e.typicalHalfwidthCharacterWidth,d=e.scrollBeyondLastLine,u=e.minimap.renderCharacters;let g=o>=2?Math.round(e.minimap.scale*2):e.minimap.scale;const p=e.minimap.maxColumn,m=e.minimap.size,b=e.minimap.side,C=e.verticalScrollbarWidth,x=e.viewLineCount,E=e.remainingWidth,F=e.isViewportWrapping,B=u?2:3;let M=Math.floor(o*n);const X=M/o;let ee=!1,z=!1,se=B*g,Re=g/o,oe=1;if(m==="fill"||m==="fit"){const{typicalViewportLineCount:Be,extraLinesBeforeFirstLine:Ne,extraLinesBeyondLastLine:gt,desiredRatio:at,minimapLineCount:Ut}=yf.computeContainedMinimapLineCount({viewLineCount:x,scrollBeyondLastLine:d,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,height:n,lineHeight:l,pixelRatio:o});if(x/Ut>1)ee=!0,z=!0,g=1,se=1,Re=g/o;else{let _i=!1,ms=g+1;if(m==="fit"){const Js=Math.ceil((Ne+x+gt)*se);F&&a&&E<=i.stableFitRemainingWidth?(_i=!0,ms=i.stableFitMaxMinimapScale):_i=Js>M}if(m==="fill"||_i){ee=!0;const Js=g;se=Math.min(l*o,Math.max(1,Math.floor(1/at))),F&&a&&E<=i.stableFitRemainingWidth&&(ms=i.stableFitMaxMinimapScale),g=Math.min(ms,Math.max(1,Math.floor(se/B))),g>Js&&(oe=Math.min(2,g/Js)),Re=g/o/oe,M=Math.ceil(Math.max(Be,Ne+x+gt)*se),F?(i.stableMinimapLayoutInput=e,i.stableFitRemainingWidth=E,i.stableFitMaxMinimapScale=g):(i.stableMinimapLayoutInput=null,i.stableFitRemainingWidth=0)}}}const De=Math.floor(p*Re),Wt=Math.min(De,Math.max(0,Math.floor((E-C-2)*Re/(h+Re)))+uW);let ve=Math.floor(o*Wt);const ae=ve/o;ve=Math.floor(ve*oe);const Te=u?1:2,pe=b==="left"?0:s-Wt-C;return{renderMinimap:Te,minimapLeft:pe,minimapWidth:Wt,minimapHeightIsEditorHeight:ee,minimapIsSampling:z,minimapScale:g,minimapLineHeight:se,minimapCanvasInnerWidth:ve,minimapCanvasInnerHeight:M,minimapCanvasOuterWidth:ae,minimapCanvasOuterHeight:X}}static computeLayout(e,i){const s=i.outerWidth|0,n=i.outerHeight|0,o=i.lineHeight|0,r=i.lineNumbersDigitCount|0,a=i.typicalHalfwidthCharacterWidth,l=i.maxDigitWidth,h=i.pixelRatio,d=i.viewLineCount,u=e.get(140),g=u==="inherit"?e.get(139):u,p=g==="inherit"?e.get(135):g,m=e.get(138),b=i.isDominatedByLongLines,C=e.get(59),x=e.get(70).renderType!==0,E=e.get(71),F=e.get(108),B=e.get(86),M=e.get(75),X=e.get(106),ee=X.verticalScrollbarSize,z=X.verticalHasArrows,se=X.arrowSize,Re=X.horizontalScrollbarSize,oe=e.get(45),De=e.get(113)!=="never";let Wt=e.get(68);oe&&De&&(Wt+=16);let ve=0;if(x){const da=Math.max(r,E);ve=Math.round(da*l)}let ae=0;C&&(ae=o*i.glyphMarginDecorationLaneCount);let Te=0,pe=Te+ae,Be=pe+ve,Ne=Be+Wt;const gt=s-ae-ve-Wt;let at=!1,Ut=!1,yt=-1;g==="inherit"&&b?(at=!0,Ut=!0):p==="on"||p==="bounded"?Ut=!0:p==="wordWrapColumn"&&(yt=m);const _i=yf._computeMinimapLayout({outerWidth:s,outerHeight:n,lineHeight:o,typicalHalfwidthCharacterWidth:a,pixelRatio:h,scrollBeyondLastLine:F,paddingTop:B.top,paddingBottom:B.bottom,minimap:M,verticalScrollbarWidth:ee,viewLineCount:d,remainingWidth:gt,isViewportWrapping:Ut},i.memory||new gW);_i.renderMinimap!==0&&_i.minimapLeft===0&&(Te+=_i.minimapWidth,pe+=_i.minimapWidth,Be+=_i.minimapWidth,Ne+=_i.minimapWidth);const ms=gt-_i.minimapWidth,Js=Math.max(1,Math.floor((ms-ee-2)/a)),Mn=z?se:0;return Ut&&(yt=Math.max(1,Js),p==="bounded"&&(yt=Math.min(yt,m))),{width:s,height:n,glyphMarginLeft:Te,glyphMarginWidth:ae,glyphMarginDecorationLaneCount:i.glyphMarginDecorationLaneCount,lineNumbersLeft:pe,lineNumbersWidth:ve,decorationsLeft:Be,decorationsWidth:Wt,contentLeft:Ne,contentWidth:ms,minimap:_i,viewportColumn:Js,isWordWrapMinified:at,isViewportWrapping:Ut,wrappingColumn:yt,verticalScrollbarWidth:ee,horizontalScrollbarHeight:Re,overviewRuler:{top:Mn,width:ee,height:n-2*Mn,right:0}}}}class AW extends Ot{static{Oe(this,"WrappingStrategy")}constructor(){super(142,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[c("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),c("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:c("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(e){return oi(e,"simple",["simple","advanced"])}compute(e,i,s){return i.get(2)===Tl.Enabled?"advanced":s}}class EW extends Ot{static{Oe(this,"EditorLightbulb")}constructor(){const e={enabled:"onCode"};super(67,"lightbulb",e,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:["off","onCode","on"],default:e.enabled,enumDescriptions:[c("editor.lightbulb.enabled.off","Disable the code action menu."),c("editor.lightbulb.enabled.onCode","Show the code action menu when the cursor is on lines with code."),c("editor.lightbulb.enabled.on","Show the code action menu when the cursor is on lines with code or on empty lines.")],description:c("enabled","Enables the Code Action lightbulb in the editor.")}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{enabled:oi(e.enabled,this.defaultValue.enabled,["off","onCode","on"])}}}class IW extends Ot{static{Oe(this,"EditorStickyScroll")}constructor(){const e={enabled:!0,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(118,"stickyScroll",e,{"editor.stickyScroll.enabled":{type:"boolean",default:e.enabled,description:c("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor."),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:e.maxLineCount,minimum:1,maximum:20,description:c("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:e.defaultModel,description:c("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:e.scrollWithEditor,description:c("editor.stickyScroll.scrollWithEditor","Enable scrolling of Sticky Scroll with the editor's horizontal scrollbar.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e;return{enabled:fe(i.enabled,this.defaultValue.enabled),maxLineCount:St.clampedInt(i.maxLineCount,this.defaultValue.maxLineCount,1,20),defaultModel:oi(i.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:fe(i.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class TW extends Ot{static{Oe(this,"EditorInlayHints")}constructor(){const e={enabled:"on",fontSize:0,fontFamily:"",padding:!1,maximumLength:43};super(144,"inlayHints",e,{"editor.inlayHints.enabled":{type:"string",default:e.enabled,description:c("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[c("editor.inlayHints.on","Inlay hints are enabled"),c("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",He?"Ctrl+Option":"Ctrl+Alt"),c("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",He?"Ctrl+Option":"Ctrl+Alt"),c("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:e.fontSize,markdownDescription:c("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:e.fontFamily,markdownDescription:c("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:e.padding,description:c("inlayHints.padding","Enables the padding around the inlay hints in the editor.")},"editor.inlayHints.maximumLength":{type:"number",default:e.maximumLength,markdownDescription:c("inlayHints.maximumLength","Maximum overall length of inlay hints, for a single line, before they get truncated by the editor. Set to `0` to never truncate")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e;return typeof i.enabled=="boolean"&&(i.enabled=i.enabled?"on":"off"),{enabled:oi(i.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:St.clampedInt(i.fontSize,this.defaultValue.fontSize,0,100),fontFamily:ys.string(i.fontFamily,this.defaultValue.fontFamily),padding:fe(i.padding,this.defaultValue.padding),maximumLength:St.clampedInt(i.maximumLength,this.defaultValue.maximumLength,0,Number.MAX_SAFE_INTEGER)}}}class kW extends Ot{static{Oe(this,"EditorLineDecorationsWidth")}constructor(){super(68,"lineDecorationsWidth",10)}validate(e){return typeof e=="string"&&/^\d+(\.\d+)?ch$/.test(e)?-Number.parseFloat(e.substring(0,e.length-2)):St.clampedInt(e,this.defaultValue,0,1e3)}compute(e,i,s){return s<0?St.clampedInt(-s*e.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):s}}class xW extends En{static{Oe(this,"EditorLineHeight")}constructor(){super(69,"lineHeight",zr.lineHeight,e=>En.clamp(e,0,150),{markdownDescription:c("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(e,i,s){return e.fontInfo.lineHeight}}class LW extends Ot{static{Oe(this,"EditorMinimap")}constructor(){const e={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1,showRegionSectionHeaders:!0,showMarkSectionHeaders:!0,sectionHeaderFontSize:9,sectionHeaderLetterSpacing:1};super(75,"minimap",e,{"editor.minimap.enabled":{type:"boolean",default:e.enabled,description:c("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:e.autohide,description:c("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[c("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),c("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),c("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:e.size,description:c("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:e.side,description:c("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:e.showSlider,description:c("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:e.scale,minimum:1,maximum:3,enum:[1,2,3],description:c("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:e.renderCharacters,description:c("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:e.maxColumn,description:c("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")},"editor.minimap.showRegionSectionHeaders":{type:"boolean",default:e.showRegionSectionHeaders,description:c("minimap.showRegionSectionHeaders","Controls whether named regions are shown as section headers in the minimap.")},"editor.minimap.showMarkSectionHeaders":{type:"boolean",default:e.showMarkSectionHeaders,description:c("minimap.showMarkSectionHeaders","Controls whether MARK: comments are shown as section headers in the minimap.")},"editor.minimap.sectionHeaderFontSize":{type:"number",default:e.sectionHeaderFontSize,description:c("minimap.sectionHeaderFontSize","Controls the font size of section headers in the minimap.")},"editor.minimap.sectionHeaderLetterSpacing":{type:"number",default:e.sectionHeaderLetterSpacing,description:c("minimap.sectionHeaderLetterSpacing","Controls the amount of space (in pixels) between characters of section header. This helps the readability of the header in small font sizes.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e;return{enabled:fe(i.enabled,this.defaultValue.enabled),autohide:fe(i.autohide,this.defaultValue.autohide),size:oi(i.size,this.defaultValue.size,["proportional","fill","fit"]),side:oi(i.side,this.defaultValue.side,["right","left"]),showSlider:oi(i.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:fe(i.renderCharacters,this.defaultValue.renderCharacters),scale:St.clampedInt(i.scale,1,1,3),maxColumn:St.clampedInt(i.maxColumn,this.defaultValue.maxColumn,1,1e4),showRegionSectionHeaders:fe(i.showRegionSectionHeaders,this.defaultValue.showRegionSectionHeaders),showMarkSectionHeaders:fe(i.showMarkSectionHeaders,this.defaultValue.showMarkSectionHeaders),sectionHeaderFontSize:En.clamp(i.sectionHeaderFontSize??this.defaultValue.sectionHeaderFontSize,4,32),sectionHeaderLetterSpacing:En.clamp(i.sectionHeaderLetterSpacing??this.defaultValue.sectionHeaderLetterSpacing,0,5)}}}function RP(t){return t==="ctrlCmd"?He?"metaKey":"ctrlKey":"altKey"}Oe(RP,"_multiCursorModifierFromString");class PW extends Ot{static{Oe(this,"EditorPadding")}constructor(){super(86,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:c("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:c("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e;return{top:St.clampedInt(i.top,0,0,1e3),bottom:St.clampedInt(i.bottom,0,0,1e3)}}}class RW extends Ot{static{Oe(this,"EditorParameterHints")}constructor(){const e={enabled:!0,cycle:!0};super(88,"parameterHints",e,{"editor.parameterHints.enabled":{type:"boolean",default:e.enabled,description:c("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:e.cycle,description:c("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e;return{enabled:fe(i.enabled,this.defaultValue.enabled),cycle:fe(i.cycle,this.defaultValue.cycle)}}}class NW extends hm{static{Oe(this,"EditorPixelRatio")}constructor(){super(146)}compute(e,i,s){return e.pixelRatio}}class OW extends Ot{static{Oe(this,"PlaceholderOption")}constructor(){super(90,"placeholder",void 0)}validate(e){return typeof e>"u"?this.defaultValue:typeof e=="string"?e:this.defaultValue}}class BW extends Ot{static{Oe(this,"EditorQuickSuggestions")}defaultValue;constructor(){const e={other:"on",comments:"off",strings:"off"},i=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[c("on","Quick suggestions show inside the suggest widget"),c("inline","Quick suggestions show as ghost text"),c("off","Quick suggestions are disabled")]}];super(92,"quickSuggestions",e,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:i,default:e.strings,description:c("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:i,default:e.comments,description:c("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:i,default:e.other,description:c("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:e,markdownDescription:c("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the {0}-setting which controls if suggestions are triggered by special characters.","`#editor.suggestOnTriggerCharacters#`")}),this.defaultValue=e}validate(e){if(typeof e=="boolean"){const h=e?"on":"off";return{comments:h,strings:h,other:h}}if(!e||typeof e!="object")return this.defaultValue;const{other:i,comments:s,strings:n}=e,o=["on","inline","off"];let r,a,l;return typeof i=="boolean"?r=i?"on":"off":r=oi(i,this.defaultValue.other,o),typeof s=="boolean"?a=s?"on":"off":a=oi(s,this.defaultValue.comments,o),typeof n=="boolean"?l=n?"on":"off":l=oi(n,this.defaultValue.strings,o),{other:r,comments:a,strings:l}}}class MW extends Ot{static{Oe(this,"EditorRenderLineNumbersOption")}constructor(){super(70,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[c("lineNumbers.off","Line numbers are not rendered."),c("lineNumbers.on","Line numbers are rendered as absolute number."),c("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),c("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:c("lineNumbers","Controls the display of line numbers.")})}validate(e){let i=this.defaultValue.renderType,s=this.defaultValue.renderFn;return typeof e<"u"&&(typeof e=="function"?(i=4,s=e):e==="interval"?i=3:e==="relative"?i=2:e==="on"?i=1:i=0),{renderType:i,renderFn:s}}}function FW(t){const e=t.get(101);return e==="editable"?t.get(94):e!=="on"}Oe(FW,"filterValidationDecorations");class VW extends Ot{static{Oe(this,"EditorRulers")}constructor(){const e=[],i={type:"number",description:c("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(105,"rulers",e,{type:"array",items:{anyOf:[i,{type:["object"],properties:{column:i,color:{type:"string",description:c("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:e,description:c("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(e){if(Array.isArray(e)){const i=[];for(const s of e)if(typeof s=="number")i.push({column:St.clampedInt(s,0,0,1e4),color:null});else if(s&&typeof s=="object"){const n=s;i.push({column:St.clampedInt(n.column,0,0,1e4),color:n.color})}return i.sort((s,n)=>s.column-n.column),i}return this.defaultValue}}class HW extends Ot{static{Oe(this,"ReadonlyMessage")}constructor(){super(95,"readOnlyMessage",void 0)}validate(e){return!e||typeof e!="object"?this.defaultValue:e}}function s0(t,e){if(typeof t!="string")return e;switch(t){case"hidden":return Jt.Hidden;case"visible":return Jt.Visible;default:return Jt.Auto}}Oe(s0,"_scrollbarVisibilityFromString");class WW extends Ot{static{Oe(this,"EditorScrollbar")}constructor(){const e={vertical:Jt.Auto,horizontal:Jt.Auto,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(106,"scrollbar",e,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[c("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),c("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),c("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:c("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[c("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),c("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),c("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:c("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:e.verticalScrollbarSize,description:c("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:e.horizontalScrollbarSize,description:c("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:e.scrollByPage,description:c("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:e.ignoreHorizontalScrollbarInContentHeight,description:c("scrollbar.ignoreHorizontalScrollbarInContentHeight","When set, the horizontal scrollbar will not increase the size of the editor's content.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e,s=St.clampedInt(i.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),n=St.clampedInt(i.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:St.clampedInt(i.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:s0(i.vertical,this.defaultValue.vertical),horizontal:s0(i.horizontal,this.defaultValue.horizontal),useShadows:fe(i.useShadows,this.defaultValue.useShadows),verticalHasArrows:fe(i.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:fe(i.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:fe(i.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:fe(i.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:s,horizontalSliderSize:St.clampedInt(i.horizontalSliderSize,s,0,1e3),verticalScrollbarSize:n,verticalSliderSize:St.clampedInt(i.verticalSliderSize,n,0,1e3),scrollByPage:fe(i.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:fe(i.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}}const Ho="inUntrustedWorkspace",xc={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class UW extends Ot{static{Oe(this,"UnicodeHighlight")}constructor(){const e={nonBasicASCII:Ho,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Ho,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(128,"unicodeHighlight",e,{[xc.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Ho],default:e.nonBasicASCII,description:c("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[xc.invisibleCharacters]:{restricted:!0,type:"boolean",default:e.invisibleCharacters,description:c("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[xc.ambiguousCharacters]:{restricted:!0,type:"boolean",default:e.ambiguousCharacters,description:c("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[xc.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Ho],default:e.includeComments,description:c("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[xc.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Ho],default:e.includeStrings,description:c("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[xc.allowedCharacters]:{restricted:!0,type:"object",default:e.allowedCharacters,description:c("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[xc.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:e.allowedLocales,description:c("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(e,i){let s=!1;i.allowedCharacters&&e&&(Ua(e.allowedCharacters,i.allowedCharacters)||(e={...e,allowedCharacters:i.allowedCharacters},s=!0)),i.allowedLocales&&e&&(Ua(e.allowedLocales,i.allowedLocales)||(e={...e,allowedLocales:i.allowedLocales},s=!0));const n=super.applyUpdate(e,i);return s?new Gb(n.newValue,!0):n}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e;return{nonBasicASCII:vh(i.nonBasicASCII,Ho,[!0,!1,Ho]),invisibleCharacters:fe(i.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:fe(i.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:vh(i.includeComments,Ho,[!0,!1,Ho]),includeStrings:vh(i.includeStrings,Ho,[!0,!1,Ho]),allowedCharacters:this.validateBooleanMap(e.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(e.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(e,i){if(typeof e!="object"||!e)return i;const s={};for(const[n,o]of Object.entries(e))o===!0&&(s[n]=!0);return s}}class zW extends Ot{static{Oe(this,"InlineEditorSuggest")}constructor(){const e={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default",syntaxHighlightingEnabled:!1};super(64,"inlineSuggest",e,{"editor.inlineSuggest.enabled":{type:"boolean",default:e.enabled,description:c("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover","never"],enumDescriptions:[c("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),c("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion."),c("inlineSuggest.showToolbar.never","Never show the inline suggestion toolbar.")],description:c("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.syntaxHighlightingEnabled":{type:"boolean",default:e.syntaxHighlightingEnabled,description:c("inlineSuggest.syntaxHighlightingEnabled","Controls whether to show syntax highlighting for inline suggestions in the editor.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:e.suppressSuggestions,description:c("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")},"editor.inlineSuggest.fontFamily":{type:"string",default:e.fontFamily,description:c("inlineSuggest.fontFamily","Controls the font family of the inline suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e;return{enabled:fe(i.enabled,this.defaultValue.enabled),mode:oi(i.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:oi(i.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:fe(i.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:fe(i.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:ys.string(i.fontFamily,this.defaultValue.fontFamily),syntaxHighlightingEnabled:fe(i.syntaxHighlightingEnabled,this.defaultValue.syntaxHighlightingEnabled)}}}class $W extends Ot{static{Oe(this,"InlineEditorEdit")}constructor(){const e={enabled:!1,showToolbar:"onHover",fontFamily:"default",keepOnBlur:!1};super(65,"experimentalInlineEdit",e,{"editor.experimentalInlineEdit.enabled":{type:"boolean",default:e.enabled,description:c("inlineEdit.enabled","Controls whether to show inline edits in the editor.")},"editor.experimentalInlineEdit.showToolbar":{type:"string",default:e.showToolbar,enum:["always","onHover","never"],enumDescriptions:[c("inlineEdit.showToolbar.always","Show the inline edit toolbar whenever an inline suggestion is shown."),c("inlineEdit.showToolbar.onHover","Show the inline edit toolbar when hovering over an inline suggestion."),c("inlineEdit.showToolbar.never","Never show the inline edit toolbar.")],description:c("inlineEdit.showToolbar","Controls when to show the inline edit toolbar.")},"editor.experimentalInlineEdit.fontFamily":{type:"string",default:e.fontFamily,description:c("inlineEdit.fontFamily","Controls the font family of the inline edit.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e;return{enabled:fe(i.enabled,this.defaultValue.enabled),showToolbar:oi(i.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),fontFamily:ys.string(i.fontFamily,this.defaultValue.fontFamily),keepOnBlur:fe(i.keepOnBlur,this.defaultValue.keepOnBlur)}}}class KW extends Ot{static{Oe(this,"BracketPairColorization")}constructor(){const e={enabled:RI.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:RI.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",e,{"editor.bracketPairColorization.enabled":{type:"boolean",default:e.enabled,markdownDescription:c("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:e.independentColorPoolPerBracketType,description:c("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e;return{enabled:fe(i.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:fe(i.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class GW extends Ot{static{Oe(this,"GuideOptions")}constructor(){const e={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",e,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[c("editor.guides.bracketPairs.true","Enables bracket pair guides."),c("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),c("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:e.bracketPairs,description:c("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[c("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),c("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),c("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:e.bracketPairsHorizontal,description:c("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:e.highlightActiveBracketPair,description:c("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:e.indentation,description:c("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[c("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),c("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),c("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:e.highlightActiveIndentation,description:c("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e;return{bracketPairs:vh(i.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:vh(i.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:fe(i.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:fe(i.indentation,this.defaultValue.indentation),highlightActiveIndentation:vh(i.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function vh(t,e,i){const s=i.indexOf(t);return s===-1?e:i[s]}Oe(vh,"primitiveSet");class jW extends Ot{static{Oe(this,"EditorSuggest")}constructor(){const e={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(121,"suggest",e,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[c("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),c("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:e.insertMode,description:c("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:e.filterGraceful,description:c("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:e.localityBonus,description:c("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:e.shareSuggestSelections,markdownDescription:c("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[c("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),c("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),c("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),c("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:e.selectionMode,markdownDescription:c("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions ({0} and {1}) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.","`#editor.quickSuggestions#`","`#editor.suggestOnTriggerCharacters#`")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:e.snippetsPreventQuickSuggestions,description:c("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:e.showIcons,description:c("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:e.showStatusBar,description:c("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:e.preview,description:c("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:e.showInlineDetails,description:c("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:c("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:c("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:c("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e;return{insertMode:oi(i.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:fe(i.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:fe(i.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:fe(i.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:fe(i.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:oi(i.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:fe(i.showIcons,this.defaultValue.showIcons),showStatusBar:fe(i.showStatusBar,this.defaultValue.showStatusBar),preview:fe(i.preview,this.defaultValue.preview),previewMode:oi(i.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:fe(i.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:fe(i.showMethods,this.defaultValue.showMethods),showFunctions:fe(i.showFunctions,this.defaultValue.showFunctions),showConstructors:fe(i.showConstructors,this.defaultValue.showConstructors),showDeprecated:fe(i.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:fe(i.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:fe(i.showFields,this.defaultValue.showFields),showVariables:fe(i.showVariables,this.defaultValue.showVariables),showClasses:fe(i.showClasses,this.defaultValue.showClasses),showStructs:fe(i.showStructs,this.defaultValue.showStructs),showInterfaces:fe(i.showInterfaces,this.defaultValue.showInterfaces),showModules:fe(i.showModules,this.defaultValue.showModules),showProperties:fe(i.showProperties,this.defaultValue.showProperties),showEvents:fe(i.showEvents,this.defaultValue.showEvents),showOperators:fe(i.showOperators,this.defaultValue.showOperators),showUnits:fe(i.showUnits,this.defaultValue.showUnits),showValues:fe(i.showValues,this.defaultValue.showValues),showConstants:fe(i.showConstants,this.defaultValue.showConstants),showEnums:fe(i.showEnums,this.defaultValue.showEnums),showEnumMembers:fe(i.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:fe(i.showKeywords,this.defaultValue.showKeywords),showWords:fe(i.showWords,this.defaultValue.showWords),showColors:fe(i.showColors,this.defaultValue.showColors),showFiles:fe(i.showFiles,this.defaultValue.showFiles),showReferences:fe(i.showReferences,this.defaultValue.showReferences),showFolders:fe(i.showFolders,this.defaultValue.showFolders),showTypeParameters:fe(i.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:fe(i.showSnippets,this.defaultValue.showSnippets),showUsers:fe(i.showUsers,this.defaultValue.showUsers),showIssues:fe(i.showIssues,this.defaultValue.showIssues)}}}class qW extends Ot{static{Oe(this,"SmartSelect")}constructor(){super(116,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:c("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:c("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(e){return!e||typeof e!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:fe(e.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:fe(e.selectSubwords,this.defaultValue.selectSubwords)}}}class YW extends Ot{static{Oe(this,"WordSegmenterLocales")}constructor(){const e=[];super(133,"wordSegmenterLocales",e,{anyOf:[{description:c("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"string"},{description:c("wordSegmenterLocales","Locales to be used for word segmentation when doing word related navigations or operations. Specify the BCP 47 language tag of the word you wish to recognize (e.g., ja, zh-CN, zh-Hant-TW, etc.)."),type:"array",items:{type:"string"}}]})}validate(e){if(typeof e=="string"&&(e=[e]),Array.isArray(e)){const i=[];for(const s of e)if(typeof s=="string")try{Intl.Segmenter.supportedLocalesOf(s).length>0&&i.push(s)}catch{}return i}return this.defaultValue}}class XW extends Ot{static{Oe(this,"WrappingIndentOption")}constructor(){super(141,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[c("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),c("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),c("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),c("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:c("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(e){switch(e){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(e,i,s){return i.get(2)===Tl.Enabled?0:s}}class ZW extends hm{static{Oe(this,"EditorWrappingInfoComputer")}constructor(){super(149)}compute(e,i,s){const n=i.get(148);return{isDominatedByLongLines:e.isDominatedByLongLines,isWordWrapMinified:n.isWordWrapMinified,isViewportWrapping:n.isViewportWrapping,wrappingColumn:n.wrappingColumn}}}class QW extends Ot{static{Oe(this,"EditorDropIntoEditor")}constructor(){const e={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",e,{"editor.dropIntoEditor.enabled":{type:"boolean",default:e.enabled,markdownDescription:c("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down the `Shift` key (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:c("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[c("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),c("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e;return{enabled:fe(i.enabled,this.defaultValue.enabled),showDropSelector:oi(i.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class JW extends Ot{static{Oe(this,"EditorPasteAs")}constructor(){const e={enabled:!0,showPasteSelector:"afterPaste"};super(87,"pasteAs",e,{"editor.pasteAs.enabled":{type:"boolean",default:e.enabled,markdownDescription:c("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:c("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[c("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),c("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(e){if(!e||typeof e!="object")return this.defaultValue;const i=e;return{enabled:fe(i.enabled,this.defaultValue.enabled),showPasteSelector:oi(i.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const eU="Consolas, 'Courier New', monospace",tU="Menlo, Monaco, 'Courier New', monospace",iU="'Droid Sans Mono', 'monospace', monospace",zr={fontFamily:He?tU:Ni?iU:eU,fontWeight:"normal",fontSize:He?12:14,lineHeight:0,letterSpacing:0},sU=[];function V(t){return sU[t.id]=t,t}Oe(V,"register");var vl=(t=>(t[t.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",t[t.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",t[t.accessibilitySupport=2]="accessibilitySupport",t[t.accessibilityPageSize=3]="accessibilityPageSize",t[t.ariaLabel=4]="ariaLabel",t[t.ariaRequired=5]="ariaRequired",t[t.autoClosingBrackets=6]="autoClosingBrackets",t[t.autoClosingComments=7]="autoClosingComments",t[t.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",t[t.autoClosingDelete=9]="autoClosingDelete",t[t.autoClosingOvertype=10]="autoClosingOvertype",t[t.autoClosingQuotes=11]="autoClosingQuotes",t[t.autoIndent=12]="autoIndent",t[t.automaticLayout=13]="automaticLayout",t[t.autoSurround=14]="autoSurround",t[t.bracketPairColorization=15]="bracketPairColorization",t[t.guides=16]="guides",t[t.codeLens=17]="codeLens",t[t.codeLensFontFamily=18]="codeLensFontFamily",t[t.codeLensFontSize=19]="codeLensFontSize",t[t.colorDecorators=20]="colorDecorators",t[t.colorDecoratorsLimit=21]="colorDecoratorsLimit",t[t.columnSelection=22]="columnSelection",t[t.comments=23]="comments",t[t.contextmenu=24]="contextmenu",t[t.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",t[t.cursorBlinking=26]="cursorBlinking",t[t.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",t[t.cursorStyle=28]="cursorStyle",t[t.cursorSurroundingLines=29]="cursorSurroundingLines",t[t.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",t[t.cursorWidth=31]="cursorWidth",t[t.disableLayerHinting=32]="disableLayerHinting",t[t.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",t[t.domReadOnly=34]="domReadOnly",t[t.dragAndDrop=35]="dragAndDrop",t[t.dropIntoEditor=36]="dropIntoEditor",t[t.experimentalEditContextEnabled=37]="experimentalEditContextEnabled",t[t.emptySelectionClipboard=38]="emptySelectionClipboard",t[t.experimentalGpuAcceleration=39]="experimentalGpuAcceleration",t[t.experimentalWhitespaceRendering=40]="experimentalWhitespaceRendering",t[t.extraEditorClassName=41]="extraEditorClassName",t[t.fastScrollSensitivity=42]="fastScrollSensitivity",t[t.find=43]="find",t[t.fixedOverflowWidgets=44]="fixedOverflowWidgets",t[t.folding=45]="folding",t[t.foldingStrategy=46]="foldingStrategy",t[t.foldingHighlight=47]="foldingHighlight",t[t.foldingImportsByDefault=48]="foldingImportsByDefault",t[t.foldingMaximumRegions=49]="foldingMaximumRegions",t[t.unfoldOnClickAfterEndOfLine=50]="unfoldOnClickAfterEndOfLine",t[t.fontFamily=51]="fontFamily",t[t.fontInfo=52]="fontInfo",t[t.fontLigatures=53]="fontLigatures",t[t.fontSize=54]="fontSize",t[t.fontWeight=55]="fontWeight",t[t.fontVariations=56]="fontVariations",t[t.formatOnPaste=57]="formatOnPaste",t[t.formatOnType=58]="formatOnType",t[t.glyphMargin=59]="glyphMargin",t[t.gotoLocation=60]="gotoLocation",t[t.hideCursorInOverviewRuler=61]="hideCursorInOverviewRuler",t[t.hover=62]="hover",t[t.inDiffEditor=63]="inDiffEditor",t[t.inlineSuggest=64]="inlineSuggest",t[t.inlineEdit=65]="inlineEdit",t[t.letterSpacing=66]="letterSpacing",t[t.lightbulb=67]="lightbulb",t[t.lineDecorationsWidth=68]="lineDecorationsWidth",t[t.lineHeight=69]="lineHeight",t[t.lineNumbers=70]="lineNumbers",t[t.lineNumbersMinChars=71]="lineNumbersMinChars",t[t.linkedEditing=72]="linkedEditing",t[t.links=73]="links",t[t.matchBrackets=74]="matchBrackets",t[t.minimap=75]="minimap",t[t.mouseStyle=76]="mouseStyle",t[t.mouseWheelScrollSensitivity=77]="mouseWheelScrollSensitivity",t[t.mouseWheelZoom=78]="mouseWheelZoom",t[t.multiCursorMergeOverlapping=79]="multiCursorMergeOverlapping",t[t.multiCursorModifier=80]="multiCursorModifier",t[t.multiCursorPaste=81]="multiCursorPaste",t[t.multiCursorLimit=82]="multiCursorLimit",t[t.occurrencesHighlight=83]="occurrencesHighlight",t[t.overviewRulerBorder=84]="overviewRulerBorder",t[t.overviewRulerLanes=85]="overviewRulerLanes",t[t.padding=86]="padding",t[t.pasteAs=87]="pasteAs",t[t.parameterHints=88]="parameterHints",t[t.peekWidgetDefaultFocus=89]="peekWidgetDefaultFocus",t[t.placeholder=90]="placeholder",t[t.definitionLinkOpensInPeek=91]="definitionLinkOpensInPeek",t[t.quickSuggestions=92]="quickSuggestions",t[t.quickSuggestionsDelay=93]="quickSuggestionsDelay",t[t.readOnly=94]="readOnly",t[t.readOnlyMessage=95]="readOnlyMessage",t[t.renameOnType=96]="renameOnType",t[t.renderControlCharacters=97]="renderControlCharacters",t[t.renderFinalNewline=98]="renderFinalNewline",t[t.renderLineHighlight=99]="renderLineHighlight",t[t.renderLineHighlightOnlyWhenFocus=100]="renderLineHighlightOnlyWhenFocus",t[t.renderValidationDecorations=101]="renderValidationDecorations",t[t.renderWhitespace=102]="renderWhitespace",t[t.revealHorizontalRightPadding=103]="revealHorizontalRightPadding",t[t.roundedSelection=104]="roundedSelection",t[t.rulers=105]="rulers",t[t.scrollbar=106]="scrollbar",t[t.scrollBeyondLastColumn=107]="scrollBeyondLastColumn",t[t.scrollBeyondLastLine=108]="scrollBeyondLastLine",t[t.scrollPredominantAxis=109]="scrollPredominantAxis",t[t.selectionClipboard=110]="selectionClipboard",t[t.selectionHighlight=111]="selectionHighlight",t[t.selectOnLineNumbers=112]="selectOnLineNumbers",t[t.showFoldingControls=113]="showFoldingControls",t[t.showUnused=114]="showUnused",t[t.snippetSuggestions=115]="snippetSuggestions",t[t.smartSelect=116]="smartSelect",t[t.smoothScrolling=117]="smoothScrolling",t[t.stickyScroll=118]="stickyScroll",t[t.stickyTabStops=119]="stickyTabStops",t[t.stopRenderingLineAfter=120]="stopRenderingLineAfter",t[t.suggest=121]="suggest",t[t.suggestFontSize=122]="suggestFontSize",t[t.suggestLineHeight=123]="suggestLineHeight",t[t.suggestOnTriggerCharacters=124]="suggestOnTriggerCharacters",t[t.suggestSelection=125]="suggestSelection",t[t.tabCompletion=126]="tabCompletion",t[t.tabIndex=127]="tabIndex",t[t.unicodeHighlighting=128]="unicodeHighlighting",t[t.unusualLineTerminators=129]="unusualLineTerminators",t[t.useShadowDOM=130]="useShadowDOM",t[t.useTabStops=131]="useTabStops",t[t.wordBreak=132]="wordBreak",t[t.wordSegmenterLocales=133]="wordSegmenterLocales",t[t.wordSeparators=134]="wordSeparators",t[t.wordWrap=135]="wordWrap",t[t.wordWrapBreakAfterCharacters=136]="wordWrapBreakAfterCharacters",t[t.wordWrapBreakBeforeCharacters=137]="wordWrapBreakBeforeCharacters",t[t.wordWrapColumn=138]="wordWrapColumn",t[t.wordWrapOverride1=139]="wordWrapOverride1",t[t.wordWrapOverride2=140]="wordWrapOverride2",t[t.wrappingIndent=141]="wrappingIndent",t[t.wrappingStrategy=142]="wrappingStrategy",t[t.showDeprecated=143]="showDeprecated",t[t.inlayHints=144]="inlayHints",t[t.editorClassName=145]="editorClassName",t[t.pixelRatio=146]="pixelRatio",t[t.tabFocusMode=147]="tabFocusMode",t[t.layoutInfo=148]="layoutInfo",t[t.wrappingInfo=149]="wrappingInfo",t[t.defaultColorDecorators=150]="defaultColorDecorators",t[t.colorDecoratorsActivatedOn=151]="colorDecoratorsActivatedOn",t[t.inlineCompletionsAccessibilityVerbose=152]="inlineCompletionsAccessibilityVerbose",t))(vl||{});const Lc={acceptSuggestionOnCommitCharacter:V(new Xe(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:c("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:V(new $t(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",c("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:c("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:V(new pW),accessibilityPageSize:V(new St(3,"accessibilityPageSize",10,1,Is.MAX_SAFE_SMALL_INTEGER,{description:c("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:V(new ys(4,"ariaLabel",c("editorViewAccessibleLabel","Editor content"))),ariaRequired:V(new Xe(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:V(new Xe(8,"screenReaderAnnounceInlineSuggestion",!0,{description:c("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:V(new $t(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",c("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),c("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:c("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingComments:V(new $t(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",c("editor.autoClosingComments.languageDefined","Use language configurations to determine when to autoclose comments."),c("editor.autoClosingComments.beforeWhitespace","Autoclose comments only when the cursor is to the left of whitespace."),""],description:c("autoClosingComments","Controls whether the editor should automatically close comments after the user adds an opening comment.")})),autoClosingDelete:V(new $t(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",c("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:c("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:V(new $t(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",c("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:c("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:V(new $t(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",c("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),c("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:c("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:V(new qm(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],xP,{enumDescriptions:[c("editor.autoIndent.none","The editor will not insert indentation automatically."),c("editor.autoIndent.keep","The editor will keep the current line's indentation."),c("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),c("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),c("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:c("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:V(new Xe(13,"automaticLayout",!1)),autoSurround:V(new $t(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[c("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),c("editor.autoSurround.quotes","Surround with quotes but not brackets."),c("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:c("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:V(new KW),bracketPairGuides:V(new GW),stickyTabStops:V(new Xe(119,"stickyTabStops",!1,{description:c("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:V(new Xe(17,"codeLens",!0,{description:c("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:V(new ys(18,"codeLensFontFamily","",{description:c("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:V(new St(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:c("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:V(new Xe(20,"colorDecorators",!0,{description:c("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:V(new $t(151,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[c("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),c("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),c("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:c("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:V(new St(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:c("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:V(new Xe(22,"columnSelection",!1,{description:c("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:V(new mW),contextmenu:V(new Xe(24,"contextmenu",!0)),copyWithSyntaxHighlighting:V(new Xe(25,"copyWithSyntaxHighlighting",!0,{description:c("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:V(new qm(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],LP,{description:c("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:V(new $t(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[c("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),c("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),c("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:c("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:V(new qm(28,"cursorStyle",1,"line",["line","block","underline","line-thin","block-outline","underline-thin"],PP,{description:c("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:V(new St(29,"cursorSurroundingLines",0,0,Is.MAX_SAFE_SMALL_INTEGER,{description:c("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:V(new $t(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[c("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),c("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],markdownDescription:c("cursorSurroundingLinesStyle","Controls when `#editor.cursorSurroundingLines#` should be enforced.")})),cursorWidth:V(new St(31,"cursorWidth",0,0,Is.MAX_SAFE_SMALL_INTEGER,{markdownDescription:c("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:V(new Xe(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:V(new Xe(33,"disableMonospaceOptimizations",!1)),domReadOnly:V(new Xe(34,"domReadOnly",!1)),dragAndDrop:V(new Xe(35,"dragAndDrop",!0,{description:c("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:V(new wW),dropIntoEditor:V(new QW),experimentalEditContextEnabled:V(new Xe(37,"experimentalEditContextEnabled",!1,{description:c("experimentalEditContextEnabled","Sets whether the new experimental edit context should be used instead of the text area.")})),stickyScroll:V(new IW),experimentalGpuAcceleration:V(new $t(39,"experimentalGpuAcceleration","off",["off","on"],void 0)),experimentalWhitespaceRendering:V(new $t(40,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[c("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),c("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),c("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:c("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:V(new ys(41,"extraEditorClassName","")),fastScrollSensitivity:V(new En(42,"fastScrollSensitivity",5,t=>t<=0?5:t,{markdownDescription:c("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:V(new yW),fixedOverflowWidgets:V(new Xe(44,"fixedOverflowWidgets",!1)),folding:V(new Xe(45,"folding",!0,{description:c("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:V(new $t(46,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[c("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),c("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:c("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:V(new Xe(47,"foldingHighlight",!0,{description:c("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:V(new Xe(48,"foldingImportsByDefault",!1,{description:c("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:V(new St(49,"foldingMaximumRegions",5e3,10,65e3,{description:c("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:V(new Xe(50,"unfoldOnClickAfterEndOfLine",!1,{description:c("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:V(new ys(51,"fontFamily",zr.fontFamily,{description:c("fontFamily","Controls the font family.")})),fontInfo:V(new _W),fontLigatures2:V(new kl),fontSize:V(new SW),fontWeight:V(new Zc),fontVariations:V(new Ia),formatOnPaste:V(new Xe(57,"formatOnPaste",!1,{description:c("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:V(new Xe(58,"formatOnType",!1,{description:c("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:V(new Xe(59,"glyphMargin",!0,{description:c("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:V(new CW),hideCursorInOverviewRuler:V(new Xe(61,"hideCursorInOverviewRuler",!1,{description:c("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:V(new DW),inDiffEditor:V(new Xe(63,"inDiffEditor",!1)),letterSpacing:V(new En(66,"letterSpacing",zr.letterSpacing,t=>En.clamp(t,-5,20),{description:c("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:V(new EW),lineDecorationsWidth:V(new kW),lineHeight:V(new xW),lineNumbers:V(new MW),lineNumbersMinChars:V(new St(71,"lineNumbersMinChars",5,1,300)),linkedEditing:V(new Xe(72,"linkedEditing",!1,{description:c("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:V(new Xe(73,"links",!0,{description:c("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:V(new $t(74,"matchBrackets","always",["always","near","never"],{description:c("matchBrackets","Highlight matching brackets.")})),minimap:V(new LW),mouseStyle:V(new $t(76,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:V(new En(77,"mouseWheelScrollSensitivity",1,t=>t===0?1:t,{markdownDescription:c("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:V(new Xe(78,"mouseWheelZoom",!1,{markdownDescription:He?c("mouseWheelZoom.mac","Zoom the font of the editor when using mouse wheel and holding `Cmd`."):c("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:V(new Xe(79,"multiCursorMergeOverlapping",!0,{description:c("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:V(new qm(80,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],RP,{markdownEnumDescriptions:[c("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),c("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:c({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:V(new $t(81,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[c("multiCursorPaste.spread","Each cursor pastes a single line of the text."),c("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:c("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:V(new St(82,"multiCursorLimit",1e4,1,1e5,{markdownDescription:c("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:V(new $t(83,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[c("occurrencesHighlight.off","Does not highlight occurrences."),c("occurrencesHighlight.singleFile","Highlights occurrences only in the current file."),c("occurrencesHighlight.multiFile","Experimental: Highlights occurrences across all valid open files.")],markdownDescription:c("occurrencesHighlight","Controls whether occurrences should be highlighted across open files.")})),overviewRulerBorder:V(new Xe(84,"overviewRulerBorder",!0,{description:c("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:V(new St(85,"overviewRulerLanes",3,0,3)),padding:V(new PW),pasteAs:V(new JW),parameterHints:V(new RW),peekWidgetDefaultFocus:V(new $t(89,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[c("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),c("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:c("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),placeholder:V(new OW),definitionLinkOpensInPeek:V(new Xe(91,"definitionLinkOpensInPeek",!1,{description:c("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:V(new BW),quickSuggestionsDelay:V(new St(93,"quickSuggestionsDelay",10,0,Is.MAX_SAFE_SMALL_INTEGER,{description:c("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:V(new Xe(94,"readOnly",!1)),readOnlyMessage:V(new HW),renameOnType:V(new Xe(96,"renameOnType",!1,{description:c("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:c("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:V(new Xe(97,"renderControlCharacters",!0,{description:c("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:V(new $t(98,"renderFinalNewline",Ni?"dimmed":"on",["off","on","dimmed"],{description:c("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:V(new $t(99,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",c("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:c("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:V(new Xe(100,"renderLineHighlightOnlyWhenFocus",!1,{description:c("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:V(new $t(101,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:V(new $t(102,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",c("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),c("renderWhitespace.selection","Render whitespace characters only on selected text."),c("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:c("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:V(new St(103,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:V(new Xe(104,"roundedSelection",!0,{description:c("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:V(new VW),scrollbar:V(new WW),scrollBeyondLastColumn:V(new St(107,"scrollBeyondLastColumn",4,0,Is.MAX_SAFE_SMALL_INTEGER,{description:c("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:V(new Xe(108,"scrollBeyondLastLine",!0,{description:c("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:V(new Xe(109,"scrollPredominantAxis",!0,{description:c("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:V(new Xe(110,"selectionClipboard",!0,{description:c("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:Ni})),selectionHighlight:V(new Xe(111,"selectionHighlight",!0,{description:c("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:V(new Xe(112,"selectOnLineNumbers",!0)),showFoldingControls:V(new $t(113,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[c("showFoldingControls.always","Always show the folding controls."),c("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),c("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:c("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:V(new Xe(114,"showUnused",!0,{description:c("showUnused","Controls fading out of unused code.")})),showDeprecated:V(new Xe(143,"showDeprecated",!0,{description:c("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:V(new TW),snippetSuggestions:V(new $t(115,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[c("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),c("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),c("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),c("snippetSuggestions.none","Do not show snippet suggestions.")],description:c("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:V(new qW),smoothScrolling:V(new Xe(117,"smoothScrolling",!1,{description:c("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:V(new St(120,"stopRenderingLineAfter",1e4,-1,Is.MAX_SAFE_SMALL_INTEGER)),suggest:V(new jW),inlineSuggest:V(new zW),inlineEdit:V(new $W),inlineCompletionsAccessibilityVerbose:V(new Xe(152,"inlineCompletionsAccessibilityVerbose",!1,{description:c("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:V(new St(122,"suggestFontSize",0,0,1e3,{markdownDescription:c("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:V(new St(123,"suggestLineHeight",0,0,1e3,{markdownDescription:c("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:V(new Xe(124,"suggestOnTriggerCharacters",!0,{description:c("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:V(new $t(125,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[c("suggestSelection.first","Always select the first suggestion."),c("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),c("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:c("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:V(new $t(126,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[c("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),c("tabCompletion.off","Disable tab completions."),c("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:c("tabCompletion","Enables tab completions.")})),tabIndex:V(new St(127,"tabIndex",0,-1,Is.MAX_SAFE_SMALL_INTEGER)),unicodeHighlight:V(new UW),unusualLineTerminators:V(new $t(129,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[c("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),c("unusualLineTerminators.off","Unusual line terminators are ignored."),c("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:c("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:V(new Xe(130,"useShadowDOM",!0)),useTabStops:V(new Xe(131,"useTabStops",!0,{description:c("useTabStops","Spaces and tabs are inserted and deleted in alignment with tab stops.")})),wordBreak:V(new $t(132,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[c("wordBreak.normal","Use the default line break rule."),c("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:c("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSegmenterLocales:V(new YW),wordSeparators:V(new ys(134,"wordSeparators",DP,{description:c("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:V(new $t(135,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[c("wordWrap.off","Lines will never wrap."),c("wordWrap.on","Lines will wrap at the viewport width."),c({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),c({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:c({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:V(new ys(136,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;")),wordWrapBreakBeforeCharacters:V(new ys(137,"wordWrapBreakBeforeCharacters","([{+")),wordWrapColumn:V(new St(138,"wordWrapColumn",80,1,Is.MAX_SAFE_SMALL_INTEGER,{markdownDescription:c({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:V(new $t(139,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:V(new $t(140,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:V(new vW),defaultColorDecorators:V(new Xe(150,"defaultColorDecorators",!1,{markdownDescription:c("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:V(new NW),tabFocusMode:V(new Xe(147,"tabFocusMode",!1,{markdownDescription:c("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:V(new yf),wrappingInfo:V(new ZW),wrappingIndent:V(new XW),wrappingStrategy:V(new AW)},nU=new class{_zoomLevel=0;_onDidChangeZoomLevel=new I;onDidChangeZoomLevel=this._onDidChangeZoomLevel.event;getZoomLevel(){return this._zoomLevel}setZoomLevel(t){t=Math.min(Math.max(-5,t),20),this._zoomLevel!==t&&(this._zoomLevel=t,this._onDidChangeZoomLevel.fire(this._zoomLevel))}};var oU=Object.defineProperty,NP=(t,e)=>oU(t,"name",{value:e,configurable:!0});const rU=He?1.5:1.35,Oy=8;class sh{static{NP(this,"BareFontInfo")}_bareFontInfoBrand=void 0;static createFromValidatedSettings(e,i,s){const n=e.get(vl.fontFamily),o=e.get(vl.fontWeight),r=e.get(vl.fontSize),a=e.get(vl.fontLigatures),l=e.get(vl.fontVariations),h=e.get(vl.lineHeight),d=e.get(vl.letterSpacing);return sh._create(n,o,r,a,l,h,d,i,s)}static createFromRawSettings(e,i,s=!1){const n=Lc.fontFamily.validate(e.fontFamily),o=Lc.fontWeight.validate(e.fontWeight),r=Lc.fontSize.validate(e.fontSize),a=Lc.fontLigatures2.validate(e.fontLigatures),l=Lc.fontVariations.validate(e.fontVariations),h=Lc.lineHeight.validate(e.lineHeight),d=Lc.letterSpacing.validate(e.letterSpacing);return sh._create(n,o,r,a,l,h,d,i,s)}static _create(e,i,s,n,o,r,a,l,h){r===0?r=rU*s:r<Oy&&(r=r*s),r=Math.round(r),r<Oy&&(r=Oy);const d=1+(h?0:nU.getZoomLevel()*.1);return s*=d,r*=d,o===Ia.TRANSLATE&&(i==="normal"||i==="bold"?o=Ia.OFF:(o=`'wght' ${Number.parseInt(i,10)}`,i="normal")),new sh({pixelRatio:l,fontFamily:e,fontWeight:i,fontSize:s,fontFeatureSettings:n,fontVariationSettings:o,lineHeight:r,letterSpacing:a})}pixelRatio;fontFamily;fontWeight;fontSize;fontFeatureSettings;fontVariationSettings;lineHeight;letterSpacing;constructor(e){this.pixelRatio=e.pixelRatio,this.fontFamily=String(e.fontFamily),this.fontWeight=String(e.fontWeight),this.fontSize=e.fontSize,this.fontFeatureSettings=e.fontFeatureSettings,this.fontVariationSettings=e.fontVariationSettings,this.lineHeight=e.lineHeight|0,this.letterSpacing=e.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const e=zr.fontFamily,i=sh._wrapInQuotes(this.fontFamily);return e&&this.fontFamily!==e?`${i}, ${e}`:i}static _wrapInQuotes(e){return/[,"']/.test(e)?e:/[+ ]/.test(e)?`"${e}"`:e}}const OP=2;class By extends sh{static{NP(this,"FontInfo")}_editorStylingBrand=void 0;version=OP;isTrusted;isMonospace;typicalHalfwidthCharacterWidth;typicalFullwidthCharacterWidth;canUseHalfwidthRightwardsArrow;spaceWidth;middotWidth;wsmiddotWidth;maxDigitWidth;constructor(e,i){super(e),this.isTrusted=i,this.isMonospace=e.isMonospace,this.typicalHalfwidthCharacterWidth=e.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=e.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=e.canUseHalfwidthRightwardsArrow,this.spaceWidth=e.spaceWidth,this.middotWidth=e.middotWidth,this.wsmiddotWidth=e.wsmiddotWidth,this.maxDigitWidth=e.maxDigitWidth}equals(e){return this.fontFamily===e.fontFamily&&this.fontWeight===e.fontWeight&&this.fontSize===e.fontSize&&this.fontFeatureSettings===e.fontFeatureSettings&&this.fontVariationSettings===e.fontVariationSettings&&this.lineHeight===e.lineHeight&&this.letterSpacing===e.letterSpacing&&this.typicalHalfwidthCharacterWidth===e.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===e.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===e.canUseHalfwidthRightwardsArrow&&this.spaceWidth===e.spaceWidth&&this.middotWidth===e.middotWidth&&this.wsmiddotWidth===e.wsmiddotWidth&&this.maxDigitWidth===e.maxDigitWidth}}var aU=Object.defineProperty,JC=(t,e)=>aU(t,"name",{value:e,configurable:!0});class BP{constructor(e){this.domNode=e}static{JC(this,"FastDomNode")}_maxWidth="";_width="";_height="";_top="";_left="";_bottom="";_right="";_paddingTop="";_paddingLeft="";_paddingBottom="";_paddingRight="";_fontFamily="";_fontWeight="";_fontSize="";_fontStyle="";_fontFeatureSettings="";_fontVariationSettings="";_textDecoration="";_lineHeight="";_letterSpacing="";_className="";_display="";_position="";_visibility="";_color="";_backgroundColor="";_layerHint=!1;_contain="none";_boxShadow="";setMaxWidth(e){const i=nn(e);this._maxWidth!==i&&(this._maxWidth=i,this.domNode.style.maxWidth=this._maxWidth)}setWidth(e){const i=nn(e);this._width!==i&&(this._width=i,this.domNode.style.width=this._width)}setHeight(e){const i=nn(e);this._height!==i&&(this._height=i,this.domNode.style.height=this._height)}setTop(e){const i=nn(e);this._top!==i&&(this._top=i,this.domNode.style.top=this._top)}setLeft(e){const i=nn(e);this._left!==i&&(this._left=i,this.domNode.style.left=this._left)}setBottom(e){const i=nn(e);this._bottom!==i&&(this._bottom=i,this.domNode.style.bottom=this._bottom)}setRight(e){const i=nn(e);this._right!==i&&(this._right=i,this.domNode.style.right=this._right)}setPaddingTop(e){const i=nn(e);this._paddingTop!==i&&(this._paddingTop=i,this.domNode.style.paddingTop=this._paddingTop)}setPaddingLeft(e){const i=nn(e);this._paddingLeft!==i&&(this._paddingLeft=i,this.domNode.style.paddingLeft=this._paddingLeft)}setPaddingBottom(e){const i=nn(e);this._paddingBottom!==i&&(this._paddingBottom=i,this.domNode.style.paddingBottom=this._paddingBottom)}setPaddingRight(e){const i=nn(e);this._paddingRight!==i&&(this._paddingRight=i,this.domNode.style.paddingRight=this._paddingRight)}setFontFamily(e){this._fontFamily!==e&&(this._fontFamily=e,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(e){const i=nn(e);this._fontSize!==i&&(this._fontSize=i,this.domNode.style.fontSize=this._fontSize)}setFontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(e){this._fontFeatureSettings!==e&&(this._fontFeatureSettings=e,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(e){this._fontVariationSettings!==e&&(this._fontVariationSettings=e,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(e){this._textDecoration!==e&&(this._textDecoration=e,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(e){const i=nn(e);this._lineHeight!==i&&(this._lineHeight=i,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(e){const i=nn(e);this._letterSpacing!==i&&(this._letterSpacing=i,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(e){this._className!==e&&(this._className=e,this.domNode.className=this._className)}toggleClassName(e,i){this.domNode.classList.toggle(e,i),this._className=this.domNode.className}setDisplay(e){this._display!==e&&(this._display=e,this.domNode.style.display=this._display)}setPosition(e){this._position!==e&&(this._position=e,this.domNode.style.position=this._position)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this.domNode.style.visibility=this._visibility)}setColor(e){this._color!==e&&(this._color=e,this.domNode.style.color=this._color)}setBackgroundColor(e){this._backgroundColor!==e&&(this._backgroundColor=e,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(e){this._layerHint!==e&&(this._layerHint=e,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(e){this._boxShadow!==e&&(this._boxShadow=e,this.domNode.style.boxShadow=e)}setContain(e){this._contain!==e&&(this._contain=e,this.domNode.style.contain=this._contain)}setAttribute(e,i){this.domNode.setAttribute(e,i)}removeAttribute(e){this.domNode.removeAttribute(e)}appendChild(e){this.domNode.appendChild(e.domNode)}removeChild(e){this.domNode.removeChild(e.domNode)}}function nn(t){return typeof t=="number"?`${t}px`:t}JC(nn,"numberAsPixels");function Zd(t){return new BP(t)}JC(Zd,"createFastDomNode");var lU=Object.defineProperty,cU=(t,e)=>lU(t,"name",{value:e,configurable:!0});function jb(t,e){t instanceof BP?(t.setFontFamily(e.getMassagedFontFamily()),t.setFontWeight(e.fontWeight),t.setFontSize(e.fontSize),t.setFontFeatureSettings(e.fontFeatureSettings),t.setFontVariationSettings(e.fontVariationSettings),t.setLineHeight(e.lineHeight),t.setLetterSpacing(e.letterSpacing)):(t.style.fontFamily=e.getMassagedFontFamily(),t.style.fontWeight=e.fontWeight,t.style.fontSize=e.fontSize+"px",t.style.fontFeatureSettings=e.fontFeatureSettings,t.style.fontVariationSettings=e.fontVariationSettings,t.style.lineHeight=e.lineHeight+"px",t.style.letterSpacing=e.letterSpacing+"px")}cU(jb,"applyFontInfo");var hU=Object.defineProperty,eD=(t,e)=>hU(t,"name",{value:e,configurable:!0}),zi=(t=>(t[t.Regular=0]="Regular",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t))(zi||{});class dU{static{eD(this,"CharWidthRequest")}chr;type;width;constructor(e,i){this.chr=e,this.type=i,this.width=0}fulfill(e){this.width=e}}class tD{static{eD(this,"DomCharWidthReader")}_bareFontInfo;_requests;_container;_testElements;constructor(e,i){this._bareFontInfo=e,this._requests=i,this._container=null,this._testElements=null}read(e){this._createDomElements(),e.document.body.appendChild(this._container),this._readFromDomElements(),this._container?.remove(),this._container=null,this._testElements=null}_createDomElements(){const e=document.createElement("div");e.style.position="absolute",e.style.top="-50000px",e.style.width="50000px";const i=document.createElement("div");jb(i,this._bareFontInfo),e.appendChild(i);const s=document.createElement("div");jb(s,this._bareFontInfo),s.style.fontWeight="bold",e.appendChild(s);const n=document.createElement("div");jb(n,this._bareFontInfo),n.style.fontStyle="italic",e.appendChild(n);const o=[];for(const r of this._requests){let a;r.type===0&&(a=i),r.type===2&&(a=s),r.type===1&&(a=n),a.appendChild(document.createElement("br"));const l=document.createElement("span");tD._render(l,r),a.appendChild(l),o.push(l)}this._container=e,this._testElements=o}static _render(e,i){if(i.chr===" "){let s="";for(let n=0;n<8;n++)s+=s;e.innerText=s}else{let s=i.chr;for(let n=0;n<8;n++)s+=s;e.textContent=s}}_readFromDomElements(){for(let e=0,i=this._requests.length;e<i;e++){const s=this._requests[e],n=this._testElements[e];s.fulfill(n.offsetWidth/256)}}}function MP(t,e,i){new tD(e,i).read(t)}eD(MP,"readCharWidths");var uU=Object.defineProperty,FP=(t,e)=>uU(t,"name",{value:e,configurable:!0});class gU extends q{static{FP(this,"FontMeasurementsImpl")}_cache=new Map;_evictUntrustedReadingsTimeout=-1;_onDidChange=this._register(new I);onDidChange=this._onDidChange.event;dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache.clear(),this._onDidChange.fire()}_ensureCache(e){const i=ph(e);let s=this._cache.get(i);return s||(s=new fU,this._cache.set(i,s)),s}_writeToCache(e,i,s){this._ensureCache(e).put(i,s),!s.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=e.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings(e)},5e3))}_evictUntrustedReadings(e){const i=this._ensureCache(e),s=i.getValues();let n=!1;for(const o of s)o.isTrusted||(n=!0,i.remove(o));n&&this._onDidChange.fire()}serializeFontInfo(e){return this._ensureCache(e).getValues().filter(s=>s.isTrusted)}restoreFontInfo(e,i){for(const s of i){if(s.version!==OP)continue;const n=new By(s,!1);this._writeToCache(e,n,n)}}readFontInfo(e,i){const s=this._ensureCache(e);if(!s.has(i)){let n=this._actualReadFontInfo(e,i);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new By({pixelRatio:q_.getInstance(e).value,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,fontVariationSettings:n.fontVariationSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:n.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(n.spaceWidth,5),middotWidth:Math.max(n.middotWidth,5),wsmiddotWidth:Math.max(n.wsmiddotWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(e,i,n)}return s.get(i)}_createRequest(e,i,s,n){const o=new dU(e,i);return s.push(o),n?.push(o),o}_actualReadFontInfo(e,i){const s=[],n=[],o=this._createRequest("n",zi.Regular,s,n),r=this._createRequest("",zi.Regular,s,null),a=this._createRequest(" ",zi.Regular,s,n),l=this._createRequest("0",zi.Regular,s,n),h=this._createRequest("1",zi.Regular,s,n),d=this._createRequest("2",zi.Regular,s,n),u=this._createRequest("3",zi.Regular,s,n),g=this._createRequest("4",zi.Regular,s,n),p=this._createRequest("5",zi.Regular,s,n),m=this._createRequest("6",zi.Regular,s,n),b=this._createRequest("7",zi.Regular,s,n),C=this._createRequest("8",zi.Regular,s,n),x=this._createRequest("9",zi.Regular,s,n),E=this._createRequest("",zi.Regular,s,n),F=this._createRequest("",zi.Regular,s,null),B=this._createRequest("",zi.Regular,s,n),M=this._createRequest("",zi.Regular,s,null),X="|/-_ilm%";for(let oe=0,De=X.length;oe<De;oe++)this._createRequest(X.charAt(oe),zi.Regular,s,n),this._createRequest(X.charAt(oe),zi.Italic,s,n),this._createRequest(X.charAt(oe),zi.Bold,s,n);MP(e,i,s);const ee=Math.max(l.width,h.width,d.width,u.width,g.width,p.width,m.width,b.width,C.width,x.width);let z=i.fontFeatureSettings===kl.OFF;const se=n[0].width;for(let oe=1,De=n.length;z&&oe<De;oe++){const Wt=se-n[oe].width;if(Wt<-.001||Wt>.001){z=!1;break}}let Re=!0;return z&&F.width!==se&&(Re=!1),F.width>E.width&&(Re=!1),new By({pixelRatio:q_.getInstance(e).value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,fontVariationSettings:i.fontVariationSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:z,typicalHalfwidthCharacterWidth:o.width,typicalFullwidthCharacterWidth:r.width,canUseHalfwidthRightwardsArrow:Re,spaceWidth:a.width,middotWidth:B.width,wsmiddotWidth:M.width,maxDigitWidth:ee},!0)}}class fU{static{FP(this,"FontMeasurementsCache")}_keys;_values;constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(e){const i=e.getId();return!!this._values[i]}get(e){const i=e.getId();return this._values[i]}put(e,i){const s=e.getId();this._keys[s]=e,this._values[s]=i}remove(e){const i=e.getId();delete this._keys[i],delete this._values[i]}getValues(){return Object.keys(this._keys).map(e=>this._values[e])}}const My=new gU;var pU=Object.defineProperty,NI=(t,e)=>pU(t,"name",{value:e,configurable:!0});const mU=new class{static{NI(this,"AccessibleViewRegistry")}_implementations=[];register(e){return this._implementations.push(e),{dispose:NI(()=>{const i=this._implementations.indexOf(e);i!==-1&&this._implementations.splice(i,1)},"dispose")}}getImplementations(){return this._implementations}};var bU=Object.defineProperty,wc=(t,e)=>bU(t,"name",{value:e,configurable:!0});const gn=wc((t,e)=>t===e,"strictEquals");function vU(t=gn){return(e,i)=>Pn(e,i,t)}wc(vU,"itemsEquals");function wU(){return(t,e)=>JSON.stringify(t)===JSON.stringify(e)}wc(wU,"jsonStringifyEquals");function yU(){return(t,e)=>t.equals(e)}wc(yU,"itemEquals");function _U(t,e,i){if(i!==void 0){const s=t;return s==null||e===void 0||e===null?e===s:i(s,e)}else{const s=t;return(n,o)=>n==null||o===void 0||o===null?o===n:s(n,o)}}wc(_U,"equalsIfDefined");function n0(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(!n0(t[i],e[i]))return!1;return!0}if(t&&typeof t=="object"&&e&&typeof e=="object"&&Object.getPrototypeOf(t)===Object.prototype&&Object.getPrototypeOf(e)===Object.prototype){const i=t,s=e,n=Object.keys(i),o=Object.keys(s),r=new Set(o);if(n.length!==o.length)return!1;for(const a of n)if(!r.has(a)||!n0(i[a],s[a]))return!1;return!0}return!1}wc(n0,"structuralEquals");function VP(t){return JSON.stringify(zv(t))}wc(VP,"getStructuralKey");let SU=0;const OI=new WeakMap;function zv(t){if(Array.isArray(t))return t.map(zv);if(t&&typeof t=="object")if(Object.getPrototypeOf(t)===Object.prototype){const e=t,i=Object.create(null);for(const s of Object.keys(e).sort())i[s]=zv(e[s]);return i}else{let e=OI.get(t);return e===void 0&&(e=SU++,OI.set(t,e)),e+"----2b76a038c20c4bcc"}return t}wc(zv,"toNormalizedJsonStructure");var CU=Object.defineProperty,id=(t,e)=>CU(t,"name",{value:e,configurable:!0});class Zi{constructor(e,i,s){this.owner=e,this.debugNameSource=i,this.referenceFn=s}static{id(this,"DebugNameData")}getDebugName(e){return iD(e,this)}}const BI=new Map,o0=new WeakMap;function iD(t,e){const i=o0.get(t);if(i)return i;const s=HP(t,e);if(s){let n=BI.get(s)??0;n++,BI.set(s,n);const o=n===1?s:`${s}#${n}`;return o0.set(t,o),o}}id(iD,"getDebugName");function HP(t,e){const i=o0.get(t);if(i)return i;const s=e.owner?UP(e.owner)+".":"";let n;const o=e.debugNameSource;if(o!==void 0)if(typeof o=="function"){if(n=o(),n!==void 0)return s+n}else return s+o;const r=e.referenceFn;if(r!==void 0&&(n=E1(r),n!==void 0))return s+n;if(e.owner!==void 0){const a=WP(e.owner,t);if(a!==void 0)return s+a}}id(HP,"computeDebugName");function WP(t,e){for(const i in t)if(t[i]===e)return i}id(WP,"findKey");const MI=new Map,FI=new WeakMap;function UP(t){const e=FI.get(t);if(e)return e;const i=zP(t);let s=MI.get(i)??0;s++,MI.set(i,s);const n=s===1?i:`${i}#${s}`;return FI.set(t,n),n}id(UP,"formatOwner");function zP(t){const e=t.constructor;return e?e.name:"Object"}id(zP,"getClassName");function E1(t){const e=t.toString(),s=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(e);return(s?s[1]:void 0)?.trim()}id(E1,"getFunctionName");var DU=Object.defineProperty,On=(t,e)=>DU(t,"name",{value:e,configurable:!0});let $P;function AU(t){$P=t}On(AU,"setLogger");function rr(){return $P}On(rr,"getLogger");class $ne{static{On(this,"ConsoleObservableLogger")}indentation=0;textToConsoleArgs(e){return KP([Hc(qP("|  ",this.indentation)),e])}formatInfo(e){return e.hadValue?e.didChange?[Hc(" "),Do(Qd(e.oldValue,70),{color:"red",strikeThrough:!0}),Hc(" "),Do(Qd(e.newValue,60),{color:"green"})]:[Hc(" (unchanged)")]:[Hc(" "),Do(Qd(e.newValue,60),{color:"green"}),Hc(" (initial)")]}handleObservableChanged(e,i){console.log(...this.textToConsoleArgs([Dd("observable value changed"),Do(e.debugName,{color:"BlueViolet"}),...this.formatInfo(i)]))}changedObservablesSets=new WeakMap;formatChanges(e){if(e.size!==0)return Do(" (changed deps: "+[...e].map(i=>i.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(e){const i=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(s,n)=>(this.changedObservablesSets.get(e).add(s),i.apply(e,[s,n]))}handleDerivedRecomputed(e,i){const s=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([Dd("derived recomputed"),Do(e.debugName,{color:"BlueViolet"}),...this.formatInfo(i),this.formatChanges(s),{data:[{fn:e._debugNameData.referenceFn??e._computeFn}]}])),s.clear()}handleFromEventObservableTriggered(e,i){console.log(...this.textToConsoleArgs([Dd("observable from event triggered"),Do(e.debugName,{color:"BlueViolet"}),...this.formatInfo(i),{data:[{fn:e._getValue}]}]))}handleAutorunCreated(e){const i=e.handleChange;this.changedObservablesSets.set(e,new Set),e.handleChange=(s,n)=>(this.changedObservablesSets.get(e).add(s),i.apply(e,[s,n]))}handleAutorunTriggered(e){const i=this.changedObservablesSets.get(e);console.log(...this.textToConsoleArgs([Dd("autorun"),Do(e.debugName,{color:"BlueViolet"}),this.formatChanges(i),{data:[{fn:e._debugNameData.referenceFn??e._runFn}]}])),i.clear(),this.indentation++}handleAutorunFinished(e){this.indentation--}handleBeginTransaction(e){let i=e.getDebugName();i===void 0&&(i=""),console.log(...this.textToConsoleArgs([Dd("transaction"),Do(i,{color:"BlueViolet"}),{data:[{fn:e._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}function KP(t){const e=new Array,i=[];let s="";function n(r){if("length"in r)for(const a of r)a&&n(a);else"text"in r?(s+=`%c${r.text}`,e.push(r.style),r.data&&i.push(...r.data)):"data"in r&&i.push(...r.data)}On(n,"process"),n(t);const o=[s,...e];return o.push(...i),o}On(KP,"consoleTextToArgs");function Hc(t){return Do(t,{color:"black"})}On(Hc,"normalText");function Dd(t){return Do(YP(`${t}: `,10),{color:"black",bold:!0})}On(Dd,"formatKind");function Do(t,e={color:"black"}){function i(n){return Object.entries(n).reduce((o,[r,a])=>`${o}${r}:${a};`,"")}On(i,"objToCss");const s={color:e.color};return e.strikeThrough&&(s["text-decoration"]="line-through"),e.bold&&(s["font-weight"]="bold"),{text:t,style:i(s)}}On(Do,"styled");function Qd(t,e){switch(typeof t){case"number":return""+t;case"string":return t.length+2<=e?`"${t}"`:`"${t.substr(0,e-7)}"+...`;case"boolean":return t?"true":"false";case"undefined":return"undefined";case"object":return t===null?"null":Array.isArray(t)?GP(t,e):jP(t,e);case"symbol":return t.toString();case"function":return`[[Function${t.name?" "+t.name:""}]]`;default:return""+t}}On(Qd,"formatValue");function GP(t,e){let i="[ ",s=!0;for(const n of t){if(s||(i+=", "),i.length-5>e){i+="...";break}s=!1,i+=`${Qd(n,e-i.length)}`}return i+=" ]",i}On(GP,"formatArray");function jP(t,e){let i="{ ",s=!0;for(const[n,o]of Object.entries(t)){if(s||(i+=", "),i.length-5>e){i+="...";break}s=!1,i+=`${n}: ${Qd(o,e-i.length)}`}return i+=" }",i}On(jP,"formatObject");function qP(t,e){let i="";for(let s=1;s<=e;s++)i+=t;return i}On(qP,"repeat");function YP(t,e){for(;t.length<e;)t+=" ";return t}On(YP,"padStr");var EU=Object.defineProperty,Ys=(t,e)=>EU(t,"name",{value:e,configurable:!0});let XP;function ZP(t){XP=t}Ys(ZP,"_setRecomputeInitiallyAndOnChange");let QP;function JP(t){QP=t}Ys(JP,"_setKeepObserved");let r0;function e4(t){r0=t}Ys(e4,"_setDerivedOpts");class t4{static{Ys(this,"ConvenientObservable")}get TChange(){return null}reportChanges(){this.get()}read(e){return e?e.readObservable(this):this.get()}map(e,i){const s=i===void 0?void 0:e,n=i===void 0?e:i;return r0({owner:s,debugName:Ys(()=>{const o=E1(n);if(o!==void 0)return o;const a=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(n.toString());if(a)return`${this.debugName}.${a[2]}`;if(!s)return`${this.debugName} (mapped)`},"debugName"),debugReferenceFn:n},o=>n(this.read(o),o))}flatten(){return r0({owner:void 0,debugName:Ys(()=>`${this.debugName} (flattened)`,"debugName")},e=>this.read(e).read(e))}recomputeInitiallyAndOnChange(e,i){return e.add(XP(this,i)),this}keepObserved(e){return e.add(QP(this)),this}get debugValue(){return this.get()}}class lg extends t4{static{Ys(this,"BaseObservable")}observers=new Set;addObserver(e){const i=this.observers.size;this.observers.add(e),i===0&&this.onFirstObserverAdded()}removeObserver(e){this.observers.delete(e)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function Mh(t,e){const i=new dm(t,e);try{t(i)}finally{i.finish()}}Ys(Mh,"transaction");let Ym;function IU(t){if(Ym)t(Ym);else{const e=new dm(t,void 0);Ym=e;try{t(e)}finally{e.finish(),Ym=void 0}}}Ys(IU,"globalTransaction");async function TU(t,e){const i=new dm(t,e);try{await t(i)}finally{i.finish()}}Ys(TU,"asyncTransaction");function i4(t,e,i){t?e(t):Mh(e,i)}Ys(i4,"subtransaction");class dm{constructor(e,i){this._fn=e,this._getDebugName=i,rr()?.handleBeginTransaction(this)}static{Ys(this,"TransactionImpl")}updatingObservers=[];getDebugName(){return this._getDebugName?this._getDebugName():E1(this._fn)}updateObserver(e,i){this.updatingObservers.push({observer:e,observable:i}),e.beginUpdate(i)}finish(){const e=this.updatingObservers;for(let i=0;i<e.length;i++){const{observer:s,observable:n}=e[i];s.endUpdate(n)}this.updatingObservers=null,rr()?.handleEndTransaction()}}function cg(t,e){let i;return typeof t=="string"?i=new Zi(void 0,t,void 0):i=new Zi(t,void 0,void 0),new sD(i,e,gn)}Ys(cg,"observableValue");class sD extends lg{constructor(e,i,s){super(),this._debugNameData=e,this._equalityComparator=s,this._value=i}static{Ys(this,"ObservableValue")}_value;get debugName(){return this._debugNameData.getDebugName(this)??"ObservableValue"}get(){return this._value}set(e,i,s){if(s===void 0&&this._equalityComparator(this._value,e))return;let n;i||(i=n=new dm(()=>{},()=>`Setting ${this.debugName}`));try{const o=this._value;this._setValue(e),rr()?.handleObservableChanged(this,{oldValue:o,newValue:e,change:s,didChange:!0,hadValue:!0});for(const r of this.observers)i.updateObserver(r,this),r.handleChange(this,s)}finally{n&&n.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}function kU(t,e){let i;return typeof t=="string"?i=new Zi(void 0,t,void 0):i=new Zi(t,void 0,void 0),new xU(i,e,gn)}Ys(kU,"disposableObservableValue");class xU extends sD{static{Ys(this,"DisposableObservableValue")}_setValue(e){this._value!==e&&(this._value&&this._value.dispose(),this._value=e)}dispose(){this._value?.dispose()}}var LU=Object.defineProperty,Rg=(t,e)=>LU(t,"name",{value:e,configurable:!0});class PU extends lg{constructor(e,i,s){super(),this._debugNameData=e,this._equalityComparator=s,this._value=i}static{Rg(this,"LazyObservableValue")}_value;_isUpToDate=!0;_deltas=[];get debugName(){return this._debugNameData.getDebugName(this)??"LazyObservableValue"}get(){return this._update(),this._value}_update(){if(!this._isUpToDate)if(this._isUpToDate=!0,this._deltas.length>0){for(const e of this.observers)for(const i of this._deltas)e.handleChange(this,i);this._deltas.length=0}else for(const e of this.observers)e.handleChange(this,void 0)}_updateCounter=0;_beginUpdate(){if(this._updateCounter++,this._updateCounter===1)for(const e of this.observers)e.beginUpdate(this)}_endUpdate(){if(this._updateCounter--,this._updateCounter===0){this._update();const e=[...this.observers];for(const i of e)i.endUpdate(this)}}addObserver(e){const i=!this.observers.has(e)&&this._updateCounter>0;super.addObserver(e),i&&e.beginUpdate(this)}removeObserver(e){const i=this.observers.has(e)&&this._updateCounter>0;super.removeObserver(e),i&&e.endUpdate(this)}set(e,i,s){if(s===void 0&&this._equalityComparator(this._value,e))return;let n;i||(i=n=new dm(()=>{},()=>`Setting ${this.debugName}`));try{if(this._isUpToDate=!1,this._setValue(e),s!==void 0&&this._deltas.push(s),i.updateObserver({beginUpdate:Rg(()=>this._beginUpdate(),"beginUpdate"),endUpdate:Rg(()=>this._endUpdate(),"endUpdate"),handleChange:Rg((o,r)=>{},"handleChange"),handlePossibleChange:Rg(o=>{},"handlePossibleChange")},this),this._updateCounter>1)for(const o of this.observers)o.handlePossibleChange(this)}finally{n&&n.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(e){this._value=e}}var RU=Object.defineProperty,NU=(t,e)=>RU(t,"name",{value:e,configurable:!0});function OU(t,e){return t.lazy?new PU(new Zi(t.owner,t.debugName,void 0),e,t.equalsFn??gn):new sD(new Zi(t.owner,t.debugName,void 0),e,t.equalsFn??gn)}NU(OU,"observableValueOpts");var BU=Object.defineProperty,rc=(t,e)=>BU(t,"name",{value:e,configurable:!0});function ac(t){return new I1(new Zi(void 0,void 0,t),t,void 0,void 0)}rc(ac,"autorun");function um(t,e){return new I1(new Zi(t.owner,t.debugName,t.debugReferenceFn??e),e,void 0,void 0)}rc(um,"autorunOpts");function s4(t,e){return new I1(new Zi(t.owner,t.debugName,t.debugReferenceFn??e),e,t.createEmptyChangeSummary,t.handleChange)}rc(s4,"autorunHandleChanges");function n4(t,e){const i=new Z,s=s4({owner:t.owner,debugName:t.debugName,debugReferenceFn:t.debugReferenceFn??e,createEmptyChangeSummary:t.createEmptyChangeSummary,handleChange:t.handleChange},(n,o)=>{i.clear(),e(n,o,i)});return Se(()=>{s.dispose(),i.dispose()})}rc(n4,"autorunWithStoreHandleChanges");function MU(t){const e=new Z,i=um({owner:void 0,debugName:void 0,debugReferenceFn:t},s=>{e.clear(),t(s,e)});return Se(()=>{i.dispose(),e.dispose()})}rc(MU,"autorunWithStore");function FU(t,e){let i;return um({debugReferenceFn:e},s=>{const n=t.read(s),o=i;i=n,e({lastValue:o,newValue:n})})}rc(FU,"autorunDelta");class I1{constructor(e,i,s,n){this._debugNameData=e,this._runFn=i,this.createChangeSummary=s,this._handleChange=n,this.changeSummary=this.createChangeSummary?.(),rr()?.handleAutorunCreated(this),this._runIfNeeded(),uc(this)}static{rc(this,"AutorunObserver")}state=2;updateCount=0;disposed=!1;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}dispose(){this.disposed=!0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),gc(this)}_runIfNeeded(){if(this.state===3)return;const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e,this.state=3;const i=this.disposed;try{if(!i){rr()?.handleAutorunTriggered(this);const s=this.changeSummary;try{this.changeSummary=this.createChangeSummary?.(),this._runFn(this,s)}catch(n){Kf(n)}}}finally{i||rr()?.handleAutorunFinished(this);for(const s of this.dependenciesToBeRemoved)s.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){try{if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const e of this.dependencies)if(e.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3)}finally{this.updateCount--}NC(()=>this.updateCount>=0)}handlePossibleChange(e){this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)&&(this.state=1)}handleChange(e,i){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e))try{(this._handleChange?this._handleChange({changedObservable:e,change:i,didChange:rc(n=>n===e,"didChange")},this.changeSummary):!0)&&(this.state=2)}catch(s){Kf(s)}}readObservable(e){if(this.disposed)return e.get();e.addObserver(this);const i=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),i}}(t=>{t.Observer=I1})(ac||(ac={}));var VU=Object.defineProperty,Ja=(t,e)=>VU(t,"name",{value:e,configurable:!0});function T1(t,e){return e!==void 0?new lc(new Zi(t,void 0,e),e,void 0,void 0,void 0,gn):new lc(new Zi(void 0,void 0,t),t,void 0,void 0,void 0,gn)}Ja(T1,"derived");function HU(t,e,i){return new $U(new Zi(t,void 0,e),e,void 0,void 0,void 0,gn,i)}Ja(HU,"derivedWithSetter");function gm(t,e){return new lc(new Zi(t.owner,t.debugName,t.debugReferenceFn),e,void 0,void 0,t.onLastObserverRemoved,t.equalsFn??gn)}Ja(gm,"derivedOpts");e4(gm);function WU(t,e){return new lc(new Zi(t.owner,t.debugName,void 0),e,t.createEmptyChangeSummary,t.handleChange,void 0,t.equalityComparer??gn)}Ja(WU,"derivedHandleChanges");function UU(t,e){let i,s;e===void 0?(i=t,s=void 0):(s=t,i=e);const n=new Z;return new lc(new Zi(s,void 0,i),o=>(n.clear(),i(o,n)),void 0,void 0,()=>n.dispose(),gn)}Ja(UU,"derivedWithStore");function zU(t,e){let i,s;e===void 0?(i=t,s=void 0):(s=t,i=e);let n;return new lc(new Zi(s,void 0,i),o=>{n?n.clear():n=new Z;const r=i(o);return r&&n.add(r),r},void 0,void 0,()=>{n&&(n.dispose(),n=void 0)},gn)}Ja(zU,"derivedDisposable");class lc extends lg{constructor(e,i,s,n,o=void 0,r){super(),this._debugNameData=e,this._computeFn=i,this.createChangeSummary=s,this._handleChange=n,this._handleLastObserverRemoved=o,this._equalityComparator=r,this.changeSummary=this.createChangeSummary?.(),rr()?.handleDerivedCreated(this)}static{Ja(this,"Derived")}state=0;value=void 0;updateCount=0;dependencies=new Set;dependenciesToBeRemoved=new Set;changeSummary=void 0;get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}onLastObserverRemoved(){this.state=0,this.value=void 0;for(const e of this.dependencies)e.removeObserver(this);this.dependencies.clear(),this._handleLastObserverRemoved?.()}get(){if(this.observers.size===0){const e=this._computeFn(this,this.createChangeSummary?.());return this.onLastObserverRemoved(),e}else{do{if(this.state===1){for(const e of this.dependencies)if(e.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){if(this.state===3)return;const e=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=e;const i=this.state!==0,s=this.value;this.state=3;let n=!1;try{const o=this.changeSummary;this.changeSummary=this.createChangeSummary?.();try{this.value=this._computeFn(this,o)}finally{for(const r of this.dependenciesToBeRemoved)r.removeObserver(this);this.dependenciesToBeRemoved.clear()}n=i&&!this._equalityComparator(s,this.value),rr()?.handleDerivedRecomputed(this,{oldValue:s,newValue:this.value,change:void 0,didChange:n,hadValue:i})}catch(o){Kf(o)}if(n)for(const o of this.observers)o.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(e){this.updateCount++;const i=this.updateCount===1;if(this.state===3&&(this.state=1,!i))for(const s of this.observers)s.handlePossibleChange(this);if(i)for(const s of this.observers)s.beginUpdate(this)}endUpdate(e){if(this.updateCount--,this.updateCount===0){const i=[...this.observers];for(const s of i)s.endUpdate(this)}NC(()=>this.updateCount>=0)}handlePossibleChange(e){if(this.state===3&&this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){this.state=1;for(const i of this.observers)i.handlePossibleChange(this)}}handleChange(e,i){if(this.dependencies.has(e)&&!this.dependenciesToBeRemoved.has(e)){let s=!1;try{s=this._handleChange?this._handleChange({changedObservable:e,change:i,didChange:Ja(o=>o===e,"didChange")},this.changeSummary):!0}catch(o){Kf(o)}const n=this.state===3;if(s&&(this.state===1||n)&&(this.state=2,n))for(const o of this.observers)o.handlePossibleChange(this)}}readObservable(e){e.addObserver(this);const i=e.get();return this.dependencies.add(e),this.dependenciesToBeRemoved.delete(e),i}addObserver(e){const i=!this.observers.has(e)&&this.updateCount>0;super.addObserver(e),i&&e.beginUpdate(this)}removeObserver(e){const i=this.observers.has(e)&&this.updateCount>0;super.removeObserver(e),i&&e.endUpdate(this)}}class $U extends lc{constructor(e,i,s,n,o=void 0,r,a){super(e,i,s,n,o,r),this.set=a}static{Ja(this,"DerivedWithSetter")}}var KU=Object.defineProperty,k1=(t,e)=>KU(t,"name",{value:e,configurable:!0});class GU{constructor(e){this._computeValue=e}static{k1(this,"ObservableLazy")}_value=cg(this,void 0);get cachedValue(){return this._value}getValue(){let e=this._value.get();return e||(e=this._computeValue(),this._value.set(e,void 0)),e}}class nD{static{k1(this,"ObservablePromise")}static fromFn(e){return new nD(e())}_value=cg(this,void 0);promise;promiseResult=this._value;constructor(e){this.promise=e.then(i=>(Mh(s=>{this._value.set(new VI(i,void 0),s)}),i),i=>{throw Mh(s=>{this._value.set(new VI(void 0,i),s)}),i})}}class VI{constructor(e,i){this.data=e,this.error=i}static{k1(this,"PromiseResult")}getDataOrThrow(){if(this.error)throw this.error;return this.data}}class Kne{constructor(e){this._computePromise=e}static{k1(this,"ObservableLazyPromise")}_lazyValue=new GU(()=>new nD(this._computePromise()));cachedPromiseResult=T1(this,e=>this._lazyValue.cachedValue.read(e)?.promiseResult.read(e));getPromise(){return this._lazyValue.getValue().promise}}var jU=Object.defineProperty,oD=(t,e)=>jU(t,"name",{value:e,configurable:!0});function qU(t,e,i,s){return e||(e=oD(n=>n!=null,"predicate")),new Promise((n,o)=>{let r=!0,a=!1;const l=t.map(d=>({isFinished:e(d),error:i?i(d):!1,state:d})),h=ac(d=>{const{isFinished:u,error:g,state:p}=l.read(d);(u||g)&&(r?a=!0:h.dispose(),g?o(g===!0?p:g):n(p))});if(s){const d=s.onCancellationRequested(()=>{h.dispose(),d.dispose(),o(new qr)});if(s.isCancellationRequested){h.dispose(),d.dispose(),o(new qr);return}}r=!1,a&&h.dispose()})}oD(qU,"waitForState");function YU(t,e){let i,s;e===void 0?(i=t,s=void 0):(s=t,i=e);let n;return new lc(new Zi(s,void 0,i),o=>(n&&n.dispose(!0),n=new Yh,i(o,n.token)),void 0,void 0,()=>n?.dispose(),gn)}oD(YU,"derivedWithCancellationToken");var XU=Object.defineProperty,At=(t,e)=>XU(t,"name",{value:e,configurable:!0});function rD(t){return new ZU(t)}At(rD,"constObservable");class ZU extends t4{constructor(e){super(),this.value=e}static{At(this,"ConstObservable")}get debugName(){return this.toString()}get(){return this.value}addObserver(e){}removeObserver(e){}toString(){return`Const: ${this.value}`}}function QU(t){const e=cg("promiseValue",{});return t.then(i=>{e.set({value:i},void 0)}),e}At(QU,"observableFromPromise");function Fh(...t){let e,i,s;return t.length===3?[e,i,s]=t:[i,s]=t,new zl(new Zi(e,void 0,s),i,s,()=>zl.globalTransaction,gn)}At(Fh,"observableFromEvent");function o4(t,e,i){return new zl(new Zi(t.owner,t.debugName,t.debugReferenceFn??i),e,i,()=>zl.globalTransaction,t.equalsFn??gn)}At(o4,"observableFromEventOpts");class zl extends lg{constructor(e,i,s,n,o){super(),this._debugNameData=e,this.event=i,this._getValue=s,this._getTransaction=n,this._equalityComparator=o}static{At(this,"FromEventObservable")}static globalTransaction;value;hasValue=!1;subscription;getDebugName(){return this._debugNameData.getDebugName(this)}get debugName(){const e=this.getDebugName();return"From Event"+(e?`: ${e}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}handleEvent=At(e=>{const i=this._getValue(e),s=this.value,n=!this.hasValue||!this._equalityComparator(s,i);let o=!1;n&&(this.value=i,this.hasValue&&(o=!0,i4(this._getTransaction(),r=>{rr()?.handleFromEventObservableTriggered(this,{oldValue:s,newValue:i,change:void 0,didChange:n,hadValue:this.hasValue});for(const a of this.observers)r.updateObserver(a,this),a.handleChange(this,void 0)},()=>{const r=this.getDebugName();return"Event fired"+(r?`: ${r}`:"")})),this.hasValue=!0),o||rr()?.handleFromEventObservableTriggered(this,{oldValue:s,newValue:i,change:void 0,didChange:n,hadValue:this.hasValue})},"handleEvent");onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}(t=>{t.Observer=zl;function e(i,s){let n=!1;zl.globalTransaction===void 0&&(zl.globalTransaction=i,n=!0);try{s()}finally{n&&(zl.globalTransaction=void 0)}}t.batchEventsGlobally=e,At(e,"batchEventsGlobally")})(Fh||(Fh={}));function JU(t,e){return new ez(t,e)}At(JU,"observableSignalFromEvent");class ez extends lg{constructor(e,i){super(),this.debugName=e,this.event=i}static{At(this,"FromEventObservableSignal")}subscription;onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}handleEvent=At(()=>{Mh(e=>{for(const i of this.observers)e.updateObserver(i,this),i.handleChange(this,void 0)},()=>this.debugName)},"handleEvent");onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function r4(t){return typeof t=="string"?new HI(t):new HI(void 0,t)}At(r4,"observableSignal");class HI extends lg{constructor(e,i){super(),this._debugName=e,this._owner=i}static{At(this,"ObservableSignal")}get debugName(){return new Zi(this._owner,this._debugName,void 0).getDebugName(this)??"Observable Signal"}toString(){return this.debugName}trigger(e,i){if(!e){Mh(s=>{this.trigger(s,i)},()=>`Trigger signal ${this.debugName}`);return}for(const s of this.observers)e.updateObserver(s,this),s.handleChange(this,i)}get(){}}function tz(t,e){return gm({owner:t,equalsFn:At(()=>!1,"equalsFn")},i=>{e.read(i)})}At(tz,"signalFromObservable");function iz(t,e,i){const s=cg("debounced",void 0);let n;return i.add(ac(o=>{const r=t.read(o);n&&clearTimeout(n),n=setTimeout(()=>{Mh(a=>{s.set(r,a)})},e)})),s}At(iz,"debouncedObservable");function sz(t,e){let i=!1,s,n;return Fh(o=>{const r=ac(a=>{const l=t.read(a);i?(n&&clearTimeout(n),n=setTimeout(()=>{s=l,o()},e)):(i=!0,s=l)});return{dispose(){r.dispose(),i=!1,s=void 0}}},()=>i?s:t.get())}At(sz,"debouncedObservable2");function nz(t,e,i){const s=cg("triggeredRecently",!1);let n;return i.add(t(()=>{s.set(!0,void 0),n&&clearTimeout(n),n=setTimeout(()=>{s.set(!1,void 0)},e)})),s}At(nz,"wasEventTriggeredRecently");function a4(t){const e=new c4(!1,void 0);return t.addObserver(e),Se(()=>{t.removeObserver(e)})}At(a4,"keepObserved");JP(a4);function l4(t,e){const i=new c4(!0,e);return t.addObserver(i),e?e(t.get()):t.reportChanges(),Se(()=>{t.removeObserver(i)})}At(l4,"recomputeInitiallyAndOnChange");ZP(l4);class c4{constructor(e,i){this._forceRecompute=e,this._handleValue=i}static{At(this,"KeepAliveObserver")}_counter=0;beginUpdate(e){this._counter++}endUpdate(e){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(e.get()):e.reportChanges())}handlePossibleChange(e){}handleChange(e,i){}}function h4(t,e){let i;return gm({owner:t,debugReferenceFn:e},n=>(i=e(n,i),i))}At(h4,"derivedObservableWithCache");function oz(t,e){let i;const s=r4("derivedObservableWithWritableCache"),n=T1(t,o=>(s.read(o),i=e(o,i),i));return Object.assign(n,{clearCache:At(o=>{i=void 0,s.trigger(o)},"clearCache"),setCache:At((o,r)=>{i=o,s.trigger(r)},"setCache")})}At(oz,"derivedObservableWithWritableCache");function rz(t,e,i,s){let n=new WI(i,s);return gm({debugReferenceFn:i,owner:t,onLastObserverRemoved:At(()=>{n.dispose(),n=new WI(i)},"onLastObserverRemoved")},r=>(n.setItems(e.read(r)),n.getItems()))}At(rz,"mapObservableArrayCached");class WI{constructor(e,i){this._map=e,this._keySelector=i}static{At(this,"ArrayMap")}_cache=new Map;_items=[];dispose(){this._cache.forEach(e=>e.store.dispose()),this._cache.clear()}setItems(e){const i=[],s=new Set(this._cache.keys());for(const n of e){const o=this._keySelector?this._keySelector(n):n;let r=this._cache.get(o);if(r)s.delete(o);else{const a=new Z;r={out:this._map(n,a),store:a},this._cache.set(o,r)}i.push(r.out)}for(const n of s)this._cache.get(n).store.dispose(),this._cache.delete(n);this._items=i}getItems(){return this._items}}class d4{constructor(e){this.observable=e}static{At(this,"ValueWithChangeEventFromObservable")}get onDidChange(){return R.fromObservableLight(this.observable)}get value(){return this.observable.get()}}function az(t,e){return e instanceof d4?e.observable:Fh(t,e.onDidChange,()=>e.value)}At(az,"observableFromValueWithChangeEvent");function lz(t,e){if(e.length===0)throw new Ro;let i=!1,s;const n=Fh(t,o=>{const r=new Z;for(const a of e)r.add(um({debugName:At(()=>iD(n,new Zi(t,void 0,void 0))+".updateLastChangedValue","debugName")},l=>{i=!0,s=a.read(l),o()}));return r.add({dispose(){i=!1,s=void 0}}),r},()=>i?s:e[e.length-1].get());return n}At(lz,"latestChangedValue");function cz(t,e){return h4(t,(i,s)=>s??e(i))}At(cz,"derivedConstOnceDefined");function u4(t,e){let i;return n4({createEmptyChangeSummary:At(()=>({deltas:[],didChange:!1}),"createEmptyChangeSummary"),handleChange:At((s,n)=>{if(s.didChange(t)){const o=s.change;o!==void 0&&n.deltas.push(o),n.didChange=!0}return!0},"handleChange")},(s,n)=>{const o=t.read(s),r=i;n.didChange&&(i=o,e(o,r,n.deltas))})}At(u4,"runOnChange");function hz(t,e){const i=new Z,s=u4(t,(n,o,r)=>{i.clear(),e(n,o,r,i)});return{dispose(){s.dispose(),i.dispose()}}}At(hz,"runOnChangeWithStore");var dz=Object.defineProperty,Bo=(t,e)=>dz(t,"name",{value:e,configurable:!0});const Ke=Ce("configurationService");function uz(t){return t&&typeof t=="object"&&(!t.overrideIdentifier||typeof t.overrideIdentifier=="string")&&(!t.resource||t.resource instanceof j)}Bo(uz,"isConfigurationOverrides");function gz(t){return t&&typeof t=="object"&&(!t.overrideIdentifiers||Array.isArray(t.overrideIdentifiers))&&!t.overrideIdentifier&&(!t.resource||t.resource instanceof j)}Bo(gz,"isConfigurationUpdateOverrides");function fz(t){switch(t){case 1:return"APPLICATION";case 2:return"USER";case 3:return"USER_LOCAL";case 4:return"USER_REMOTE";case 5:return"WORKSPACE";case 6:return"WORKSPACE_FOLDER";case 7:return"DEFAULT";case 8:return"MEMORY"}}Bo(fz,"ConfigurationTargetToString");function pz(t){return t.applicationValue!==void 0||t.userValue!==void 0||t.userLocalValue!==void 0||t.userRemoteValue!==void 0||t.workspaceValue!==void 0||t.workspaceFolderValue!==void 0}Bo(pz,"isConfigured");function mz(t,e){const i=Object.create(null);for(const s in t)g4(i,s,t[s],e);return i}Bo(mz,"toValuesTree");function g4(t,e,i,s){const n=e.split("."),o=n.pop();let r=t;for(let a=0;a<n.length;a++){const l=n[a];let h=r[l];switch(typeof h){case"undefined":h=r[l]=Object.create(null);break;case"object":if(h===null){s(`Ignoring ${e} as ${n.slice(0,a+1).join(".")} is null`);return}break;default:s(`Ignoring ${e} as ${n.slice(0,a+1).join(".")} is ${JSON.stringify(h)}`);return}r=h}if(typeof r=="object"&&r!==null)try{r[o]=i}catch{s(`Ignoring ${e} as ${n.join(".")} is ${JSON.stringify(r)}`)}else s(`Ignoring ${e} as ${n.join(".")} is ${JSON.stringify(r)}`)}Bo(g4,"addToValueTree");function bz(t,e){const i=e.split(".");aD(t,i)}Bo(bz,"removeFromValueTree");function aD(t,e){const i=e.shift();if(e.length===0){delete t[i];return}if(Object.keys(t).indexOf(i)!==-1){const s=t[i];typeof s=="object"&&!Array.isArray(s)&&(aD(s,e),Object.keys(s).length===0&&delete t[i])}}Bo(aD,"doRemoveFromValueTree");function vz(t,e,i){function s(r,a){let l=r;for(const h of a){if(typeof l!="object"||l===null)return;l=l[h]}return l}Bo(s,"accessSetting");const n=e.split("."),o=s(t,n);return typeof o>"u"?i:o}Bo(vz,"getConfigurationValue");function f4(t,e,i){Object.keys(e).forEach(s=>{s!=="__proto__"&&(s in t?cs(t[s])&&cs(e[s])?f4(t[s],e[s],i):i&&(t[s]=e[s]):t[s]=e[s])})}Bo(f4,"merge");function p4(t){return t.replace(/[[\]]/g,"")}Bo(p4,"getLanguageTagSettingPlainKey");var wz=Object.defineProperty,x1=(t,e)=>wz(t,"name",{value:e,configurable:!0});function m4(t,e,i){return o4({debugName:x1(()=>`Configuration Key "${t}"`,"debugName")},s=>i.onDidChangeConfiguration(n=>{n.affectsConfiguration(t)&&s(n)}),()=>i.getValue(t)??e)}x1(m4,"observableConfigValue");function yz(t,e,i){const s=t.bindTo(e);return um({debugName:x1(()=>`Set Context Key "${t.key}"`,"debugName")},n=>{s.set(i(n))})}x1(yz,"bindContextKey");const Zs=Ce("telemetryService");Ce("customEndpointTelemetryService");const _z="telemetry.telemetryLevel",Sz="telemetry.enableCrashReporter",Cz="telemetry.enableTelemetry";var Qc=(t=>(t[t.NONE=0]="NONE",t[t.CRASH=1]="CRASH",t[t.ERROR=2]="ERROR",t[t.USAGE=3]="USAGE",t))(Qc||{}),Ad=(t=>(t.OFF="off",t.CRASH="crash",t.ERROR="error",t.ON="all",t))(Ad||{}),b4=Object.defineProperty,Dz=Object.getOwnPropertyDescriptor,Vh=(t,e)=>b4(t,"name",{value:e,configurable:!0}),Az=(t,e,i,s)=>{for(var n=s>1?void 0:s?Dz(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&b4(e,i,n),n},Fy=(t,e)=>(i,s)=>e(i,s,t);const L1=Ce("accessibilitySignalService");let UI=class extends q{constructor(t,e,i){super(),this.configurationService=t,this.accessibilityService=e,this.telemetryService=i}static{Vh(this,"AccessibilitySignalService")}_serviceBrand;sounds=new Map;screenReaderAttached=Fh(this,this.accessibilityService.onDidChangeScreenReaderOptimized,()=>this.accessibilityService.isScreenReaderOptimized());sentTelemetry=new Set;getEnabledState(t,e,i){return new d4(this._signalEnabledState.get({signal:t,userGesture:e,modality:i}))}async playSignal(t,e={}){const i=e.modality==="announcement"||e.modality===void 0,s=t.announcementMessage;i&&this.isAnnouncementEnabled(t,e.userGesture)&&s&&this.accessibilityService.status(s),(e.modality==="sound"||e.modality===void 0)&&this.isSoundEnabled(t,e.userGesture)&&(this.sendSignalTelemetry(t,e.source),await this.playSound(t.sound.getSound(),e.allowManyInParallel))}async playSignals(t){for(const n of t)this.sendSignalTelemetry("signal"in n?n.signal:n,"source"in n?n.source:void 0);const e=t.map(n=>"signal"in n?n.signal:n),i=e.filter(n=>this.isAnnouncementEnabled(n)).map(n=>n.announcementMessage);i.length&&this.accessibilityService.status(i.join(", "));const s=new Set(e.filter(n=>this.isSoundEnabled(n)).map(n=>n.sound.getSound()));await Promise.all(Array.from(s).map(n=>this.playSound(n,!0)))}sendSignalTelemetry(t,e){const i=this.accessibilityService.isScreenReaderOptimized(),s=t.name+(e?`::${e}`:"")+(i?"{screenReaderOptimized}":"");this.sentTelemetry.has(s)||this.getVolumeInPercent()===0||(this.sentTelemetry.add(s),this.telemetryService.publicLog2("signal.played",{signal:t.name,source:e??"",isScreenReaderOptimized:i}))}getVolumeInPercent(){const t=this.configurationService.getValue("accessibility.signalOptions.volume");return typeof t!="number"?50:Math.max(Math.min(t,100),0)}playingSounds=new Set;async playSound(t,e=!1){if(!e&&this.playingSounds.has(t))return;this.playingSounds.add(t);const i=Cu.asBrowserUri(`vs/platform/accessibilitySignal/browser/media/${t.fileName}`).toString(!0);try{const s=this.sounds.get(i);if(s)s.volume=this.getVolumeInPercent()/100,s.currentTime=0,await s.play();else{const n=await v4(i,this.getVolumeInPercent()/100);this.sounds.set(i,n)}}catch(s){s.message.includes("play() can only be initiated by a user gesture")||console.error("Error while playing sound",s)}finally{this.playingSounds.delete(t)}}playSignalLoop(t,e){let i=!0;const s=Vh(()=>{i&&this.playSignal(t,{allowManyInParallel:!0}).finally(()=>{setTimeout(()=>{i&&s()},e)})},"playSound");return s(),Se(()=>i=!1)}_signalConfigValue=new YE(t=>m4(t.settingsKey,{sound:"off",announcement:"off"},this.configurationService));_signalEnabledState=new YE({getCacheKey:VP},t=>T1(e=>{const i=this._signalConfigValue.get(t.signal).read(e);return!!((t.modality==="sound"||t.modality===void 0)&&a0(i.sound,()=>this.screenReaderAttached.read(e),t.userGesture)||(t.modality==="announcement"||t.modality===void 0)&&a0(i.announcement,()=>this.screenReaderAttached.read(e),t.userGesture))}).recomputeInitiallyAndOnChange(this._store));isAnnouncementEnabled(t,e){return t.announcementMessage?this._signalEnabledState.get({signal:t,userGesture:!!e,modality:"announcement"}).get():!1}isSoundEnabled(t,e){return this._signalEnabledState.get({signal:t,userGesture:!!e,modality:"sound"}).get()}onSoundEnabledChanged(t){return this.getEnabledState(t,!1).onDidChange}getDelayMs(t,e,i){if(!this.configurationService.getValue("accessibility.signalOptions.debouncePositionChanges"))return 0;let s;return t.name===Dt.errorAtPosition.name&&i==="positional"?s=this.configurationService.getValue("accessibility.signalOptions.experimental.delays.errorAtPosition"):t.name===Dt.warningAtPosition.name&&i==="positional"?s=this.configurationService.getValue("accessibility.signalOptions.experimental.delays.warningAtPosition"):s=this.configurationService.getValue("accessibility.signalOptions.experimental.delays.general"),e==="sound"?s.sound:s.announcement}};UI=Az([Fy(0,Ke),Fy(1,A1),Fy(2,Zs)],UI);function a0(t,e,i){return t==="on"||t==="always"||t==="auto"&&e()||t==="userGesture"&&i}Vh(a0,"checkEnabledState");function v4(t,e){return new Promise((i,s)=>{const n=new Audio(t);n.volume=e,n.addEventListener("ended",()=>{i(n)}),n.addEventListener("error",o=>{s(o.error)}),n.play().catch(o=>{s(o)})})}Vh(v4,"playAudio");class ze{constructor(e){this.fileName=e}static{Vh(this,"Sound")}static register(e){return new ze(e.fileName)}static error=ze.register({fileName:"error.mp3"});static warning=ze.register({fileName:"warning.mp3"});static success=ze.register({fileName:"success.mp3"});static foldedArea=ze.register({fileName:"foldedAreas.mp3"});static break=ze.register({fileName:"break.mp3"});static quickFixes=ze.register({fileName:"quickFixes.mp3"});static taskCompleted=ze.register({fileName:"taskCompleted.mp3"});static taskFailed=ze.register({fileName:"taskFailed.mp3"});static terminalBell=ze.register({fileName:"terminalBell.mp3"});static diffLineInserted=ze.register({fileName:"diffLineInserted.mp3"});static diffLineDeleted=ze.register({fileName:"diffLineDeleted.mp3"});static diffLineModified=ze.register({fileName:"diffLineModified.mp3"});static chatRequestSent=ze.register({fileName:"chatRequestSent.mp3"});static chatResponseReceived1=ze.register({fileName:"chatResponseReceived1.mp3"});static chatResponseReceived2=ze.register({fileName:"chatResponseReceived2.mp3"});static chatResponseReceived3=ze.register({fileName:"chatResponseReceived3.mp3"});static chatResponseReceived4=ze.register({fileName:"chatResponseReceived4.mp3"});static clear=ze.register({fileName:"clear.mp3"});static save=ze.register({fileName:"save.mp3"});static format=ze.register({fileName:"format.mp3"});static voiceRecordingStarted=ze.register({fileName:"voiceRecordingStarted.mp3"});static voiceRecordingStopped=ze.register({fileName:"voiceRecordingStopped.mp3"});static progress=ze.register({fileName:"progress.mp3"})}class Ez{constructor(e){this.randomOneOf=e}static{Vh(this,"SoundSource")}getSound(e=!1){if(e||this.randomOneOf.length===1)return this.randomOneOf[0];{const i=Math.floor(Math.random()*this.randomOneOf.length);return this.randomOneOf[i]}}}class Dt{constructor(e,i,s,n,o,r){this.sound=e,this.name=i,this.legacySoundSettingsKey=s,this.settingsKey=n,this.legacyAnnouncementSettingsKey=o,this.announcementMessage=r}static{Vh(this,"AccessibilitySignal")}static _signals=new Set;static register(e){const i=new Ez("randomOneOf"in e.sound?e.sound.randomOneOf:[e.sound]),s=new Dt(i,e.name,e.legacySoundSettingsKey,e.settingsKey,e.legacyAnnouncementSettingsKey,e.announcementMessage);return Dt._signals.add(s),s}static get allAccessibilitySignals(){return[...this._signals]}static errorAtPosition=Dt.register({name:c("accessibilitySignals.positionHasError.name","Error at Position"),sound:ze.error,announcementMessage:c("accessibility.signals.positionHasError","Error"),settingsKey:"accessibility.signals.positionHasError",delaySettingsKey:"accessibility.signalOptions.delays.errorAtPosition"});static warningAtPosition=Dt.register({name:c("accessibilitySignals.positionHasWarning.name","Warning at Position"),sound:ze.warning,announcementMessage:c("accessibility.signals.positionHasWarning","Warning"),settingsKey:"accessibility.signals.positionHasWarning",delaySettingsKey:"accessibility.signalOptions.delays.warningAtPosition"});static errorOnLine=Dt.register({name:c("accessibilitySignals.lineHasError.name","Error on Line"),sound:ze.error,legacySoundSettingsKey:"audioCues.lineHasError",legacyAnnouncementSettingsKey:"accessibility.alert.error",announcementMessage:c("accessibility.signals.lineHasError","Error on Line"),settingsKey:"accessibility.signals.lineHasError"});static warningOnLine=Dt.register({name:c("accessibilitySignals.lineHasWarning.name","Warning on Line"),sound:ze.warning,legacySoundSettingsKey:"audioCues.lineHasWarning",legacyAnnouncementSettingsKey:"accessibility.alert.warning",announcementMessage:c("accessibility.signals.lineHasWarning","Warning on Line"),settingsKey:"accessibility.signals.lineHasWarning"});static foldedArea=Dt.register({name:c("accessibilitySignals.lineHasFoldedArea.name","Folded Area on Line"),sound:ze.foldedArea,legacySoundSettingsKey:"audioCues.lineHasFoldedArea",legacyAnnouncementSettingsKey:"accessibility.alert.foldedArea",announcementMessage:c("accessibility.signals.lineHasFoldedArea","Folded"),settingsKey:"accessibility.signals.lineHasFoldedArea"});static break=Dt.register({name:c("accessibilitySignals.lineHasBreakpoint.name","Breakpoint on Line"),sound:ze.break,legacySoundSettingsKey:"audioCues.lineHasBreakpoint",legacyAnnouncementSettingsKey:"accessibility.alert.breakpoint",announcementMessage:c("accessibility.signals.lineHasBreakpoint","Breakpoint"),settingsKey:"accessibility.signals.lineHasBreakpoint"});static inlineSuggestion=Dt.register({name:c("accessibilitySignals.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:ze.quickFixes,legacySoundSettingsKey:"audioCues.lineHasInlineSuggestion",settingsKey:"accessibility.signals.lineHasInlineSuggestion"});static terminalQuickFix=Dt.register({name:c("accessibilitySignals.terminalQuickFix.name","Terminal Quick Fix"),sound:ze.quickFixes,legacySoundSettingsKey:"audioCues.terminalQuickFix",legacyAnnouncementSettingsKey:"accessibility.alert.terminalQuickFix",announcementMessage:c("accessibility.signals.terminalQuickFix","Quick Fix"),settingsKey:"accessibility.signals.terminalQuickFix"});static onDebugBreak=Dt.register({name:c("accessibilitySignals.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:ze.break,legacySoundSettingsKey:"audioCues.onDebugBreak",legacyAnnouncementSettingsKey:"accessibility.alert.onDebugBreak",announcementMessage:c("accessibility.signals.onDebugBreak","Breakpoint"),settingsKey:"accessibility.signals.onDebugBreak"});static noInlayHints=Dt.register({name:c("accessibilitySignals.noInlayHints","No Inlay Hints on Line"),sound:ze.error,legacySoundSettingsKey:"audioCues.noInlayHints",legacyAnnouncementSettingsKey:"accessibility.alert.noInlayHints",announcementMessage:c("accessibility.signals.noInlayHints","No Inlay Hints"),settingsKey:"accessibility.signals.noInlayHints"});static taskCompleted=Dt.register({name:c("accessibilitySignals.taskCompleted","Task Completed"),sound:ze.taskCompleted,legacySoundSettingsKey:"audioCues.taskCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.taskCompleted",announcementMessage:c("accessibility.signals.taskCompleted","Task Completed"),settingsKey:"accessibility.signals.taskCompleted"});static taskFailed=Dt.register({name:c("accessibilitySignals.taskFailed","Task Failed"),sound:ze.taskFailed,legacySoundSettingsKey:"audioCues.taskFailed",legacyAnnouncementSettingsKey:"accessibility.alert.taskFailed",announcementMessage:c("accessibility.signals.taskFailed","Task Failed"),settingsKey:"accessibility.signals.taskFailed"});static terminalCommandFailed=Dt.register({name:c("accessibilitySignals.terminalCommandFailed","Terminal Command Failed"),sound:ze.error,legacySoundSettingsKey:"audioCues.terminalCommandFailed",legacyAnnouncementSettingsKey:"accessibility.alert.terminalCommandFailed",announcementMessage:c("accessibility.signals.terminalCommandFailed","Command Failed"),settingsKey:"accessibility.signals.terminalCommandFailed"});static terminalCommandSucceeded=Dt.register({name:c("accessibilitySignals.terminalCommandSucceeded","Terminal Command Succeeded"),sound:ze.success,announcementMessage:c("accessibility.signals.terminalCommandSucceeded","Command Succeeded"),settingsKey:"accessibility.signals.terminalCommandSucceeded"});static terminalBell=Dt.register({name:c("accessibilitySignals.terminalBell","Terminal Bell"),sound:ze.terminalBell,legacySoundSettingsKey:"audioCues.terminalBell",legacyAnnouncementSettingsKey:"accessibility.alert.terminalBell",announcementMessage:c("accessibility.signals.terminalBell","Terminal Bell"),settingsKey:"accessibility.signals.terminalBell"});static notebookCellCompleted=Dt.register({name:c("accessibilitySignals.notebookCellCompleted","Notebook Cell Completed"),sound:ze.taskCompleted,legacySoundSettingsKey:"audioCues.notebookCellCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellCompleted",announcementMessage:c("accessibility.signals.notebookCellCompleted","Notebook Cell Completed"),settingsKey:"accessibility.signals.notebookCellCompleted"});static notebookCellFailed=Dt.register({name:c("accessibilitySignals.notebookCellFailed","Notebook Cell Failed"),sound:ze.taskFailed,legacySoundSettingsKey:"audioCues.notebookCellFailed",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellFailed",announcementMessage:c("accessibility.signals.notebookCellFailed","Notebook Cell Failed"),settingsKey:"accessibility.signals.notebookCellFailed"});static diffLineInserted=Dt.register({name:c("accessibilitySignals.diffLineInserted","Diff Line Inserted"),sound:ze.diffLineInserted,legacySoundSettingsKey:"audioCues.diffLineInserted",settingsKey:"accessibility.signals.diffLineInserted"});static diffLineDeleted=Dt.register({name:c("accessibilitySignals.diffLineDeleted","Diff Line Deleted"),sound:ze.diffLineDeleted,legacySoundSettingsKey:"audioCues.diffLineDeleted",settingsKey:"accessibility.signals.diffLineDeleted"});static diffLineModified=Dt.register({name:c("accessibilitySignals.diffLineModified","Diff Line Modified"),sound:ze.diffLineModified,legacySoundSettingsKey:"audioCues.diffLineModified",settingsKey:"accessibility.signals.diffLineModified"});static chatRequestSent=Dt.register({name:c("accessibilitySignals.chatRequestSent","Chat Request Sent"),sound:ze.chatRequestSent,legacySoundSettingsKey:"audioCues.chatRequestSent",legacyAnnouncementSettingsKey:"accessibility.alert.chatRequestSent",announcementMessage:c("accessibility.signals.chatRequestSent","Chat Request Sent"),settingsKey:"accessibility.signals.chatRequestSent"});static chatResponseReceived=Dt.register({name:c("accessibilitySignals.chatResponseReceived","Chat Response Received"),legacySoundSettingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[ze.chatResponseReceived1,ze.chatResponseReceived2,ze.chatResponseReceived3,ze.chatResponseReceived4]},settingsKey:"accessibility.signals.chatResponseReceived"});static progress=Dt.register({name:c("accessibilitySignals.progress","Progress"),sound:ze.progress,legacySoundSettingsKey:"audioCues.chatResponsePending",legacyAnnouncementSettingsKey:"accessibility.alert.progress",announcementMessage:c("accessibility.signals.progress","Progress"),settingsKey:"accessibility.signals.progress"});static clear=Dt.register({name:c("accessibilitySignals.clear","Clear"),sound:ze.clear,legacySoundSettingsKey:"audioCues.clear",legacyAnnouncementSettingsKey:"accessibility.alert.clear",announcementMessage:c("accessibility.signals.clear","Clear"),settingsKey:"accessibility.signals.clear"});static save=Dt.register({name:c("accessibilitySignals.save","Save"),sound:ze.save,legacySoundSettingsKey:"audioCues.save",legacyAnnouncementSettingsKey:"accessibility.alert.save",announcementMessage:c("accessibility.signals.save","Save"),settingsKey:"accessibility.signals.save"});static format=Dt.register({name:c("accessibilitySignals.format","Format"),sound:ze.format,legacySoundSettingsKey:"audioCues.format",legacyAnnouncementSettingsKey:"accessibility.alert.format",announcementMessage:c("accessibility.signals.format","Format"),settingsKey:"accessibility.signals.format"});static voiceRecordingStarted=Dt.register({name:c("accessibilitySignals.voiceRecordingStarted","Voice Recording Started"),sound:ze.voiceRecordingStarted,legacySoundSettingsKey:"audioCues.voiceRecordingStarted",settingsKey:"accessibility.signals.voiceRecordingStarted"});static voiceRecordingStopped=Dt.register({name:c("accessibilitySignals.voiceRecordingStopped","Voice Recording Stopped"),sound:ze.voiceRecordingStopped,legacySoundSettingsKey:"audioCues.voiceRecordingStopped",settingsKey:"accessibility.signals.voiceRecordingStopped"})}var w4=Object.defineProperty,Iz=Object.getOwnPropertyDescriptor,Tz=(t,e)=>w4(t,"name",{value:e,configurable:!0}),kz=(t,e,i,s)=>{for(var n=s>1?void 0:s?Iz(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&w4(e,i,n),n},xz=(t,e)=>(i,s)=>e(i,s,t);const Lz=5e3;let l0=class extends q{constructor(t,e,i){super(),this._accessibilitySignalService=i,this._scheduler=new Ls(()=>{this._signalLoop=this._accessibilitySignalService.playSignalLoop(Dt.progress,e??Lz)},t),this._scheduler.schedule()}static{Tz(this,"AccessibilityProgressSignalScheduler")}_scheduler;_signalLoop;dispose(){super.dispose(),this._signalLoop?.dispose(),this._scheduler.dispose()}};l0=kz([xz(2,L1)],l0);var Pz=Object.defineProperty,Mo=(t,e)=>Pz(t,"name",{value:e,configurable:!0});function Rz(t,e){const{os:i,tildify:s,relative:n}=e;if(n){const a=y4(t,n,i);if(typeof a=="string")return a}let o=t.fsPath;if(i===ks.Windows&&!Lt?o=o.replace(/\//g,"\\"):i!==ks.Windows&&Lt&&(o=o.replace(/\\/g,"/")),i!==ks.Windows&&s?.userHome){const a=s.userHome.fsPath;let l;t.scheme!==s.userHome.scheme&&t.path[0]===ot.sep&&t.path[1]!==ot.sep?l=s.userHome.with({path:t.path}).fsPath:l=o,o=_4(l,a,i)}return(i===ks.Windows?Ii:ot).normalize(lD(o,i===ks.Windows))}Mo(Rz,"getPathLabel");function y4(t,e,i){const s=i===ks.Windows?Ii:ot,n=i===ks.Linux?wt:wx,o=e.getWorkspace(),r=o.folders.at(0);if(!r)return;t.scheme!==r.uri.scheme&&t.path[0]===ot.sep&&t.path[1]!==ot.sep&&(t=r.uri.with({path:t.path}));const a=e.getWorkspaceFolder(t);if(!a)return;let l;if(n.isEqual(a.uri,t)?l="":l=n.relativePath(a.uri,t)??"",l&&(l=s.normalize(l)),o.folders.length>1&&!e.noPrefix){const h=a.name?a.name:n.basenameOrAuthority(a.uri);l=l?`${h}  ${l}`:h}return l}Mo(y4,"getRelativePathLabel");function lD(t,e=Lt){return o1(t,e)?t.charAt(0).toUpperCase()+t.slice(1):t}Mo(lD,"normalizeDriveLetter");let Vy=Object.create(null);function _4(t,e,i=Ld){if(i===ks.Windows||!t||!e)return t;let s=Vy.original===e?Vy.normalized:void 0;s||(s=e,Lt&&(s=Su(s)),s=`${Eh(s,ot.sep)}${ot.sep}`,Vy={original:e,normalized:s});let n=t;return Lt&&(n=Su(n)),(i===ks.Linux?n.startsWith(s):Zu(n,s))?`~/${n.substr(s.length)}`:t}Mo(_4,"tildify");function Nz(t,e){return t.replace(/^~($|\/|\\)/,`${e}$1`)}Mo(Nz,"untildify");const zI="",Ng="\\\\",Og="~";function S4(t,e=ko){const i=new Array(t.length);let s=!1;for(let n=0;n<t.length;n++){const o=t[n];if(o===""){i[n]=`.${e}`;continue}if(!o){i[n]=o;continue}s=!0;let r="",a=o;a.indexOf(Ng)===0?(r=a.substr(0,a.indexOf(Ng)+Ng.length),a=a.substr(a.indexOf(Ng)+Ng.length)):a.indexOf(e)===0?(r=a.substr(0,a.indexOf(e)+e.length),a=a.substr(a.indexOf(e)+e.length)):a.indexOf(Og)===0&&(r=a.substr(0,a.indexOf(Og)+Og.length),a=a.substr(a.indexOf(Og)+Og.length));const l=a.split(e);for(let h=1;s&&h<=l.length;h++)for(let d=l.length-h;s&&d>=0;d--){s=!1;let u=l.slice(d,d+h).join(e);for(let g=0;!s&&g<t.length;g++)if(g!==n&&t[g]&&t[g].indexOf(u)>-1){const p=d+h===l.length,m=d>0&&t[g].indexOf(e)>-1?e+u:u,b=t[g].endsWith(m);s=!p||b}if(!s){let g="";(l[0].endsWith(":")||r!=="")&&(d===1&&(d=0,h++,u=l[0]+e+u),d>0&&(g=l[0]+e),g=r+g),d>0&&(g=g+zI+e),g=g+u,d+h<l.length&&(g=g+e+zI),i[n]=g}}s&&(i[n]=o)}return i}Mo(S4,"shorten");function Oz(t,e=Object.create(null)){const i=[];let s=!1,n="";for(const o of t)if(o==="$"||s&&o==="{")n&&i.push({value:n,type:0}),n="",s=!0;else if(o==="}"&&s){const r=e[n];if(typeof r=="string")r.length&&i.push({value:r,type:1});else if(r){const a=i[i.length-1];(!a||a.type!==2)&&i.push({value:r.label,type:2})}n="",s=!1}else n+=o;return n&&!s&&i.push({value:n,type:0}),i.filter((o,r)=>{if(o.type===2){const a=i[r-1],l=i[r+1];return[a,l].every(h=>h&&(h.type===1||h.type===0)&&h.value.length>0)}return!0}).map(o=>o.value).join("")}Mo(Oz,"template");function Ca(t,e){return He||e?t.replace(/\(&&\w\)|&&/g,"").replace(/&/g,He?"&":"&&"):t.replace(/&&|&/g,i=>i==="&"?"&&":"&")}Mo(Ca,"mnemonicMenuLabel");function C4(t,e){return He||e?t.replace(/\(&&\w\)|&&/g,""):Lt?t.replace(/&&|&/g,i=>i==="&"?"&&":"&"):t.replace(/&&/g,"_")}Mo(C4,"mnemonicButtonLabel");function D4(t){return t.replace(/&/g,"&&")}Mo(D4,"unmnemonicLabel");function A4(t){if(t.endsWith("]")){const e=t.lastIndexOf(" [",t.length-2);if(e!==-1){const i=c0(t.substring(0,e)),s=t.substring(e);return{name:i.name+s,parentPath:i.parentPath}}}return c0(t)}Mo(A4,"splitRecentLabel");function c0(t){const e=t.indexOf("/")!==-1?ot:Ii,i=e.basename(t),s=e.dirname(t);return i.length?{name:i,parentPath:s}:{name:s,parentPath:""}}Mo(c0,"splitName");var Bz=Object.defineProperty,$I=(t,e)=>Bz(t,"name",{value:e,configurable:!0}),$v=(t=>(t[t.Ignore=0]="Ignore",t[t.Info=1]="Info",t[t.Warning=2]="Warning",t[t.Error=3]="Error",t))($v||{});(t=>{const e="error",i="warning",s="warn",n="info",o="ignore";function r(l){return l?xa(e,l)?3:xa(i,l)||xa(s,l)?2:xa(n,l)?1:0:0}t.fromValue=r,$I(r,"fromValue");function a(l){switch(l){case 3:return e;case 2:return i;case 1:return n;default:return o}}t.toString=a,$I(a,"toString")})($v||($v={}));var za=$v,Mz=Object.defineProperty,cD=(t,e)=>Mz(t,"name",{value:e,configurable:!0});const rl=Ce("dialogService");class Gne{static{cD(this,"AbstractDialogHandler")}getConfirmationButtons(e){return this.getButtons(e,1)}getPromptButtons(e){return this.getButtons(e,2)}getInputButtons(e){return this.getButtons(e,3)}getButtons(e,i){const s=[];switch(i){case 1:{const n=e;n.primaryButton?s.push(n.primaryButton):s.push(c({key:"yesButton",comment:["&& denotes a mnemonic"]},"&&Yes")),n.cancelButton?s.push(n.cancelButton):s.push(c("cancelButton","Cancel"));break}case 2:{const n=e;Array.isArray(n.buttons)&&n.buttons.length>0&&s.push(...n.buttons.map(o=>o.label)),n.cancelButton&&(n.cancelButton===!0?s.push(c("cancelButton","Cancel")):typeof n.cancelButton=="string"?s.push(n.cancelButton):n.cancelButton.label?s.push(n.cancelButton.label):s.push(c("cancelButton","Cancel"))),s.length===0&&s.push(c({key:"okButton",comment:["&& denotes a mnemonic"]},"&&OK"));break}case 3:{const n=e;n.primaryButton?s.push(n.primaryButton):s.push(c({key:"okButton",comment:["&& denotes a mnemonic"]},"&&OK")),n.cancelButton?s.push(n.cancelButton):s.push(c("cancelButton","Cancel"));break}}return s}getDialogType(e){if(typeof e=="string")return e;if(typeof e=="number")return e===za.Info?"info":e===za.Error?"error":e===za.Warning?"warning":"none"}getPromptResult(e,i,s){const n=[...e.buttons??[]];e.cancelButton&&typeof e.cancelButton!="string"&&typeof e.cancelButton!="boolean"&&n.push(e.cancelButton);let o=n[i]?.run({checkboxChecked:s});return o instanceof Promise||(o=Promise.resolve(o)),{result:o,checkboxChecked:s}}}Ce("fileDialogService");const Xm=10;function Fz(t){const e=[];return e.push(...t.slice(0,Xm).map(i=>typeof i=="string"?i:Qu(i))),t.length>Xm&&(t.length-Xm===1?e.push(c("moreFile","...1 additional file not shown")):e.push(c("moreFiles","...{0} additional files not shown",t.length-Xm))),e.push(""),e.join(`
`)}cD(Fz,"getFileNamesMessage");function Vz(t,e){const i=jC(t);let s=(i.buttons??[]).map(a=>C4(a)),n=(t.buttons||[]).map((a,l)=>l),o=0,r=i.cancelId??s.length-1;if(s.length>1){const a=typeof r=="number"?s[r]:void 0;if(Ni||He){if(typeof a=="string"&&s.length>1&&r!==1){s.splice(r,1),s.splice(1,0,a);const l=n[r];n.splice(r,1),n.splice(1,0,l),r=1}Ni&&s.length>1&&(s=s.reverse(),n=n.reverse(),o=s.length-1,typeof a=="string"&&(r=o-1))}else if(Lt&&typeof a=="string"&&s.length>1&&r!==s.length-1){s.splice(r,1),s.push(a);const l=n[r];n.splice(r,1),n.push(l),r=s.length-1}}return i.buttons=s,i.defaultId=o,i.cancelId=r,i.noLink=!0,i.title=i.title||e.nameLong,{options:i,buttonIndeces:n}}cD(Vz,"massageMessageBoxOptions");var E4=Object.defineProperty,Hz=Object.getOwnPropertyDescriptor,Wz=(t,e)=>E4(t,"name",{value:e,configurable:!0}),Uz=(t,e,i,s)=>{for(var n=s>1?void 0:s?Hz(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&E4(e,i,n),n},KI=(t,e)=>(i,s)=>e(i,s,t);const Ss=Ce("hoverService");let h0=class extends q{constructor(t,e,i={},s,n){super(),this.placement=t,this.instantHover=e,this.overrideOptions=i,this.configurationService=s,this.hoverService=n,this._delay=this.configurationService.getValue("workbench.hover.delay"),this._register(this.configurationService.onDidChangeConfiguration(o=>{o.affectsConfiguration("workbench.hover.delay")&&(this._delay=this.configurationService.getValue("workbench.hover.delay"))}))}static{Wz(this,"WorkbenchHoverDelegate")}lastHoverHideTime=0;timeLimit=200;_delay;get delay(){return this.isInstantlyHovering()?0:this._delay}hoverDisposables=this._register(new Z);showHover(t,e){const i=typeof this.overrideOptions=="function"?this.overrideOptions(t,e):this.overrideOptions;this.hoverDisposables.clear();const s=ns(t.target)?[t.target]:t.target.targetElements;for(const o of s)this.hoverDisposables.add(Dn(o,"keydown",r=>{r.equals(D.Escape)&&this.hoverService.hideHover()}));const n=ns(t.content)?void 0:t.content.toString();return this.hoverService.showHover({...t,...i,persistence:{hideOnKeyDown:!0,...i.persistence},id:n,appearance:{...t.appearance,compact:!0,skipFadeInAnimation:this.isInstantlyHovering(),...i.appearance}},e)}isInstantlyHovering(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit}setInstantHoverTimeLimit(t){if(!this.instantHover)throw new Error("Instant hover is not enabled");this.timeLimit=t}onDidHideHover(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())}};h0=Uz([KI(3,Ke),KI(4,Ss)],h0);var zz=Object.defineProperty,$z=(t,e)=>zz(t,"name",{value:e,configurable:!0});class Dl{static{$z(this,"SyncDescriptor")}ctor;staticArguments;supportsDelayedInstantiation;constructor(e,i=[],s=!1){this.ctor=e,this.staticArguments=i,this.supportsDelayedInstantiation=s}}var Kz=Object.defineProperty,I4=(t,e)=>Kz(t,"name",{value:e,configurable:!0});const T4=[];var fm=(t=>(t[t.Eager=0]="Eager",t[t.Delayed=1]="Delayed",t))(fm||{});function pm(t,e,i){e instanceof Dl||(e=new Dl(e,[],!!i)),T4.push([t,e])}I4(pm,"registerSingleton");function k4(){return T4}I4(k4,"getSingletonServiceDescriptors");var Gz=Object.defineProperty,x4=(t,e)=>Gz(t,"name",{value:e,configurable:!0});let jz=class{constructor(e,i){this.key=e,this.data=i}static{x4(this,"Node")}incoming=new Map;outgoing=new Map};class GI{constructor(e){this._hashFn=e}static{x4(this,"Graph")}_nodes=new Map;roots(){const e=[];for(const i of this._nodes.values())i.outgoing.size===0&&e.push(i);return e}insertEdge(e,i){const s=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(i);s.outgoing.set(n.key,n),n.incoming.set(s.key,s)}removeNode(e){const i=this._hashFn(e);this._nodes.delete(i);for(const s of this._nodes.values())s.outgoing.delete(i),s.incoming.delete(i)}lookupOrInsertNode(e){const i=this._hashFn(e);let s=this._nodes.get(i);return s||(s=new jz(i,e),this._nodes.set(i,s)),s}lookup(e){return this._nodes.get(this._hashFn(e))}isEmpty(){return this._nodes.size===0}toString(){const e=[];for(const[i,s]of this._nodes)e.push(`${i}
	(-> incoming)[${[...s.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...s.outgoing.keys()].join(",")}]
`);return e.join(`
`)}findCycleSlow(){for(const[e,i]of this._nodes){const s=new Set([e]),n=this._findCycle(i,s);if(n)return n}}_findCycle(e,i){for(const[s,n]of e.outgoing){if(i.has(s))return[...i,s].join(" -> ");i.add(s);const o=this._findCycle(n,i);if(o)return o;i.delete(s)}}}var qz=Object.defineProperty,Yz=(t,e)=>qz(t,"name",{value:e,configurable:!0});class P1{static{Yz(this,"ServiceCollection")}_entries=new Map;constructor(...e){for(const[i,s]of e)this.set(i,s)}set(e,i){const s=this._entries.get(e);return this._entries.set(e,i),s}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}var Xz=Object.defineProperty,Jd=(t,e)=>Xz(t,"name",{value:e,configurable:!0});const Zz=!1;class jI extends Error{static{Jd(this,"CyclicDependencyError")}constructor(e){super("cyclic dependency between services"),this.message=e.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${e.toString()}`}}class Kv{constructor(e=new P1,i=!1,s,n=Zz){this._services=e,this._strict=i,this._parent=s,this._enableTracing=n,this._services.set(rt,this),this._globalGraph=n?s?._globalGraph??new GI(o=>o):void 0}static{Jd(this,"InstantiationService")}_globalGraph;_globalGraphImplicitDependency;_isDisposed=!1;_servicesToMaybeDispose=new Set;_children=new Set;dispose(){if(!this._isDisposed){this._isDisposed=!0,ai(this._children),this._children.clear();for(const e of this._servicesToMaybeDispose)zp(e)&&e.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(e,i){this._throwIfDisposed();const s=this,n=new class extends Kv{dispose(){s._children.delete(n),super.dispose()}}(e,this._strict,this,this._enableTracing);return this._children.add(n),i?.add(n),n}invokeFunction(e,...i){this._throwIfDisposed();const s=Un.traceInvocation(this._enableTracing,e);let n=!1;try{return e({get:Jd(r=>{if(n)throw BS("service accessor is only valid during the invocation of its target method");const a=this._getOrCreateServiceInstance(r,s);if(!a)throw new Error(`[invokeFunction] unknown service '${r}'`);return a},"get")},...i)}finally{n=!0,s.stop()}}createInstance(e,...i){this._throwIfDisposed();let s,n;return e instanceof Dl?(s=Un.traceCreation(this._enableTracing,e.ctor),n=this._createInstance(e.ctor,e.staticArguments.concat(i),s)):(s=Un.traceCreation(this._enableTracing,e),n=this._createInstance(e,i,s)),s.stop(),n}_createInstance(e,i=[],s){const n=er.getServiceDependencies(e).sort((a,l)=>a.index-l.index),o=[];for(const a of n){const l=this._getOrCreateServiceInstance(a.id,s);l||this._throwIfStrict(`[createInstance] ${e.name} depends on UNKNOWN service ${a.id}.`,!1),o.push(l)}const r=n.length>0?n[0].index:i.length;if(i.length!==r){console.trace(`[createInstance] First service dependency of ${e.name} at position ${r+1} conflicts with ${i.length} static arguments`);const a=r-i.length;a>0?i=i.concat(new Array(a)):i=i.slice(0,r)}return Reflect.construct(e,i.concat(o))}_setCreatedServiceInstance(e,i){if(this._services.get(e)instanceof Dl)this._services.set(e,i);else if(this._parent)this._parent._setCreatedServiceInstance(e,i);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(e){const i=this._services.get(e);return!i&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):i}_getOrCreateServiceInstance(e,i){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(e));const s=this._getServiceInstanceOrDescriptor(e);return s instanceof Dl?this._safeCreateAndCacheServiceInstance(e,s,i.branch(e,!0)):(i.branch(e,!1),s)}_activeInstantiations=new Set;_safeCreateAndCacheServiceInstance(e,i,s){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,i,s)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,i,s){const n=new GI(l=>l.id.toString());let o=0;const r=[{id:e,desc:i,_trace:s}],a=new Set;for(;r.length;){const l=r.pop();if(!a.has(String(l.id))){if(a.add(String(l.id)),n.lookupOrInsertNode(l),o++>1e3)throw new jI(n);for(const h of er.getServiceDependencies(l.desc.ctor)){const d=this._getServiceInstanceOrDescriptor(h.id);if(d||this._throwIfStrict(`[createInstance] ${e} depends on ${h.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(l.id),String(h.id)),d instanceof Dl){const u={id:h.id,desc:d,_trace:l._trace.branch(h.id,!0)};n.insertEdge(l,u),r.push(u)}}}}for(;;){const l=n.roots();if(l.length===0){if(!n.isEmpty())throw new jI(n);break}for(const{data:h}of l){if(this._getServiceInstanceOrDescriptor(h.id)instanceof Dl){const u=this._createServiceInstanceWithOwner(h.id,h.desc.ctor,h.desc.staticArguments,h.desc.supportsDelayedInstantiation,h._trace);this._setCreatedServiceInstance(h.id,u)}n.removeNode(h)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,i,s=[],n,o){if(this._services.get(e)instanceof Dl)return this._createServiceInstance(e,i,s,n,o,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,i,s,n,o);throw new Error(`illegalState - creating UNKNOWN service instance ${i.name}`)}_createServiceInstance(e,i,s=[],n,o,r){if(n){const a=new Kv(void 0,this._strict,this,this._enableTracing);a._globalGraphImplicitDependency=String(e);const l=new Map,h=new fF(()=>{const d=a._createInstance(i,s,o);for(const[u,g]of l){const p=d[u];if(typeof p=="function")for(const m of g)m.disposable=p.apply(d,m.listener)}return l.clear(),r.add(d),d});return new Proxy(Object.create(null),{get(d,u){if(!h.isInitialized&&typeof u=="string"&&(u.startsWith("onDid")||u.startsWith("onWill"))){let m=l.get(u);return m||(m=new Xa,l.set(u,m)),Jd((C,x,E)=>{if(h.isInitialized)return h.value[u](C,x,E);{const F={listener:[C,x,E],disposable:void 0},B=m.push(F);return Se(()=>{B(),F.disposable?.dispose()})}},"event")}if(u in d)return d[u];const g=h.value;let p=g[u];return typeof p!="function"||(p=p.bind(g),d[u]=p),p},set(d,u,g){return h.value[u]=g,!0},getPrototypeOf(d){return i.prototype}})}else{const a=this._createInstance(i,s,o);return r.add(a),a}}_throwIfStrict(e,i){if(i&&console.warn(e),this._strict)throw new Error(e)}}class Un{constructor(e,i){this.type=e,this.name=i}static{Jd(this,"Trace")}static all=new Set;static _None=new class extends Un{constructor(){super(0,null)}stop(){}branch(){return this}};static traceInvocation(e,i){return e?new Un(2,i.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):Un._None}static traceCreation(e,i){return e?new Un(1,i.name):Un._None}static _totals=0;_start=Date.now();_dep=[];branch(e,i){const s=new Un(3,e.toString());return this._dep.push([e,i,s]),s}stop(){const e=Date.now()-this._start;Un._totals+=e;let i=!1;function s(o,r){const a=[],l=new Array(o+1).join("	");for(const[h,d,u]of r._dep)if(d&&u){i=!0,a.push(`${l}CREATES -> ${h}`);const g=s(o+1,u);g&&a.push(g)}else a.push(`${l}uses -> ${h}`);return a.join(`
`)}Jd(s,"printChild");const n=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${s(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${Un._totals.toFixed(2)}ms)`];(e>2||i)&&Un.all.add(n.join(`
`))}}var Qz=Object.defineProperty,hD=(t,e)=>Qz(t,"name",{value:e,configurable:!0});const qs=za,Ns=Ce("notificationService");var Yn=(t=>(t[t.DEFAULT=0]="DEFAULT",t[t.SILENT=1]="SILENT",t[t.URGENT=2]="URGENT",t))(Yn||{});function dD(t){if(t){const e=t;return typeof e.id=="string"&&typeof e.label=="string"}return!1}hD(dD,"isNotificationSource");var Zt=(t=>(t[t.OFF=0]="OFF",t[t.ERROR=1]="ERROR",t))(Zt||{});class Jz{static{hD(this,"NoOpNotification")}progress=new e$;onDidClose=R.None;onDidChangeVisibility=R.None;updateSeverity(e){}updateMessage(e){}updateActions(e){}close(){}}class e${static{hD(this,"NoOpProgress")}infinite(){}done(){}total(e){}worked(e){}}var t$=Object.defineProperty,jt=(t,e)=>t$(t,"name",{value:e,configurable:!0});function i$(t){const e=t;return e?typeof e.read=="function":!1}jt(i$,"isReadable");function L4(t){const e=t;return e?[e.on,e.pause,e.resume,e.destroy].every(i=>typeof i=="function"):!1}jt(L4,"isReadableStream");function s$(t){const e=t;return e?L4(e.stream)&&Array.isArray(e.buffer)&&typeof e.ended=="boolean":!1}jt(s$,"isReadableBufferedStream");function sd(t,e){return new n$(t,e)}jt(sd,"newWriteableStream");class n${constructor(e,i){this.reducer=e,this.options=i}static{jt(this,"WriteableStreamImpl")}state={flowing:!1,ended:!1,destroyed:!1};buffer={data:[],error:[]};listeners={data:[],error:[],end:[]};pendingWritePromises=[];pause(){this.state.destroyed||(this.state.flowing=!1)}resume(){this.state.destroyed||this.state.flowing||(this.state.flowing=!0,this.flowData(),this.flowErrors(),this.flowEnd())}write(e){if(!this.state.destroyed){if(this.state.flowing)this.emitData(e);else if(this.buffer.data.push(e),typeof this.options?.highWaterMark=="number"&&this.buffer.data.length>this.options.highWaterMark)return new Promise(i=>this.pendingWritePromises.push(i))}}error(e){this.state.destroyed||(this.state.flowing?this.emitError(e):this.buffer.error.push(e))}end(e){this.state.destroyed||(typeof e<"u"&&this.write(e),this.state.flowing?(this.emitEnd(),this.destroy()):this.state.ended=!0)}emitData(e){this.listeners.data.slice(0).forEach(i=>i(e))}emitError(e){this.listeners.error.length===0?ss(e):this.listeners.error.slice(0).forEach(i=>i(e))}emitEnd(){this.listeners.end.slice(0).forEach(e=>e())}on(e,i){if(!this.state.destroyed)switch(e){case"data":this.listeners.data.push(i),this.resume();break;case"end":this.listeners.end.push(i),this.state.flowing&&this.flowEnd()&&this.destroy();break;case"error":this.listeners.error.push(i),this.state.flowing&&this.flowErrors();break}}removeListener(e,i){if(this.state.destroyed)return;let s;switch(e){case"data":s=this.listeners.data;break;case"end":s=this.listeners.end;break;case"error":s=this.listeners.error;break}if(s){const n=s.indexOf(i);n>=0&&s.splice(n,1)}}flowData(){if(this.buffer.data.length>0){const e=this.reducer(this.buffer.data);this.emitData(e),this.buffer.data.length=0;const i=[...this.pendingWritePromises];this.pendingWritePromises.length=0,i.forEach(s=>s())}}flowErrors(){if(this.listeners.error.length>0){for(const e of this.buffer.error)this.emitError(e);this.buffer.error.length=0}}flowEnd(){return this.state.ended?(this.emitEnd(),this.listeners.end.length>0):!1}destroy(){this.state.destroyed||(this.state.destroyed=!0,this.state.ended=!0,this.buffer.data.length=0,this.buffer.error.length=0,this.listeners.data.length=0,this.listeners.error.length=0,this.listeners.end.length=0,this.pendingWritePromises.length=0)}}function P4(t,e){const i=[];let s;for(;(s=t.read())!==null;)i.push(s);return e(i)}jt(P4,"consumeReadable");function o$(t,e,i){const s=[];let n;for(;(n=t.read())!==null&&s.length<i;)s.push(n);return n===null&&s.length>0?e(s):{read:jt(()=>{if(s.length>0)return s.shift();if(typeof n<"u"){const o=n;return n=void 0,o}return t.read()},"read")}}jt(o$,"peekReadable");function R4(t,e){return new Promise((i,s)=>{const n=[];R1(t,{onData:jt(o=>{e&&n.push(o)},"onData"),onError:jt(o=>{e?s(o):i(void 0)},"onError"),onEnd:jt(()=>{i(e?e(n):void 0)},"onEnd")})})}jt(R4,"consumeStream");function R1(t,e,i){t.on("error",s=>{i?.isCancellationRequested||e.onError(s)}),t.on("end",()=>{i?.isCancellationRequested||e.onEnd()}),t.on("data",s=>{i?.isCancellationRequested||e.onData(s)})}jt(R1,"listenStream");function r$(t,e){return new Promise((i,s)=>{const n=new Z,o=[],r=jt(h=>{if(o.push(h),o.length>e)return n.dispose(),t.pause(),i({stream:t,buffer:o,ended:!1})},"dataListener"),a=jt(h=>(n.dispose(),s(h)),"errorListener"),l=jt(()=>(n.dispose(),i({stream:t,buffer:o,ended:!0})),"endListener");n.add(Se(()=>t.removeListener("error",a))),t.on("error",a),n.add(Se(()=>t.removeListener("end",l))),t.on("end",l),n.add(Se(()=>t.removeListener("data",r))),t.on("data",r)})}jt(r$,"peekStream");function N4(t,e){const i=sd(e);return i.end(t),i}jt(N4,"toStream");function a$(){const t=sd(()=>{throw new Error("not supported")});return t.end(),t}jt(a$,"emptyStream");function O4(t){let e=!1;return{read:jt(()=>e?null:(e=!0,t),"read")}}jt(O4,"toReadable");function B4(t,e,i){const s=sd(i);return R1(t,{onData:jt(n=>s.write(e.data(n)),"onData"),onError:jt(n=>s.error(e.error?e.error(n):n),"onError"),onEnd:jt(()=>s.end(),"onEnd")}),s}jt(B4,"transform");function M4(t,e,i){let s=!1;return{read:jt(()=>{const n=e.read();return s?n:(s=!0,n!==null?i([t,n]):t)},"read")}}jt(M4,"prefixedReadable");function F4(t,e,i){let s=!1;const n=sd(i);return R1(e,{onData:jt(o=>s?n.write(o):(s=!0,n.write(i([t,o]))),"onData"),onError:jt(o=>n.error(o),"onError"),onEnd:jt(()=>{s||(s=!0,n.write(t)),n.end()},"onEnd")}),n}jt(F4,"prefixedStream");var l$=Object.defineProperty,Oi=(t,e)=>l$(t,"name",{value:e,configurable:!0});const Zm=typeof Buffer<"u",c$=new kn(()=>new Uint8Array(256));let Hy,Wy;class Kt{static{Oi(this,"VSBuffer")}static alloc(e){return Zm?new Kt(Buffer.allocUnsafe(e)):new Kt(new Uint8Array(e))}static wrap(e){return Zm&&!Buffer.isBuffer(e)&&(e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)),new Kt(e)}static fromString(e,i){return!(i?.dontUseNodeBuffer||!1)&&Zm?new Kt(Buffer.from(e)):(Hy||(Hy=new TextEncoder),new Kt(Hy.encode(e)))}static fromByteArray(e){const i=Kt.alloc(e.length);for(let s=0,n=e.length;s<n;s++)i.buffer[s]=e[s];return i}static concat(e,i){if(typeof i>"u"){i=0;for(let o=0,r=e.length;o<r;o++)i+=e[o].byteLength}const s=Kt.alloc(i);let n=0;for(let o=0,r=e.length;o<r;o++){const a=e[o];s.set(a,n),n+=a.byteLength}return s}buffer;byteLength;constructor(e){this.buffer=e,this.byteLength=this.buffer.byteLength}clone(){const e=Kt.alloc(this.byteLength);return e.set(this),e}toString(){return Zm?this.buffer.toString():(Wy||(Wy=new TextDecoder),Wy.decode(this.buffer))}slice(e,i){return new Kt(this.buffer.subarray(e,i))}set(e,i){if(e instanceof Kt)this.buffer.set(e.buffer,i);else if(e instanceof Uint8Array)this.buffer.set(e,i);else if(e instanceof ArrayBuffer)this.buffer.set(new Uint8Array(e),i);else if(ArrayBuffer.isView(e))this.buffer.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),i);else throw new Error("Unknown argument 'array'")}readUInt32BE(e){return H4(this.buffer,e)}writeUInt32BE(e,i){W4(this.buffer,e,i)}readUInt32LE(e){return U4(this.buffer,e)}writeUInt32LE(e,i){z4(this.buffer,e,i)}readUInt8(e){return $4(this.buffer,e)}writeUInt8(e,i){K4(this.buffer,e,i)}indexOf(e,i=0){return V4(this.buffer,e instanceof Kt?e.buffer:e,i)}}function V4(t,e,i=0){const s=e.byteLength,n=t.byteLength;if(s===0)return 0;if(s===1)return t.indexOf(e[0]);if(s>n-i)return-1;const o=c$.value;o.fill(e.length);for(let h=0;h<e.length;h++)o[e[h]]=e.length-h-1;let r=i+e.length-1,a=r,l=-1;for(;r<n;)if(t[r]===e[a]){if(a===0){l=r;break}r--,a--}else r+=Math.max(e.length-a,o[t[r]]),a=e.length-1;return l}Oi(V4,"binaryIndexOf");function h$(t,e){return t[e+0]<<0>>>0|t[e+1]<<8>>>0}Oi(h$,"readUInt16LE");function d$(t,e,i){t[i+0]=e&255,e=e>>>8,t[i+1]=e&255}Oi(d$,"writeUInt16LE");function H4(t,e){return t[e]*2**24+t[e+1]*2**16+t[e+2]*2**8+t[e+3]}Oi(H4,"readUInt32BE");function W4(t,e,i){t[i+3]=e,e=e>>>8,t[i+2]=e,e=e>>>8,t[i+1]=e,e=e>>>8,t[i]=e}Oi(W4,"writeUInt32BE");function U4(t,e){return t[e+0]<<0>>>0|t[e+1]<<8>>>0|t[e+2]<<16>>>0|t[e+3]<<24>>>0}Oi(U4,"readUInt32LE");function z4(t,e,i){t[i+0]=e&255,e=e>>>8,t[i+1]=e&255,e=e>>>8,t[i+2]=e&255,e=e>>>8,t[i+3]=e&255}Oi(z4,"writeUInt32LE");function $4(t,e){return t[e]}Oi($4,"readUInt8");function K4(t,e,i){t[i]=e}Oi(K4,"writeUInt8");function u$(t){return P4(t,e=>Kt.concat(e))}Oi(u$,"readableToBuffer");function g$(t){return O4(t)}Oi(g$,"bufferToReadable");function G4(t){return R4(t,e=>Kt.concat(e))}Oi(G4,"streamToBuffer");async function f$(t){return t.ended?Kt.concat(t.buffer):Kt.concat([...t.buffer,await G4(t.stream)])}Oi(f$,"bufferedStreamToBuffer");function p$(t){return N4(t,e=>Kt.concat(e))}Oi(p$,"bufferToStream");function m$(t){return B4(t,{data:Oi(e=>typeof e=="string"?Kt.fromString(e):Kt.wrap(e),"data")},e=>Kt.concat(e))}Oi(m$,"streamToBufferReadableStream");function b$(t){return sd(e=>Kt.concat(e),t)}Oi(b$,"newWriteableBufferStream");function v$(t,e){return M4(t,e,i=>Kt.concat(i))}Oi(v$,"prefixedBufferReadable");function w$(t,e){return F4(t,e,i=>Kt.concat(i))}Oi(w$,"prefixedBufferStream");function y$(t){let e=0,i=0,s=0;const n=new Uint8Array(Math.floor(t.length/4*3)),o=Oi(a=>{switch(i){case 3:n[s++]=e|a,i=0;break;case 2:n[s++]=e|a>>>2,e=a<<6,i=3;break;case 1:n[s++]=e|a>>>4,e=a<<4,i=2;break;default:e=a<<2,i=1}},"append");for(let a=0;a<t.length;a++){const l=t.charCodeAt(a);if(l>=65&&l<=90)o(l-65);else if(l>=97&&l<=122)o(l-97+26);else if(l>=48&&l<=57)o(l-48+52);else if(l===43||l===45)o(62);else if(l===47||l===95)o(63);else{if(l===61)break;throw new SyntaxError(`Unexpected base64 character ${t[a]}`)}}const r=s;for(;i>0;)o(0);return Kt.wrap(n).slice(0,r)}Oi(y$,"decodeBase64");const _$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function C$({buffer:t},e=!0,i=!1){const s=i?S$:_$;let n="";const o=t.byteLength%3;let r=0;for(;r<t.byteLength-o;r+=3){const a=t[r+0],l=t[r+1],h=t[r+2];n+=s[a>>>2],n+=s[(a<<4|l>>>4)&63],n+=s[(l<<2|h>>>6)&63],n+=s[h&63]}if(o===1){const a=t[r+0];n+=s[a>>>2],n+=s[a<<4&63],e&&(n+="==")}else if(o===2){const a=t[r+0],l=t[r+1];n+=s[a>>>2],n+=s[(a<<4|l>>>4)&63],n+=s[l<<2&63],e&&(n+="=")}return n}Oi(C$,"encodeBase64");var D$=Object.defineProperty,N1=(t,e)=>D$(t,"name",{value:e,configurable:!0});function uD(t){return JSON.stringify(t,j4)}N1(uD,"stringify");function O1(t){let e=JSON.parse(t);return e=Gv(e),e}N1(O1,"parse");function j4(t,e){return e instanceof RegExp?{$mid:jd.Regexp,source:e.source,flags:e.flags}:e}N1(j4,"replacer");function Gv(t,e=0){if(!t||e>200)return t;if(typeof t=="object"){switch(t.$mid){case jd.Uri:return j.revive(t);case jd.Regexp:return new RegExp(t.source,t.flags);case jd.Date:return new Date(t.source)}if(t instanceof Kt||t instanceof Uint8Array)return t;if(Array.isArray(t))for(let i=0;i<t.length;++i)t[i]=Gv(t[i],e+1);else for(const i in t)Object.hasOwnProperty.call(t,i)&&(t[i]=Gv(t[i],e+1))}return t}N1(Gv,"revive");var A$=Object.defineProperty,gD=(t,e)=>A$(t,"name",{value:e,configurable:!0}),qb=(t=>(t[t.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",t[t.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY",t))(qb||{});function E$(t){const e=t;return e?.changed instanceof Map||e?.deleted instanceof Set}gD(E$,"isStorageItemsChangeEvent");class _f extends q{constructor(e,i=Object.create(null)){super(),this.database=e,this.options=i,this.registerListeners()}static{gD(this,"Storage")}static DEFAULT_FLUSH_DELAY=100;_onDidChangeStorage=this._register(new yv);onDidChangeStorage=this._onDidChangeStorage.event;state=0;cache=new Map;flushDelayer=this._register(new Ax(_f.DEFAULT_FLUSH_DELAY));pendingDeletes=new Set;pendingInserts=new Map;pendingClose=void 0;whenFlushedCallbacks=[];registerListeners(){this._register(this.database.onDidChangeItemsExternal(e=>this.onDidChangeItemsExternal(e)))}onDidChangeItemsExternal(e){this._onDidChangeStorage.pause();try{e.changed?.forEach((i,s)=>this.acceptExternal(s,i)),e.deleted?.forEach(i=>this.acceptExternal(i,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(e,i){if(this.state===2)return;let s=!1;ji(i)?s=this.cache.delete(e):this.cache.get(e)!==i&&(this.cache.set(e,i),s=!0),s&&this._onDidChangeStorage.fire({key:e,external:!0})}get items(){return this.cache}get size(){return this.cache.size}async init(){this.state===0&&(this.state=1,this.options.hint!==0&&(this.cache=await this.database.getItems()))}get(e,i){const s=this.cache.get(e);return ji(s)?i:s}getBoolean(e,i){const s=this.get(e);return ji(s)?i:s==="true"}getNumber(e,i){const s=this.get(e);return ji(s)?i:Number.parseInt(s,10)}getObject(e,i){const s=this.get(e);return ji(s)?i:O1(s)}async set(e,i,s=!1){if(this.state===2)return;if(ji(i))return this.delete(e,s);const n=cs(i)||Array.isArray(i)?uD(i):String(i);if(this.cache.get(e)!==n)return this.cache.set(e,n),this.pendingInserts.set(e,n),this.pendingDeletes.delete(e),this._onDidChangeStorage.fire({key:e,external:s}),this.doFlush()}async delete(e,i=!1){if(!(this.state===2||!this.cache.delete(e)))return this.pendingDeletes.has(e)||this.pendingDeletes.add(e),this.pendingInserts.delete(e),this._onDidChangeStorage.fire({key:e,external:i}),this.doFlush()}async optimize(){if(this.state!==2)return await this.flush(0),this.database.optimize()}async close(){return this.pendingClose||(this.pendingClose=this.doClose()),this.pendingClose}async doClose(){this.state=2;try{await this.doFlush(0)}catch{}await this.database.close(()=>this.cache)}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const e={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(e).finally(()=>{if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)this.whenFlushedCallbacks.pop()?.()})}async flush(e){if(!(this.state===2||this.pendingClose))return this.doFlush(e)}async doFlush(e){return this.options.hint===1?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),e)}async whenFlushed(){if(this.hasPending)return new Promise(e=>this.whenFlushedCallbacks.push(e))}isInMemory(){return this.options.hint===1}}class Uy{static{gD(this,"InMemoryStorageDatabase")}onDidChangeItemsExternal=R.None;items=new Map;async getItems(){return this.items}async updateItems(e){e.insert?.forEach((i,s)=>this.items.set(s,i)),e.delete?.forEach(i=>this.items.delete(i))}async optimize(){}async close(){}}var I$=Object.defineProperty,d0=(t,e)=>I$(t,"name",{value:e,configurable:!0});const T$=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function k$(t){return T$.test(t)}d0(k$,"isUUID");const jv=(()=>{if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let t;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?t=crypto.getRandomValues.bind(crypto):t=d0(s=>{for(let n=0;n<s.length;n++)s[n]=Math.floor(Math.random()*256);return s},"getRandomValues");const e=new Uint8Array(16),i=[];for(let s=0;s<256;s++)i.push(s.toString(16).padStart(2,"0"));return d0(function(){t(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let n=0,o="";return o+=i[e[n++]],o+=i[e[n++]],o+=i[e[n++]],o+=i[e[n++]],o+="-",o+=i[e[n++]],o+=i[e[n++]],o+="-",o+=i[e[n++]],o+=i[e[n++]],o+="-",o+=i[e[n++]],o+=i[e[n++]],o+="-",o+=i[e[n++]],o+=i[e[n++]],o+=i[e[n++]],o+=i[e[n++]],o+=i[e[n++]],o+=i[e[n++]],o},"generateUuid")})(),mm=Ce("environmentService");var x$=Object.defineProperty,Hh=(t,e)=>x$(t,"name",{value:e,configurable:!0});class L${static{Hh(this,"StringIterator")}_value="";_pos=0;reset(e){return this._value=e,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(e){const i=e.charCodeAt(0),s=this._value.charCodeAt(this._pos);return i-s}value(){return this._value[this._pos]}}class P${constructor(e=!0){this._caseSensitive=e}static{Hh(this,"ConfigKeysIterator")}_value;_from;_to;reset(e){return this._value=e,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let e=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===O.Period)if(e)this._from++;else break;else e=!1;return this}cmp(e){return this._caseSensitive?i1(e,this._value,0,e.length,this._from,this._to):Xu(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class q4{constructor(e=!0,i=!0){this._splitOnBackslash=e,this._caseSensitive=i}static{Hh(this,"PathIterator")}_value;_valueLen;_from;_to;reset(e){this._from=0,this._to=0,this._value=e,this._valueLen=e.length;for(let i=e.length-1;i>=0;i--,this._valueLen--){const s=this._value.charCodeAt(i);if(!(s===O.Slash||this._splitOnBackslash&&s===O.Backslash))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let e=!0;for(;this._to<this._valueLen;this._to++){const i=this._value.charCodeAt(this._to);if(i===O.Slash||this._splitOnBackslash&&i===O.Backslash)if(e)this._from++;else break;else e=!1}return this}cmp(e){return this._caseSensitive?i1(e,this._value,0,e.length,this._from,this._to):Xu(e,this._value,0,e.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class R${constructor(e,i){this._ignorePathCasing=e,this._ignoreQueryAndFragment=i}static{Hh(this,"UriIterator")}_pathIterator;_value;_states=[];_stateIdx=0;reset(e){return this._value=e,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new q4(!1,!this._ignorePathCasing(e)),this._pathIterator.reset(e.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(e)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(e){if(this._states[this._stateIdx]===1)return Ev(e,this._value.scheme);if(this._states[this._stateIdx]===2)return Ev(e,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(e);if(this._states[this._stateIdx]===4)return Av(e,this._value.query);if(this._states[this._stateIdx]===5)return Av(e,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class Qm{static{Hh(this,"TernarySearchTreeNode")}height=1;segment;value;key;left;mid;right;isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}rotateLeft(){const e=this.right;return this.right=e.left,e.left=this,this.updateHeight(),e.updateHeight(),e}rotateRight(){const e=this.left;return this.left=e.right,e.right=this,this.updateHeight(),e.updateHeight(),e}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){return this.left?.height??0}get heightRight(){return this.right?.height??0}}class Mr{static{Hh(this,"TernarySearchTree")}static forUris(e=()=>!1,i=()=>!1){return new Mr(new R$(e,i))}static forPaths(e=!1){return new Mr(new q4(void 0,!e))}static forStrings(){return new Mr(new L$)}static forConfigKeys(){return new Mr(new P$)}_iter;_root;constructor(e){this._iter=e}clear(){this._root=void 0}fill(e,i){if(i){const s=i.slice(0);p_(s);for(const n of s)this.set(n,e)}else{const s=e.slice(0);p_(s);for(const n of s)this.set(n[0],n[1])}}set(e,i){const s=this._iter.reset(e);let n;this._root||(this._root=new Qm,this._root.segment=s.value());const o=[];for(n=this._root;;){const a=s.cmp(n.segment);if(a>0)n.left||(n.left=new Qm,n.left.segment=s.value()),o.push([-1,n]),n=n.left;else if(a<0)n.right||(n.right=new Qm,n.right.segment=s.value()),o.push([1,n]),n=n.right;else if(s.hasNext())s.next(),n.mid||(n.mid=new Qm,n.mid.segment=s.value()),o.push([0,n]),n=n.mid;else break}const r=n.value;n.value=i,n.key=e;for(let a=o.length-1;a>=0;a--){const l=o[a][1];l.updateHeight();const h=l.balanceFactor();if(h<-1||h>1){const d=o[a][0],u=o[a+1][0];if(d===1&&u===1)o[a][1]=l.rotateLeft();else if(d===-1&&u===-1)o[a][1]=l.rotateRight();else if(d===1&&u===-1)l.right=o[a+1][1]=o[a+1][1].rotateRight(),o[a][1]=l.rotateLeft();else if(d===-1&&u===1)l.left=o[a+1][1]=o[a+1][1].rotateLeft(),o[a][1]=l.rotateRight();else throw new Error;if(a>0)switch(o[a-1][0]){case-1:o[a-1][1].left=o[a][1];break;case 1:o[a-1][1].right=o[a][1];break;case 0:o[a-1][1].mid=o[a][1];break}else this._root=o[0][1]}}return r}get(e){return this._getNode(e)?.value}_getNode(e){const i=this._iter.reset(e);let s=this._root;for(;s;){const n=i.cmp(s.segment);if(n>0)s=s.left;else if(n<0)s=s.right;else if(i.hasNext())i.next(),s=s.mid;else break}return s}has(e){const i=this._getNode(e);return!(i?.value===void 0&&i?.mid===void 0)}delete(e){return this._delete(e,!1)}deleteSuperstr(e){return this._delete(e,!0)}_delete(e,i){const s=this._iter.reset(e),n=[];let o=this._root;for(;o;){const r=s.cmp(o.segment);if(r>0)n.push([-1,o]),o=o.left;else if(r<0)n.push([1,o]),o=o.right;else if(s.hasNext())s.next(),n.push([0,o]),o=o.mid;else break}if(o){if(i?(o.left=void 0,o.mid=void 0,o.right=void 0,o.height=1):(o.key=void 0,o.value=void 0),!o.mid&&!o.value)if(o.left&&o.right){const r=this._min(o.right);if(r.key){const{key:a,value:l,segment:h}=r;this._delete(r.key,!1),o.key=a,o.value=l,o.segment=h}}else{const r=o.left??o.right;if(n.length>0){const[a,l]=n[n.length-1];switch(a){case-1:l.left=r;break;case 0:l.mid=r;break;case 1:l.right=r;break}}else this._root=r}for(let r=n.length-1;r>=0;r--){const a=n[r][1];a.updateHeight();const l=a.balanceFactor();if(l>1?(a.right.balanceFactor()>=0||(a.right=a.right.rotateRight()),n[r][1]=a.rotateLeft()):l<-1&&(a.left.balanceFactor()<=0||(a.left=a.left.rotateLeft()),n[r][1]=a.rotateRight()),r>0)switch(n[r-1][0]){case-1:n[r-1][1].left=n[r][1];break;case 1:n[r-1][1].right=n[r][1];break;case 0:n[r-1][1].mid=n[r][1];break}else this._root=n[0][1]}}}_min(e){for(;e.left;)e=e.left;return e}findSubstr(e){const i=this._iter.reset(e);let s=this._root,n;for(;s;){const o=i.cmp(s.segment);if(o>0)s=s.left;else if(o<0)s=s.right;else if(i.hasNext())i.next(),n=s.value||n,s=s.mid;else break}return s&&s.value||n}findSuperstr(e){return this._findSuperstrOrElement(e,!1)}_findSuperstrOrElement(e,i){const s=this._iter.reset(e);let n=this._root;for(;n;){const o=s.cmp(n.segment);if(o>0)n=n.left;else if(o<0)n=n.right;else if(s.hasNext())s.next(),n=n.mid;else return n.mid?this._entries(n.mid):i?n.value:void 0}}hasElementOrSubtree(e){return this._findSuperstrOrElement(e,!0)!==void 0}forEach(e){for(const[i,s]of this)e(s,i)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(e){const i=[];return this._dfsEntries(e,i),i[Symbol.iterator]()}_dfsEntries(e,i){e&&(e.left&&this._dfsEntries(e.left,i),e.value&&i.push([e.key,e.value]),e.mid&&this._dfsEntries(e.mid,i),e.right&&this._dfsEntries(e.right,i))}_isBalanced(){const e=Hh(i=>{if(!i)return!0;const s=i.balanceFactor();return s<-1||s>1?!1:e(i.left)&&e(i.right)},"nodeIsBalanced");return e(this._root)}}var N$=Object.defineProperty,vi=(t,e)=>N$(t,"name",{value:e,configurable:!0});const nd=Ce("fileService");function O$(t){return t.create===!0}vi(O$,"isFileOpenForWriteOptions");var $l=(t=>(t[t.Unknown=0]="Unknown",t[t.File=1]="File",t[t.Directory=2]="Directory",t[t.SymbolicLink=64]="SymbolicLink",t))($l||{});function B$(t){const e=t;return!!e&&typeof e.onDidChange=="function"}vi(B$,"isFileSystemWatcher");var Yb=(t=>(t[t.None=0]="None",t[t.FileReadWrite=2]="FileReadWrite",t[t.FileOpenReadWriteClose=4]="FileOpenReadWriteClose",t[t.FileReadStream=16]="FileReadStream",t[t.FileFolderCopy=8]="FileFolderCopy",t[t.PathCaseSensitive=1024]="PathCaseSensitive",t[t.Readonly=2048]="Readonly",t[t.Trash=4096]="Trash",t[t.FileWriteUnlock=8192]="FileWriteUnlock",t[t.FileAtomicRead=16384]="FileAtomicRead",t[t.FileAtomicWrite=32768]="FileAtomicWrite",t[t.FileAtomicDelete=65536]="FileAtomicDelete",t[t.FileClone=131072]="FileClone",t))(Yb||{});function fD(t){return!!(t.capabilities&2)}vi(fD,"hasReadWriteCapability");function M$(t){return!!(t.capabilities&8)}vi(M$,"hasFileFolderCopyCapability");function F$(t){return!!(t.capabilities&131072)}vi(F$,"hasFileCloneCapability");function V$(t){return!!(t.capabilities&4)}vi(V$,"hasOpenReadWriteCloseCapability");function H$(t){return!!(t.capabilities&16)}vi(H$,"hasFileReadStreamCapability");function W$(t){return fD(t)?!!(t.capabilities&16384):!1}vi(W$,"hasFileAtomicReadCapability");function U$(t){return fD(t)?!!(t.capabilities&32768):!1}vi(U$,"hasFileAtomicWriteCapability");function z$(t){return!!(t.capabilities&65536)}vi(z$,"hasFileAtomicDeleteCapability");function $$(t){return!!(t.capabilities&2048)}vi($$,"hasReadonlyCapability");var on=(t=>(t.FileExists="EntryExists",t.FileNotFound="EntryNotFound",t.FileNotADirectory="EntryNotADirectory",t.FileIsADirectory="EntryIsADirectory",t.FileExceedsStorageQuota="EntryExceedsStorageQuota",t.FileTooLarge="EntryTooLarge",t.FileWriteLocked="EntryWriteLocked",t.NoPermissions="NoPermissions",t.Unavailable="Unavailable",t.Unknown="Unknown",t))(on||{});class bm extends Error{constructor(e,i){super(e),this.code=i}static{vi(this,"FileSystemProviderError")}static create(e,i){const s=new bm(e.toString(),i);return Y4(s,i),s}}function qv(t,e){return bm.create(t,e)}vi(qv,"createFileSystemProviderError");function K$(t){return t||qv(c("unknownError","Unknown Error"),"Unknown")}vi(K$,"ensureFileSystemProviderError");function Y4(t,e){return t.name=e?`${e} (FileSystemError)`:"FileSystemError",t}vi(Y4,"markAsFileSystemProviderError");function X4(t){if(!t)return"Unknown";if(t instanceof bm)return t.code;const e=/^(.+) \(FileSystemError\)$/.exec(t.name);if(!e)return"Unknown";switch(e[1]){case"EntryExists":return"EntryExists";case"EntryIsADirectory":return"EntryIsADirectory";case"EntryNotADirectory":return"EntryNotADirectory";case"EntryNotFound":return"EntryNotFound";case"EntryTooLarge":return"EntryTooLarge";case"EntryWriteLocked":return"EntryWriteLocked";case"NoPermissions":return"NoPermissions";case"Unavailable":return"Unavailable"}return"Unknown"}vi(X4,"toFileSystemProviderErrorCode");function Z4(t){if(t instanceof B1)return t.fileOperationResult;switch(X4(t)){case"EntryNotFound":return 1;case"EntryIsADirectory":return 0;case"EntryNotADirectory":return 9;case"EntryWriteLocked":return 5;case"NoPermissions":return 6;case"EntryExists":return 4;case"EntryTooLarge":return 7;default:return 10}}vi(Z4,"toFileOperationResult");class qne{constructor(e,i,s){this.resource=e,this.operation=i,this.target=s}static{vi(this,"FileOperationEvent")}isOperation(e){return this.operation===e}}class Xb{constructor(e,i){this.ignorePathCasing=i;for(const s of e){switch(s.type){case 1:this.rawAdded.push(s.resource);break;case 0:this.rawUpdated.push(s.resource);break;case 2:this.rawDeleted.push(s.resource);break}this.correlationId!==Xb.MIXED_CORRELATION&&(typeof s.cId=="number"?this.correlationId===void 0?this.correlationId=s.cId:this.correlationId!==s.cId&&(this.correlationId=Xb.MIXED_CORRELATION):this.correlationId!==void 0&&(this.correlationId=Xb.MIXED_CORRELATION))}}static{vi(this,"FileChangesEvent")}static MIXED_CORRELATION=null;correlationId=void 0;added=new kn(()=>{const e=Mr.forUris(()=>this.ignorePathCasing);return e.fill(this.rawAdded.map(i=>[i,!0])),e});updated=new kn(()=>{const e=Mr.forUris(()=>this.ignorePathCasing);return e.fill(this.rawUpdated.map(i=>[i,!0])),e});deleted=new kn(()=>{const e=Mr.forUris(()=>this.ignorePathCasing);return e.fill(this.rawDeleted.map(i=>[i,!0])),e});contains(e,...i){return this.doContains(e,{includeChildren:!1},...i)}affects(e,...i){return this.doContains(e,{includeChildren:!0},...i)}doContains(e,i,...s){if(!e)return!1;const n=s.length>0;return!!((!n||s.includes(1))&&(this.added.value.get(e)||i.includeChildren&&this.added.value.findSuperstr(e))||(!n||s.includes(0))&&(this.updated.value.get(e)||i.includeChildren&&this.updated.value.findSuperstr(e))||(!n||s.includes(2))&&(this.deleted.value.findSubstr(e)||i.includeChildren&&this.deleted.value.findSuperstr(e)))}gotAdded(){return this.rawAdded.length>0}gotDeleted(){return this.rawDeleted.length>0}gotUpdated(){return this.rawUpdated.length>0}correlates(e){return this.correlationId===e}hasCorrelation(){return typeof this.correlationId=="number"}rawAdded=[];rawUpdated=[];rawDeleted=[]}function G$(t,e,i){return!t||!e||t===e||e.length>t.length?!1:(e.charAt(e.length-1)!==ko&&(e+=ko),i?Zu(t,e):t.indexOf(e)===0)}vi(G$,"isParent");class B1 extends Error{constructor(e,i,s){super(e),this.fileOperationResult=i,this.options=s}static{vi(this,"FileOperationError")}}class Yne extends B1{constructor(e,i,s,n){super(e,i,n),this.fileOperationResult=i,this.size=s}static{vi(this,"TooLargeFileOperationError")}}class Xne extends B1{constructor(e,i,s){super(e,2,s),this.stat=i}static{vi(this,"NotModifiedSinceFileOperationError")}}var pD=(t=>(t[t.FILE_IS_DIRECTORY=0]="FILE_IS_DIRECTORY",t[t.FILE_NOT_FOUND=1]="FILE_NOT_FOUND",t[t.FILE_NOT_MODIFIED_SINCE=2]="FILE_NOT_MODIFIED_SINCE",t[t.FILE_MODIFIED_SINCE=3]="FILE_MODIFIED_SINCE",t[t.FILE_MOVE_CONFLICT=4]="FILE_MOVE_CONFLICT",t[t.FILE_WRITE_LOCKED=5]="FILE_WRITE_LOCKED",t[t.FILE_PERMISSION_DENIED=6]="FILE_PERMISSION_DENIED",t[t.FILE_TOO_LARGE=7]="FILE_TOO_LARGE",t[t.FILE_INVALID_PATH=8]="FILE_INVALID_PATH",t[t.FILE_NOT_DIRECTORY=9]="FILE_NOT_DIRECTORY",t[t.FILE_OTHER_ERROR=10]="FILE_OTHER_ERROR",t))(pD||{}),Kl=(t=>(t[t.FILE=0]="FILE",t[t.FOLDER=1]="FOLDER",t[t.ROOT_FOLDER=2]="ROOT_FOLDER",t))(Kl||{});function j$(t){if(!(typeof t.size!="number"||typeof t.mtime!="number"))return t.mtime.toString(29)+t.size.toString(31)}vi(j$,"etag");async function q$(t,e){if(!e.hasProvider(j.from({scheme:t.scheme})))return new Promise(i=>{const s=e.onDidChangeFileSystemProviderRegistrations(n=>{n.scheme===t.scheme&&n.added&&(s.dispose(),i())})})}vi(q$,"whenProviderRegistered");class ts{static{vi(this,"ByteSize")}static KB=1024;static MB=ts.KB*ts.KB;static GB=ts.MB*ts.KB;static TB=ts.GB*ts.KB;static formatSize(e){return pc(e)||(e=0),e<ts.KB?c("sizeB","{0}B",e.toFixed(0)):e<ts.MB?c("sizeKB","{0}KB",(e/ts.KB).toFixed(2)):e<ts.GB?c("sizeMB","{0}MB",(e/ts.MB).toFixed(2)):e<ts.TB?c("sizeGB","{0}GB",(e/ts.GB).toFixed(2)):c("sizeTB","{0}TB",(e/ts.TB).toFixed(2))}}function Y$(t){const e=typeof t=="string"||t?.scheme===Ue.vscodeRemote;return typeof t!="string"&&t?.scheme===Ue.file?1024*ts.MB:e?10*ts.MB:Qt?50*ts.MB:1024*ts.MB}vi(Y$,"getLargeFileConfirmationLimit");var X$=Object.defineProperty,Ms=(t,e)=>X$(t,"name",{value:e,configurable:!0});const od=Ce("logService");Ce("loggerService");function Wo(){return new Date().toISOString()}Ms(Wo,"now");function Z$(t){return pc(t)}Ms(Z$,"isLogLevel");var Ed=(t=>(t[t.Off=0]="Off",t[t.Trace=1]="Trace",t[t.Debug=2]="Debug",t[t.Info=3]="Info",t[t.Warning=4]="Warning",t[t.Error=5]="Error",t))(Ed||{});const hg=3;function Q$(t,e,i){switch(e){case 1:t.trace(i);break;case 2:t.debug(i);break;case 3:t.info(i);break;case 4:t.warn(i);break;case 5:t.error(i);break;case 0:break;default:throw new Error(`Invalid log level ${e}`)}}Ms(Q$,"log");function Wc(t,e=!1){let i="";for(let s=0;s<t.length;s++){let n=t[s];if(n instanceof Error&&(n=mc(n,e)),typeof n=="object")try{n=JSON.stringify(n)}catch{}i+=(s>0?" ":"")+n}return i}Ms(Wc,"format");class vm extends q{static{Ms(this,"AbstractLogger")}level=hg;_onDidChangeLogLevel=this._register(new I);onDidChangeLogLevel=this._onDidChangeLogLevel.event;setLevel(e){this.level!==e&&(this.level=e,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(e){return this.level!==0&&this.level<=e}}class Zne extends vm{constructor(e){super(),this.logAlways=e}static{Ms(this,"AbstractMessageLogger")}checkLogLevel(e){return this.logAlways||super.checkLogLevel(e)}trace(e,...i){this.checkLogLevel(1)&&this.log(1,Wc([e,...i],!0))}debug(e,...i){this.checkLogLevel(2)&&this.log(2,Wc([e,...i]))}info(e,...i){this.checkLogLevel(3)&&this.log(3,Wc([e,...i]))}warn(e,...i){this.checkLogLevel(4)&&this.log(4,Wc([e,...i]))}error(e,...i){if(this.checkLogLevel(5))if(e instanceof Error){const s=Array.prototype.slice.call(arguments);s[0]=e.stack,this.log(5,Wc(s))}else this.log(5,Wc([e,...i]))}flush(){}}class Qne extends vm{static{Ms(this,"ConsoleMainLogger")}useColors;constructor(e=hg){super(),this.setLevel(e),this.useColors=!Lt}trace(e,...i){this.checkLogLevel(1)&&(this.useColors?console.log(`\x1B[90m[main ${Wo()}]\x1B[0m`,e,...i):console.log(`[main ${Wo()}]`,e,...i))}debug(e,...i){this.checkLogLevel(2)&&(this.useColors?console.log(`\x1B[90m[main ${Wo()}]\x1B[0m`,e,...i):console.log(`[main ${Wo()}]`,e,...i))}info(e,...i){this.checkLogLevel(3)&&(this.useColors?console.log(`\x1B[90m[main ${Wo()}]\x1B[0m`,e,...i):console.log(`[main ${Wo()}]`,e,...i))}warn(e,...i){this.checkLogLevel(4)&&(this.useColors?console.warn(`\x1B[93m[main ${Wo()}]\x1B[0m`,e,...i):console.warn(`[main ${Wo()}]`,e,...i))}error(e,...i){this.checkLogLevel(5)&&(this.useColors?console.error(`\x1B[91m[main ${Wo()}]\x1B[0m`,e,...i):console.error(`[main ${Wo()}]`,e,...i))}flush(){}}class Jne extends vm{constructor(e=hg,i=!0){super(),this.useColors=i,this.setLevel(e)}static{Ms(this,"ConsoleLogger")}trace(e,...i){this.checkLogLevel(1)&&(this.useColors?console.log("%cTRACE","color: #888",e,...i):console.log(e,...i))}debug(e,...i){this.checkLogLevel(2)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",e,...i):console.log(e,...i))}info(e,...i){this.checkLogLevel(3)&&(this.useColors?console.log("%c INFO","color: #33f",e,...i):console.log(e,...i))}warn(e,...i){this.checkLogLevel(4)&&(this.useColors?console.log("%c WARN","color: #993",e,...i):console.log(e,...i))}error(e,...i){this.checkLogLevel(5)&&(this.useColors?console.log("%c  ERR","color: #f33",e,...i):console.error(e,...i))}flush(){}}class J$ extends vm{constructor(e,i=hg){super(),this.adapter=e,this.setLevel(i)}static{Ms(this,"AdapterLogger")}trace(e,...i){this.checkLogLevel(1)&&this.adapter.log(1,[this.extractMessage(e),...i])}debug(e,...i){this.checkLogLevel(2)&&this.adapter.log(2,[this.extractMessage(e),...i])}info(e,...i){this.checkLogLevel(3)&&this.adapter.log(3,[this.extractMessage(e),...i])}warn(e,...i){this.checkLogLevel(4)&&this.adapter.log(4,[this.extractMessage(e),...i])}error(e,...i){this.checkLogLevel(5)&&this.adapter.log(5,[this.extractMessage(e),...i])}extractMessage(e){return typeof e=="string"?e:mc(e,this.checkLogLevel(1))}flush(){}}class eoe extends vm{constructor(e){super(),this.loggers=e,e.length&&this.setLevel(e[0].getLevel())}static{Ms(this,"MultiplexLogger")}setLevel(e){for(const i of this.loggers)i.setLevel(e);super.setLevel(e)}trace(e,...i){for(const s of this.loggers)s.trace(e,...i)}debug(e,...i){for(const s of this.loggers)s.debug(e,...i)}info(e,...i){for(const s of this.loggers)s.info(e,...i)}warn(e,...i){for(const s of this.loggers)s.warn(e,...i)}error(e,...i){for(const s of this.loggers)s.error(e,...i)}flush(){for(const e of this.loggers)e.flush()}dispose(){for(const e of this.loggers)e.dispose();super.dispose()}}class toe extends q{constructor(e,i,s){if(super(),this.logLevel=e,this.logsHome=i,s)for(const n of s)this._loggers.set(n.resource,{logger:void 0,info:n})}static{Ms(this,"AbstractLoggerService")}_loggers=new xs;_onDidChangeLoggers=this._register(new I);onDidChangeLoggers=this._onDidChangeLoggers.event;_onDidChangeLogLevel=this._register(new I);onDidChangeLogLevel=this._onDidChangeLogLevel.event;_onDidChangeVisibility=this._register(new I);onDidChangeVisibility=this._onDidChangeVisibility.event;getLoggerEntry(e){return Yi(e)?[...this._loggers.values()].find(i=>i.info.id===e):this._loggers.get(e)}getLogger(e){return this.getLoggerEntry(e)?.logger}createLogger(e,i){const s=this.toResource(e),n=Yi(e)?e:i?.id??Th(s.toString()).toString(16);let o=this._loggers.get(s)?.logger;const r=i?.logLevel==="always"?1:i?.logLevel;o||(o=this.doCreateLogger(s,r??this.getLogLevel(s)??this.logLevel,{...i,id:n}));const a={logger:o,info:{resource:s,id:n,logLevel:r,name:i?.name,hidden:i?.hidden,extensionId:i?.extensionId,when:i?.when}};return this.registerLogger(a.info),this._loggers.set(s,a),o}toResource(e){return Yi(e)?Tt(this.logsHome,`${e}.log`):e}setLogLevel(e,i){if(j.isUri(e)){const s=e,n=i,o=this._loggers.get(s);o&&n!==o.info.logLevel&&(o.info.logLevel=n===this.logLevel?void 0:n,o.logger?.setLevel(n),this._loggers.set(o.info.resource,o),this._onDidChangeLogLevel.fire([s,n]))}else{this.logLevel=e;for(const[s,n]of this._loggers.entries())this._loggers.get(s)?.info.logLevel===void 0&&n.logger?.setLevel(this.logLevel);this._onDidChangeLogLevel.fire(this.logLevel)}}setVisibility(e,i){const s=this.getLoggerEntry(e);s&&i!==!s.info.hidden&&(s.info.hidden=!i,this._loggers.set(s.info.resource,s),this._onDidChangeVisibility.fire([s.info.resource,i]))}getLogLevel(e){let i;return e&&(i=this._loggers.get(e)?.info.logLevel),i??this.logLevel}registerLogger(e){const i=this._loggers.get(e.resource);i?i.info.hidden!==e.hidden&&this.setVisibility(e.resource,!e.hidden):(this._loggers.set(e.resource,{info:e,logger:void 0}),this._onDidChangeLoggers.fire({added:[e],removed:[]}))}deregisterLogger(e){const i=this._loggers.get(e);i&&(i.logger&&i.logger.dispose(),this._loggers.delete(e),this._onDidChangeLoggers.fire({added:[],removed:[i.info]}))}*getRegisteredLoggers(){for(const e of this._loggers.values())yield e.info}getRegisteredLogger(e){return this._loggers.get(e)?.info}dispose(){this._loggers.forEach(e=>e.logger?.dispose()),this._loggers.clear(),super.dispose()}}class eK{static{Ms(this,"NullLogger")}onDidChangeLogLevel=new I().event;setLevel(e){}getLevel(){return 3}trace(e,...i){}debug(e,...i){}info(e,...i){}warn(e,...i){}error(e,...i){}critical(e,...i){}dispose(){}flush(){}}class ioe extends eK{static{Ms(this,"NullLogService")}}function tK(t){if(t.verbose)return 1;if(typeof t.logLevel=="string"){const e=Q4(t.logLevel.toLowerCase());if(e!==void 0)return e}return hg}Ms(tK,"getLogLevel");function Yv(t){switch(t){case 1:return"trace";case 2:return"debug";case 3:return"info";case 4:return"warn";case 5:return"error";case 0:return"off"}}Ms(Yv,"LogLevelToString");function iK(t){switch(t){case 1:return{original:"Trace",value:c("trace","Trace")};case 2:return{original:"Debug",value:c("debug","Debug")};case 3:return{original:"Info",value:c("info","Info")};case 4:return{original:"Warning",value:c("warn","Warning")};case 5:return{original:"Error",value:c("error","Error")};case 0:return{original:"Off",value:c("off","Off")}}}Ms(iK,"LogLevelToLocalizedString");function Q4(t){switch(t){case"trace":return 1;case"debug":return 2;case"info":return 3;case"warn":return 4;case"error":return 5;case"critical":return 5;case"off":return 0}}Ms(Q4,"parseLogLevel");new J("logLevel",Yv(3));const sK=Ce("IUriIdentityService");var nK=Object.defineProperty,mn=(t,e)=>nK(t,"name",{value:e,configurable:!0});const dg=Ce("contextService");function Sf(t){const e=t;return typeof e?.id=="string"&&j.isUri(e.uri)}mn(Sf,"isSingleFolderWorkspaceIdentifier");function oK(t){return typeof t?.id=="string"&&!Sf(t)&&!Cf(t)}mn(oK,"isEmptyWorkspaceIdentifier");const rK={id:"ext-dev"},aK={id:"empty-window"};function lK(t,e){if(typeof t=="string"||typeof t>"u")return typeof t=="string"?{id:zk(t)}:e?rK:aK;const i=t;return i.configuration?{id:i.id,configPath:i.configuration}:i.folders.length===1?{id:i.id,uri:i.folders[0].uri}:{id:i.id}}mn(lK,"toWorkspaceIdentifier");function Cf(t){const e=t;return typeof e?.id=="string"&&j.isUri(e.configPath)}mn(Cf,"isWorkspaceIdentifier");function cK(t){const e=t;if(e?.uri)return{id:e.id,uri:j.revive(e.uri)};const i=t;if(i?.configPath)return{id:i.id,configPath:j.revive(i.configPath)};if(t?.id)return{id:t.id}}mn(cK,"reviveIdentifier");var eu=(t=>(t[t.EMPTY=1]="EMPTY",t[t.FOLDER=2]="FOLDER",t[t.WORKSPACE=3]="WORKSPACE",t))(eu||{});function hK(t){const e=t;return!!(e&&typeof e=="object"&&typeof e.id=="string"&&Array.isArray(e.folders))}mn(hK,"isWorkspace");function dK(t){const e=t;return!!(e&&typeof e=="object"&&j.isUri(e.uri)&&typeof e.name=="string"&&typeof e.toResource=="function")}mn(dK,"isWorkspaceFolder");class soe{constructor(e,i,s,n,o){this._id=e,this._transient=s,this._configuration=n,this._ignorePathCasing=o,this.folders=i}static{mn(this,"Workspace")}_foldersMap=Mr.forUris(this._ignorePathCasing,()=>!0);_folders;update(e){this._id=e.id,this._configuration=e.configuration,this._transient=e.transient,this._ignorePathCasing=e._ignorePathCasing,this.folders=e.folders}get folders(){return this._folders}set folders(e){this._folders=e,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(e){this._configuration=e}getFolder(e){return e&&this._foldersMap.findSubstr(e)||null}updateFoldersMap(){this._foldersMap=Mr.forUris(this._ignorePathCasing,()=>!0);for(const e of this.folders)this._foldersMap.set(e.uri,e)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class J4{constructor(e,i){this.raw=i,this.uri=e.uri,this.index=e.index,this.name=e.name}static{mn(this,"WorkspaceFolder")}uri;name;index;toResource(e){return Tt(this.uri,e)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}function uK(t){return new J4({uri:t,index:0,name:q9(t)},{uri:t.toString()})}mn(uK,"toWorkspaceFolder");const eR="code-workspace",gK=`.${eR}`;c("codeWorkspace","Code Workspace");function tR(t,e){return G9.isEqualOrParent(t,e.untitledWorkspacesHome)}mn(tR,"isUntitledWorkspace");function wm(t){let e;return j.isUri(t)?e=t:e=t.configuration,e?.scheme===Ue.tmp}mn(wm,"isTemporaryWorkspace");const fK="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function pK(t){return t.id===fK}mn(pK,"isStandaloneEditorWorkspace");function mK(t,e){return!tR(t,e)&&!wm(t)}mn(mK,"isSavedWorkspace");function iR(t){return(typeof t=="string"?e1(t):yx(t))===gK}mn(iR,"hasWorkspaceFileExtension");var sR=Object.defineProperty,bK=Object.getOwnPropertyDescriptor,ym=(t,e)=>sR(t,"name",{value:e,configurable:!0}),vK=(t,e,i,s)=>{for(var n=s>1?void 0:s?bK(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&sR(e,i,n),n},Jm=(t,e)=>(i,s)=>e(i,s,t);function nR(t){const e=t;return!!(e&&typeof e=="object"&&typeof e.id=="string"&&typeof e.isDefault=="boolean"&&typeof e.name=="string"&&j.isUri(e.location)&&j.isUri(e.globalStorageHome)&&j.isUri(e.settingsResource)&&j.isUri(e.keybindingsResource)&&j.isUri(e.tasksResource)&&j.isUri(e.snippetsHome)&&j.isUri(e.extensionsResource))}ym(nR,"isUserDataProfile");Ce("IUserDataProfilesService");function wK(t,e){return{id:t.id,isDefault:t.isDefault,name:t.name,shortName:t.shortName,icon:t.icon,location:j.revive(t.location).with({scheme:e}),globalStorageHome:j.revive(t.globalStorageHome).with({scheme:e}),settingsResource:j.revive(t.settingsResource).with({scheme:e}),keybindingsResource:j.revive(t.keybindingsResource).with({scheme:e}),tasksResource:j.revive(t.tasksResource).with({scheme:e}),snippetsHome:j.revive(t.snippetsHome).with({scheme:e}),extensionsResource:j.revive(t.extensionsResource).with({scheme:e}),cacheHome:j.revive(t.cacheHome).with({scheme:e}),useDefaultFlags:t.useDefaultFlags,isTransient:t.isTransient}}ym(wK,"reviveProfile");function Jg(t,e,i,s,n,o){return{id:t,name:e,location:i,isDefault:!1,shortName:n?.shortName,icon:n?.icon,globalStorageHome:o&&n?.useDefaultFlags?.globalState?o.globalStorageHome:Tt(i,"globalStorage"),settingsResource:o&&n?.useDefaultFlags?.settings?o.settingsResource:Tt(i,"settings.json"),keybindingsResource:o&&n?.useDefaultFlags?.keybindings?o.keybindingsResource:Tt(i,"keybindings.json"),tasksResource:o&&n?.useDefaultFlags?.tasks?o.tasksResource:Tt(i,"tasks.json"),snippetsHome:o&&n?.useDefaultFlags?.snippets?o.snippetsHome:Tt(i,"snippets"),extensionsResource:o&&n?.useDefaultFlags?.extensions?o.extensionsResource:Tt(i,"extensions.json"),cacheHome:Tt(s,t),useDefaultFlags:n?.useDefaultFlags,isTransient:n?.transient}}ym(Jg,"toUserDataProfile");let u0=class extends q{constructor(t,e,i,s){super(),this.environmentService=t,this.fileService=e,this.uriIdentityService=i,this.logService=s,this.profilesHome=Tt(this.environmentService.userRoamingDataHome,"profiles"),this.profilesCacheHome=Tt(this.environmentService.cacheHome,"CachedProfilesData")}static{ym(this,"UserDataProfilesService")}static PROFILES_KEY="userDataProfiles";static PROFILE_ASSOCIATIONS_KEY="profileAssociations";_serviceBrand;enabled=!0;profilesHome;profilesCacheHome;get defaultProfile(){return this.profiles[0]}get profiles(){return[...this.profilesObject.profiles,...this.transientProfilesObject.profiles]}_onDidChangeProfiles=this._register(new I);onDidChangeProfiles=this._onDidChangeProfiles.event;_onWillCreateProfile=this._register(new I);onWillCreateProfile=this._onWillCreateProfile.event;_onWillRemoveProfile=this._register(new I);onWillRemoveProfile=this._onWillRemoveProfile.event;_onDidResetWorkspaces=this._register(new I);onDidResetWorkspaces=this._onDidResetWorkspaces.event;profileCreationPromises=new Map;transientProfilesObject={profiles:[],folders:new xs,workspaces:new xs,emptyWindows:new Map};init(){this._profilesObject=void 0}setEnablement(t){this.enabled!==t&&(this._profilesObject=void 0,this.enabled=t)}isEnabled(){return this.enabled}_profilesObject;get profilesObject(){if(!this._profilesObject){const t=this.createDefaultProfile(),e=[t];if(this.enabled)try{for(const n of this.getStoredProfiles()){if(!n.name||!Yi(n.name)||!n.location){this.logService.warn("Skipping the invalid stored profile",n.location||n.name);continue}e.push(Jg(Qu(n.location),n.name,n.location,this.profilesCacheHome,{shortName:n.shortName,icon:n.icon,useDefaultFlags:n.useDefaultFlags},t))}}catch(n){this.logService.error(n)}const i=new xs,s=new Map;if(e.length)try{const n=this.getStoredProfileAssociations();if(n.workspaces)for(const[o,r]of Object.entries(n.workspaces)){const a=j.parse(o),l=e.find(h=>h.id===r);l&&i.set(a,l)}if(n.emptyWindows)for(const[o,r]of Object.entries(n.emptyWindows)){const a=e.find(l=>l.id===r);a&&s.set(o,a)}}catch(n){this.logService.error(n)}this._profilesObject={profiles:e,workspaces:i,emptyWindows:s}}return this._profilesObject}createDefaultProfile(){const t=Jg("__default__profile__",c("defaultProfile","Default"),this.environmentService.userRoamingDataHome,this.profilesCacheHome);return{...t,extensionsResource:this.getDefaultProfileExtensionsLocation()??t.extensionsResource,isDefault:!0}}async createTransientProfile(t){const e="Temp",i=new RegExp(`${t1(e)}\\s(\\d+)`);let s=0;for(const o of this.profiles){const r=i.exec(o.name),a=r?Number.parseInt(r[1]):0;s=a>s?a:s}const n=`${e} ${s+1}`;return this.createProfile(Th(jv()).toString(16),n,{transient:!0},t)}async createNamedProfile(t,e,i){return this.createProfile(Th(jv()).toString(16),t,e,i)}async createProfile(t,e,i,s){if(!this.enabled)throw new Error("Profiles are disabled in the current environment.");const n=await this.doCreateProfile(t,e,i);return s&&await this.setProfileForWorkspace(s,n),n}async doCreateProfile(t,e,i){if(!Yi(e)||!e)throw new Error("Name of the profile is mandatory and must be of type `string`");let s=this.profileCreationPromises.get(e);return s||(s=(async()=>{try{if(this.profiles.find(a=>a.name===e||a.id===t))throw new Error(`Profile with ${e} name already exists`);const o=Jg(t,e,Tt(this.profilesHome,t),this.profilesCacheHome,i,this.defaultProfile);await this.fileService.createFolder(o.location);const r=[];return this._onWillCreateProfile.fire({profile:o,join(a){r.push(a)}}),await sc.settled(r),this.updateProfiles([o],[],[]),o}finally{this.profileCreationPromises.delete(e)}})(),this.profileCreationPromises.set(e,s)),s}async updateProfile(t,e){if(!this.enabled)throw new Error("Profiles are disabled in the current environment.");let i=this.profiles.find(s=>s.id===t.id);if(!i)throw new Error(`Profile '${t.name}' does not exist`);return i=Jg(i.id,e.name??i.name,i.location,this.profilesCacheHome,{shortName:e.shortName??i.shortName,icon:e.icon===null?void 0:e.icon??i.icon,transient:e.transient??i.isTransient,useDefaultFlags:e.useDefaultFlags??i.useDefaultFlags},this.defaultProfile),this.updateProfiles([],[],[i]),i}async removeProfile(t){if(!this.enabled)throw new Error("Profiles are disabled in the current environment.");if(t.isDefault)throw new Error("Cannot remove default profile");const e=this.profiles.find(s=>s.id===t.id);if(!e)throw new Error(`Profile '${t.name}' does not exist`);const i=[];this._onWillRemoveProfile.fire({profile:e,join(s){i.push(s)}});try{await Promise.allSettled(i)}catch(s){this.logService.error(s)}for(const s of[...this.profilesObject.emptyWindows.keys()])e.id===this.profilesObject.emptyWindows.get(s)?.id&&this.profilesObject.emptyWindows.delete(s);for(const s of[...this.profilesObject.workspaces.keys()])e.id===this.profilesObject.workspaces.get(s)?.id&&this.profilesObject.workspaces.delete(s);this.updateStoredProfileAssociations(),this.updateProfiles([],[e],[]);try{await this.fileService.del(e.cacheHome,{recursive:!0})}catch(s){Z4(s)!==pD.FILE_NOT_FOUND&&this.logService.error(s)}}async setProfileForWorkspace(t,e){if(!this.enabled)throw new Error("Profiles are disabled in the current environment.");const i=this.profiles.find(s=>s.id===e.id);if(!i)throw new Error(`Profile '${e.name}' does not exist`);this.updateWorkspaceAssociation(t,i)}unsetWorkspace(t,e){if(!this.enabled)throw new Error("Profiles are disabled in the current environment.");this.updateWorkspaceAssociation(t,void 0,e)}async resetWorkspaces(){this.transientProfilesObject.folders.clear(),this.transientProfilesObject.workspaces.clear(),this.transientProfilesObject.emptyWindows.clear(),this.profilesObject.workspaces.clear(),this.profilesObject.emptyWindows.clear(),this.updateStoredProfileAssociations(),this._onDidResetWorkspaces.fire()}async cleanUp(){if(this.enabled&&await this.fileService.exists(this.profilesHome)){const t=await this.fileService.resolve(this.profilesHome);await Promise.all((t.children||[]).filter(e=>e.isDirectory&&this.profiles.every(i=>!this.uriIdentityService.extUri.isEqual(i.location,e.resource))).map(e=>this.fileService.del(e.resource,{recursive:!0})))}}async cleanUpTransientProfiles(){if(!this.enabled)return;const t=this.transientProfilesObject.profiles.filter(e=>!this.isProfileAssociatedToWorkspace(e));await Promise.allSettled(t.map(e=>this.removeProfile(e)))}getProfileForWorkspace(t){const e=this.getWorkspace(t),i=j.isUri(e)?this.profilesObject.workspaces.get(e):this.profilesObject.emptyWindows.get(e);return i||(Sf(t)?this.transientProfilesObject.folders.get(t.uri):Cf(t)?this.transientProfilesObject.workspaces.get(t.configPath):this.transientProfilesObject.emptyWindows.get(t.id))}getWorkspace(t){return Sf(t)?t.uri:Cf(t)?t.configPath:t.id}isProfileAssociatedToWorkspace(t){return!!([...this.profilesObject.emptyWindows.values()].some(e=>this.uriIdentityService.extUri.isEqual(e.location,t.location))||[...this.profilesObject.workspaces.values()].some(e=>this.uriIdentityService.extUri.isEqual(e.location,t.location))||[...this.transientProfilesObject.emptyWindows.values()].some(e=>this.uriIdentityService.extUri.isEqual(e.location,t.location))||[...this.transientProfilesObject.workspaces.values()].some(e=>this.uriIdentityService.extUri.isEqual(e.location,t.location))||[...this.transientProfilesObject.folders.values()].some(e=>this.uriIdentityService.extUri.isEqual(e.location,t.location)))}updateProfiles(t,e,i){const s=[...this.profiles,...t],n=[],o=this.transientProfilesObject.profiles;this.transientProfilesObject.profiles=[];for(let r of s){if(r.isDefault||e.some(l=>r.id===l.id))continue;r=i.find(l=>r.id===l.id)??r;const a=o.find(l=>r.id===l.id);if(r.isTransient)this.transientProfilesObject.profiles.push(r);else{if(a){for(const[l,h]of this.transientProfilesObject.emptyWindows.entries())if(r.id===h.id){this.updateWorkspaceAssociation({id:l},r);break}for(const[l,h]of this.transientProfilesObject.workspaces.entries())if(r.id===h.id){this.updateWorkspaceAssociation({id:"",configPath:l},r);break}for(const[l,h]of this.transientProfilesObject.folders.entries())if(r.id===h.id){this.updateWorkspaceAssociation({id:"",uri:l},r);break}}n.push({location:r.location,name:r.name,shortName:r.shortName,icon:r.icon,useDefaultFlags:r.useDefaultFlags})}}this.saveStoredProfiles(n),this._profilesObject=void 0,this.triggerProfilesChanges(t,e,i)}triggerProfilesChanges(t,e,i){this._onDidChangeProfiles.fire({added:t,removed:e,updated:i,all:this.profiles})}updateWorkspaceAssociation(t,e,i){if(i=e?.isTransient?!0:i,i)Sf(t)?(this.transientProfilesObject.folders.delete(t.uri),e&&this.transientProfilesObject.folders.set(t.uri,e)):Cf(t)?(this.transientProfilesObject.workspaces.delete(t.configPath),e&&this.transientProfilesObject.workspaces.set(t.configPath,e)):(this.transientProfilesObject.emptyWindows.delete(t.id),e&&this.transientProfilesObject.emptyWindows.set(t.id,e));else{this.updateWorkspaceAssociation(t,void 0,!0);const s=this.getWorkspace(t);j.isUri(s)?(this.profilesObject.workspaces.delete(s),e&&this.profilesObject.workspaces.set(s,e)):(this.profilesObject.emptyWindows.delete(s),e&&this.profilesObject.emptyWindows.set(s,e)),this.updateStoredProfileAssociations()}}updateStoredProfileAssociations(){const t={};for(const[i,s]of this.profilesObject.workspaces.entries())t[i.toString()]=s.id;const e={};for(const[i,s]of this.profilesObject.emptyWindows.entries())e[i.toString()]=s.id;this.saveStoredProfileAssociations({workspaces:t,emptyWindows:e}),this._profilesObject=void 0}migrateStoredProfileAssociations(t){const e={},i=this.createDefaultProfile();if(t.workspaces)for(const[n,o]of Object.entries(t.workspaces)){const r=j.parse(o);e[n]=this.uriIdentityService.extUri.isEqual(r,i.location)?i.id:this.uriIdentityService.extUri.basename(r)}const s={};if(t.emptyWindows)for(const[n,o]of Object.entries(t.emptyWindows)){const r=j.parse(o);s[n]=this.uriIdentityService.extUri.isEqual(r,i.location)?i.id:this.uriIdentityService.extUri.basename(r)}return{workspaces:e,emptyWindows:s}}getStoredProfiles(){return[]}saveStoredProfiles(t){throw new Error("not implemented")}getStoredProfileAssociations(){return{}}saveStoredProfileAssociations(t){throw new Error("not implemented")}getDefaultProfileExtensionsLocation(){}};u0=vK([Jm(0,mm),Jm(1,nd),Jm(2,sK),Jm(3,od)],u0);class noe extends u0{static{ym(this,"InMemoryUserDataProfilesService")}storedProfiles=[];getStoredProfiles(){return this.storedProfiles}saveStoredProfiles(e){this.storedProfiles=e}storedProfileAssociations={};getStoredProfileAssociations(){return this.storedProfileAssociations}saveStoredProfileAssociations(e){this.storedProfileAssociations=e}}var yK=Object.defineProperty,ug=(t,e)=>yK(t,"name",{value:e,configurable:!0});const _K="__$__isNewStorageMarker",Zb="__$__targetStorageMarker",as=Ce("storageService");var oR=(t=>(t[t.NONE=0]="NONE",t[t.SHUTDOWN=1]="SHUTDOWN",t))(oR||{}),_e=(t=>(t[t.APPLICATION=-1]="APPLICATION",t[t.PROFILE=0]="PROFILE",t[t.WORKSPACE=1]="WORKSPACE",t))(_e||{}),Pt=(t=>(t[t.USER=0]="USER",t[t.MACHINE=1]="MACHINE",t))(Pt||{});function rR(t){const e=t.get(Zb);if(e)try{return JSON.parse(e)}catch{}return Object.create(null)}ug(rR,"loadKeyTargets");class mD extends q{constructor(e={flushInterval:mD.DEFAULT_FLUSH_INTERVAL}){super(),this.options=e}static{ug(this,"AbstractStorageService")}static DEFAULT_FLUSH_INTERVAL=60*1e3;_onDidChangeValue=this._register(new yv);_onDidChangeTarget=this._register(new yv);onDidChangeTarget=this._onDidChangeTarget.event;_onWillSaveState=this._register(new I);onWillSaveState=this._onWillSaveState.event;initializationPromise;flushWhenIdleScheduler=this._register(new Ls(()=>this.doFlushWhenIdle(),this.options.flushInterval));runFlushWhenIdle=this._register(new fr);onDidChangeValue(e,i,s){return R.filter(this._onDidChangeValue.event,n=>n.scope===e&&(i===void 0||n.key===i),s)}doFlushWhenIdle(){this.runFlushWhenIdle.value=kv(()=>{this.shouldFlushWhenIdle()&&this.flush(),this.flushWhenIdleScheduler.schedule()})}shouldFlushWhenIdle(){return!0}stopFlushWhenIdle(){ai([this.runFlushWhenIdle,this.flushWhenIdleScheduler])}initialize(){return this.initializationPromise||(this.initializationPromise=(async()=>{Mt("code/willInitStorage");try{await this.doInitialize()}finally{Mt("code/didInitStorage")}this.flushWhenIdleScheduler.schedule()})()),this.initializationPromise}emitDidChangeValue(e,i){const{key:s,external:n}=i;if(s===Zb){switch(e){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:e})}else this._onDidChangeValue.fire({scope:e,key:s,target:this.getKeyTargets(e)[s],external:n})}emitWillSaveState(e){this._onWillSaveState.fire({reason:e})}get(e,i,s){return this.getStorage(i)?.get(e,s)}getBoolean(e,i,s){return this.getStorage(i)?.getBoolean(e,s)}getNumber(e,i,s){return this.getStorage(i)?.getNumber(e,s)}getObject(e,i,s){return this.getStorage(i)?.getObject(e,s)}storeAll(e,i){this.withPausedEmitters(()=>{for(const s of e)this.store(s.key,s.value,s.scope,s.target,i)})}store(e,i,s,n,o=!1){if(ji(i)){this.remove(e,s,o);return}this.withPausedEmitters(()=>{this.updateKeyTarget(e,s,n),this.getStorage(s)?.set(e,i,o)})}remove(e,i,s=!1){this.withPausedEmitters(()=>{this.updateKeyTarget(e,i,void 0),this.getStorage(i)?.delete(e,s)})}withPausedEmitters(e){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{e()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}keys(e,i){const s=[],n=this.getKeyTargets(e);for(const o of Object.keys(n))n[o]===i&&s.push(o);return s}updateKeyTarget(e,i,s,n=!1){const o=this.getKeyTargets(i);typeof s=="number"?o[e]!==s&&(o[e]=s,this.getStorage(i)?.set(Zb,JSON.stringify(o),n)):typeof o[e]=="number"&&(delete o[e],this.getStorage(i)?.set(Zb,JSON.stringify(o),n))}_workspaceKeyTargets=void 0;get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}_profileKeyTargets=void 0;get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}_applicationKeyTargets=void 0;get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(e){switch(e){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(e){const i=this.getStorage(e);return i?rR(i):Object.create(null)}isNew(e){return this.getBoolean(_K,e)===!0}async flush(e=0){this._onWillSaveState.fire({reason:e});const i=this.getStorage(-1),s=this.getStorage(0),n=this.getStorage(1);switch(e){case 0:await sc.settled([i?.whenFlushed()??Promise.resolve(),s?.whenFlushed()??Promise.resolve(),n?.whenFlushed()??Promise.resolve()]);break;case 1:await sc.settled([i?.flush(0)??Promise.resolve(),s?.flush(0)??Promise.resolve(),n?.flush(0)??Promise.resolve()]);break}}async log(){const e=this.getStorage(-1)?.items??new Map,i=this.getStorage(0)?.items??new Map,s=this.getStorage(1)?.items??new Map;return aR(e,i,s,this.getLogDetails(-1)??"",this.getLogDetails(0)??"",this.getLogDetails(1)??"")}async optimize(e){return await this.flush(),this.getStorage(e)?.optimize()}async switch(e,i){return this.emitWillSaveState(0),nR(e)?this.switchToProfile(e,i):this.switchToWorkspace(e,i)}canSwitchProfile(e,i){return!(e.id===i.id||g0(i)&&g0(e))}switchData(e,i,s){this.withPausedEmitters(()=>{const n=new Set;for(const[o,r]of e)n.add(o),i.get(o)!==r&&this.emitDidChangeValue(s,{key:o,external:!0});for(const[o]of i.items)n.has(o)||this.emitDidChangeValue(s,{key:o,external:!0})})}}function g0(t){return t.isDefault||!!t.useDefaultFlags?.globalState}ug(g0,"isProfileUsingDefaultStorage");class SK extends mD{static{ug(this,"InMemoryStorageService")}applicationStorage=this._register(new _f(new Uy,{hint:qb.STORAGE_IN_MEMORY}));profileStorage=this._register(new _f(new Uy,{hint:qb.STORAGE_IN_MEMORY}));workspaceStorage=this._register(new _f(new Uy,{hint:qb.STORAGE_IN_MEMORY}));constructor(){super(),this._register(this.workspaceStorage.onDidChangeStorage(e=>this.emitDidChangeValue(1,e))),this._register(this.profileStorage.onDidChangeStorage(e=>this.emitDidChangeValue(0,e))),this._register(this.applicationStorage.onDidChangeStorage(e=>this.emitDidChangeValue(-1,e)))}getStorage(e){switch(e){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}getLogDetails(e){switch(e){case-1:return"inMemory (application)";case 0:return"inMemory (profile)";default:return"inMemory (workspace)"}}async doInitialize(){}async switchToProfile(){}async switchToWorkspace(){}shouldFlushWhenIdle(){return!1}hasScope(e){return!1}}async function aR(t,e,i,s,n,o){const r=ug(b=>{try{return JSON.parse(b)}catch{return b}},"safeParse"),a=new Map,l=new Map;t.forEach((b,C)=>{a.set(C,b),l.set(C,r(b))});const h=new Map,d=new Map;e.forEach((b,C)=>{h.set(C,b),d.set(C,r(b))});const u=new Map,g=new Map;i.forEach((b,C)=>{u.set(C,b),g.set(C,r(b))}),console.group(s!==n?`Storage: Application (path: ${s})`:`Storage: Application & Profile (path: ${s}, default profile)`);const p=[];if(a.forEach((b,C)=>{p.push({key:C,value:b})}),console.table(p),console.groupEnd(),console.log(l),s!==n){console.group(`Storage: Profile (path: ${n}, profile specific)`);const b=[];h.forEach((C,x)=>{b.push({key:x,value:C})}),console.table(b),console.groupEnd(),console.log(d)}console.group(`Storage: Workspace (path: ${o})`);const m=[];u.forEach((b,C)=>{m.push({key:C,value:b})}),console.table(m),console.groupEnd(),console.log(g)}ug(aR,"logStorage");const CK=Ce("editorPaneService");var DK=Object.defineProperty,lR=(t,e)=>DK(t,"name",{value:e,configurable:!0});const Xr=Ce("lifecycleService");var f0=(t=>(t[t.CLOSE=1]="CLOSE",t[t.QUIT=2]="QUIT",t[t.RELOAD=3]="RELOAD",t[t.LOAD=4]="LOAD",t))(f0||{}),p0=(t=>(t[t.NewWindow=1]="NewWindow",t[t.ReloadedWindow=3]="ReloadedWindow",t[t.ReopenedWindow=4]="ReopenedWindow",t))(p0||{});function AK(t){switch(t){case 1:return"NewWindow";case 3:return"ReloadedWindow";case 4:return"ReopenedWindow"}}lR(AK,"StartupKindToString");var Xt=(t=>(t[t.Starting=1]="Starting",t[t.Ready=2]="Ready",t[t.Restored=3]="Restored",t[t.Eventually=4]="Eventually",t))(Xt||{});function EK(t){switch(t){case 1:return"Starting";case 2:return"Ready";case 3:return"Restored";case 4:return"Eventually"}}lR(EK,"LifecyclePhaseToString");var IK=Object.defineProperty,ap=(t,e)=>IK(t,"name",{value:e,configurable:!0}),lp;(t=>{t.Workbench="workbench.contributions.kind"})(lp||(lp={}));var nh=(t=>(t[t.BlockStartup=Xt.Starting]="BlockStartup",t[t.BlockRestore=Xt.Ready]="BlockRestore",t[t.AfterRestored=Xt.Restored]="AfterRestored",t[t.Eventually=Xt.Eventually]="Eventually",t))(nh||{});function m0(t){const e=t;return!!e&&typeof e.editorTypeId=="string"}ap(m0,"isOnEditorWorkbenchContributionInstantiation");function cR(t){switch(t){case Xt.Restored:return nh.AfterRestored;case Xt.Eventually:return nh.Eventually}}ap(cR,"toWorkbenchPhase");function b0(t){switch(t){case nh.BlockStartup:return Xt.Starting;case nh.BlockRestore:return Xt.Ready;case nh.AfterRestored:return Xt.Restored;case nh.Eventually:return Xt.Eventually}}ap(b0,"toLifecyclePhase");class $a extends q{static{ap(this,"WorkbenchContributionsRegistry")}static INSTANCE=new $a;static BLOCK_BEFORE_RESTORE_WARN_THRESHOLD=20;static BLOCK_AFTER_RESTORE_WARN_THRESHOLD=100;instantiationService;lifecycleService;logService;environmentService;editorPaneService;contributionsByPhase=new Map;contributionsByEditor=new Map;contributionsById=new Map;instancesById=new Map;instanceDisposables=this._register(new Z);timingsByPhase=new Map;get timings(){return this.timingsByPhase}pendingRestoredContributions=new ic;whenRestored=this.pendingRestoredContributions.p;registerWorkbenchContribution2(e,i,s){const n={id:e,ctor:i};this.instantiationService&&this.lifecycleService&&this.logService&&this.environmentService&&this.editorPaneService&&(typeof s=="number"&&this.lifecycleService.phase>=s||typeof e=="string"&&m0(s)&&this.editorPaneService.didInstantiateEditorPane(s.editorTypeId))?this.safeCreateContribution(this.instantiationService,this.logService,this.environmentService,n,typeof s=="number"?b0(s):this.lifecycleService.phase):(typeof s=="number"&&vv(this.contributionsByPhase,b0(s),[]).push(n),typeof e=="string"&&(this.contributionsById.has(e)?console.error(`IWorkbenchContributionsRegistry#registerWorkbenchContribution(): Can't register multiple contributions with same id '${e}'`):this.contributionsById.set(e,n),m0(s)&&vv(this.contributionsByEditor,s.editorTypeId,[]).push(n)))}registerWorkbenchContribution(e,i){this.registerWorkbenchContribution2(void 0,e,cR(i))}getWorkbenchContribution(e){if(this.instancesById.has(e))return this.instancesById.get(e);const i=this.instantiationService,s=this.lifecycleService,n=this.logService,o=this.environmentService;if(!i||!s||!n||!o)throw new Error(`IWorkbenchContributionsRegistry#getContribution('${e}'): cannot be called before registry started`);const r=this.contributionsById.get(e);if(!r)throw new Error(`IWorkbenchContributionsRegistry#getContribution('${e}'): contribution with that identifier is unknown.`);s.phase<Xt.Restored&&n.warn(`IWorkbenchContributionsRegistry#getContribution('${e}'): contribution instantiated before LifecyclePhase.Restored!`),this.safeCreateContribution(i,n,o,r,s.phase);const a=this.instancesById.get(e);if(!a)throw new Error(`IWorkbenchContributionsRegistry#getContribution('${e}'): failed to create contribution.`);return a}start(e){const i=this.instantiationService=e.get(rt),s=this.lifecycleService=e.get(Xr),n=this.logService=e.get(od),o=this.environmentService=e.get(mm),r=this.editorPaneService=e.get(CK);this._register(s.onDidShutdown(()=>{this.instanceDisposables.clear()}));for(const a of[Xt.Starting,Xt.Ready,Xt.Restored,Xt.Eventually])this.instantiateByPhase(i,s,n,o,a);for(const a of this.contributionsByEditor.keys())r.didInstantiateEditorPane(a)&&this.onEditor(a,i,s,n,o);this._register(r.onWillInstantiateEditorPane(a=>this.onEditor(a.typeId,i,s,n,o)))}onEditor(e,i,s,n,o){const r=this.contributionsByEditor.get(e);if(r){this.contributionsByEditor.delete(e);for(const a of r)this.safeCreateContribution(i,n,o,a,s.phase)}}instantiateByPhase(e,i,s,n,o){i.phase>=o?this.doInstantiateByPhase(e,s,n,o):i.when(o).then(()=>this.doInstantiateByPhase(e,s,n,o))}async doInstantiateByPhase(e,i,s,n){const o=this.contributionsByPhase.get(n);if(o)switch(this.contributionsByPhase.delete(n),n){case Xt.Starting:case Xt.Ready:{Mt(`code/willCreateWorkbenchContributions/${n}`);for(const r of o)this.safeCreateContribution(e,i,s,r,n);Mt(`code/didCreateWorkbenchContributions/${n}`);break}case Xt.Restored:case Xt.Eventually:{n===Xt.Eventually&&await this.pendingRestoredContributions.p,this.doInstantiateWhenIdle(o,e,i,s,n);break}}}doInstantiateWhenIdle(e,i,s,n,o){Mt(`code/willCreateWorkbenchContributions/${o}`);let r=0;const a=o===Xt.Eventually?3e3:500,l=ap(h=>{for(;r<e.length;){const d=e[r++];if(this.safeCreateContribution(i,s,n,d,o),h.timeRemaining()<1){kv(l,a);break}}r===e.length&&(Mt(`code/didCreateWorkbenchContributions/${o}`),o===Xt.Restored&&this.pendingRestoredContributions.complete())},"instantiateSome");kv(l,a)}safeCreateContribution(e,i,s,n,o){if(typeof n.id=="string"&&this.instancesById.has(n.id))return;const r=Date.now();try{typeof n.id=="string"&&Mt(`code/willCreateWorkbenchContribution/${o}/${n.id}`);const a=e.createInstance(n.ctor);typeof n.id=="string"&&(this.instancesById.set(n.id,a),this.contributionsById.delete(n.id)),zp(a)&&this.instanceDisposables.add(a)}catch(a){i.error(`Unable to create workbench contribution '${n.id??n.ctor.name}'.`,a)}finally{typeof n.id=="string"&&Mt(`code/didCreateWorkbenchContribution/${o}/${n.id}`)}if(typeof n.id=="string"||!s.isBuilt){const a=Date.now()-r;if(a>(o<Xt.Restored?$a.BLOCK_BEFORE_RESTORE_WARN_THRESHOLD:$a.BLOCK_AFTER_RESTORE_WARN_THRESHOLD)&&i.warn(`Creation of workbench contribution '${n.id??n.ctor.name}' took ${a}ms.`),typeof n.id=="string"){let l=this.timingsByPhase.get(o);l||(l=[],this.timingsByPhase.set(o,l)),l.push([n.id,a])}}}}$a.INSTANCE.registerWorkbenchContribution2.bind($a.INSTANCE);$a.INSTANCE.getWorkbenchContribution.bind($a.INSTANCE);ui.add(lp.Workbench,$a.INSTANCE);var TK=Object.defineProperty,rd=(t,e)=>TK(t,"name",{value:e,configurable:!0});class Et extends q{static{rd(this,"Action")}_onDidChange=this._register(new I);onDidChange=this._onDidChange.event;_id;_label;_tooltip;_cssClass;_enabled=!0;_checked;_actionCallback;constructor(e,i="",s="",n=!0,o){super(),this._id=e,this._label=i,this._cssClass=s,this._enabled=n,this._actionCallback=o}get id(){return this._id}get label(){return this._label}set label(e){this._setLabel(e)}_setLabel(e){this._label!==e&&(this._label=e,this._onDidChange.fire({label:e}))}get tooltip(){return this._tooltip||""}set tooltip(e){this._setTooltip(e)}_setTooltip(e){this._tooltip!==e&&(this._tooltip=e,this._onDidChange.fire({tooltip:e}))}get class(){return this._cssClass}set class(e){this._setClass(e)}_setClass(e){this._cssClass!==e&&(this._cssClass=e,this._onDidChange.fire({class:e}))}get enabled(){return this._enabled}set enabled(e){this._setEnabled(e)}_setEnabled(e){this._enabled!==e&&(this._enabled=e,this._onDidChange.fire({enabled:e}))}get checked(){return this._checked}set checked(e){this._setChecked(e)}_setChecked(e){this._checked!==e&&(this._checked=e,this._onDidChange.fire({checked:e}))}async run(e,i){this._actionCallback&&await this._actionCallback(e)}}class Zr extends q{static{rd(this,"ActionRunner")}_onWillRun=this._register(new I);onWillRun=this._onWillRun.event;_onDidRun=this._register(new I);onDidRun=this._onDidRun.event;async run(e,i){if(!e.enabled)return;this._onWillRun.fire({action:e});let s;try{await this.runAction(e,i)}catch(n){s=n}this._onDidRun.fire({action:e,error:s})}async runAction(e,i){await e.run(i)}}class st{static{rd(this,"Separator")}static join(...e){let i=[];for(const s of e)s.length&&(i.length?i=[...i,new st,...s]:i=s);return i}static ID="vs.actions.separator";id=st.ID;label="";tooltip="";class="separator";enabled=!1;checked=!1;async run(){}}class ro{static{rd(this,"SubmenuAction")}id;label;class;tooltip="";enabled=!0;checked=void 0;_actions;get actions(){return this._actions}constructor(e,i,s,n){this.id=e,this.label=i,this.class=n,this._actions=s}async run(){}}class bD extends Et{static{rd(this,"EmptySubmenuAction")}static ID="vs.actions.empty";constructor(){super(bD.ID,c("submenu.empty","(empty)"),void 0,!1)}}function li(t){return{id:t.id,label:t.label,tooltip:t.tooltip??t.label,class:t.class,enabled:t.enabled??!0,checked:t.checked,run:rd(async(...e)=>t.run(...e),"run")}}rd(li,"toAction");var kK=Object.defineProperty,ci=(t,e)=>kK(t,"name",{value:e,configurable:!0});const vD={EditorPane:"workbench.contributions.editors",EditorFactory:"workbench.contributions.editor.inputFactories"},hR={id:"default",displayName:c("promptOpenWith.defaultEditor.displayName","Text Editor"),providerDisplayName:c("builtinProviderDisplayName","Built-in")},xK="workbench.editors.textDiffEditor",LK="workbench.editors.binaryResourceDiffEditor";function PK(t){const e=t;return!!e&&typeof e.getSelection=="function"&&!!e.onDidChangeSelection}ci(PK,"isEditorPaneWithSelection");function RK(t){const e=t;return!!e&&typeof e.getScrollPosition=="function"&&typeof e.setScrollPosition=="function"&&!!e.onDidChangeScroll}ci(RK,"isEditorPaneWithScrolling");function Qb(t,e,i){for(const s of i.visibleEditorPanes)if(s.group.id===e&&t.matches(s.input))return s.getViewState()}ci(Qb,"findViewStateForEditor");function Md(t){if(Os(t))return!1;const e=t;return j.isUri(e?.resource)}ci(Md,"isResourceEditorInput");function tr(t){if(Os(t))return!1;const e=t;return e?.original!==void 0&&e.modified!==void 0}ci(tr,"isResourceDiffEditorInput");function tu(t){if(Os(t))return!1;const e=t;return!e||e.resources&&!Array.isArray(e.resources)?!1:!!e.resources||!!e.multiDiffSource}ci(tu,"isResourceMultiDiffEditorInput");function Ra(t){if(Os(t)||tr(t))return!1;const e=t;return e?.primary!==void 0&&e.secondary!==void 0}ci(Ra,"isResourceSideBySideEditorInput");function NK(t){if(Os(t))return!1;const e=t;return e?e.resource===void 0||e.resource.scheme===Ue.untitled||e.forceUntitled===!0:!1}ci(NK,"isUntitledResourceEditorInput");function Na(t){if(Os(t))return!1;const e=t;return j.isUri(e?.base?.resource)&&j.isUri(e?.input1?.resource)&&j.isUri(e?.input2?.resource)&&j.isUri(e?.result?.resource)}ci(Na,"isResourceMergeEditorInput");var $i=(t=>(t[t.SHORT=0]="SHORT",t[t.MEDIUM=1]="MEDIUM",t[t.LONG=2]="LONG",t))($i||{});class ooe{static{ci(this,"SaveSourceFactory")}mapIdToSaveSource=new Map;registerSource(e,i){let s=this.mapIdToSaveSource.get(e);return s||(s={source:e,label:i},this.mapIdToSaveSource.set(e,s)),s.source}getSourceLabel(e){return this.mapIdToSaveSource.get(e)?.label??e}}var $n=(t=>(t[t.None=0]="None",t[t.Readonly=2]="Readonly",t[t.Untitled=4]="Untitled",t[t.Singleton=8]="Singleton",t[t.RequiresTrust=16]="RequiresTrust",t[t.CanSplitInGroup=32]="CanSplitInGroup",t[t.ForceDescription=64]="ForceDescription",t[t.CanDropIntoEditor=128]="CanDropIntoEditor",t[t.MultipleEditors=256]="MultipleEditors",t[t.Scratchpad=512]="Scratchpad",t))($n||{});class dR extends q{static{ci(this,"AbstractEditorInput")}}function Os(t){return t instanceof dR}ci(Os,"isEditorInput");function uR(t){const e=t;return j.isUri(e?.preferredResource)}ci(uR,"isEditorInputWithPreferredResource");function gR(t){const e=t;return Os(e?.primary)&&Os(e?.secondary)}ci(gR,"isSideBySideEditorInput");function wD(t){const e=t;return Os(e?.modified)&&Os(e?.original)}ci(wD,"isDiffEditorInput");function OK(t,e,i,s,n){return mR(s,[li({id:"workbench.action.openLargeFile",label:c("openLargeFile","Open Anyway"),run:ci(()=>{const o={...i,limits:{size:Number.MAX_VALUE}};t.openEditor(e,o)},"run")}),li({id:"workbench.action.configureEditorLargeFileConfirmation",label:c("configureEditorLargeFileConfirmation","Configure Limit"),run:ci(()=>n.openUserSettings({query:"workbench.editorLargeFileConfirmation"}),"run")})],{forceMessage:!0,forceSeverity:za.Warning})}ci(OK,"createTooLargeFileError");function fR(t){return Os(t?.editor)}ci(fR,"isEditorInputWithOptions");function BK(t){const e=t;return fR(t)&&e?.group!==void 0}ci(BK,"isEditorInputWithOptionsAndGroup");function v0(t){const e=t;return typeof e?.groupId=="number"&&Os(e.editor)}ci(v0,"isEditorIdentifier");function MK(t){return typeof t?.groupId=="number"}ci(MK,"isEditorCommandsContext");var w0=(t=>(t[t.GROUP_ACTIVE=0]="GROUP_ACTIVE",t[t.GROUP_INDEX=1]="GROUP_INDEX",t[t.GROUP_LABEL=2]="GROUP_LABEL",t[t.GROUP_LOCKED=3]="GROUP_LOCKED",t[t.EDITORS_SELECTION=4]="EDITORS_SELECTION",t[t.EDITOR_OPEN=5]="EDITOR_OPEN",t[t.EDITOR_CLOSE=6]="EDITOR_CLOSE",t[t.EDITOR_MOVE=7]="EDITOR_MOVE",t[t.EDITOR_ACTIVE=8]="EDITOR_ACTIVE",t[t.EDITOR_LABEL=9]="EDITOR_LABEL",t[t.EDITOR_CAPABILITIES=10]="EDITOR_CAPABILITIES",t[t.EDITOR_PIN=11]="EDITOR_PIN",t[t.EDITOR_TRANSIENT=12]="EDITOR_TRANSIENT",t[t.EDITOR_STICKY=13]="EDITOR_STICKY",t[t.EDITOR_DIRTY=14]="EDITOR_DIRTY",t[t.EDITOR_WILL_DISPOSE=15]="EDITOR_WILL_DISPOSE",t))(w0||{});class FK{static{ci(this,"EditorResourceAccessorImpl")}getOriginalUri(e,i){if(!e)return;if(Na(e))return Xv.getOriginalUri(e.result,i);if(i?.supportSideBySide){const{primary:n,secondary:o}=this.getSideEditors(e);if(n&&o){if(i?.supportSideBySide===3)return{primary:this.getOriginalUri(n,{filterByScheme:i.filterByScheme}),secondary:this.getOriginalUri(o,{filterByScheme:i.filterByScheme})};if(i?.supportSideBySide===4)return this.getOriginalUri(n,{filterByScheme:i.filterByScheme})??this.getOriginalUri(o,{filterByScheme:i.filterByScheme});e=i.supportSideBySide===1?n:o}}if(tr(e)||tu(e)||Ra(e)||Na(e))return;const s=uR(e)?e.preferredResource:e.resource;return!s||!i||!i.filterByScheme?s:this.filterUri(s,i.filterByScheme)}getSideEditors(e){return gR(e)||Ra(e)?{primary:e.primary,secondary:e.secondary}:wD(e)||tr(e)?{primary:e.modified,secondary:e.original}:{primary:void 0,secondary:void 0}}getCanonicalUri(e,i){if(!e)return;if(Na(e))return Xv.getCanonicalUri(e.result,i);if(i?.supportSideBySide){const{primary:n,secondary:o}=this.getSideEditors(e);if(n&&o){if(i?.supportSideBySide===3)return{primary:this.getCanonicalUri(n,{filterByScheme:i.filterByScheme}),secondary:this.getCanonicalUri(o,{filterByScheme:i.filterByScheme})};if(i?.supportSideBySide===4)return this.getCanonicalUri(n,{filterByScheme:i.filterByScheme})??this.getCanonicalUri(o,{filterByScheme:i.filterByScheme});e=i.supportSideBySide===1?n:o}}if(tr(e)||tu(e)||Ra(e)||Na(e))return;const s=e.resource;return!s||!i||!i.filterByScheme?s:this.filterUri(s,i.filterByScheme)}filterUri(e,i){if(Array.isArray(i)){if(i.some(s=>e.scheme===s))return e}else if(i===e.scheme)return e}}function VK(t,e,i,s){if(!t.isSticky(e))return!1;switch(s.preventPinnedEditorClose){case"keyboardAndMouse":return i===2||i===1;case"mouse":return i===2;case"keyboard":return i===1}return!1}ci(VK,"preventEditorClose");const Xv=new FK;class HK{static{ci(this,"EditorFactoryRegistry")}instantiationService;fileEditorFactory;editorSerializerConstructors=new Map;editorSerializerInstances=new Map;start(e){const i=this.instantiationService=e.get(rt);for(const[s,n]of this.editorSerializerConstructors)this.createEditorSerializer(s,n,i);this.editorSerializerConstructors.clear()}createEditorSerializer(e,i,s){const n=s.createInstance(i);this.editorSerializerInstances.set(e,n)}registerFileEditorFactory(e){if(this.fileEditorFactory)throw new Error("Can only register one file editor factory.");this.fileEditorFactory=e}getFileEditorFactory(){return di(this.fileEditorFactory)}registerEditorSerializer(e,i){if(this.editorSerializerConstructors.has(e)||this.editorSerializerInstances.has(e))throw new Error(`A editor serializer with type ID '${e}' was already registered.`);return this.instantiationService?this.createEditorSerializer(e,i,this.instantiationService):this.editorSerializerConstructors.set(e,i),Se(()=>{this.editorSerializerConstructors.delete(e),this.editorSerializerInstances.delete(e)})}getEditorSerializer(e){return this.editorSerializerInstances.get(typeof e=="string"?e:e.typeId)}}ui.add(vD.EditorFactory,new HK);async function Jb(t,e,i){return!t||!t.length?[]:await Promise.all(t.map(async s=>{const n=j.revive(s.fileUri);if(!n){i.info("Cannot resolve the path because it is not valid.",s);return}if(!await e.canHandleResource(n)){i.info("Cannot resolve the path because it cannot be handled",s);return}let r=s.exists,a=s.type;if(typeof r!="boolean"||typeof a!="number")try{a=(await e.stat(n)).isDirectory?$l.Directory:$l.Unknown,r=!0}catch(h){i.error(h),r=!1}if(!r&&s.openOnlyIfExists){i.info("Cannot resolve the path because it does not exist",s);return}if(a===$l.Directory){i.info("Cannot resolve the path because it is a directory",s);return}const l={...s.options,pinned:!0};return r?{resource:n,options:l}:{resource:n,options:l,forceUntitled:!0}}))}ci(Jb,"pathsToEditors");function pR(t){const e=t;if(!e)return!1;const i=e;if(i.modified)return pR(i.modified);const s=e;return!!(s.contributionsState&&s.viewState&&Array.isArray(s.cursorState))}ci(pR,"isTextEditorViewState");function WK(t){return GC(t)}ci(WK,"isEditorOpenError");function mR(t,e,i){const s=pP(t,e);return s.forceMessage=i?.forceMessage,s.forceSeverity=i?.forceSeverity,s.allowDialog=i?.allowDialog,s}ci(mR,"createEditorOpenError");const ho=Ce("hostService"),UK=Ce("layoutService");var zK=Object.defineProperty,mr=(t,e)=>zK(t,"name",{value:e,configurable:!0});const qI={WIDTH:400,WIDTH_WITH_VERTICAL_PANEL:600,HEIGHT:270};function $K(t){return typeof t.parentId=="number"}mr($K,"isOpenedAuxiliaryWindow");function KK(t){return!!t.workspaceUri}mr(KK,"isWorkspaceToOpen");function GK(t){return!!t.folderUri}mr(GK,"isFolderToOpen");function jK(t){return!!t.fileUri}mr(jK,"isFileToOpen");function Ka(t){const e=ec(t),i=t.getValue("window.menuBarVisibility");return i==="default"||e&&i==="compact"||He&&dn?"classic":i}mr(Ka,"getMenuBarVisibility");var Wh=(t=>(t.TITLE_BAR_STYLE="window.titleBarStyle",t.CUSTOM_TITLE_BAR_VISIBILITY="window.customTitleBarVisibility",t))(Wh||{}),bR=(t=>(t.NATIVE="native",t.CUSTOM="custom",t))(bR||{}),cp=(t=>(t.AUTO="auto",t.WINDOWED="windowed",t.NEVER="never",t))(cp||{});function vR(t,e){return!0}mr(vR,"hasCustomTitlebar");function ec(t,e){return e||(e=yD(t)),e==="native"}mr(ec,"hasNativeTitlebar");function yD(t){if(Qt)return"custom";const e=t.getValue("window");if(e){if(He&&e.nativeTabs===!0||He&&e.nativeFullScreen===!1)return"native";const n=e.titleBarStyle;if(n==="native"||n==="custom")return n}return Ni?"native":"custom"}mr(yD,"getTitleBarStyle");function wR(t){if(He||Qt||ec(t))return!1;if(Ni){const e=t.getValue("window.experimentalControlOverlay");if(typeof e=="boolean")return e}return!0}mr(wR,"useWindowControlsOverlay");function qK(t){const e=t.getValue("window");return!e||typeof e.nativeFullScreen!="boolean"||e.nativeTabs?!0:e.nativeFullScreen!==!1}mr(qK,"useNativeFullScreen");function YK(t=0){return Math.pow(1.2,t)}mr(YK,"zoomLevelToZoomFactor");var XK=Object.defineProperty,ad=(t,e)=>XK(t,"name",{value:e,configurable:!0});const lt=UK;var P=(t=>(t.TITLEBAR_PART="workbench.parts.titlebar",t.BANNER_PART="workbench.parts.banner",t.ACTIVITYBAR_PART="workbench.parts.activitybar",t.SIDEBAR_PART="workbench.parts.sidebar",t.PANEL_PART="workbench.parts.panel",t.AUXILIARYBAR_PART="workbench.parts.auxiliarybar",t.EDITOR_PART="workbench.parts.editor",t.STATUSBAR_PART="workbench.parts.statusbar",t))(P||{}),xi=(t=>(t.SHOW_TABS="zenMode.showTabs",t.HIDE_LINENUMBERS="zenMode.hideLineNumbers",t.HIDE_STATUSBAR="zenMode.hideStatusBar",t.HIDE_ACTIVITYBAR="zenMode.hideActivityBar",t.CENTER_LAYOUT="zenMode.centerLayout",t.FULLSCREEN="zenMode.fullScreen",t.RESTORE="zenMode.restore",t.SILENT_NOTIFICATIONS="zenMode.silentNotifications",t))(xi||{}),We=(t=>(t.ACTIVITY_BAR_LOCATION="workbench.activityBar.location",t.EDITOR_TABS_MODE="workbench.editor.showTabs",t.EDITOR_ACTIONS_LOCATION="workbench.editor.editorActionsLocation",t.COMMAND_CENTER="window.commandCenter",t.LAYOUT_ACTIONS="workbench.layoutControl.enabled",t))(We||{}),pt=(t=>(t.DEFAULT="default",t.TOP="top",t.BOTTOM="bottom",t.HIDDEN="hidden",t))(pt||{}),fn=(t=>(t.MULTIPLE="multiple",t.SINGLE="single",t.NONE="none",t))(fn||{}),Qr=(t=>(t.DEFAULT="default",t.TITLEBAR="titleBar",t.HIDDEN="hidden",t))(Qr||{}),Je=(t=>(t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT",t[t.BOTTOM=2]="BOTTOM",t[t.TOP=3]="TOP",t))(Je||{});function es(t){return t===2||t===3}ad(es,"isHorizontal");var y0=(t=>(t[t.ALWAYS=0]="ALWAYS",t[t.NEVER=1]="NEVER",t[t.REMEMBER_LAST=2]="REMEMBER_LAST",t))(y0||{});function In(t){switch(t){case 0:return"left";case 1:return"right";case 2:return"bottom";case 3:return"top";default:return"bottom"}}ad(In,"positionToString");const ZK={[In(0)]:0,[In(1)]:1,[In(2)]:2,[In(3)]:3};function Df(t){return ZK[t]}ad(Df,"positionFromString");function ev(t){switch(t){case 0:return"always";case 1:return"never";case 2:return"preserve";default:return"preserve"}}ad(ev,"panelOpensMaximizedSettingToString");const QK={[ev(0)]:0,[ev(1)]:1,[ev(2)]:2};function yR(t){return QK[t]}ad(yR,"panelOpensMaximizedFromString");function wl(t,e,i,s){if(s)return!t.getValue("zenMode.fullScreen");const n=Dh(e),o=ec(t);if(!Qt){const a=t.getValue(Wh.CUSTOM_TITLE_BAR_VISIBILITY);if(a===cp.NEVER&&o||a===cp.WINDOWED&&n)return!1}if(!_R(t))return!0;if(o)return!1;if(He&&dn)return!n;if(dn&&!n||ZS()&&!n)return!0;switch(qS(e)?"hidden":Ka(t)){case"classic":return!n||!!i;case"compact":case"hidden":return!1;case"toggle":return!!i;case"visible":return!0;default:return Qt?!1:!n||!!i}}ad(wl,"shouldShowCustomTitleBar");function _R(t){if(t.getValue("window.commandCenter"))return!1;const e=t.getValue("workbench.activityBar.location");if(e==="top"||e==="bottom")return!1;const i=t.getValue("workbench.editor.editorActionsLocation"),s=t.getValue("workbench.editor.showTabs");return!(i==="titleBar"||i==="default"&&s==="none"||t.getValue("workbench.layoutControl.enabled"))}ad(_R,"isTitleBarEmpty");const JK=new J("isMac",He,c("isMac","Whether the operating system is macOS")),eG=new J("isLinux",Ni,c("isLinux","Whether the operating system is Linux")),tG=new J("isWindows",Lt,c("isWindows","Whether the operating system is Windows")),_D=new J("isWeb",Qt,c("isWeb","Whether the platform is a web browser")),Ru=new J("isMacNative",He&&!Qt,c("isMacNative","Whether the operating system is macOS on a non-browser platform")),SR=new J("isIOS",No,c("isIOS","Whether the operating system is iOS")),iG=new J("isMobile",n6,c("isMobile","Whether the platform is a mobile web browser")),_0=new J("isDevelopment",!1,!0),sG=new J("productQualityType","",c("productQualityType","Quality type of VS Code")),CR="inputFocus",nG=new J(CR,!1,c("inputFocus","Whether keyboard focus is inside an input box"));var oG=Object.defineProperty,eb=(t,e)=>oG(t,"name",{value:e,configurable:!0}),Zo;(t=>{function e(o){return typeof o?.showDirectoryPicker=="function"}t.supported=e,eb(e,"supported");function i(o){const r=o;return r?typeof r.kind=="string"&&typeof r.queryPermission=="function"&&typeof r.requestPermission=="function":!1}t.isFileSystemHandle=i,eb(i,"isFileSystemHandle");function s(o){return o.kind==="file"}t.isFileSystemFileHandle=s,eb(s,"isFileSystemFileHandle");function n(o){return o.kind==="directory"}t.isFileSystemDirectoryHandle=n,eb(n,"isFileSystemDirectoryHandle")})(Zo||(Zo={}));const _m=Ce("productService");var rG=Object.defineProperty,Sm=(t,e)=>rG(t,"name",{value:e,configurable:!0});function DR(t){return t.scheme===Ue.vscodeRemote?t.authority:void 0}Sm(DR,"getRemoteAuthority");function M1(t){if(!t)return;const e=t.indexOf("+");return e<0?t:t.substr(0,e)}Sm(M1,"getRemoteName");function aG(t){const{host:e,port:i}=SD(t);if(typeof i>"u")throw new Error(`Invalid remote authority: ${t}. It must either be a remote of form <remoteName>+<arg> or a remote host of form <host>:<port>.`);return{host:e,port:i}}Sm(aG,"parseAuthorityWithPort");function lG(t,e){let{host:i,port:s}=SD(t);return typeof s>"u"&&(s=e),{host:i,port:s}}Sm(lG,"parseAuthorityWithOptionalPort");function SD(t){const e=t.match(/^(\[[0-9a-z:]+\]):(\d+)$/);if(e)return{host:e[1],port:Number.parseInt(e[2],10)};const i=t.match(/^(\[[0-9a-z:]+\])$/);if(i)return{host:i[1],port:void 0};const s=t.match(/(.*):(\d+)$/);return s?{host:s[1],port:Number.parseInt(s[2],10)}:{host:t,port:void 0}}Sm(SD,"parseAuthority");var cG=Object.defineProperty,Cm=(t,e)=>cG(t,"name",{value:e,configurable:!0});function S0(t){return t.scheme!==Ue.file&&t.scheme!==Ue.vscodeRemote}Cm(S0,"isVirtualResource");function F1(t){if(t.folders.length)return t.folders.every(e=>S0(e.uri))?t.folders[0].uri:void 0;if(t.configuration&&S0(t.configuration))return t.configuration}Cm(F1,"getVirtualWorkspaceLocation");function AR(t){return F1(t)?.scheme}Cm(AR,"getVirtualWorkspaceScheme");function hG(t){return F1(t)?.authority}Cm(hG,"getVirtualWorkspaceAuthority");function dG(t){return F1(t)!==void 0}Cm(dG,"isVirtualWorkspace");const CD=Ce("languageService"),DD=Ce("modelService");var ER=Object.defineProperty,uG=Object.getOwnPropertyDescriptor,AD=(t,e)=>ER(t,"name",{value:e,configurable:!0}),gG=(t,e,i,s)=>{for(var n=s>1?void 0:s?uG(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&ER(e,i,n),n},tb=(t,e)=>(i,s)=>e(i,s,t);const fG=new J("workbenchState",void 0,{type:"string",description:c("workbenchState","The kind of workspace opened in the window, either 'empty' (no workspace), 'folder' (single folder) or 'workspace' (multi-root workspace)")}),pG=new J("workspaceFolderCount",0,c("workspaceFolderCount","The number of root folders in the workspace")),mG=new J("openFolderWorkspaceSupport",!0,!0),bG=new J("enterMultiRootWorkspaceSupport",!0,!0),vG=new J("emptyWorkspaceSupport",!0,!0),wG=new J("dirtyWorkingCopies",!1,c("dirtyWorkingCopies","Whether there are any working copies with unsaved changes")),yG=new J("remoteName","",c("remoteName","The name of the remote the window is connected to or an empty string if not connected to any remote")),_G=new J("virtualWorkspace","",c("virtualWorkspace","The scheme of the current workspace is from a virtual file system or an empty string.")),SG=new J("temporaryWorkspace",!1,c("temporaryWorkspace","The scheme of the current workspace is from a temporary file system.")),V1=new J("isFullscreen",!1,c("isFullscreen","Whether the main window is in fullscreen mode")),br=new J("isAuxiliaryWindowFocusedContext",!1,c("isAuxiliaryWindowFocusedContext","Whether an auxiliary window is focused")),CG=new J("hasWebFileSystemAccess",!1,!0),DG=new J("embedderIdentifier",void 0,c("embedderIdentifier","The identifier of the embedder according to the product service, if one is defined"));new J("activeEditorIsDirty",!1,c("activeEditorIsDirty","Whether the active editor has unsaved changes"));new J("activeEditorIsNotPreview",!1,c("activeEditorIsNotPreview","Whether the active editor is not in preview mode"));new J("activeEditorIsFirstInGroup",!1,c("activeEditorIsFirstInGroup","Whether the active editor is the first one in its group"));new J("activeEditorIsLastInGroup",!1,c("activeEditorIsLastInGroup","Whether the active editor is the last one in its group"));new J("activeEditorIsPinned",!1,c("activeEditorIsPinned","Whether the active editor is pinned"));new J("activeEditorIsReadonly",!1,c("activeEditorIsReadonly","Whether the active editor is read-only"));new J("activeCompareEditorCanSwap",!1,c("activeCompareEditorCanSwap","Whether the active compare editor can swap sides"));new J("activeEditorCanToggleReadonly",!0,c("activeEditorCanToggleReadonly","Whether the active editor can toggle between being read-only or writeable"));new J("activeEditorCanRevert",!1,c("activeEditorCanRevert","Whether the active editor can revert"));new J("activeEditorCanSplitInGroup",!0);new J("activeEditor",null,{type:"string",description:c("activeEditor","The identifier of the active editor")});new J("activeEditorAvailableEditorIds","",c("activeEditorAvailableEditorIds","The available editor identifiers that are usable for the active editor"));new J("textCompareEditorVisible",!1,c("textCompareEditorVisible","Whether a text compare editor is visible"));new J("textCompareEditorActive",!1,c("textCompareEditorActive","Whether a text compare editor is active"));new J("sideBySideEditorActive",!1,c("sideBySideEditorActive","Whether a side by side editor is active"));new J("groupEditorsCount",0,c("groupEditorsCount","The number of opened editor groups"));const AG=new J("activeEditorGroupEmpty",!1,c("activeEditorGroupEmpty","Whether the active editor group is empty")),EG=new J("activeEditorGroupIndex",0,c("activeEditorGroupIndex","The index of the active editor group")),IG=new J("activeEditorGroupLast",!1,c("activeEditorGroupLast","Whether the active editor group is the last group")),TG=new J("activeEditorGroupLocked",!1,c("activeEditorGroupLocked","Whether the active editor group is locked")),IR=new J("multipleEditorGroups",!1,c("multipleEditorGroups","Whether there are multiple editor groups opened"));IR.toNegated();new J("multipleEditorsSelectedInGroup",!1,c("multipleEditorsSelectedInGroup","Whether multiple editors have been selected in an editor group"));new J("twoEditorsSelectedInGroup",!1,c("twoEditorsSelectedInGroup","Whether exactly two editors have been selected in an editor group"));new J("SelectedEditorsInGroupFileOrUntitledResourceContextKey",!0,c("SelectedEditorsInGroupFileOrUntitledResourceContextKey","Whether all selected editors in a group have a file or untitled resource associated"));const kG=new J("editorPartMultipleEditorGroups",!1,c("editorPartMultipleEditorGroups","Whether there are multiple editor groups opened in an editor part"));kG.toNegated();new J("editorPartMaximizedEditorGroup",!1,c("editorPartEditorGroupMaximized","Editor Part has a maximized group"));new J("isAuxiliaryEditorPart",!1,c("isAuxiliaryEditorPart","Editor Part is in an auxiliary window"));const xG=new J("editorIsOpen",!1,c("editorIsOpen","Whether an editor is open")),ao=new J("inZenMode",!1,c("inZenMode","Whether Zen mode is enabled")),ED=new J("isCenteredLayout",!1,c("isMainEditorCenteredLayout","Whether centered layout is enabled for the main editor")),LG=new J("splitEditorsVertically",!1,c("splitEditorsVertically","Whether editors split vertically")),TR=new J("mainEditorAreaVisible",!0,c("mainEditorAreaVisible","Whether the editor area in the main window is visible")),PG=new J("editorTabsVisible",!0,c("editorTabsVisible","Whether editor tabs are visible")),oh=new J("sideBarVisible",!1,c("sideBarVisible","Whether the sidebar is visible")),RG=new J("sideBarFocus",!1,c("sideBarFocus","Whether the sidebar has keyboard focus")),NG=new J("activeViewlet","",c("activeViewlet","The identifier of the active viewlet"));new J("statusBarFocused",!1,c("statusBarFocused","Whether the status bar has keyboard focus"));const kR=new J("titleBarStyle",Ni?"native":"custom",c("titleBarStyle","Style of the window title bar")),OG=new J("titleBarVisible",!1,c("titleBarVisible","Whether the title bar is visible"));new J("bannerFocused",!1,c("bannerFocused","Whether the banner has keyboard focus"));const _o=new J("notificationFocus",!0,c("notificationFocus","Whether a notification has keyboard focus")),Zv=new J("notificationCenterVisible",!1,c("notificationCenterVisible","Whether the notifications center is visible")),Da=new J("notificationToastsVisible",!1,c("notificationToastsVisible","Whether a notification toast is visible")),BG=new J("activeAuxiliary","",c("activeAuxiliary","The identifier of the active auxiliary panel")),MG=new J("auxiliaryBarFocus",!1,c("auxiliaryBarFocus","Whether the auxiliary bar has keyboard focus")),wh=new J("auxiliaryBarVisible",!1,c("auxiliaryBarVisible","Whether the auxiliary bar is visible")),FG=new J("activePanel","",c("activePanel","The identifier of the active panel")),VG=new J("panelFocus",!1,c("panelFocus","Whether the panel has keyboard focus")),rh=new J("panelPosition","bottom",c("panelPosition","The position of the panel, always 'bottom'")),Oa=new J("panelAlignment","center",c("panelAlignment","The alignment of the panel, either 'center', 'left', 'right' or 'justify'")),Nu=new J("panelVisible",!1,c("panelVisible","Whether the panel is visible")),xR=new J("panelMaximized",!1,c("panelMaximized","Whether the panel is maximized")),Jr=new J("focusedView","",c("focusedView","The identifier of the view that has keyboard focus"));function HG(t){return`view.${t}.visible`}AD(HG,"getVisbileViewContextKey");let zo=class{constructor(t,e,i,s){this._contextKeyService=t,this._fileService=e,this._languageService=i,this._modelService=s,this._schemeKey=zo.Scheme.bindTo(this._contextKeyService),this._filenameKey=zo.Filename.bindTo(this._contextKeyService),this._dirnameKey=zo.Dirname.bindTo(this._contextKeyService),this._pathKey=zo.Path.bindTo(this._contextKeyService),this._langIdKey=zo.LangId.bindTo(this._contextKeyService),this._resourceKey=zo.Resource.bindTo(this._contextKeyService),this._extensionKey=zo.Extension.bindTo(this._contextKeyService),this._hasResource=zo.HasResource.bindTo(this._contextKeyService),this._isFileSystemResource=zo.IsFileSystemResource.bindTo(this._contextKeyService),this._disposables.add(e.onDidChangeFileSystemProviderRegistrations(()=>{const n=this.get();this._isFileSystemResource.set(!!(n&&e.hasProvider(n)))})),this._disposables.add(s.onModelAdded(n=>{qd(n.uri,this.get())&&this._setLangId()})),this._disposables.add(s.onModelLanguageChanged(n=>{qd(n.model.uri,this.get())&&this._setLangId()}))}static{AD(this,"ResourceContextKey")}static Scheme=new J("resourceScheme",void 0,{type:"string",description:c("resourceScheme","The scheme of the resource")});static Filename=new J("resourceFilename",void 0,{type:"string",description:c("resourceFilename","The file name of the resource")});static Dirname=new J("resourceDirname",void 0,{type:"string",description:c("resourceDirname","The folder name the resource is contained in")});static Path=new J("resourcePath",void 0,{type:"string",description:c("resourcePath","The full path of the resource")});static LangId=new J("resourceLangId",void 0,{type:"string",description:c("resourceLangId","The language identifier of the resource")});static Resource=new J("resource",void 0,{type:"URI",description:c("resource","The full value of the resource including scheme and path")});static Extension=new J("resourceExtname",void 0,{type:"string",description:c("resourceExtname","The extension name of the resource")});static HasResource=new J("resourceSet",void 0,{type:"boolean",description:c("resourceSet","Whether a resource is present or not")});static IsFileSystemResource=new J("isFileSystemResource",void 0,{type:"boolean",description:c("isFileSystemResource","Whether the resource is backed by a file system provider")});_disposables=new Z;_value;_resourceKey;_schemeKey;_filenameKey;_dirnameKey;_pathKey;_langIdKey;_extensionKey;_hasResource;_isFileSystemResource;dispose(){this._disposables.dispose()}_setLangId(){const t=this.get();if(!t){this._langIdKey.set(null);return}const e=this._modelService.getModel(t)?.getLanguageId()??this._languageService.guessLanguageIdByFilepathOrFirstLine(t);this._langIdKey.set(e)}set(t){t=t??void 0,!qd(this._value,t)&&(this._value=t,this._contextKeyService.bufferChangeEvents(()=>{this._resourceKey.set(t?t.toString():null),this._schemeKey.set(t?t.scheme:null),this._filenameKey.set(t?Qu(t):null),this._dirnameKey.set(t?this.uriToPath(_x(t)):null),this._pathKey.set(t?this.uriToPath(t):null),this._setLangId(),this._extensionKey.set(t?yx(t):null),this._hasResource.set(!!t),this._isFileSystemResource.set(t?this._fileService.hasProvider(t):!1)}))}uriToPath(t){return t.scheme===Ue.file?t.fsPath:t.path}reset(){this._value=void 0,this._contextKeyService.bufferChangeEvents(()=>{this._resourceKey.reset(),this._schemeKey.reset(),this._filenameKey.reset(),this._dirnameKey.reset(),this._pathKey.reset(),this._langIdKey.reset(),this._extensionKey.reset(),this._hasResource.reset(),this._isFileSystemResource.reset()})}get(){return this._value}};zo=gG([tb(0,Qe),tb(1,nd),tb(2,CD),tb(3,DD)],zo);function WG(t,e,i){if(!e){t.set("");return}const s=e.resource;if(s?.scheme===Ue.untitled&&e.editorId!==hR.id)t.set("");else{const n=s?i.getEditors(s).map(o=>o.id):[];t.set(n.join(","))}}AD(WG,"applyAvailableEditorIds");var UG=Object.defineProperty,ID=(t,e)=>UG(t,"name",{value:e,configurable:!0});const Dm=Ce("editorGroupsService");var LR=(t=>(t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT",t))(LR||{});function zG(t){const e=t;return Os(e?.editor)&&Os(e?.replacement)}ID(zG,"isEditorReplacement");var PR=(t=>(t[t.CREATION_TIME=0]="CREATION_TIME",t[t.MOST_RECENTLY_ACTIVE=1]="MOST_RECENTLY_ACTIVE",t[t.GRID_APPEARANCE=2]="GRID_APPEARANCE",t))(PR||{});function RR(t){const e=t;return!!e&&typeof e.id=="number"&&Array.isArray(e.editors)}ID(RR,"isEditorGroup");function NR(t){return t.getValue("workbench.editor.openSideBySideDirection")==="down"?1:3}ID(NR,"preferredSideBySideGroupDirection");var $G=Object.defineProperty,KG=(t,e)=>$G(t,"name",{value:e,configurable:!0});const ld=Ce("editorService");function GG(t){return typeof t=="number"||RR(t)}KG(GG,"isPreferredGroup");const vr=mm,al=Ce("paneCompositePartService");var jG=Object.defineProperty,qG=(t,e)=>jG(t,"name",{value:e,configurable:!0});const OR=Ce("workingCopyService");class YG extends q{static{qG(this,"WorkingCopyService")}_onDidRegister=this._register(new I);onDidRegister=this._onDidRegister.event;_onDidUnregister=this._register(new I);onDidUnregister=this._onDidUnregister.event;_onDidChangeDirty=this._register(new I);onDidChangeDirty=this._onDidChangeDirty.event;_onDidChangeContent=this._register(new I);onDidChangeContent=this._onDidChangeContent.event;_onDidSave=this._register(new I);onDidSave=this._onDidSave.event;get workingCopies(){return Array.from(this._workingCopies.values())}_workingCopies=new Set;mapResourceToWorkingCopies=new xs;mapWorkingCopyToListeners=this._register(new fc);registerWorkingCopy(e){let i=this.mapResourceToWorkingCopies.get(e.resource);if(i?.has(e.typeId))throw new Error(`Cannot register more than one working copy with the same resource ${e.resource.toString()} and type ${e.typeId}.`);this._workingCopies.add(e),i||(i=new Map,this.mapResourceToWorkingCopies.set(e.resource,i)),i.set(e.typeId,e);const s=new Z;return s.add(e.onDidChangeContent(()=>this._onDidChangeContent.fire(e))),s.add(e.onDidChangeDirty(()=>this._onDidChangeDirty.fire(e))),s.add(e.onDidSave(n=>this._onDidSave.fire({workingCopy:e,...n}))),this.mapWorkingCopyToListeners.set(e,s),this._onDidRegister.fire(e),e.isDirty()&&this._onDidChangeDirty.fire(e),Se(()=>{this.unregisterWorkingCopy(e),this._onDidUnregister.fire(e)})}unregisterWorkingCopy(e){this._workingCopies.delete(e);const i=this.mapResourceToWorkingCopies.get(e.resource);i?.delete(e.typeId)&&i.size===0&&this.mapResourceToWorkingCopies.delete(e.resource),e.isDirty()&&this._onDidChangeDirty.fire(e),this.mapWorkingCopyToListeners.deleteAndDispose(e)}has(e){return j.isUri(e)?this.mapResourceToWorkingCopies.has(e):this.mapResourceToWorkingCopies.get(e.resource)?.has(e.typeId)??!1}get(e){return this.mapResourceToWorkingCopies.get(e.resource)?.get(e.typeId)}getAll(e){const i=this.mapResourceToWorkingCopies.get(e);if(i)return Array.from(i.values())}get hasDirty(){for(const e of this._workingCopies)if(e.isDirty())return!0;return!1}get dirtyCount(){let e=0;for(const i of this._workingCopies)i.isDirty()&&e++;return e}get dirtyWorkingCopies(){return this.workingCopies.filter(e=>e.isDirty())}get modifiedCount(){let e=0;for(const i of this._workingCopies)i.isModified()&&e++;return e}get modifiedWorkingCopies(){return this.workingCopies.filter(e=>e.isModified())}isDirty(e,i){const s=this.mapResourceToWorkingCopies.get(e);if(s){if(typeof i=="string")return s.get(i)?.isDirty()??!1;for(const[,n]of s)if(n.isDirty())return!0}return!1}}pm(OR,YG,fm.Delayed);var BR=Object.defineProperty,XG=Object.getOwnPropertyDescriptor,YI=(t,e)=>BR(t,"name",{value:e,configurable:!0}),ZG=(t,e,i,s)=>{for(var n=s>1?void 0:s?XG(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&BR(e,i,n),n},Ar=(t,e)=>(i,s)=>e(i,s,t);let C0=class extends q{constructor(t,e,i,s,n,o,r,a,l,h){super(),this.contextKeyService=t,this.contextService=e,this.configurationService=i,this.environmentService=s,this.productService=n,this.editorGroupService=o,this.editorService=r,this.layoutService=a,this.paneCompositeService=l,this.workingCopyService=h,JK.bindTo(this.contextKeyService),eG.bindTo(this.contextKeyService),tG.bindTo(this.contextKeyService),_D.bindTo(this.contextKeyService),Ru.bindTo(this.contextKeyService),SR.bindTo(this.contextKeyService),iG.bindTo(this.contextKeyService),yG.bindTo(this.contextKeyService).set(M1(this.environmentService.remoteAuthority)||""),this.virtualWorkspaceContext=_G.bindTo(this.contextKeyService),this.temporaryWorkspaceContext=SG.bindTo(this.contextKeyService),this.updateWorkspaceContextKeys(),CG.bindTo(this.contextKeyService).set(Zo.supported(Q));const d=!this.environmentService.isBuilt||this.environmentService.isExtensionDevelopment;_0.bindTo(this.contextKeyService).set(d),SP(_0.key,d),sG.bindTo(this.contextKeyService).set(this.productService.quality||""),DG.bindTo(this.contextKeyService).set(n.embedderIdentifier),this.activeEditorGroupEmpty=AG.bindTo(this.contextKeyService),this.activeEditorGroupIndex=EG.bindTo(this.contextKeyService),this.activeEditorGroupLast=IG.bindTo(this.contextKeyService),this.activeEditorGroupLocked=TG.bindTo(this.contextKeyService),this.multipleEditorGroupsContext=IR.bindTo(this.contextKeyService),this.editorsVisibleContext=xG.bindTo(this.contextKeyService),this.dirtyWorkingCopiesContext=wG.bindTo(this.contextKeyService),this.dirtyWorkingCopiesContext.set(this.workingCopyService.hasDirty),this.inputFocusedContext=nG.bindTo(this.contextKeyService),this.workbenchStateContext=fG.bindTo(this.contextKeyService),this.updateWorkbenchStateContextKey(),this.workspaceFolderCountContext=pG.bindTo(this.contextKeyService),this.updateWorkspaceFolderCountContextKey(),this.openFolderWorkspaceSupportContext=mG.bindTo(this.contextKeyService),this.openFolderWorkspaceSupportContext.set(dn||typeof this.environmentService.remoteAuthority=="string"),this.emptyWorkspaceSupportContext=vG.bindTo(this.contextKeyService),this.emptyWorkspaceSupportContext.set(dn||typeof this.environmentService.remoteAuthority=="string"),this.enterMultiRootWorkspaceSupportContext=bG.bindTo(this.contextKeyService),this.enterMultiRootWorkspaceSupportContext.set(dn||typeof this.environmentService.remoteAuthority=="string"),this.splitEditorsVerticallyContext=LG.bindTo(this.contextKeyService),this.updateSplitEditorsVerticallyContext(),this.isMainWindowFullscreenContext=V1.bindTo(this.contextKeyService),this.isAuxiliaryWindowFocusedContext=br.bindTo(this.contextKeyService),this.inZenModeContext=ao.bindTo(this.contextKeyService),this.isMainEditorCenteredLayoutContext=ED.bindTo(this.contextKeyService),this.mainEditorAreaVisibleContext=TR.bindTo(this.contextKeyService),this.editorTabsVisibleContext=PG.bindTo(this.contextKeyService),this.sideBarVisibleContext=oh.bindTo(this.contextKeyService),this.titleAreaVisibleContext=OG.bindTo(this.contextKeyService),this.titleBarStyleContext=kR.bindTo(this.contextKeyService),this.updateTitleBarContextKeys(),this.panelPositionContext=rh.bindTo(this.contextKeyService),this.panelPositionContext.set(In(this.layoutService.getPanelPosition())),this.panelVisibleContext=Nu.bindTo(this.contextKeyService),this.panelVisibleContext.set(this.layoutService.isVisible(P.PANEL_PART)),this.panelMaximizedContext=xR.bindTo(this.contextKeyService),this.panelMaximizedContext.set(this.layoutService.isPanelMaximized()),this.panelAlignmentContext=Oa.bindTo(this.contextKeyService),this.panelAlignmentContext.set(this.layoutService.getPanelAlignment()),this.auxiliaryBarVisibleContext=wh.bindTo(this.contextKeyService),this.auxiliaryBarVisibleContext.set(this.layoutService.isVisible(P.AUXILIARYBAR_PART)),this.registerListeners()}static{YI(this,"WorkbenchContextKeysHandler")}inputFocusedContext;dirtyWorkingCopiesContext;activeEditorGroupEmpty;activeEditorGroupIndex;activeEditorGroupLast;activeEditorGroupLocked;multipleEditorGroupsContext;editorsVisibleContext;splitEditorsVerticallyContext;workbenchStateContext;workspaceFolderCountContext;openFolderWorkspaceSupportContext;enterMultiRootWorkspaceSupportContext;emptyWorkspaceSupportContext;virtualWorkspaceContext;temporaryWorkspaceContext;inZenModeContext;isMainWindowFullscreenContext;isAuxiliaryWindowFocusedContext;isMainEditorCenteredLayoutContext;sideBarVisibleContext;mainEditorAreaVisibleContext;panelPositionContext;panelVisibleContext;panelAlignmentContext;panelMaximizedContext;auxiliaryBarVisibleContext;editorTabsVisibleContext;titleAreaVisibleContext;titleBarStyleContext;registerListeners(){this.editorGroupService.whenReady.then(()=>{this.updateEditorAreaContextKeys(),this.updateActiveEditorGroupContextKeys(),this.updateVisiblePanesContextKeys()}),this._register(this.editorService.onDidActiveEditorChange(()=>this.updateActiveEditorGroupContextKeys())),this._register(this.editorService.onDidVisibleEditorsChange(()=>this.updateVisiblePanesContextKeys())),this._register(this.editorGroupService.onDidAddGroup(()=>this.updateEditorGroupsContextKeys())),this._register(this.editorGroupService.onDidRemoveGroup(()=>this.updateEditorGroupsContextKeys())),this._register(this.editorGroupService.onDidChangeGroupIndex(()=>this.updateActiveEditorGroupContextKeys())),this._register(this.editorGroupService.onDidChangeGroupLocked(()=>this.updateActiveEditorGroupContextKeys())),this._register(this.editorGroupService.onDidChangeEditorPartOptions(()=>this.updateEditorAreaContextKeys())),this._register(R.runAndSubscribe(d1,({window:t,disposables:e})=>e.add(N(t,U.FOCUS_IN,()=>this.updateInputContextKeys(t.document),!0)),{window:Q,disposables:this._store})),this._register(this.contextService.onDidChangeWorkbenchState(()=>this.updateWorkbenchStateContextKey())),this._register(this.contextService.onDidChangeWorkspaceFolders(()=>{this.updateWorkspaceFolderCountContextKey(),this.updateWorkspaceContextKeys()})),this._register(this.configurationService.onDidChangeConfiguration(t=>{t.affectsConfiguration("workbench.editor.openSideBySideDirection")&&this.updateSplitEditorsVerticallyContext()})),this._register(this.layoutService.onDidChangeZenMode(t=>this.inZenModeContext.set(t))),this._register(this.layoutService.onDidChangeActiveContainer(()=>this.isAuxiliaryWindowFocusedContext.set(this.layoutService.activeContainer!==this.layoutService.mainContainer))),this._register(YS(t=>{t===Q.vscodeWindowId&&this.isMainWindowFullscreenContext.set(Dh(Q))})),this._register(this.layoutService.onDidChangeMainEditorCenteredLayout(t=>this.isMainEditorCenteredLayoutContext.set(t))),this._register(this.layoutService.onDidChangePanelPosition(t=>this.panelPositionContext.set(t))),this._register(this.layoutService.onDidChangePanelAlignment(t=>this.panelAlignmentContext.set(t))),this._register(this.paneCompositeService.onDidPaneCompositeClose(()=>this.updateSideBarContextKeys())),this._register(this.paneCompositeService.onDidPaneCompositeOpen(()=>this.updateSideBarContextKeys())),this._register(this.layoutService.onDidChangePartVisibility(()=>{this.mainEditorAreaVisibleContext.set(this.layoutService.isVisible(P.EDITOR_PART,Q)),this.panelVisibleContext.set(this.layoutService.isVisible(P.PANEL_PART)),this.panelMaximizedContext.set(this.layoutService.isPanelMaximized()),this.auxiliaryBarVisibleContext.set(this.layoutService.isVisible(P.AUXILIARYBAR_PART)),this.updateTitleBarContextKeys()})),this._register(this.workingCopyService.onDidChangeDirty(t=>this.dirtyWorkingCopiesContext.set(t.isDirty()||this.workingCopyService.hasDirty)))}updateVisiblePanesContextKeys(){this.editorService.visibleEditorPanes.length>0?this.editorsVisibleContext.set(!0):this.editorsVisibleContext.reset()}updateActiveEditorGroupContextKeys(){this.editorService.activeEditor?this.activeEditorGroupEmpty.reset():this.activeEditorGroupEmpty.set(!0);const t=this.editorGroupService.activeGroup;this.activeEditorGroupIndex.set(t.index+1),this.activeEditorGroupLocked.set(t.isLocked),this.updateEditorGroupsContextKeys()}updateEditorGroupsContextKeys(){const t=this.editorGroupService.count;t>1?this.multipleEditorGroupsContext.set(!0):this.multipleEditorGroupsContext.reset();const e=this.editorGroupService.activeGroup;this.activeEditorGroupLast.set(e.index===t-1)}updateEditorAreaContextKeys(){this.editorTabsVisibleContext.set(this.editorGroupService.partOptions.showTabs==="multiple")}updateInputContextKeys(t){function e(){return!!t.activeElement&&Ur(t.activeElement)}YI(e,"activeElementIsInput");const i=e();if(this.inputFocusedContext.set(i),i){const s=oa(t.activeElement);R.once(s.onDidBlur)(()=>{nr().document===t&&this.inputFocusedContext.set(e()),s.dispose()})}}updateWorkbenchStateContextKey(){this.workbenchStateContext.set(this.getWorkbenchStateString())}updateWorkspaceFolderCountContextKey(){this.workspaceFolderCountContext.set(this.contextService.getWorkspace().folders.length)}updateSplitEditorsVerticallyContext(){const t=NR(this.configurationService);this.splitEditorsVerticallyContext.set(t===LR.DOWN)}getWorkbenchStateString(){switch(this.contextService.getWorkbenchState()){case eu.EMPTY:return"empty";case eu.FOLDER:return"folder";case eu.WORKSPACE:return"workspace"}}updateSideBarContextKeys(){this.sideBarVisibleContext.set(this.layoutService.isVisible(P.SIDEBAR_PART))}updateTitleBarContextKeys(){this.titleAreaVisibleContext.set(this.layoutService.isVisible(P.TITLEBAR_PART,Q)),this.titleBarStyleContext.set(yD(this.configurationService))}updateWorkspaceContextKeys(){this.virtualWorkspaceContext.set(AR(this.contextService.getWorkspace())||""),this.temporaryWorkspaceContext.set(wm(this.contextService.getWorkspace()))}};C0=ZG([Ar(0,Qe),Ar(1,dg),Ar(2,Ke),Ar(3,vr),Ar(4,_m),Ar(5,Dm),Ar(6,ld),Ar(7,lt),Ar(8,al),Ar(9,OR)],C0);var QG=Object.defineProperty,H1=(t,e)=>QG(t,"name",{value:e,configurable:!0});function TD(t){return(e,i,s)=>{let n=null,o=null;if(typeof s.value=="function"?(n="value",o=s.value):typeof s.get=="function"&&(n="get",o=s.get),!o)throw new Error("not supported");s[n]=t(o,i)}}H1(TD,"createDecorator");function ie(t,e,i){let s=null,n=null;if(typeof i.value=="function"?(s="value",n=i.value,n.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof i.get=="function"&&(s="get",n=i.get),!n)throw new Error("not supported");const o=`$memoize$${e}`;i[s]=function(...r){return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:n.apply(this,r)}),this[o]}}H1(ie,"memoize");function JG(t,e,i){return TD((s,n)=>{const o=`$debounce$${n}`,r=`$debounce$result$${n}`;return function(...a){this[r]||(this[r]=i?i():void 0),clearTimeout(this[o]),e&&(this[r]=e(this[r],...a),a=[this[r]]),this[o]=setTimeout(()=>{s.apply(this,a),this[r]=i?i():void 0},t)}})}H1(JG,"debounce");function ej(t,e,i){return TD((s,n)=>{const o=`$throttle$timer$${n}`,r=`$throttle$result$${n}`,a=`$throttle$lastRun$${n}`,l=`$throttle$pending$${n}`;return function(...h){if(this[r]||(this[r]=i?i():void 0),(this[a]===null||this[a]===void 0)&&(this[a]=-Number.MAX_VALUE),e&&(this[r]=e(this[r],...h)),this[l])return;const d=this[a]+t;d<=Date.now()?(this[a]=Date.now(),s.apply(this,[this[r]]),this[r]=i?i():void 0):(this[l]=!0,this[o]=setTimeout(()=>{this[l]=!1,this[a]=Date.now(),s.apply(this,[this[r]]),this[r]=i?i():void 0},d-Date.now()))}})}H1(ej,"throttle");var tj=Object.defineProperty,ib=(t,e)=>tj(t,"name",{value:e,configurable:!0});class $e{static{ib(this,"DomEmitter")}emitter;get event(){return this.emitter.event}constructor(e,i,s){const n=ib(o=>this.emitter.fire(o),"fn");this.emitter=new I({onWillAddFirstListener:ib(()=>e.addEventListener(i,n,s),"onWillAddFirstListener"),onDidRemoveLastListener:ib(()=>e.removeEventListener(i,n,s),"onDidRemoveLastListener")})}dispose(){this.emitter.dispose()}}var MR=Object.defineProperty,ij=Object.getOwnPropertyDescriptor,sj=(t,e)=>MR(t,"name",{value:e,configurable:!0}),nj=(t,e,i,s)=>{for(var n=ij(e,i),o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=r(e,i,n)||n);return n&&MR(e,i,n),n},kt;(t=>{t.Tap="-monaco-gesturetap",t.Change="-monaco-gesturechange",t.Start="-monaco-gesturestart",t.End="-monaco-gesturesend",t.Contextmenu="-monaco-gesturecontextmenu"})(kt||(kt={}));const FR=class Hs extends q{static{sj(this,"Gesture")}static SCROLL_FRICTION=-.005;static INSTANCE;static HOLD_DELAY=700;dispatched=!1;targets=new Xa;ignoreTargets=new Xa;handle;activeTouches;_lastSetTapCountTime;static CLEAR_TAP_COUNT_TIME=400;constructor(){super(),this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(R.runAndSubscribe(d1,({window:e,disposables:i})=>{i.add(N(e.document,"touchstart",s=>this.onTouchStart(s),{passive:!1})),i.add(N(e.document,"touchend",s=>this.onTouchEnd(e,s))),i.add(N(e.document,"touchmove",s=>this.onTouchMove(s),{passive:!1}))},{window:Q,disposables:this._store}))}static addTarget(e){if(!Hs.isTouchDevice())return q.None;Hs.INSTANCE||(Hs.INSTANCE=yu(new Hs));const i=Hs.INSTANCE.targets.push(e);return Se(i)}static ignoreTarget(e){if(!Hs.isTouchDevice())return q.None;Hs.INSTANCE||(Hs.INSTANCE=yu(new Hs));const i=Hs.INSTANCE.ignoreTargets.push(e);return Se(i)}static isTouchDevice(){return"ontouchstart"in Q||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){const i=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let s=0,n=e.targetTouches.length;s<n;s++){const o=e.targetTouches.item(s);this.activeTouches[o.identifier]={id:o.identifier,initialTarget:o.target,initialTimeStamp:i,initialPageX:o.pageX,initialPageY:o.pageY,rollingTimestamps:[i],rollingPageX:[o.pageX],rollingPageY:[o.pageY]};const r=this.newGestureEvent(kt.Start,o.target);r.pageX=o.pageX,r.pageY=o.pageY,this.dispatchEvent(r)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e,i){const s=Date.now(),n=Object.keys(this.activeTouches).length;for(let o=0,r=i.changedTouches.length;o<r;o++){const a=i.changedTouches.item(o);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}const l=this.activeTouches[a.identifier],h=Date.now()-l.initialTimeStamp;if(h<Hs.HOLD_DELAY&&Math.abs(l.initialPageX-wn(l.rollingPageX))<30&&Math.abs(l.initialPageY-wn(l.rollingPageY))<30){const d=this.newGestureEvent(kt.Tap,l.initialTarget);d.pageX=wn(l.rollingPageX),d.pageY=wn(l.rollingPageY),this.dispatchEvent(d)}else if(h>=Hs.HOLD_DELAY&&Math.abs(l.initialPageX-wn(l.rollingPageX))<30&&Math.abs(l.initialPageY-wn(l.rollingPageY))<30){const d=this.newGestureEvent(kt.Contextmenu,l.initialTarget);d.pageX=wn(l.rollingPageX),d.pageY=wn(l.rollingPageY),this.dispatchEvent(d)}else if(n===1){const d=wn(l.rollingPageX),u=wn(l.rollingPageY),g=wn(l.rollingTimestamps)-l.rollingTimestamps[0],p=d-l.rollingPageX[0],m=u-l.rollingPageY[0],b=[...this.targets].filter(C=>l.initialTarget instanceof Node&&C.contains(l.initialTarget));this.inertia(e,b,s,Math.abs(p)/g,p>0?1:-1,d,Math.abs(m)/g,m>0?1:-1,u)}this.dispatchEvent(this.newGestureEvent(kt.End,l.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,i){const s=document.createEvent("CustomEvent");return s.initEvent(e,!1,!0),s.initialTarget=i,s.tapCount=0,s}dispatchEvent(e){if(e.type===kt.Tap){const i=new Date().getTime();let s=0;i-this._lastSetTapCountTime>Hs.CLEAR_TAP_COUNT_TIME?s=1:s=2,this._lastSetTapCountTime=i,e.tapCount=s}else(e.type===kt.Change||e.type===kt.Contextmenu)&&(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(const s of this.ignoreTargets)if(s.contains(e.initialTarget))return;const i=[];for(const s of this.targets)if(s.contains(e.initialTarget)){let n=0,o=e.initialTarget;for(;o&&o!==s;)n++,o=o.parentElement;i.push([n,s])}i.sort((s,n)=>s[0]-n[0]);for(const[s,n]of i)n.dispatchEvent(e),this.dispatched=!0}}inertia(e,i,s,n,o,r,a,l,h){this.handle=no(e,()=>{const d=Date.now(),u=d-s;let g=0,p=0,m=!0;n+=Hs.SCROLL_FRICTION*u,a+=Hs.SCROLL_FRICTION*u,n>0&&(m=!1,g=o*n*u),a>0&&(m=!1,p=l*a*u);const b=this.newGestureEvent(kt.Change);b.translationX=g,b.translationY=p,i.forEach(C=>C.dispatchEvent(b)),m||this.inertia(e,i,d,n,o,r+g,a,l,h+p)})}onTouchMove(e){const i=Date.now();for(let s=0,n=e.changedTouches.length;s<n;s++){const o=e.changedTouches.item(s);if(!this.activeTouches.hasOwnProperty(String(o.identifier))){console.warn("end of an UNKNOWN touch",o);continue}const r=this.activeTouches[o.identifier],a=this.newGestureEvent(kt.Change,r.initialTarget);a.translationX=o.pageX-wn(r.rollingPageX),a.translationY=o.pageY-wn(r.rollingPageY),a.pageX=o.pageX,a.pageY=o.pageY,this.dispatchEvent(a),r.rollingPageX.length>3&&(r.rollingPageX.shift(),r.rollingPageY.shift(),r.rollingTimestamps.shift()),r.rollingPageX.push(o.pageX),r.rollingPageY.push(o.pageY),r.rollingTimestamps.push(i)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}};nj([ie],FR,"isTouchDevice");let us=FR;var VR=Object.defineProperty,oj=Object.getOwnPropertyDescriptor,Xo=(t,e)=>VR(t,"name",{value:e,configurable:!0}),gg=(t,e,i,s)=>{for(var n=oj(e,i),o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=r(e,i,n)||n);return n&&VR(e,i,n),n};const rj=!1;var ge=(t=>(t[t.VERTICAL=0]="VERTICAL",t[t.HORIZONTAL=1]="HORIZONTAL",t))(ge||{}),Uc=(t=>(t[t.Disabled=0]="Disabled",t[t.AtMinimum=1]="AtMinimum",t[t.AtMaximum=2]="AtMaximum",t[t.Enabled=3]="Enabled",t))(Uc||{});let HR=4;const WR=new I;function aj(t){HR=t,WR.fire(t)}Xo(aj,"setGlobalSashSize");let UR=300;const zR=new I;function lj(t){UR=t,zR.fire(t)}Xo(lj,"setGlobalHoverDelay");class kD{constructor(e){this.el=e}static{Xo(this,"MouseEventFactory")}disposables=new Z;get onPointerMove(){return this.disposables.add(new $e(be(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new $e(be(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}gg([ie],kD.prototype,"onPointerMove");gg([ie],kD.prototype,"onPointerUp");class xD{constructor(e){this.el=e}static{Xo(this,"GestureEventFactory")}disposables=new Z;get onPointerMove(){return this.disposables.add(new $e(this.el,kt.Change)).event}get onPointerUp(){return this.disposables.add(new $e(this.el,kt.End)).event}dispose(){this.disposables.dispose()}}gg([ie],xD.prototype,"onPointerMove");gg([ie],xD.prototype,"onPointerUp");class Qv{constructor(e){this.factory=e}static{Xo(this,"OrthogonalPointerEventFactory")}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}gg([ie],Qv.prototype,"onPointerMove");gg([ie],Qv.prototype,"onPointerUp");const XI="pointer-events-disabled";class Ao extends q{static{Xo(this,"Sash")}el;layoutProvider;orientation;size;hoverDelay=UR;hoverDelayer=this._register(new Ju(this.hoverDelay));_state=3;onDidEnablementChange=this._register(new I);_onDidStart=this._register(new I);_onDidChange=this._register(new I);_onDidReset=this._register(new I);_onDidEnd=this._register(new I);orthogonalStartSashDisposables=this._register(new Z);_orthogonalStartSash;orthogonalStartDragHandleDisposables=this._register(new Z);_orthogonalStartDragHandle;orthogonalEndSashDisposables=this._register(new Z);_orthogonalEndSash;orthogonalEndDragHandleDisposables=this._register(new Z);_orthogonalEndDragHandle;get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(e){this._state!==e&&(this.el.classList.toggle("disabled",e===0),this.el.classList.toggle("minimum",e===1),this.el.classList.toggle("maximum",e===2),this._state=e,this.onDidEnablementChange.fire(e))}onDidStart=this._onDidStart.event;onDidChange=this._onDidChange.event;onDidReset=this._onDidReset.event;onDidEnd=this._onDidEnd.event;linkedSash=void 0;set orthogonalStartSash(e){if(this._orthogonalStartSash!==e){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),e){const i=Xo(s=>{this.orthogonalStartDragHandleDisposables.clear(),s!==0&&(this._orthogonalStartDragHandle=we(this.el,de(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add(Se(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new $e(this._orthogonalStartDragHandle,"mouseenter")).event(()=>Ao.onMouseEnter(e),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new $e(this._orthogonalStartDragHandle,"mouseleave")).event(()=>Ao.onMouseLeave(e),void 0,this.orthogonalStartDragHandleDisposables))},"onChange");this.orthogonalStartSashDisposables.add(e.onDidEnablementChange.event(i,this)),i(e.state)}this._orthogonalStartSash=e}}set orthogonalEndSash(e){if(this._orthogonalEndSash!==e){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),e){const i=Xo(s=>{this.orthogonalEndDragHandleDisposables.clear(),s!==0&&(this._orthogonalEndDragHandle=we(this.el,de(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add(Se(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new $e(this._orthogonalEndDragHandle,"mouseenter")).event(()=>Ao.onMouseEnter(e),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new $e(this._orthogonalEndDragHandle,"mouseleave")).event(()=>Ao.onMouseLeave(e),void 0,this.orthogonalEndDragHandleDisposables))},"onChange");this.orthogonalEndSashDisposables.add(e.onDidEnablementChange.event(i,this)),i(e.state)}this._orthogonalEndSash=e}}constructor(e,i,s){super(),this.el=we(e,de(".monaco-sash")),s.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${s.orthogonalEdge}`),He&&this.el.classList.add("mac");const n=this._register(new $e(this.el,"mousedown")).event;this._register(n(u=>this.onPointerStart(u,new kD(e)),this));const o=this._register(new $e(this.el,"dblclick")).event;this._register(o(this.onPointerDoublePress,this));const r=this._register(new $e(this.el,"mouseenter")).event;this._register(r(()=>Ao.onMouseEnter(this)));const a=this._register(new $e(this.el,"mouseleave")).event;this._register(a(()=>Ao.onMouseLeave(this))),this._register(us.addTarget(this.el));const l=this._register(new $e(this.el,kt.Start)).event;this._register(l(u=>this.onPointerStart(u,new xD(this.el)),this));const h=this._register(new $e(this.el,kt.Tap)).event;let d;this._register(h(u=>{if(d){clearTimeout(d),d=void 0,this.onPointerDoublePress(u);return}clearTimeout(d),d=setTimeout(()=>d=void 0,250)},this)),typeof s.size=="number"?(this.size=s.size,s.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=HR,this._register(WR.event(u=>{this.size=u,this.layout()}))),this._register(zR.event(u=>this.hoverDelay=u)),this.layoutProvider=i,this.orthogonalStartSash=s.orthogonalStartSash,this.orthogonalEndSash=s.orthogonalEndSash,this.orientation=s.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",rj),this.layout()}onPointerStart(e,i){xe.stop(e);let s=!1;if(!e.__orthogonalSashEvent){const m=this.getOrthogonalSash(e);m&&(s=!0,e.__orthogonalSashEvent=!0,m.onPointerStart(e,new Qv(i)))}if(this.linkedSash&&!e.__linkedSashEvent&&(e.__linkedSashEvent=!0,this.linkedSash.onPointerStart(e,new Qv(i))),!this.state)return;const n=this.el.ownerDocument.getElementsByTagName("iframe");for(const m of n)m.classList.add(XI);const o=e.pageX,r=e.pageY,a=e.altKey,l={startX:o,currentX:o,startY:r,currentY:r,altKey:a};this.el.classList.add("active"),this._onDidStart.fire(l);const h=cr(this.el),d=Xo(()=>{let m="";s?m="all-scroll":this.orientation===1?this.state===1?m="s-resize":this.state===2?m="n-resize":m=He?"row-resize":"ns-resize":this.state===1?m="e-resize":this.state===2?m="w-resize":m=He?"col-resize":"ew-resize",h.textContent=`* { cursor: ${m} !important; }`},"updateStyle"),u=new Z;d(),s||this.onDidEnablementChange.event(d,null,u);const g=Xo(m=>{xe.stop(m,!1);const b={startX:o,currentX:m.pageX,startY:r,currentY:m.pageY,altKey:a};this._onDidChange.fire(b)},"onPointerMove"),p=Xo(m=>{xe.stop(m,!1),h.remove(),this.el.classList.remove("active"),this._onDidEnd.fire(),u.dispose();for(const b of n)b.classList.remove(XI)},"onPointerUp");i.onPointerMove(g,null,u),i.onPointerUp(p,null,u),u.add(i)}onPointerDoublePress(e){const i=this.getOrthogonalSash(e);i&&i._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(e,i=!1){e.el.classList.contains("active")?(e.hoverDelayer.cancel(),e.el.classList.add("hover")):e.hoverDelayer.trigger(()=>e.el.classList.add("hover"),e.hoverDelay).then(void 0,()=>{}),!i&&e.linkedSash&&Ao.onMouseEnter(e.linkedSash,!0)}static onMouseLeave(e,i=!1){e.hoverDelayer.cancel(),e.el.classList.remove("hover"),!i&&e.linkedSash&&Ao.onMouseLeave(e.linkedSash,!0)}clearSashHoverState(){Ao.onMouseLeave(this)}layout(){if(this.orientation===0){const e=this.layoutProvider;this.el.style.left=e.getVerticalSashLeft(this)-this.size/2+"px",e.getVerticalSashTop&&(this.el.style.top=e.getVerticalSashTop(this)+"px"),e.getVerticalSashHeight&&(this.el.style.height=e.getVerticalSashHeight(this)+"px")}else{const e=this.layoutProvider;this.el.style.top=e.getHorizontalSashTop(this)-this.size/2+"px",e.getHorizontalSashLeft&&(this.el.style.left=e.getHorizontalSashLeft(this)+"px"),e.getHorizontalSashWidth&&(this.el.style.width=e.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(e){const i=e.initialTarget??e.target;if(!(!i||!ns(i))&&i.classList.contains("orthogonal-drag-handle"))return i.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}var cj=Object.defineProperty,hj=(t,e)=>cj(t,"name",{value:e,configurable:!0});class wr extends q{static{hj(this,"Widget")}onclick(e,i){this._register(N(e,U.CLICK,s=>i(new qi(be(e),s))))}onmousedown(e,i){this._register(N(e,U.MOUSE_DOWN,s=>i(new qi(be(e),s))))}onmouseover(e,i){this._register(N(e,U.MOUSE_OVER,s=>i(new qi(be(e),s))))}onmouseleave(e,i){this._register(N(e,U.MOUSE_LEAVE,s=>i(new qi(be(e),s))))}onkeydown(e,i){this._register(N(e,U.KEY_DOWN,s=>i(new mt(s))))}onkeyup(e,i){this._register(N(e,U.KEY_UP,s=>i(new mt(s))))}oninput(e,i){this._register(N(e,U.INPUT,i))}onblur(e,i){this._register(N(e,U.BLUR,i))}onfocus(e,i){this._register(N(e,U.FOCUS,i))}onchange(e,i){this._register(N(e,U.CHANGE,i))}ignoreGesture(e){return us.ignoreTarget(e)}}var dj=Object.defineProperty,uj=(t,e)=>dj(t,"name",{value:e,configurable:!0});class $R{static{uj(this,"GlobalPointerMoveMonitor")}_hooks=new Z;_pointerMoveCallback=null;_onStopCallback=null;dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,i){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const s=this._onStopCallback;this._onStopCallback=null,e&&s&&s(i)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,i,s,n,o){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=n,this._onStopCallback=o;let r=e;try{e.setPointerCapture(i),this._hooks.add(Se(()=>{try{e.releasePointerCapture(i)}catch{}}))}catch{r=be(e)}this._hooks.add(N(r,U.POINTER_MOVE,a=>{if(a.buttons!==s){this.stopMonitoring(!0);return}a.preventDefault(),this._pointerMoveCallback(a)})),this._hooks.add(N(r,U.POINTER_UP,a=>this.stopMonitoring(!0)))}}var gj=Object.defineProperty,$o=(t,e)=>gj(t,"name",{value:e,configurable:!0}),D0;(t=>{function e(i){return i&&typeof i=="object"&&typeof i.id=="string"}t.isThemeColor=e,$o(e,"isThemeColor")})(D0||(D0={}));function fj(t){return{id:t}}$o(fj,"themeColorFromId");var Ae;(t=>{t.iconNameSegment="[A-Za-z0-9]+",t.iconNameExpression="[A-Za-z0-9-]+",t.iconModifierExpression="~[A-Za-z]+",t.iconNameCharacter="[A-Za-z0-9~-]";const e=new RegExp(`^(${t.iconNameExpression})(${t.iconModifierExpression})?$`);function i(g){const p=e.exec(g.id);if(!p)return i(he.error);const[,m,b]=p,C=["codicon","codicon-"+m];return b&&C.push("codicon-modifier-"+b.substring(1)),C}t.asClassNameArray=i,$o(i,"asClassNameArray");function s(g){return i(g).join(" ")}t.asClassName=s,$o(s,"asClassName");function n(g){return"."+i(g).join(".")}t.asCSSSelector=n,$o(n,"asCSSSelector");function o(g){return g&&typeof g=="object"&&typeof g.id=="string"&&(typeof g.color>"u"||D0.isThemeColor(g.color))}t.isThemeIcon=o,$o(o,"isThemeIcon");const r=new RegExp(`^\\$\\((${t.iconNameExpression}(?:${t.iconModifierExpression})?)\\)$`);function a(g){const p=r.exec(g);if(!p)return;const[,m]=p;return{id:m}}t.fromString=a,$o(a,"fromString");function l(g){return{id:g}}t.fromId=l,$o(l,"fromId");function h(g,p){let m=g.id;const b=m.lastIndexOf("~");return b!==-1&&(m=m.substring(0,b)),p&&(m=`${m}~${p}`),{id:m}}t.modify=h,$o(h,"modify");function d(g){const p=g.id.lastIndexOf("~");if(p!==-1)return g.id.substring(p+1)}t.getModifier=d,$o(d,"getModifier");function u(g,p){return g.id===p.id&&g.color?.id===p.color?.id}t.isEqual=u,$o(u,"isEqual")})(Ae||(Ae={}));var pj=Object.defineProperty,ZI=(t,e)=>pj(t,"name",{value:e,configurable:!0});const Ou=11;class mj extends wr{static{ZI(this,"ScrollbarArrow")}_onActivate;bgDomNode;domNode;_pointerdownRepeatTimer;_pointerdownScheduleRepeatTimer;_pointerMoveMonitor;constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",typeof e.top<"u"&&(this.bgDomNode.style.top="0px"),typeof e.left<"u"&&(this.bgDomNode.style.left="0px"),typeof e.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof e.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...Ae.asClassNameArray(e.icon)),this.domNode.style.position="absolute",this.domNode.style.width=Ou+"px",this.domNode.style.height=Ou+"px",typeof e.top<"u"&&(this.domNode.style.top=e.top+"px"),typeof e.left<"u"&&(this.domNode.style.left=e.left+"px"),typeof e.bottom<"u"&&(this.domNode.style.bottom=e.bottom+"px"),typeof e.right<"u"&&(this.domNode.style.right=e.right+"px"),this._pointerMoveMonitor=this._register(new $R),this._register(Dn(this.bgDomNode,U.POINTER_DOWN,i=>this._arrowPointerDown(i))),this._register(Dn(this.domNode,U.POINTER_DOWN,i=>this._arrowPointerDown(i))),this._pointerdownRepeatTimer=this._register(new u3),this._pointerdownScheduleRepeatTimer=this._register(new r1)}_arrowPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const i=ZI(()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,be(e))},"scheduleRepeater");this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(i,200),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,s=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),e.preventDefault()}}var bj=Object.defineProperty,vj=(t,e)=>bj(t,"name",{value:e,configurable:!0});class wj extends q{static{vj(this,"ScrollbarVisibilityController")}_visibility;_visibleClassName;_invisibleClassName;_domNode;_rawShouldBeVisible;_shouldBeVisible;_isNeeded;_isVisible;_revealTimer;constructor(e,i,s){super(),this._visibility=e,this._visibleClassName=i,this._invisibleClassName=s,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new r1)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===Jt.Hidden?!1:this._visibility===Jt.Visible?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{this._domNode?.setClassName(this._visibleClassName)},0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode?.setClassName(this._invisibleClassName+(e?" fade":"")))}}var yj=Object.defineProperty,_j=(t,e)=>yj(t,"name",{value:e,configurable:!0});const Sj=140;class KR extends wr{static{_j(this,"AbstractScrollbar")}_host;_scrollable;_scrollByPage;_lazyRender;_scrollbarState;_visibilityController;_pointerMoveMonitor;domNode;slider;_shouldRender;constructor(e){super(),this._lazyRender=e.lazyRender,this._host=e.host,this._scrollable=e.scrollable,this._scrollByPage=e.scrollByPage,this._scrollbarState=e.scrollbarState,this._visibilityController=this._register(new wj(e.visibility,"visible scrollbar "+e.extraScrollbarClassName,"invisible scrollbar "+e.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new $R),this._shouldRender=!0,this.domNode=Zd(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(N(this.domNode.domNode,U.POINTER_DOWN,i=>this._domNodePointerDown(i)))}_createArrow(e){const i=this._register(new mj(e));this.domNode.domNode.appendChild(i.bgDomNode),this.domNode.domNode.appendChild(i.domNode)}_createSlider(e,i,s,n){this.slider=Zd(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(e),this.slider.setLeft(i),typeof s=="number"&&this.slider.setWidth(s),typeof n=="number"&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(N(this.slider.domNode,U.POINTER_DOWN,o=>{o.button===0&&(o.preventDefault(),this._sliderPointerDown(o))})),this.onclick(this.slider.domNode,o=>{o.leftButton&&o.stopPropagation()})}_onElementSize(e){return this._scrollbarState.setVisibleSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(e){return this._scrollbarState.setScrollSize(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(e){return this._scrollbarState.setScrollPosition(e)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(e){e.target===this.domNode.domNode&&this._onPointerDown(e)}delegatePointerDown(e){const i=this.domNode.domNode.getClientRects()[0].top,s=i+this._scrollbarState.getSliderPosition(),n=i+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),o=this._sliderPointerPosition(e);s<=o&&o<=n?e.button===0&&(e.preventDefault(),this._sliderPointerDown(e)):this._onPointerDown(e)}_onPointerDown(e){let i,s;if(e.target===this.domNode.domNode&&typeof e.offsetX=="number"&&typeof e.offsetY=="number")i=e.offsetX,s=e.offsetY;else{const o=Ul(this.domNode.domNode);i=e.pageX-o.left,s=e.pageY-o.top}const n=this._pointerDownRelativePosition(i,s);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(n):this._scrollbarState.getDesiredScrollPositionFromOffset(n)),e.button===0&&(e.preventDefault(),this._sliderPointerDown(e))}_sliderPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const i=this._sliderPointerPosition(e),s=this._sliderOrthogonalPointerPosition(e),n=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(e.target,e.pointerId,e.buttons,o=>{const r=this._sliderOrthogonalPointerPosition(o),a=Math.abs(r-s);if(Lt&&a>Sj){this._setDesiredScrollPositionNow(n.getScrollPosition());return}const h=this._sliderPointerPosition(o)-i;this._setDesiredScrollPositionNow(n.getDesiredScrollPositionFromDelta(h))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(e){const i={};this.writeScrollPosition(i,e),this._scrollable.setScrollPositionNow(i)}updateScrollbarSize(e){this._updateScrollbarSize(e),this._scrollbarState.setScrollbarSize(e),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}var Cj=Object.defineProperty,Dj=(t,e)=>Cj(t,"name",{value:e,configurable:!0});const Aj=20;class hp{static{Dj(this,"ScrollbarState")}_scrollbarSize;_oppositeScrollbarSize;_arrowSize;_visibleSize;_scrollSize;_scrollPosition;_computedAvailableSize;_computedIsNeeded;_computedSliderSize;_computedSliderRatio;_computedSliderPosition;constructor(e,i,s,n,o,r){this._scrollbarSize=Math.round(i),this._oppositeScrollbarSize=Math.round(s),this._arrowSize=Math.round(e),this._visibleSize=n,this._scrollSize=o,this._scrollPosition=r,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new hp(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const i=Math.round(e);return this._visibleSize!==i?(this._visibleSize=i,this._refreshComputedValues(),!0):!1}setScrollSize(e){const i=Math.round(e);return this._scrollSize!==i?(this._scrollSize=i,this._refreshComputedValues(),!0):!1}setScrollPosition(e){const i=Math.round(e);return this._scrollPosition!==i?(this._scrollPosition=i,this._refreshComputedValues(),!0):!1}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,i,s,n,o){const r=Math.max(0,s-e),a=Math.max(0,r-2*i),l=n>0&&n>s;if(!l)return{computedAvailableSize:Math.round(r),computedIsNeeded:l,computedSliderSize:Math.round(a),computedSliderRatio:0,computedSliderPosition:0};const h=Math.round(Math.max(Aj,Math.floor(s*a/n))),d=(a-h)/(n-s),u=o*d;return{computedAvailableSize:Math.round(r),computedIsNeeded:l,computedSliderSize:Math.round(h),computedSliderRatio:d,computedSliderPosition:Math.round(u)}}_refreshComputedValues(){const e=hp._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const i=e-this._arrowSize-this._computedSliderSize/2;return Math.round(i/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const i=e-this._arrowSize;let s=this._scrollPosition;return i<this._computedSliderPosition?s-=this._visibleSize:s+=this._visibleSize,s}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const i=this._computedSliderPosition+e;return Math.round(i/this._computedSliderRatio)}}var Ej=Object.defineProperty,zy=(t,e)=>Ej(t,"name",{value:e,configurable:!0});class Ij extends KR{static{zy(this,"HorizontalScrollbar")}constructor(e,i,s){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:i.lazyRender,host:s,scrollbarState:new hp(i.horizontalHasArrows?i.arrowSize:0,i.horizontal===Jt.Hidden?0:i.horizontalScrollbarSize,i.vertical===Jt.Hidden?0:i.verticalScrollbarSize,n.width,n.scrollWidth,o.scrollLeft),visibility:i.horizontal,extraScrollbarClassName:"horizontal",scrollable:e,scrollByPage:i.scrollByPage}),i.horizontalHasArrows){const r=(i.arrowSize-Ou)/2,a=(i.horizontalScrollbarSize-Ou)/2;this._createArrow({className:"scra",icon:he.scrollbarButtonLeft,top:a,left:r,bottom:void 0,right:void 0,bgWidth:i.arrowSize,bgHeight:i.horizontalScrollbarSize,onActivate:zy(()=>this._host.onMouseWheel(new Au(null,1,0)),"onActivate")}),this._createArrow({className:"scra",icon:he.scrollbarButtonRight,top:a,left:void 0,bottom:void 0,right:r,bgWidth:i.arrowSize,bgHeight:i.horizontalScrollbarSize,onActivate:zy(()=>this._host.onMouseWheel(new Au(null,-1,0)),"onActivate")})}this._createSlider(Math.floor((i.horizontalScrollbarSize-i.horizontalSliderSize)/2),0,void 0,i.horizontalSliderSize)}_updateSlider(e,i){this.slider.setWidth(e),this.slider.setLeft(i)}_renderDomNode(e,i){this.domNode.setWidth(e),this.domNode.setHeight(i),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(e.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,i){return e}_sliderPointerPosition(e){return e.pageX}_sliderOrthogonalPointerPosition(e){return e.pageY}_updateScrollbarSize(e){this.slider.setHeight(e)}writeScrollPosition(e,i){e.scrollLeft=i}updateOptions(e){this.updateScrollbarSize(e.horizontal===Jt.Hidden?0:e.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(e.vertical===Jt.Hidden?0:e.verticalScrollbarSize),this._visibilityController.setVisibility(e.horizontal),this._scrollByPage=e.scrollByPage}}var Tj=Object.defineProperty,$y=(t,e)=>Tj(t,"name",{value:e,configurable:!0});class kj extends KR{static{$y(this,"VerticalScrollbar")}constructor(e,i,s){const n=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:i.lazyRender,host:s,scrollbarState:new hp(i.verticalHasArrows?i.arrowSize:0,i.vertical===Jt.Hidden?0:i.verticalScrollbarSize,0,n.height,n.scrollHeight,o.scrollTop),visibility:i.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:i.scrollByPage}),i.verticalHasArrows){const r=(i.arrowSize-Ou)/2,a=(i.verticalScrollbarSize-Ou)/2;this._createArrow({className:"scra",icon:he.scrollbarButtonUp,top:r,left:a,bottom:void 0,right:void 0,bgWidth:i.verticalScrollbarSize,bgHeight:i.arrowSize,onActivate:$y(()=>this._host.onMouseWheel(new Au(null,0,1)),"onActivate")}),this._createArrow({className:"scra",icon:he.scrollbarButtonDown,top:void 0,left:a,bottom:r,right:void 0,bgWidth:i.verticalScrollbarSize,bgHeight:i.arrowSize,onActivate:$y(()=>this._host.onMouseWheel(new Au(null,0,-1)),"onActivate")})}this._createSlider(0,Math.floor((i.verticalScrollbarSize-i.verticalSliderSize)/2),i.verticalSliderSize,void 0)}_updateSlider(e,i){this.slider.setHeight(e),this.slider.setTop(i)}_renderDomNode(e,i){this.domNode.setWidth(i),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(e,i){return i}_sliderPointerPosition(e){return e.pageY}_sliderOrthogonalPointerPosition(e){return e.pageX}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,i){e.scrollTop=i}updateOptions(e){this.updateScrollbarSize(e.vertical===Jt.Hidden?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}var xj=Object.defineProperty,Gn=(t,e)=>xj(t,"name",{value:e,configurable:!0});const Lj=500,QI=50;class Pj{static{Gn(this,"MouseWheelClassifierItem")}timestamp;deltaX;deltaY;score;constructor(e,i,s){this.timestamp=e,this.deltaX=i,this.deltaY=s,this.score=0}}class LD{static{Gn(this,"MouseWheelClassifier")}static INSTANCE=new LD;_capacity;_memory;_front;_rear;constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let e=1,i=0,s=1,n=this._rear;do{const o=n===this._front?e:Math.pow(2,-s);if(e-=o,i+=this._memory[n].score*o,n===this._front)break;n=(this._capacity+n-1)%this._capacity,s++}while(!0);return i<=.5}acceptStandardWheelEvent(e){if(Zw){const i=be(e.browserEvent),s=Ek(i);this.accept(Date.now(),e.deltaX*s,e.deltaY*s)}else this.accept(Date.now(),e.deltaX,e.deltaY)}accept(e,i,s){let n=null;const o=new Pj(e,i,s);this._front===-1&&this._rear===-1?(this._memory[0]=o,this._front=0,this._rear=0):(n=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=o),o.score=this._computeScore(o,n)}_computeScore(e,i){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let s=.5;if((!this._isAlmostInt(e.deltaX)||!this._isAlmostInt(e.deltaY))&&(s+=.25),i){const n=Math.abs(e.deltaX),o=Math.abs(e.deltaY),r=Math.abs(i.deltaX),a=Math.abs(i.deltaY),l=Math.max(Math.min(n,r),1),h=Math.max(Math.min(o,a),1),d=Math.max(n,r),u=Math.max(o,a);d%l===0&&u%h===0&&(s-=.5)}return Math.min(Math.max(s,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}class PD extends wr{static{Gn(this,"AbstractScrollableElement")}_options;_scrollable;_verticalScrollbar;_horizontalScrollbar;_domNode;_leftShadowDomNode;_topShadowDomNode;_topLeftShadowDomNode;_listenOnDomNode;_mouseWheelToDispose;_isDragging;_mouseIsOver;_hideTimeout;_shouldRender;_revealOnScroll;_onScroll=this._register(new I);onScroll=this._onScroll.event;_onWillScroll=this._register(new I);onWillScroll=this._onWillScroll.event;get options(){return this._options}constructor(e,i,s){super(),e.style.overflow="hidden",this._options=jR(i),this._scrollable=s,this._register(this._scrollable.onScroll(o=>{this._onWillScroll.fire(o),this._onDidScroll(o),this._onScroll.fire(o)}));const n={onMouseWheel:Gn(o=>this._onMouseWheel(o),"onMouseWheel"),onDragStart:Gn(()=>this._onDragStart(),"onDragStart"),onDragEnd:Gn(()=>this._onDragEnd(),"onDragEnd")};this._verticalScrollbar=this._register(new kj(this._scrollable,this._options,n)),this._horizontalScrollbar=this._register(new Ij(this._scrollable,this._options,n)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=Zd(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=Zd(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=Zd(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,o=>this._onMouseOver(o)),this.onmouseleave(this._listenOnDomNode,o=>this._onMouseLeave(o)),this._hideTimeout=this._register(new r1),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=ai(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(e){this._verticalScrollbar.delegatePointerDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,He&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){typeof e.handleMouseWheel<"u"&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof e.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),typeof e.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),typeof e.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),typeof e.horizontal<"u"&&(this._options.horizontal=e.horizontal),typeof e.vertical<"u"&&(this._options.vertical=e.vertical),typeof e.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),typeof e.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),typeof e.scrollByPage<"u"&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}setRevealOnScroll(e){this._revealOnScroll=e}delegateScrollFromMouseWheelEvent(e){this._onMouseWheel(new Au(e))}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=ai(this._mouseWheelToDispose),e)){const s=Gn(n=>{this._onMouseWheel(new Au(n))},"onMouseWheel");this._mouseWheelToDispose.push(N(this._listenOnDomNode,U.MOUSE_WHEEL,s,{passive:!1}))}}_onMouseWheel(e){if(e.browserEvent?.defaultPrevented)return;const i=LD.INSTANCE;i.acceptStandardWheelEvent(e);let s=!1;if(e.deltaY||e.deltaX){let o=e.deltaY*this._options.mouseWheelScrollSensitivity,r=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&r+o===0?r=o=0:Math.abs(o)>=Math.abs(r)?r=0:o=0),this._options.flipAxes&&([o,r]=[r,o]);const a=!He&&e.browserEvent&&e.browserEvent.shiftKey;(this._options.scrollYToX||a)&&!r&&(r=o,o=0),e.browserEvent&&e.browserEvent.altKey&&(r=r*this._options.fastScrollSensitivity,o=o*this._options.fastScrollSensitivity);const l=this._scrollable.getFutureScrollPosition();let h={};if(o){const d=QI*o,u=l.scrollTop-(d<0?Math.floor(d):Math.ceil(d));this._verticalScrollbar.writeScrollPosition(h,u)}if(r){const d=QI*r,u=l.scrollLeft-(d<0?Math.floor(d):Math.ceil(d));this._horizontalScrollbar.writeScrollPosition(h,u)}h=this._scrollable.validateScrollPosition(h),(l.scrollLeft!==h.scrollLeft||l.scrollTop!==h.scrollTop)&&(this._options.mouseWheelSmoothScroll&&i.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(h):this._scrollable.setScrollPositionNow(h),s=!0)}let n=s;!n&&this._options.alwaysConsumeMouseWheel&&(n=!0),!n&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(n=!0),n&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),i=e.scrollTop>0,s=e.scrollLeft>0,n=s?" left":"",o=i?" top":"",r=s||i?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${n}`),this._topShadowDomNode.setClassName(`shadow${o}`),this._topLeftShadowDomNode.setClassName(`shadow${r}${o}${n}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),Lj)}}class Rj extends PD{static{Gn(this,"ScrollableElement")}constructor(e,i){i=i||{},i.mouseWheelSmoothScroll=!1;const s=new S1({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:Gn(n=>no(be(e),n),"scheduleAtNextAnimationFrame")});super(e,i,s),this._register(s)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class GR extends PD{static{Gn(this,"SmoothScrollableElement")}constructor(e,i,s){super(e,i,s)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class RD extends PD{static{Gn(this,"DomScrollableElement")}_element;constructor(e,i){i=i||{},i.mouseWheelSmoothScroll=!1;const s=new S1({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:Gn(n=>no(be(e),n),"scheduleAtNextAnimationFrame")});super(e,i,s),this._register(s),this._element=e,this._register(this.onScroll(n=>{n.scrollTopChanged&&(this._element.scrollTop=n.scrollTop),n.scrollLeftChanged&&(this._element.scrollLeft=n.scrollLeft)})),this.scanDomNode()}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function jR(t){const e={lazyRender:typeof t.lazyRender<"u"?t.lazyRender:!1,className:typeof t.className<"u"?t.className:"",useShadows:typeof t.useShadows<"u"?t.useShadows:!0,handleMouseWheel:typeof t.handleMouseWheel<"u"?t.handleMouseWheel:!0,flipAxes:typeof t.flipAxes<"u"?t.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof t.consumeMouseWheelIfScrollbarIsNeeded<"u"?t.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof t.alwaysConsumeMouseWheel<"u"?t.alwaysConsumeMouseWheel:!1,scrollYToX:typeof t.scrollYToX<"u"?t.scrollYToX:!1,mouseWheelScrollSensitivity:typeof t.mouseWheelScrollSensitivity<"u"?t.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof t.fastScrollSensitivity<"u"?t.fastScrollSensitivity:5,scrollPredominantAxis:typeof t.scrollPredominantAxis<"u"?t.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof t.mouseWheelSmoothScroll<"u"?t.mouseWheelSmoothScroll:!0,arrowSize:typeof t.arrowSize<"u"?t.arrowSize:11,listenOnDomNode:typeof t.listenOnDomNode<"u"?t.listenOnDomNode:null,horizontal:typeof t.horizontal<"u"?t.horizontal:Jt.Auto,horizontalScrollbarSize:typeof t.horizontalScrollbarSize<"u"?t.horizontalScrollbarSize:10,horizontalSliderSize:typeof t.horizontalSliderSize<"u"?t.horizontalSliderSize:0,horizontalHasArrows:typeof t.horizontalHasArrows<"u"?t.horizontalHasArrows:!1,vertical:typeof t.vertical<"u"?t.vertical:Jt.Auto,verticalScrollbarSize:typeof t.verticalScrollbarSize<"u"?t.verticalScrollbarSize:10,verticalHasArrows:typeof t.verticalHasArrows<"u"?t.verticalHasArrows:!1,verticalSliderSize:typeof t.verticalSliderSize<"u"?t.verticalSliderSize:0,scrollByPage:typeof t.scrollByPage<"u"?t.scrollByPage:!1};return e.horizontalSliderSize=typeof t.horizontalSliderSize<"u"?t.horizontalSliderSize:e.horizontalScrollbarSize,e.verticalSliderSize=typeof t.verticalSliderSize<"u"?t.verticalSliderSize:e.verticalScrollbarSize,He&&(e.className+=" mac"),e}Gn(jR,"resolveOptions");var Nj=Object.defineProperty,Qo=(t,e)=>Nj(t,"name",{value:e,configurable:!0});const Oj={separatorBorder:k.transparent};var Lr=(t=>(t[t.Normal=0]="Normal",t[t.Low=1]="Low",t[t.High=2]="High",t))(Lr||{});class qR{constructor(e,i,s,n){this.container=e,this.view=i,this.disposable=n,typeof s=="number"?(this._size=s,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=s.cachedVisibleSize)}static{Qo(this,"ViewItem")}_size;set size(e){this._size=e}get size(){return this._size}_cachedVisibleSize=void 0;get cachedVisibleSize(){return this._cachedVisibleSize}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(e,i){if(e!==this.visible){e?(this.size=$s(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof i=="number"?i:this.size,this.size=0),this.container.classList.toggle("visible",e);try{this.view.setVisible?.(e)}catch(s){console.error("Splitview: Failed to set visible view"),console.error(s)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){return this.view.proportionalLayout??!0}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,i){this.layoutContainer(e);try{this.view.layout(this.size,e,i)}catch(s){console.error("Splitview: Failed to layout view"),console.error(s)}}dispose(){this.disposable.dispose()}}class Bj extends qR{static{Qo(this,"VerticalViewItem")}layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class Mj extends qR{static{Qo(this,"HorizontalViewItem")}layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var Kn;(t=>{t.Distribute={type:"distribute"};function e(n){return{type:"split",index:n}}t.Split=e,Qo(e,"Split");function i(n){return{type:"auto",index:n}}t.Auto=i,Qo(i,"Auto");function s(n){return{type:"invisible",cachedVisibleSize:n}}t.Invisible=s,Qo(s,"Invisible")})(Kn||(Kn={}));class dp extends q{static{Qo(this,"SplitView")}orientation;el;sashContainer;viewContainer;scrollable;scrollableElement;size=0;layoutContext;_contentSize=0;proportions=void 0;viewItems=[];sashItems=[];sashDragState;state=0;inverseAltBehavior;proportionalLayout;getSashOrthogonalSize;_onDidSashChange=this._register(new I);_onDidSashReset=this._register(new I);_orthogonalStartSash;_orthogonalEndSash;_startSnappingEnabled=!0;_endSnappingEnabled=!0;get contentSize(){return this._contentSize}onDidSashChange=this._onDidSashChange.event;onDidSashReset=this._onDidSashReset.event;onDidScroll;get length(){return this.viewItems.length}get minimumSize(){return this.viewItems.reduce((e,i)=>e+i.minimumSize,0)}get maximumSize(){return this.length===0?Number.POSITIVE_INFINITY:this.viewItems.reduce((e,i)=>e+i.maximumSize,0)}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(e){for(const i of this.sashItems)i.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}set orthogonalEndSash(e){for(const i of this.sashItems)i.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}get sashes(){return this.sashItems.map(e=>e.sash)}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}constructor(e,i={}){super(),this.orientation=i.orientation??ge.VERTICAL,this.inverseAltBehavior=i.inverseAltBehavior??!1,this.proportionalLayout=i.proportionalLayout??!0,this.getSashOrthogonalSize=i.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===ge.VERTICAL?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=we(this.el,de(".sash-container")),this.viewContainer=de(".split-view-container"),this.scrollable=this._register(new S1({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:Qo(n=>no(be(this.el),n),"scheduleAtNextAnimationFrame")})),this.scrollableElement=this._register(new GR(this.viewContainer,{vertical:this.orientation===ge.VERTICAL?i.scrollbarVisibility??Jt.Auto:Jt.Hidden,horizontal:this.orientation===ge.HORIZONTAL?i.scrollbarVisibility??Jt.Auto:Jt.Hidden},this.scrollable));const s=this._register(new $e(this.viewContainer,"scroll")).event;this._register(s(n=>{const o=this.scrollableElement.getScrollPosition(),r=Math.abs(this.viewContainer.scrollLeft-o.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,a=Math.abs(this.viewContainer.scrollTop-o.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(r!==void 0||a!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:r,scrollTop:a})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(n=>{n.scrollTopChanged&&(this.viewContainer.scrollTop=n.scrollTop),n.scrollLeftChanged&&(this.viewContainer.scrollLeft=n.scrollLeft)})),we(this.el,this.scrollableElement.getDomNode()),this.style(i.styles||Oj),i.descriptor&&(this.size=i.descriptor.size,i.descriptor.views.forEach((n,o)=>{const r=xo(n.visible)||n.visible?n.size:{type:"invisible",cachedVisibleSize:n.size},a=n.view;this.doAddView(a,r,o,!0)}),this._contentSize=this.viewItems.reduce((n,o)=>n+o.size,0),this.saveProportions())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,i,s=this.viewItems.length,n){this.doAddView(e,i,s,n)}removeView(e,i){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{i?.type==="auto"&&(this.areViewsDistributed()?i={type:"distribute"}:i={type:"split",index:i.index});const s=i?.type==="split"?this.viewItems[i.index]:void 0,n=this.viewItems.splice(e,1)[0];if(s&&(s.size+=n.size),this.viewItems.length>=1){const r=Math.max(e-1,0);this.sashItems.splice(r,1)[0].disposable.dispose()}this.relayout(),i?.type==="distribute"&&this.distributeViewSizes();const o=n.view;return n.dispose(),o}finally{this.state=0}}removeAllViews(){if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{const e=this.viewItems.splice(0,this.viewItems.length);for(const s of e)s.dispose();const i=this.sashItems.splice(0,this.sashItems.length);for(const s of i)s.disposable.dispose();return this.relayout(),e.map(s=>s.view)}finally{this.state=0}}moveView(e,i){if(this.state!==0)throw new Error("Cant modify splitview");const s=this.getViewCachedVisibleSize(e),n=typeof s>"u"?this.getViewSize(e):Kn.Invisible(s),o=this.removeView(e);this.addView(o,n,i)}swapViews(e,i){if(this.state!==0)throw new Error("Cant modify splitview");if(e>i)return this.swapViews(i,e);const s=this.getViewSize(e),n=this.getViewSize(i),o=this.removeView(i),r=this.removeView(e);this.addView(o,s,e),this.addView(r,n,i)}isViewVisible(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].visible}setViewVisible(e,i){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");this.viewItems[e].setVisible(i),this.distributeEmptySpace(e),this.layoutViews(),this.saveProportions()}getViewCachedVisibleSize(e){if(e<0||e>=this.viewItems.length)throw new Error("Index out of bounds");return this.viewItems[e].cachedVisibleSize}layout(e,i){const s=Math.max(this.size,this._contentSize);if(this.size=e,this.layoutContext=i,this.proportions){let n=0;for(let o=0;o<this.viewItems.length;o++){const r=this.viewItems[o],a=this.proportions[o];typeof a=="number"?n+=a:e-=r.size}for(let o=0;o<this.viewItems.length;o++){const r=this.viewItems[o],a=this.proportions[o];typeof a=="number"&&n>0&&(r.size=$s(Math.round(a*e/n),r.minimumSize,r.maximumSize))}}else{const n=Ds(this.viewItems.length),o=n.filter(a=>this.viewItems[a].priority===1),r=n.filter(a=>this.viewItems[a].priority===2);this.resize(this.viewItems.length-1,e-s,void 0,o,r)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(e=>e.proportionalLayout&&e.visible?e.size/this._contentSize:void 0))}onSashStart({sash:e,start:i,alt:s}){for(const a of this.viewItems)a.enabled=!1;const n=this.sashItems.findIndex(a=>a.sash===e),o=Hr(N(this.el.ownerDocument.body,"keydown",a=>r(this.sashDragState.current,a.altKey)),N(this.el.ownerDocument.body,"keyup",()=>r(this.sashDragState.current,!1))),r=Qo((a,l)=>{const h=this.viewItems.map(m=>m.size);let d=Number.NEGATIVE_INFINITY,u=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(l=!l),l)if(n===this.sashItems.length-1){const b=this.viewItems[n];d=(b.minimumSize-b.size)/2,u=(b.maximumSize-b.size)/2}else{const b=this.viewItems[n+1];d=(b.size-b.maximumSize)/2,u=(b.size-b.minimumSize)/2}let g,p;if(!l){const m=Ds(n,-1),b=Ds(n+1,this.viewItems.length),C=m.reduce((z,se)=>z+(this.viewItems[se].minimumSize-h[se]),0),x=m.reduce((z,se)=>z+(this.viewItems[se].viewMaximumSize-h[se]),0),E=b.length===0?Number.POSITIVE_INFINITY:b.reduce((z,se)=>z+(h[se]-this.viewItems[se].minimumSize),0),F=b.length===0?Number.NEGATIVE_INFINITY:b.reduce((z,se)=>z+(h[se]-this.viewItems[se].viewMaximumSize),0),B=Math.max(C,F),M=Math.min(E,x),X=this.findFirstSnapIndex(m),ee=this.findFirstSnapIndex(b);if(typeof X=="number"){const z=this.viewItems[X],se=Math.floor(z.viewMinimumSize/2);g={index:X,limitDelta:z.visible?B-se:B+se,size:z.size}}if(typeof ee=="number"){const z=this.viewItems[ee],se=Math.floor(z.viewMinimumSize/2);p={index:ee,limitDelta:z.visible?M+se:M-se,size:z.size}}}this.sashDragState={start:a,current:a,index:n,sizes:h,minDelta:d,maxDelta:u,alt:l,snapBefore:g,snapAfter:p,disposable:o}},"resetSashDragState");r(i,s)}onSashChange({current:e}){const{index:i,start:s,sizes:n,alt:o,minDelta:r,maxDelta:a,snapBefore:l,snapAfter:h}=this.sashDragState;this.sashDragState.current=e;const d=e-s,u=this.resize(i,d,n,void 0,void 0,r,a,l,h);if(o){const g=i===this.sashItems.length-1,p=this.viewItems.map(F=>F.size),m=g?i:i+1,b=this.viewItems[m],C=b.size-b.maximumSize,x=b.size-b.minimumSize,E=g?i-1:i+1;this.resize(E,-u,p,void 0,void 0,C,x)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const i of this.viewItems)i.enabled=!0}onViewChange(e,i){const s=this.viewItems.indexOf(e);s<0||s>=this.viewItems.length||(i=typeof i=="number"?i:e.size,i=$s(i,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&s>0?(this.resize(s-1,Math.floor((e.size-i)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=i,this.relayout([s],void 0)))}resizeView(e,i){if(!(e<0||e>=this.viewItems.length)){if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{const s=Ds(this.viewItems.length).filter(a=>a!==e),n=[...s.filter(a=>this.viewItems[a].priority===1),e],o=s.filter(a=>this.viewItems[a].priority===2),r=this.viewItems[e];i=Math.round(i),i=$s(i,r.minimumSize,Math.min(r.maximumSize,this.size)),r.size=i,this.relayout(n,o)}finally{this.state=0}}}isViewExpanded(e){if(e<0||e>=this.viewItems.length)return!1;for(const i of this.viewItems)if(i!==this.viewItems[e]&&i.size>i.minimumSize)return!1;return!0}distributeViewSizes(){const e=[];let i=0;for(const a of this.viewItems)a.maximumSize-a.minimumSize>0&&(e.push(a),i+=a.size);const s=Math.floor(i/e.length);for(const a of e)a.size=$s(s,a.minimumSize,a.maximumSize);const n=Ds(this.viewItems.length),o=n.filter(a=>this.viewItems[a].priority===1),r=n.filter(a=>this.viewItems[a].priority===2);this.relayout(o,r)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,i,s=this.viewItems.length,n){if(this.state!==0)throw new Error("Cant modify splitview");this.state=1;try{const o=de(".split-view-view");s===this.viewItems.length?this.viewContainer.appendChild(o):this.viewContainer.insertBefore(o,this.viewContainer.children.item(s));const r=e.onDidChange(g=>this.onViewChange(d,g)),a=Se(()=>o.remove()),l=Hr(r,a);let h;typeof i=="number"?h=i:(i.type==="auto"&&(this.areViewsDistributed()?i={type:"distribute"}:i={type:"split",index:i.index}),i.type==="split"?h=this.getViewSize(i.index)/2:i.type==="invisible"?h={cachedVisibleSize:i.cachedVisibleSize}:h=e.minimumSize);const d=this.orientation===ge.VERTICAL?new Bj(o,e,h,l):new Mj(o,e,h,l);if(this.viewItems.splice(s,0,d),this.viewItems.length>1){const g={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},p=this.orientation===ge.VERTICAL?new Ao(this.sashContainer,{getHorizontalSashTop:Qo(z=>this.getSashPosition(z),"getHorizontalSashTop"),getHorizontalSashWidth:this.getSashOrthogonalSize},{...g,orientation:ge.HORIZONTAL}):new Ao(this.sashContainer,{getVerticalSashLeft:Qo(z=>this.getSashPosition(z),"getVerticalSashLeft"),getVerticalSashHeight:this.getSashOrthogonalSize},{...g,orientation:ge.VERTICAL}),m=this.orientation===ge.VERTICAL?z=>({sash:p,start:z.startY,current:z.currentY,alt:z.altKey}):z=>({sash:p,start:z.startX,current:z.currentX,alt:z.altKey}),C=R.map(p.onDidStart,m)(this.onSashStart,this),E=R.map(p.onDidChange,m)(this.onSashChange,this),B=R.map(p.onDidEnd,()=>this.sashItems.findIndex(z=>z.sash===p))(this.onSashEnd,this),M=p.onDidReset(()=>{const z=this.sashItems.findIndex(Wt=>Wt.sash===p),se=Ds(z,-1),Re=Ds(z+1,this.viewItems.length),oe=this.findFirstSnapIndex(se),De=this.findFirstSnapIndex(Re);typeof oe=="number"&&!this.viewItems[oe].visible||typeof De=="number"&&!this.viewItems[De].visible||this._onDidSashReset.fire(z)}),X=Hr(C,E,B,M,p),ee={sash:p,disposable:X};this.sashItems.splice(s-1,0,ee)}o.appendChild(e.element);let u;typeof i!="number"&&i.type==="split"&&(u=[i.index]),n||this.relayout([s],u),!n&&typeof i!="number"&&i.type==="distribute"&&this.distributeViewSizes()}finally{this.state=0}}relayout(e,i){const s=this.viewItems.reduce((n,o)=>n+o.size,0);this.resize(this.viewItems.length-1,this.size-s,void 0,e,i),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,i,s=this.viewItems.map(d=>d.size),n,o,r=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,l,h){if(e<0||e>=this.viewItems.length)return 0;const d=Ds(e,-1),u=Ds(e+1,this.viewItems.length);if(o)for(const ee of o)Cb(d,ee),Cb(u,ee);if(n)for(const ee of n)zg(d,ee),zg(u,ee);const g=d.map(ee=>this.viewItems[ee]),p=d.map(ee=>s[ee]),m=u.map(ee=>this.viewItems[ee]),b=u.map(ee=>s[ee]),C=d.reduce((ee,z)=>ee+(this.viewItems[z].minimumSize-s[z]),0),x=d.reduce((ee,z)=>ee+(this.viewItems[z].maximumSize-s[z]),0),E=u.length===0?Number.POSITIVE_INFINITY:u.reduce((ee,z)=>ee+(s[z]-this.viewItems[z].minimumSize),0),F=u.length===0?Number.NEGATIVE_INFINITY:u.reduce((ee,z)=>ee+(s[z]-this.viewItems[z].maximumSize),0),B=Math.max(C,F,r),M=Math.min(E,x,a);let X=!1;if(l){const ee=this.viewItems[l.index],z=i>=l.limitDelta;X=z!==ee.visible,ee.setVisible(z,l.size)}if(!X&&h){const ee=this.viewItems[h.index],z=i<h.limitDelta;X=z!==ee.visible,ee.setVisible(z,h.size)}if(X)return this.resize(e,i,s,n,o,r,a);i=$s(i,B,M);for(let ee=0,z=i;ee<g.length;ee++){const se=g[ee],Re=$s(p[ee]+z,se.minimumSize,se.maximumSize),oe=Re-p[ee];z-=oe,se.size=Re}for(let ee=0,z=i;ee<m.length;ee++){const se=m[ee],Re=$s(b[ee]-z,se.minimumSize,se.maximumSize),oe=Re-b[ee];z+=oe,se.size=Re}return i}distributeEmptySpace(e){const i=this.viewItems.reduce((a,l)=>a+l.size,0);let s=this.size-i;const n=Ds(this.viewItems.length-1,-1),o=n.filter(a=>this.viewItems[a].priority===1),r=n.filter(a=>this.viewItems[a].priority===2);for(const a of r)Cb(n,a);for(const a of o)zg(n,a);typeof e=="number"&&zg(n,e);for(let a=0;s!==0&&a<n.length;a++){const l=this.viewItems[n[a]],h=$s(l.size+s,l.minimumSize,l.maximumSize),d=h-l.size;s-=d,l.size=h}}layoutViews(){this._contentSize=this.viewItems.reduce((i,s)=>i+s.size,0);let e=0;for(const i of this.viewItems)i.layout(e,this.layoutContext),e+=i.size;this.sashItems.forEach(i=>i.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===ge.VERTICAL?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let e=!1;const i=this.viewItems.map(l=>e=l.size-l.minimumSize>0||e);e=!1;const s=this.viewItems.map(l=>e=l.maximumSize-l.size>0||e),n=[...this.viewItems].reverse();e=!1;const o=n.map(l=>e=l.size-l.minimumSize>0||e).reverse();e=!1;const r=n.map(l=>e=l.maximumSize-l.size>0||e).reverse();let a=0;for(let l=0;l<this.sashItems.length;l++){const{sash:h}=this.sashItems[l],d=this.viewItems[l];a+=d.size;const u=!(i[l]&&r[l+1]),g=!(s[l]&&o[l+1]);if(u&&g){const p=Ds(l,-1),m=Ds(l+1,this.viewItems.length),b=this.findFirstSnapIndex(p),C=this.findFirstSnapIndex(m),x=typeof b=="number"&&!this.viewItems[b].visible,E=typeof C=="number"&&!this.viewItems[C].visible;x&&o[l]&&(a>0||this.startSnappingEnabled)?h.state=Uc.AtMinimum:E&&i[l]&&(a<this._contentSize||this.endSnappingEnabled)?h.state=Uc.AtMaximum:h.state=Uc.Disabled}else u&&!g?h.state=Uc.AtMinimum:!u&&g?h.state=Uc.AtMaximum:h.state=Uc.Enabled}}getSashPosition(e){let i=0;for(let s=0;s<this.sashItems.length;s++)if(i+=this.viewItems[s].size,this.sashItems[s].sash===e)return i;return 0}findFirstSnapIndex(e){for(const i of e){const s=this.viewItems[i];if(s.visible&&s.snap)return i}for(const i of e){const s=this.viewItems[i];if(s.visible&&s.maximumSize-s.minimumSize>0)return;if(!s.visible&&s.snap)return i}}areViewsDistributed(){let e,i;for(const s of this.viewItems)if(e=e===void 0?s.size:Math.min(e,s.size),i=i===void 0?s.size:Math.max(i,s.size),i-e>2)return!1;return!0}dispose(){this.sashDragState?.disposable.dispose(),ai(this.viewItems),this.viewItems=[],this.sashItems.forEach(e=>e.disposable.dispose()),this.sashItems=[],super.dispose()}}var Fj=Object.defineProperty,Qn=(t,e)=>Fj(t,"name",{value:e,configurable:!0});const Vj={separatorBorder:k.transparent};function Fr(t){return t===ge.VERTICAL?ge.HORIZONTAL:ge.VERTICAL}Qn(Fr,"orthogonal");function Hj(t){return!!t.children}Qn(Hj,"isGridBranchNode");class Wj{constructor(e){this.isLayoutEnabled=e}static{Qn(this,"LayoutController")}}function YR(t,e){return e===ge.HORIZONTAL?{left:t.start,right:t.end,top:t.orthogonalStart,bottom:t.orthogonalEnd}:{top:t.start,bottom:t.end,left:t.orthogonalStart,right:t.orthogonalEnd}}Qn(YR,"toAbsoluteBoundarySashes");function XR(t,e){return e===ge.HORIZONTAL?{start:t.left,end:t.right,orthogonalStart:t.top,orthogonalEnd:t.bottom}:{start:t.top,end:t.bottom,orthogonalStart:t.left,orthogonalEnd:t.right}}Qn(XR,"fromAbsoluteBoundarySashes");function wo(t,e){if(Math.abs(t)>e)throw new Error("Invalid index");return Bx(t,e+1)}Qn(wo,"validateIndex");class wi{constructor(e,i,s,n,o=0,r=0,a=!1,l){if(this.orientation=e,this.layoutController=i,this.splitviewProportionalLayout=n,this._styles=s,this._size=o,this._orthogonalSize=r,this.element=de(".monaco-grid-branch-node"),l){const d={views:l.map(g=>({view:g.node,size:g.node.size,visible:g.visible!==!1})),size:this.orthogonalSize},u={proportionalLayout:n,orientation:e,styles:s};this.children=l.map(g=>g.node),this.splitview=new dp(this.element,{...u,descriptor:d}),this.children.forEach((g,p)=>{const m=p===0,b=p===this.children.length;g.boundarySashes={start:this.boundarySashes.orthogonalStart,end:this.boundarySashes.orthogonalEnd,orthogonalStart:m?this.boundarySashes.start:this.splitview.sashes[p-1],orthogonalEnd:b?this.boundarySashes.end:this.splitview.sashes[p]}})}else this.splitview=new dp(this.element,{orientation:e,styles:s,proportionalLayout:n}),this.splitview.layout(o,{orthogonalSize:r,absoluteOffset:0,absoluteOrthogonalOffset:0,absoluteSize:o,absoluteOrthogonalSize:r});const h=R.map(this.splitview.onDidSashReset,d=>[d]);this.splitviewSashResetDisposable=h(this._onDidSashReset.fire,this._onDidSashReset),this.updateChildrenEvents()}static{Qn(this,"BranchNode")}element;children=[];splitview;_size;get size(){return this._size}_orthogonalSize;get orthogonalSize(){return this._orthogonalSize}_absoluteOffset=0;get absoluteOffset(){return this._absoluteOffset}_absoluteOrthogonalOffset=0;get absoluteOrthogonalOffset(){return this._absoluteOrthogonalOffset}absoluteOrthogonalSize=0;_styles;get styles(){return this._styles}get width(){return this.orientation===ge.HORIZONTAL?this.size:this.orthogonalSize}get height(){return this.orientation===ge.HORIZONTAL?this.orthogonalSize:this.size}get top(){return this.orientation===ge.HORIZONTAL?this._absoluteOffset:this._absoluteOrthogonalOffset}get left(){return this.orientation===ge.HORIZONTAL?this._absoluteOrthogonalOffset:this._absoluteOffset}get minimumSize(){return this.children.length===0?0:Math.max(...this.children.map((e,i)=>this.splitview.isViewVisible(i)?e.minimumOrthogonalSize:0))}get maximumSize(){return Math.min(...this.children.map((e,i)=>this.splitview.isViewVisible(i)?e.maximumOrthogonalSize:Number.POSITIVE_INFINITY))}get priority(){if(this.children.length===0)return Lr.Normal;const e=this.children.map(i=>typeof i.priority>"u"?Lr.Normal:i.priority);return e.some(i=>i===Lr.High)?Lr.High:e.some(i=>i===Lr.Low)?Lr.Low:Lr.Normal}get proportionalLayout(){return this.children.length===0?!0:this.children.every(e=>e.proportionalLayout)}get minimumOrthogonalSize(){return this.splitview.minimumSize}get maximumOrthogonalSize(){return this.splitview.maximumSize}get minimumWidth(){return this.orientation===ge.HORIZONTAL?this.minimumOrthogonalSize:this.minimumSize}get minimumHeight(){return this.orientation===ge.HORIZONTAL?this.minimumSize:this.minimumOrthogonalSize}get maximumWidth(){return this.orientation===ge.HORIZONTAL?this.maximumOrthogonalSize:this.maximumSize}get maximumHeight(){return this.orientation===ge.HORIZONTAL?this.maximumSize:this.maximumOrthogonalSize}_onDidChange=new I;onDidChange=this._onDidChange.event;_onDidVisibilityChange=new I;onDidVisibilityChange=this._onDidVisibilityChange.event;childrenVisibilityChangeDisposable=new Z;_onDidScroll=new I;onDidScrollDisposable=q.None;onDidScroll=this._onDidScroll.event;childrenChangeDisposable=q.None;_onDidSashReset=new I;onDidSashReset=this._onDidSashReset.event;splitviewSashResetDisposable=q.None;childrenSashResetDisposable=q.None;_boundarySashes={};get boundarySashes(){return this._boundarySashes}set boundarySashes(e){if(!(this._boundarySashes.start===e.start&&this._boundarySashes.end===e.end&&this._boundarySashes.orthogonalStart===e.orthogonalStart&&this._boundarySashes.orthogonalEnd===e.orthogonalEnd)){this._boundarySashes=e,this.splitview.orthogonalStartSash=e.orthogonalStart,this.splitview.orthogonalEndSash=e.orthogonalEnd;for(let i=0;i<this.children.length;i++){const s=this.children[i],n=i===0,o=i===this.children.length-1;s.boundarySashes={start:e.orthogonalStart,end:e.orthogonalEnd,orthogonalStart:n?e.start:s.boundarySashes.orthogonalStart,orthogonalEnd:o?e.end:s.boundarySashes.orthogonalEnd}}}}_edgeSnapping=!1;get edgeSnapping(){return this._edgeSnapping}set edgeSnapping(e){if(this._edgeSnapping!==e){this._edgeSnapping=e;for(const i of this.children)i instanceof wi&&(i.edgeSnapping=e);this.updateSplitviewEdgeSnappingEnablement()}}style(e){this._styles=e,this.splitview.style(e);for(const i of this.children)i instanceof wi&&i.style(e)}layout(e,i,s){if(this.layoutController.isLayoutEnabled){if(typeof s>"u")throw new Error("Invalid state");this._size=s.orthogonalSize,this._orthogonalSize=e,this._absoluteOffset=s.absoluteOffset+i,this._absoluteOrthogonalOffset=s.absoluteOrthogonalOffset,this.absoluteOrthogonalSize=s.absoluteOrthogonalSize,this.splitview.layout(s.orthogonalSize,{orthogonalSize:e,absoluteOffset:this._absoluteOrthogonalOffset,absoluteOrthogonalOffset:this._absoluteOffset,absoluteSize:s.absoluteOrthogonalSize,absoluteOrthogonalSize:s.absoluteSize}),this.updateSplitviewEdgeSnappingEnablement()}}setVisible(e){for(const i of this.children)i.setVisible(e)}addChild(e,i,s,n){s=wo(s,this.children.length),this.splitview.addView(e,i,s,n),this.children.splice(s,0,e),this.updateBoundarySashes(),this.onDidChildrenChange()}removeChild(e,i){e=wo(e,this.children.length);const s=this.splitview.removeView(e,i);return this.children.splice(e,1),this.updateBoundarySashes(),this.onDidChildrenChange(),s}removeAllChildren(){const e=this.splitview.removeAllViews();return this.children.splice(0,this.children.length),this.updateBoundarySashes(),this.onDidChildrenChange(),e}moveChild(e,i){e=wo(e,this.children.length),i=wo(i,this.children.length),e!==i&&(e<i&&(i-=1),this.splitview.moveView(e,i),this.children.splice(i,0,this.children.splice(e,1)[0]),this.updateBoundarySashes(),this.onDidChildrenChange())}swapChildren(e,i){e=wo(e,this.children.length),i=wo(i,this.children.length),e!==i&&(this.splitview.swapViews(e,i),[this.children[e].boundarySashes,this.children[i].boundarySashes]=[this.children[e].boundarySashes,this.children[i].boundarySashes],[this.children[e],this.children[i]]=[this.children[i],this.children[e]],this.onDidChildrenChange())}resizeChild(e,i){e=wo(e,this.children.length),this.splitview.resizeView(e,i)}isChildExpanded(e){return this.splitview.isViewExpanded(e)}distributeViewSizes(e=!1){if(this.splitview.distributeViewSizes(),e)for(const i of this.children)i instanceof wi&&i.distributeViewSizes(!0)}getChildSize(e){return e=wo(e,this.children.length),this.splitview.getViewSize(e)}isChildVisible(e){return e=wo(e,this.children.length),this.splitview.isViewVisible(e)}setChildVisible(e,i){if(e=wo(e,this.children.length),this.splitview.isViewVisible(e)===i)return;const s=this.splitview.contentSize===0;this.splitview.setViewVisible(e,i);const n=this.splitview.contentSize===0;(i&&s||!i&&n)&&this._onDidVisibilityChange.fire(i)}getChildCachedVisibleSize(e){return e=wo(e,this.children.length),this.splitview.getViewCachedVisibleSize(e)}updateBoundarySashes(){for(let e=0;e<this.children.length;e++)this.children[e].boundarySashes={start:this.boundarySashes.orthogonalStart,end:this.boundarySashes.orthogonalEnd,orthogonalStart:e===0?this.boundarySashes.start:this.splitview.sashes[e-1],orthogonalEnd:e===this.children.length-1?this.boundarySashes.end:this.splitview.sashes[e]}}onDidChildrenChange(){this.updateChildrenEvents(),this._onDidChange.fire(void 0)}updateChildrenEvents(){const e=R.map(R.any(...this.children.map(n=>n.onDidChange)),()=>{});this.childrenChangeDisposable.dispose(),this.childrenChangeDisposable=e(this._onDidChange.fire,this._onDidChange);const i=R.any(...this.children.map((n,o)=>R.map(n.onDidSashReset,r=>[o,...r])));this.childrenSashResetDisposable.dispose(),this.childrenSashResetDisposable=i(this._onDidSashReset.fire,this._onDidSashReset);const s=R.any(R.signal(this.splitview.onDidScroll),...this.children.map(n=>n.onDidScroll));this.onDidScrollDisposable.dispose(),this.onDidScrollDisposable=s(this._onDidScroll.fire,this._onDidScroll),this.childrenVisibilityChangeDisposable.clear(),this.children.forEach((n,o)=>{n instanceof wi&&this.childrenVisibilityChangeDisposable.add(n.onDidVisibilityChange(r=>{this.setChildVisible(o,r)}))})}trySet2x2(e){if(this.children.length!==2||e.children.length!==2||this.getChildSize(0)!==e.getChildSize(0))return q.None;const[i,s]=this.children,[n,o]=e.children;if(!(i instanceof Ki)||!(s instanceof Ki)||!(n instanceof Ki)||!(o instanceof Ki))return q.None;this.orientation===ge.VERTICAL?(s.linkedWidthNode=n.linkedHeightNode=i,i.linkedWidthNode=o.linkedHeightNode=s,o.linkedWidthNode=i.linkedHeightNode=n,n.linkedWidthNode=s.linkedHeightNode=o):(n.linkedWidthNode=s.linkedHeightNode=i,o.linkedWidthNode=i.linkedHeightNode=s,i.linkedWidthNode=o.linkedHeightNode=n,s.linkedWidthNode=n.linkedHeightNode=o);const r=this.splitview.sashes[0],a=e.splitview.sashes[0];return r.linkedSash=a,a.linkedSash=r,this._onDidChange.fire(void 0),e._onDidChange.fire(void 0),Se(()=>{r.linkedSash=a.linkedSash=void 0,i.linkedHeightNode=i.linkedWidthNode=void 0,s.linkedHeightNode=s.linkedWidthNode=void 0,n.linkedHeightNode=n.linkedWidthNode=void 0,o.linkedHeightNode=o.linkedWidthNode=void 0})}updateSplitviewEdgeSnappingEnablement(){this.splitview.startSnappingEnabled=this._edgeSnapping||this._absoluteOrthogonalOffset>0,this.splitview.endSnappingEnabled=this._edgeSnapping||this._absoluteOrthogonalOffset+this._size<this.absoluteOrthogonalSize}dispose(){for(const e of this.children)e.dispose();this._onDidChange.dispose(),this._onDidSashReset.dispose(),this._onDidVisibilityChange.dispose(),this.childrenVisibilityChangeDisposable.dispose(),this.splitviewSashResetDisposable.dispose(),this.childrenSashResetDisposable.dispose(),this.childrenChangeDisposable.dispose(),this.onDidScrollDisposable.dispose(),this.splitview.dispose()}}function ZR(t){const[e,i]=R.split(t.onDidChange,xo);return R.any(i,R.map(R.latch(R.map(e,s=>[t.minimumWidth,t.maximumWidth,t.minimumHeight,t.maximumHeight]),Pn),s=>{}))}Qn(ZR,"createLatchedOnDidChangeViewEvent");class Ki{constructor(e,i,s,n,o=0){this.view=e,this.orientation=i,this.layoutController=s,this._orthogonalSize=n,this._size=o;const r=ZR(e);this._onDidViewChange=R.map(r,a=>a&&(this.orientation===ge.VERTICAL?a.width:a.height),this.disposables),this.onDidChange=R.any(this._onDidViewChange,this._onDidSetLinkedNode.event,this._onDidLinkedWidthNodeChange.event,this._onDidLinkedHeightNodeChange.event)}static{Qn(this,"LeafNode")}_size=0;get size(){return this._size}_orthogonalSize;get orthogonalSize(){return this._orthogonalSize}absoluteOffset=0;absoluteOrthogonalOffset=0;onDidScroll=R.None;onDidSashReset=R.None;_onDidLinkedWidthNodeChange=new Rr;_linkedWidthNode=void 0;get linkedWidthNode(){return this._linkedWidthNode}set linkedWidthNode(e){this._onDidLinkedWidthNodeChange.input=e?e._onDidViewChange:R.None,this._linkedWidthNode=e,this._onDidSetLinkedNode.fire(void 0)}_onDidLinkedHeightNodeChange=new Rr;_linkedHeightNode=void 0;get linkedHeightNode(){return this._linkedHeightNode}set linkedHeightNode(e){this._onDidLinkedHeightNodeChange.input=e?e._onDidViewChange:R.None,this._linkedHeightNode=e,this._onDidSetLinkedNode.fire(void 0)}_onDidSetLinkedNode=new I;_onDidViewChange;onDidChange;disposables=new Z;get width(){return this.orientation===ge.HORIZONTAL?this.orthogonalSize:this.size}get height(){return this.orientation===ge.HORIZONTAL?this.size:this.orthogonalSize}get top(){return this.orientation===ge.HORIZONTAL?this.absoluteOffset:this.absoluteOrthogonalOffset}get left(){return this.orientation===ge.HORIZONTAL?this.absoluteOrthogonalOffset:this.absoluteOffset}get element(){return this.view.element}get minimumWidth(){return this.linkedWidthNode?Math.max(this.linkedWidthNode.view.minimumWidth,this.view.minimumWidth):this.view.minimumWidth}get maximumWidth(){return this.linkedWidthNode?Math.min(this.linkedWidthNode.view.maximumWidth,this.view.maximumWidth):this.view.maximumWidth}get minimumHeight(){return this.linkedHeightNode?Math.max(this.linkedHeightNode.view.minimumHeight,this.view.minimumHeight):this.view.minimumHeight}get maximumHeight(){return this.linkedHeightNode?Math.min(this.linkedHeightNode.view.maximumHeight,this.view.maximumHeight):this.view.maximumHeight}get minimumSize(){return this.orientation===ge.HORIZONTAL?this.minimumHeight:this.minimumWidth}get maximumSize(){return this.orientation===ge.HORIZONTAL?this.maximumHeight:this.maximumWidth}get priority(){return this.view.priority}get proportionalLayout(){return this.view.proportionalLayout??!0}get snap(){return this.view.snap}get minimumOrthogonalSize(){return this.orientation===ge.HORIZONTAL?this.minimumWidth:this.minimumHeight}get maximumOrthogonalSize(){return this.orientation===ge.HORIZONTAL?this.maximumWidth:this.maximumHeight}_boundarySashes={};get boundarySashes(){return this._boundarySashes}set boundarySashes(e){this._boundarySashes=e,this.view.setBoundarySashes?.(YR(e,this.orientation))}layout(e,i,s){if(this.layoutController.isLayoutEnabled){if(typeof s>"u")throw new Error("Invalid state");this._size=e,this._orthogonalSize=s.orthogonalSize,this.absoluteOffset=s.absoluteOffset+i,this.absoluteOrthogonalOffset=s.absoluteOrthogonalOffset,this._layout(this.width,this.height,this.top,this.left)}}cachedWidth=0;cachedHeight=0;cachedTop=0;cachedLeft=0;_layout(e,i,s,n){this.cachedWidth===e&&this.cachedHeight===i&&this.cachedTop===s&&this.cachedLeft===n||(this.cachedWidth=e,this.cachedHeight=i,this.cachedTop=s,this.cachedLeft=n,this.view.layout(e,i,s,n))}setVisible(e){this.view.setVisible?.(e)}dispose(){this.disposables.dispose()}}function ND(t,e,i){if(t instanceof wi){const s=new wi(Fr(t.orientation),t.layoutController,t.styles,t.splitviewProportionalLayout,e,i,t.edgeSnapping);let n=0;for(let o=t.children.length-1;o>=0;o--){const r=t.children[o],a=r instanceof wi?r.orthogonalSize:r.size;let l=t.size===0?0:Math.round(e*a/t.size);n+=l,o===0&&(l+=e-n),s.addChild(ND(r,i,l),l,0,!0)}return t.dispose(),s}else{const s=new Ki(t.view,Fr(t.orientation),t.layoutController,i);return t.dispose(),s}}Qn(ND,"flipNode");class iu{static{Qn(this,"GridView")}element;styles;proportionalLayout;_root;onDidSashResetRelay=new Rr;_onDidScroll=new Rr;_onDidChange=new Rr;_boundarySashes={};layoutController;disposable2x2=q.None;get root(){return this._root}set root(e){const i=this._root;i&&(i.element.remove(),i.dispose()),this._root=e,this.element.appendChild(e.element),this.onDidSashResetRelay.input=e.onDidSashReset,this._onDidChange.input=R.map(e.onDidChange,()=>{}),this._onDidScroll.input=e.onDidScroll}onDidSashReset=this.onDidSashResetRelay.event;onDidScroll=this._onDidScroll.event;onDidChange=this._onDidChange.event;get width(){return this.root.width}get height(){return this.root.height}get minimumWidth(){return this.root.minimumWidth}get minimumHeight(){return this.root.minimumHeight}get maximumWidth(){return this.root.maximumHeight}get maximumHeight(){return this.root.maximumHeight}get orientation(){return this._root.orientation}get boundarySashes(){return this._boundarySashes}set orientation(e){if(this._root.orientation===e)return;const{size:i,orthogonalSize:s,absoluteOffset:n,absoluteOrthogonalOffset:o}=this._root;this.root=ND(this._root,s,i),this.root.layout(i,0,{orthogonalSize:s,absoluteOffset:o,absoluteOrthogonalOffset:n,absoluteSize:i,absoluteOrthogonalSize:s}),this.boundarySashes=this.boundarySashes}set boundarySashes(e){this._boundarySashes=e,this.root.boundarySashes=XR(e,this.orientation)}set edgeSnapping(e){this.root.edgeSnapping=e}maximizedNode=void 0;_onDidChangeViewMaximized=new I;onDidChangeViewMaximized=this._onDidChangeViewMaximized.event;constructor(e={}){this.element=de(".monaco-grid-view"),this.styles=e.styles||Vj,this.proportionalLayout=typeof e.proportionalLayout<"u"?!!e.proportionalLayout:!0,this.layoutController=new Wj(!1),this.root=new wi(ge.VERTICAL,this.layoutController,this.styles,this.proportionalLayout)}style(e){this.styles=e,this.root.style(e)}layout(e,i,s=0,n=0){this.layoutController.isLayoutEnabled=!0;const[o,r,a,l]=this.root.orientation===ge.HORIZONTAL?[i,e,s,n]:[e,i,n,s];this.root.layout(o,0,{orthogonalSize:r,absoluteOffset:a,absoluteOrthogonalOffset:l,absoluteSize:o,absoluteOrthogonalSize:r})}addView(e,i,s){this.hasMaximizedView()&&this.exitMaximizedView(),this.disposable2x2.dispose(),this.disposable2x2=q.None;const[n,o]=Ei(s),[r,a]=this.getNode(n);if(a instanceof wi){const l=new Ki(e,Fr(a.orientation),this.layoutController,a.orthogonalSize);try{a.addChild(l,i,o)}catch(h){throw l.dispose(),h}}else{const[,l]=Ei(r),[,h]=Ei(n);let d=0;const u=l.getChildCachedVisibleSize(h);typeof u=="number"&&(d=Kn.Invisible(u)),l.removeChild(h).dispose();const p=new wi(a.orientation,a.layoutController,this.styles,this.proportionalLayout,a.size,a.orthogonalSize,l.edgeSnapping);l.addChild(p,a.size,h);const m=new Ki(a.view,l.orientation,this.layoutController,a.size);p.addChild(m,d,0),typeof i!="number"&&i.type==="split"&&(i=Kn.Split(0));const b=new Ki(e,l.orientation,this.layoutController,a.size);p.addChild(b,i,o)}this.trySet2x2()}removeView(e,i){this.hasMaximizedView()&&this.exitMaximizedView(),this.disposable2x2.dispose(),this.disposable2x2=q.None;const[s,n]=Ei(e),[o,r]=this.getNode(s);if(!(r instanceof wi))throw new Error("Invalid location");const a=r.children[n];if(!(a instanceof Ki))throw new Error("Invalid location");if(r.removeChild(n,i),a.dispose(),r.children.length===0)throw new Error("Invalid grid state");if(r.children.length>1)return this.trySet2x2(),a.view;if(o.length===0){const p=r.children[0];return p instanceof Ki||(r.removeChild(0),r.dispose(),this.root=p,this.boundarySashes=this.boundarySashes,this.trySet2x2()),a.view}const[,l]=Ei(o),[,h]=Ei(s),d=r.isChildVisible(0),u=r.removeChild(0),g=l.children.map((p,m)=>l.getChildSize(m));if(l.removeChild(h,i),r.dispose(),u instanceof wi){g.splice(h,1,...u.children.map(m=>m.size));const p=u.removeAllChildren();for(let m=0;m<p.length;m++)l.addChild(p[m],p[m].size,h+m)}else{const p=new Ki(u.view,Fr(u.orientation),this.layoutController,u.size),m=d?u.orthogonalSize:Kn.Invisible(u.orthogonalSize);l.addChild(p,m,h)}u.dispose();for(let p=0;p<g.length;p++)l.resizeChild(p,g[p]);return this.trySet2x2(),a.view}moveView(e,i,s){this.hasMaximizedView()&&this.exitMaximizedView();const[,n]=this.getNode(e);if(!(n instanceof wi))throw new Error("Invalid location");n.moveChild(i,s),this.trySet2x2()}swapViews(e,i){this.hasMaximizedView()&&this.exitMaximizedView();const[s,n]=Ei(e),[,o]=this.getNode(s);if(!(o instanceof wi))throw new Error("Invalid from location");const r=o.getChildSize(n),a=o.children[n];if(!(a instanceof Ki))throw new Error("Invalid from location");const[l,h]=Ei(i),[,d]=this.getNode(l);if(!(d instanceof wi))throw new Error("Invalid to location");const u=d.getChildSize(h),g=d.children[h];if(!(g instanceof Ki))throw new Error("Invalid to location");o===d?o.swapChildren(n,h):(o.removeChild(n),d.removeChild(h),o.addChild(g,r,n),d.addChild(a,u,h)),this.trySet2x2()}resizeView(e,i){this.hasMaximizedView()&&this.exitMaximizedView();const[s,n]=Ei(e),[o,r]=this.getNode(s);if(!(r instanceof wi))throw new Error("Invalid location");if(!i.width&&!i.height)return;const[a,l]=r.orientation===ge.HORIZONTAL?[i.width,i.height]:[i.height,i.width];if(typeof l=="number"&&o.length>0){const[,h]=Ei(o),[,d]=Ei(s);h.resizeChild(d,l)}typeof a=="number"&&r.resizeChild(n,a),this.trySet2x2()}getViewSize(e){if(!e)return{width:this.root.width,height:this.root.height};const[,i]=this.getNode(e);return{width:i.width,height:i.height}}getViewCachedVisibleSize(e){const[i,s]=Ei(e),[,n]=this.getNode(i);if(!(n instanceof wi))throw new Error("Invalid location");return n.getChildCachedVisibleSize(s)}expandView(e){this.hasMaximizedView()&&this.exitMaximizedView();const[i,s]=this.getNode(e);if(!(s instanceof Ki))throw new Error("Invalid location");for(let n=0;n<i.length;n++)i[n].resizeChild(e[n],Number.POSITIVE_INFINITY)}isViewExpanded(e){if(this.hasMaximizedView())return!1;const[i,s]=this.getNode(e);if(!(s instanceof Ki))throw new Error("Invalid location");for(let n=0;n<i.length;n++)if(!i[n].isChildExpanded(e[n]))return!1;return!0}maximizeView(e){const[,i]=this.getNode(e);if(!(i instanceof Ki))throw new Error("Location is not a LeafNode");if(this.maximizedNode===i)return;this.hasMaximizedView()&&this.exitMaximizedView();function s(n,o){for(let r=0;r<n.children.length;r++){const a=n.children[r];a instanceof Ki?a!==o&&n.setChildVisible(r,!1):s(a,o)}}Qn(s,"hideAllViewsBut"),s(this.root,i),this.maximizedNode=i,this._onDidChangeViewMaximized.fire(!0)}exitMaximizedView(){if(!this.maximizedNode)return;this.maximizedNode=void 0;function e(i){for(let s=i.children.length-1;s>=0;s--){const n=i.children[s];n instanceof Ki?i.setChildVisible(s,!0):e(n)}}Qn(e,"showViewsInReverseOrder"),e(this.root),this._onDidChangeViewMaximized.fire(!1)}hasMaximizedView(){return this.maximizedNode!==void 0}isViewMaximized(e){const[,i]=this.getNode(e);if(!(i instanceof Ki))throw new Error("Location is not a LeafNode");return i===this.maximizedNode}distributeViewSizes(e){if(this.hasMaximizedView()&&this.exitMaximizedView(),!e){this.root.distributeViewSizes(!0);return}const[,i]=this.getNode(e);if(!(i instanceof wi))throw new Error("Invalid location");i.distributeViewSizes(),this.trySet2x2()}isViewVisible(e){const[i,s]=Ei(e),[,n]=this.getNode(i);if(!(n instanceof wi))throw new Error("Invalid from location");return n.isChildVisible(s)}setViewVisible(e,i){if(this.hasMaximizedView()){this.exitMaximizedView();return}const[s,n]=Ei(e),[,o]=this.getNode(s);if(!(o instanceof wi))throw new Error("Invalid from location");o.setChildVisible(n,i)}getView(e){const i=e?this.getNode(e)[1]:this._root;return this._getViews(i,this.orientation)}static deserialize(e,i,s={}){if(typeof e.orientation!="number")throw new Error("Invalid JSON: 'orientation' property must be a number.");if(typeof e.width!="number")throw new Error("Invalid JSON: 'width' property must be a number.");if(typeof e.height!="number")throw new Error("Invalid JSON: 'height' property must be a number.");if(e.root?.type!=="branch")throw new Error("Invalid JSON: 'root' property must have 'type' value of branch.");const n=e.orientation,o=e.height,r=new iu(s);return r._deserialize(e.root,n,i,o),r}_deserialize(e,i,s,n){this.root=this._deserializeNode(e,i,s,n)}_deserializeNode(e,i,s,n){let o;if(e.type==="branch"){const a=e.data.map(l=>({node:this._deserializeNode(l,Fr(i),s,e.size),visible:l.visible}));o=new wi(i,this.layoutController,this.styles,this.proportionalLayout,e.size,n,void 0,a)}else o=new Ki(s.fromJSON(e.data),i,this.layoutController,n,e.size),e.maximized&&!this.maximizedNode&&(this.maximizedNode=o,this._onDidChangeViewMaximized.fire(!0));return o}_getViews(e,i,s){const n={top:e.top,left:e.left,width:e.width,height:e.height};if(e instanceof Ki)return{view:e.view,box:n,cachedVisibleSize:s,maximized:this.maximizedNode===e};const o=[];for(let r=0;r<e.children.length;r++){const a=e.children[r],l=e.getChildCachedVisibleSize(r);o.push(this._getViews(a,Fr(i),l))}return{children:o,box:n}}getNode(e,i=this.root,s=[]){if(e.length===0)return[s,i];if(!(i instanceof wi))throw new Error("Invalid location");const[n,...o]=e;if(n<0||n>=i.children.length)throw new Error("Invalid location");const r=i.children[n];return s.push(i),this.getNode(o,r,s)}trySet2x2(){if(this.disposable2x2.dispose(),this.disposable2x2=q.None,this.root.children.length!==2)return;const[e,i]=this.root.children;!(e instanceof wi)||!(i instanceof wi)||(this.disposable2x2=e.trySet2x2(i))}getViewMap(e,i){i||(i=this.root),i instanceof wi?i.children.forEach(s=>this.getViewMap(e,s)):e.set(i.view,i.element)}dispose(){this.onDidSashResetRelay.dispose(),this.root.dispose(),this.element.remove()}}var Uj=Object.defineProperty,Fi=(t,e)=>Uj(t,"name",{value:e,configurable:!0}),Ws=(t=>(t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right",t))(Ws||{});function QR(t){switch(t){case 0:return 1;case 1:return 0;case 2:return 3;case 3:return 2}}Fi(QR,"oppositeDirection");function Am(t){return!!t.children}Fi(Am,"isGridBranchNode");function OD(t,e){if(e.length===0)return t;if(!Am(t))throw new Error("Invalid location");const[i,...s]=e;return OD(t.children[i],s)}Fi(OD,"getGridNode");function JR(t,e){return!(t.start>=e.end||e.start>=t.end)}Fi(JR,"intersects");function BD(t,e){const i=W1(e),s=e===0?t.top:e===3?t.left+t.width:e===1?t.top+t.height:t.left,n={start:i===ge.HORIZONTAL?t.top:t.left,end:i===ge.HORIZONTAL?t.top+t.height:t.left+t.width};return{offset:s,range:n}}Fi(BD,"getBoxBoundary");function eN(t,e,i){const s=[];function n(o,r,a){if(Am(o))for(const l of o.children)n(l,r,a);else{const{offset:l,range:h}=BD(o.box,r);l===a.offset&&JR(h,a.range)&&s.push(o)}}return Fi(n,"_"),n(t,e,i),s}Fi(eN,"findAdjacentBoxLeafNodes");function Jv(t,e){return e.length%2===0?Fr(t):t}Fi(Jv,"getLocationOrientation");function W1(t){return t===0||t===1?ge.VERTICAL:ge.HORIZONTAL}Fi(W1,"getDirectionOrientation");function A0(t,e,i){const s=Jv(t,e),n=W1(i);if(s===n){let[o,r]=Ei(e);return(i===3||i===1)&&(r+=1),[...o,r]}else{const o=i===3||i===1?1:0;return[...e,o]}}Fi(A0,"getRelativeLocation");function tN(t){const e=t.parentElement;if(!e)throw new Error("Invalid grid element");let i=e.firstElementChild,s=0;for(;i!==t&&i!==e.lastElementChild&&i;)i=i.nextElementSibling,s++;return s}Fi(tN,"indexInParent");function MD(t){const e=t.parentElement;if(!e)throw new Error("Invalid grid element");if(/\bmonaco-grid-view\b/.test(e.className))return[];const i=tN(e),s=e.parentElement.parentElement.parentElement.parentElement;return[...MD(s),i]}Fi(MD,"getGridLocation");var xl;(t=>{t.Distribute={type:"distribute"},t.Split={type:"split"},t.Auto={type:"auto"};function e(i){return{type:"invisible",cachedVisibleSize:i}}t.Invisible=e,Fi(e,"Invisible")})(xl||(xl={}));class zj extends q{static{Fi(this,"Grid")}gridview;views=new Map;get orientation(){return this.gridview.orientation}set orientation(e){this.gridview.orientation=e}get width(){return this.gridview.width}get height(){return this.gridview.height}get minimumWidth(){return this.gridview.minimumWidth}get minimumHeight(){return this.gridview.minimumHeight}get maximumWidth(){return this.gridview.maximumWidth}get maximumHeight(){return this.gridview.maximumHeight}onDidChange;onDidScroll;get boundarySashes(){return this.gridview.boundarySashes}set boundarySashes(e){this.gridview.boundarySashes=e}set edgeSnapping(e){this.gridview.edgeSnapping=e}get element(){return this.gridview.element}didLayout=!1;onDidChangeViewMaximized;constructor(e,i={}){super(),e instanceof iu?(this.gridview=e,this.gridview.getViewMap(this.views)):this.gridview=new iu(i),this._register(this.gridview),this._register(this.gridview.onDidSashReset(this.onDidSashReset,this)),e instanceof iu||this._addView(e,0,[0]),this.onDidChange=this.gridview.onDidChange,this.onDidScroll=this.gridview.onDidScroll,this.onDidChangeViewMaximized=this.gridview.onDidChangeViewMaximized}style(e){this.gridview.style(e)}layout(e,i,s=0,n=0){this.gridview.layout(e,i,s,n),this.didLayout=!0}addView(e,i,s,n){if(this.views.has(e))throw new Error("Can't add same view twice");const o=W1(n);this.views.size===1&&this.orientation!==o&&(this.orientation=o);const r=this.getViewLocation(s),a=A0(this.gridview.orientation,r,n);let l;if(typeof i=="number")l=i;else if(i.type==="split"){const[,h]=Ei(r);l=Kn.Split(h)}else if(i.type==="distribute")l=Kn.Distribute;else if(i.type==="auto"){const[,h]=Ei(r);l=Kn.Auto(h)}else l=i;this._addView(e,l,a)}addViewAt(e,i,s){if(this.views.has(e))throw new Error("Can't add same view twice");let n;typeof i=="number"?n=i:i.type==="distribute"?n=Kn.Distribute:n=i,this._addView(e,n,s)}_addView(e,i,s){this.views.set(e,e.element),this.gridview.addView(e,i,s)}removeView(e,i){if(this.views.size===1)throw new Error("Can't remove last view");const s=this.getViewLocation(e);let n;if(i?.type==="distribute")n=Kn.Distribute;else if(i?.type==="auto"){const o=s[s.length-1];n=Kn.Auto(o===0?1:o-1)}this.gridview.removeView(s,n),this.views.delete(e)}moveView(e,i,s,n){const o=this.getViewLocation(e),[r,a]=Ei(o),l=this.getViewLocation(s),h=A0(this.gridview.orientation,l,n),[d,u]=Ei(h);Pn(r,d)?this.gridview.moveView(r,a,u):(this.removeView(e,typeof i=="number"?void 0:i),this.addView(e,i,s,n))}moveViewTo(e,i){const s=this.getViewLocation(e),[n,o]=Ei(s),[r,a]=Ei(i);if(Pn(n,r))this.gridview.moveView(n,o,a);else{const l=this.getViewSize(e),h=Jv(this.gridview.orientation,s),d=this.getViewCachedVisibleSize(e),u=typeof d>"u"?h===ge.HORIZONTAL?l.width:l.height:xl.Invisible(d);this.removeView(e),this.addViewAt(e,u,i)}}swapViews(e,i){const s=this.getViewLocation(e),n=this.getViewLocation(i);return this.gridview.swapViews(s,n)}resizeView(e,i){const s=this.getViewLocation(e);return this.gridview.resizeView(s,i)}isViewExpanded(e){const i=this.getViewLocation(e);return this.gridview.isViewExpanded(i)}isViewMaximized(e){const i=this.getViewLocation(e);return this.gridview.isViewMaximized(i)}hasMaximizedView(){return this.gridview.hasMaximizedView()}getViewSize(e){if(!e)return this.gridview.getViewSize();const i=this.getViewLocation(e);return this.gridview.getViewSize(i)}getViewCachedVisibleSize(e){const i=this.getViewLocation(e);return this.gridview.getViewCachedVisibleSize(i)}maximizeView(e){if(this.views.size<2)throw new Error("At least two views are required to maximize a view");const i=this.getViewLocation(e);this.gridview.maximizeView(i)}exitMaximizedView(){this.gridview.exitMaximizedView()}expandView(e){const i=this.getViewLocation(e);this.gridview.expandView(i)}distributeViewSizes(){this.gridview.distributeViewSizes()}isViewVisible(e){const i=this.getViewLocation(e);return this.gridview.isViewVisible(i)}setViewVisible(e,i){const s=this.getViewLocation(e);this.gridview.setViewVisible(s,i)}getViews(){return this.gridview.getView()}getNeighborViews(e,i,s=!1){if(!this.didLayout)throw new Error("Can't call getNeighborViews before first layout");const n=this.getViewLocation(e),o=this.getViews(),r=OD(o,n);let a=BD(r.box,i);return s&&(i===0&&r.box.top===0?a={offset:o.box.top+o.box.height,range:a.range}:i===3&&r.box.left+r.box.width===o.box.width?a={offset:0,range:a.range}:i===1&&r.box.top+r.box.height===o.box.height?a={offset:0,range:a.range}:i===2&&r.box.left===0&&(a={offset:o.box.left+o.box.width,range:a.range})),eN(o,QR(i),a).map(l=>l.view)}getViewLocation(e){const i=this.views.get(e);if(!i)throw new Error("View not found");return MD(i)}onDidSashReset(e){const i=Fi(o=>{const r=this.gridview.getView(o);if(Am(r))return!1;const a=Jv(this.orientation,o),l=a===ge.HORIZONTAL?r.view.preferredWidth:r.view.preferredHeight;if(typeof l!="number")return!1;const h=a===ge.HORIZONTAL?{width:Math.round(l)}:{height:Math.round(l)};return this.gridview.resizeView(o,h),!0},"resizeToPreferredSize");if(i(e))return;const[s,n]=Ei(e);i([...s,n+1])||this.gridview.distributeViewSizes(s)}}class Fd extends zj{static{Fi(this,"SerializableGrid")}static serializeNode(e,i){const s=i===ge.VERTICAL?e.box.width:e.box.height;if(!Am(e)){const o={type:"leaf",data:e.view.toJSON(),size:s};return typeof e.cachedVisibleSize=="number"?(o.size=e.cachedVisibleSize,o.visible=!1):e.maximized&&(o.maximized=!0),o}const n=e.children.map(o=>Fd.serializeNode(o,Fr(i)));return n.some(o=>o.visible!==!1)?{type:"branch",data:n,size:s}:{type:"branch",data:n,size:s,visible:!1}}static deserialize(e,i,s={}){if(typeof e.orientation!="number")throw new Error("Invalid JSON: 'orientation' property must be a number.");if(typeof e.width!="number")throw new Error("Invalid JSON: 'width' property must be a number.");if(typeof e.height!="number")throw new Error("Invalid JSON: 'height' property must be a number.");const n=iu.deserialize(e,i,s);return new Fd(n,s)}static from(e,i={}){return Fd.deserialize(iN(e),{fromJSON:Fi(s=>s,"fromJSON")},i)}initialLayoutContext=!0;serialize(){return{root:Fd.serializeNode(this.getViews(),this.orientation),orientation:this.orientation,width:this.width,height:this.height}}layout(e,i,s=0,n=0){super.layout(e,i,s,n),this.initialLayoutContext&&(this.initialLayoutContext=!1,this.gridview.trySet2x2())}}function FD(t){return!!t.groups}Fi(FD,"isGridBranchNodeDescriptor");function VD(t,e){if(!e&&t.groups&&t.groups.length<=1&&(t.groups=void 0),!FD(t))return;let i=0,s=0;for(const a of t.groups)VD(a,!1),a.size&&(i+=a.size,s++);const n=s>0?i:1,o=t.groups.length-s,r=n/o;for(const a of t.groups)a.size||(a.size=r)}Fi(VD,"sanitizeGridNodeDescriptor");function HD(t){return FD(t)?{type:"branch",data:t.groups.map(e=>HD(e)),size:t.size}:{type:"leaf",data:t.data,size:t.size}}Fi(HD,"createSerializedNode");function WD(t,e){if(t.type==="branch"){const i=t.data.map(s=>WD(s,Fr(e)));if(e===ge.VERTICAL){const s=t.size||(i.length===0?void 0:Math.max(...i.map(o=>o.width||0))),n=i.length===0?void 0:i.reduce((o,r)=>o+(r.height||0),0);return{width:s,height:n}}else{const s=i.length===0?void 0:i.reduce((o,r)=>o+(r.width||0),0),n=t.size||(i.length===0?void 0:Math.max(...i.map(o=>o.height||0)));return{width:s,height:n}}}else{const i=e===ge.VERTICAL?t.size:void 0,s=e===ge.VERTICAL?void 0:t.size;return{width:i,height:s}}}Fi(WD,"getDimensions");function iN(t){VD(t,!0);const e=HD(t),{width:i,height:s}=WD(e,t.orientation);return{root:e,orientation:t.orientation,width:i||1,height:s||1}}Fi(iN,"createSerializedGrid");var $j=Object.defineProperty,Kj=(t,e)=>$j(t,"name",{value:e,configurable:!0});function Gj(t){return t&&typeof t.id=="string"}Kj(Gj,"isThemeColor");const sN={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"};var jj=Object.defineProperty,Em=(t,e)=>jj(t,"name",{value:e,configurable:!0});function up(t){return t&&typeof t.getEditorType=="function"?t.getEditorType()===sN.ICodeEditor:!1}Em(up,"isCodeEditor");function UD(t){return t&&typeof t.getEditorType=="function"?t.getEditorType()===sN.IDiffEditor:!1}Em(UD,"isDiffEditor");function nN(t){return!!t&&typeof t=="object"&&typeof t.onDidChangeActiveEditor=="function"}Em(nN,"isCompositeEditor");function qj(t){return up(t)?t:UD(t)?t.getModifiedEditor():nN(t)&&up(t.activeCodeEditor)?t.activeCodeEditor:null}Em(qj,"getCodeEditor");function oN(t){return up(t)||UD(t)?t:null}Em(oN,"getIEditor");var Yj=Object.defineProperty,Xj=(t,e)=>Yj(t,"name",{value:e,configurable:!0});function E0(t){const e=t;return typeof e?.resolve=="function"&&typeof e?.isResolved=="function"}Xj(E0,"isResolvedEditorModel");var Zj=Object.defineProperty,Qj=(t,e)=>Zj(t,"name",{value:e,configurable:!0});class rN extends q{static{Qj(this,"EditorModel")}_onWillDispose=this._register(new I);onWillDispose=this._onWillDispose.event;resolved=!1;async resolve(){this.resolved=!0}isResolved(){return this.resolved}isDisposed(){return this._store.isDisposed}dispose(){this._onWillDispose.fire(),super.dispose()}}var Jj=Object.defineProperty,eq=(t,e)=>Jj(t,"name",{value:e,configurable:!0});class aN extends rN{static{eq(this,"DiffEditorModel")}_originalModel;get originalModel(){return this._originalModel}_modifiedModel;get modifiedModel(){return this._modifiedModel}constructor(e,i){super(),this._originalModel=e,this._modifiedModel=i}async resolve(){await Promise.all([this._originalModel?.resolve(),this._modifiedModel?.resolve()])}isResolved(){return!!(this._originalModel?.isResolved()&&this._modifiedModel?.isResolved())}dispose(){super.dispose()}}var tq=Object.defineProperty,iq=(t,e)=>tq(t,"name",{value:e,configurable:!0});class ew extends dR{static{iq(this,"EditorInput")}_onDidChangeDirty=this._register(new I);_onDidChangeLabel=this._register(new I);_onDidChangeCapabilities=this._register(new I);_onWillDispose=this._register(new I);onDidChangeDirty=this._onDidChangeDirty.event;onDidChangeLabel=this._onDidChangeLabel.event;onDidChangeCapabilities=this._onDidChangeCapabilities.event;onWillDispose=this._onWillDispose.event;closeHandler;get editorId(){}get capabilities(){return $n.Readonly}hasCapability(e){return e===$n.None?this.capabilities===$n.None:(this.capabilities&e)!==0}isReadonly(){return this.hasCapability($n.Readonly)}getName(){return`Editor ${this.typeId}`}getDescription(e){}getTitle(e){return this.getName()}getLabelExtraClasses(){return[]}getAriaLabel(){return this.getTitle($i.SHORT)}getIcon(){}getTelemetryDescriptor(){return{typeId:this.typeId}}isDirty(){return!1}isModified(){return this.isDirty()}isSaving(){return!1}async resolve(){return null}async save(e,i){return this}async saveAs(e,i){return this}async revert(e,i){}async rename(e,i){}copy(){return this}canMove(e,i){return!0}matches(e){if(Os(e))return this===e;const i=e.options?.override;return this.editorId!==i&&i!==void 0&&this.editorId!==void 0?!1:qd(this.resource,Xv.getCanonicalUri(e))}prefersEditorPane(e){return e.at(0)}toUntyped(e){}isDisposed(){return this._store.isDisposed}dispose(){this.isDisposed()||this._onWillDispose.fire(),super.dispose()}}var lN=Object.defineProperty,sq=Object.getOwnPropertyDescriptor,zD=(t,e)=>lN(t,"name",{value:e,configurable:!0}),nq=(t,e,i,s)=>{for(var n=s>1?void 0:s?sq(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&lN(e,i,n),n},oq=(t,e)=>(i,s)=>e(i,s,t);let Gl=class extends ew{constructor(t,e,i,s,n){super(),this.preferredName=t,this.preferredDescription=e,this.secondary=i,this.primary=s,this.editorService=n,this.registerListeners()}static{zD(this,"SideBySideEditorInput")}static ID="workbench.editorinputs.sidebysideEditorInput";get typeId(){return Gl.ID}get capabilities(){let t=this.primary.capabilities;return t&=~$n.CanSplitInGroup,this.secondary.hasCapability($n.RequiresTrust)&&(t|=$n.RequiresTrust),this.secondary.hasCapability($n.Singleton)&&(t|=$n.Singleton),t|=$n.MultipleEditors,t}get resource(){if(this.hasIdenticalSides)return this.primary.resource}hasIdenticalSides=this.primary.matches(this.secondary);registerListeners(){this._register(R.once(R.any(this.primary.onWillDispose,this.secondary.onWillDispose))(()=>{this.isDisposed()||this.dispose()})),this._register(this.primary.onDidChangeDirty(()=>this._onDidChangeDirty.fire())),this._register(this.primary.onDidChangeCapabilities(()=>this._onDidChangeCapabilities.fire())),this._register(this.secondary.onDidChangeCapabilities(()=>this._onDidChangeCapabilities.fire())),this._register(this.primary.onDidChangeLabel(()=>this._onDidChangeLabel.fire())),this._register(this.secondary.onDidChangeLabel(()=>this._onDidChangeLabel.fire()))}getName(){const t=this.getPreferredName();return t||(this.hasIdenticalSides?this.primary.getName():c("sideBySideLabels","{0} - {1}",this.secondary.getName(),this.primary.getName()))}getPreferredName(){return this.preferredName}getDescription(t){const e=this.getPreferredDescription();return e||(this.hasIdenticalSides?this.primary.getDescription(t):super.getDescription(t))}getPreferredDescription(){return this.preferredDescription}getTitle(t){let e;this.hasIdenticalSides?e=this.primary.getTitle(t)??this.getName():e=super.getTitle(t);const i=this.getPreferredTitle();return i&&(e=`${i} (${e})`),e}getPreferredTitle(){if(this.preferredName&&this.preferredDescription)return`${this.preferredName} ${this.preferredDescription}`;if(this.preferredName||this.preferredDescription)return this.preferredName??this.preferredDescription}getLabelExtraClasses(){return this.hasIdenticalSides?this.primary.getLabelExtraClasses():super.getLabelExtraClasses()}getAriaLabel(){return this.hasIdenticalSides?this.primary.getAriaLabel():super.getAriaLabel()}getTelemetryDescriptor(){return{...this.primary.getTelemetryDescriptor(),...super.getTelemetryDescriptor()}}isDirty(){return this.primary.isDirty()}isSaving(){return this.primary.isSaving()}async save(t,e){const i=await this.primary.save(t,e);return this.saveResultToEditor(i)}async saveAs(t,e){const i=await this.primary.saveAs(t,e);return this.saveResultToEditor(i)}saveResultToEditor(t){if(!t||!this.hasIdenticalSides)return t;if(this.primary.matches(t))return this;if(t instanceof ew)return new Gl(this.preferredName,this.preferredDescription,t,t,this.editorService);if(!tr(t)&&!tu(t)&&!Ra(t)&&!Na(t))return{primary:t,secondary:t,label:this.preferredName,description:this.preferredDescription}}revert(t,e){return this.primary.revert(t,e)}async rename(t,e){if(!this.hasIdenticalSides)return;const i=await this.primary.rename(t,e);if(i){if(Os(i.editor))return{editor:new Gl(this.preferredName,this.preferredDescription,i.editor,i.editor,this.editorService),options:{...i.options,viewState:Qb(this,t,this.editorService)}};if(Md(i.editor))return{editor:{label:this.preferredName,description:this.preferredDescription,primary:i.editor,secondary:i.editor,options:{...i.options,viewState:Qb(this,t,this.editorService)}}}}}isReadonly(){return this.primary.isReadonly()}toUntyped(t){const e=this.primary.toUntyped(t),i=this.secondary.toUntyped(t);if(e&&i&&!tr(e)&&!tr(i)&&!tu(e)&&!tu(i)&&!Ra(e)&&!Ra(i)&&!Na(e)&&!Na(i)){const s={label:this.preferredName,description:this.preferredDescription,primary:e,secondary:i};return typeof t?.preserveViewState=="number"&&(s.options={viewState:Qb(this,t.preserveViewState,this.editorService)}),s}}matches(t){return this===t?!0:wD(t)||tr(t)?!1:t instanceof Gl?this.primary.matches(t.primary)&&this.secondary.matches(t.secondary):Ra(t)?this.primary.matches(t.primary)&&this.secondary.matches(t.secondary):!1}};Gl=nq([oq(4,ld)],Gl);class cN{static{zD(this,"AbstractSideBySideEditorInputSerializer")}canSerialize(e){const i=e;if(i.primary&&i.secondary){const[s,n]=this.getSerializers(i.secondary.typeId,i.primary.typeId);return!!(s?.canSerialize(i.secondary)&&n?.canSerialize(i.primary))}return!1}serialize(e){const i=e;if(i.primary&&i.secondary){const[s,n]=this.getSerializers(i.secondary.typeId,i.primary.typeId);if(n&&s){const o=n.serialize(i.primary),r=s.serialize(i.secondary);if(o&&r){const a={name:i.getPreferredName(),description:i.getPreferredDescription(),primarySerialized:o,secondarySerialized:r,primaryTypeId:i.primary.typeId,secondaryTypeId:i.secondary.typeId};return JSON.stringify(a)}}}}deserialize(e,i){const s=JSON.parse(i),[n,o]=this.getSerializers(s.secondaryTypeId,s.primaryTypeId);if(o&&n){const r=o.deserialize(e,s.primarySerialized),a=n.deserialize(e,s.secondarySerialized);if(r instanceof ew&&a instanceof ew)return this.createEditorInput(e,s.name,s.description,a,r)}}getSerializers(e,i){const s=ui.as(vD.EditorFactory);return[s.getEditorSerializer(e),s.getEditorSerializer(i)]}}class roe extends cN{static{zD(this,"SideBySideEditorInputSerializer")}createEditorInput(e,i,s,n,o){return e.createInstance(Gl,i,s,n,o)}}var rq=Object.defineProperty,aq=(t,e)=>rq(t,"name",{value:e,configurable:!0});class lq extends aN{static{aq(this,"TextDiffEditorModel")}_originalModel;get originalModel(){return this._originalModel}_modifiedModel;get modifiedModel(){return this._modifiedModel}_textDiffEditorModel=void 0;get textDiffEditorModel(){return this._textDiffEditorModel}constructor(e,i){super(e,i),this._originalModel=e,this._modifiedModel=i,this.updateTextDiffEditorModel()}async resolve(){await super.resolve(),this.updateTextDiffEditorModel()}updateTextDiffEditorModel(){this.originalModel?.isResolved()&&this.modifiedModel?.isResolved()&&(this._textDiffEditorModel?(this._textDiffEditorModel.original=this.originalModel.textEditorModel,this._textDiffEditorModel.modified=this.modifiedModel.textEditorModel):this._textDiffEditorModel={original:this.originalModel.textEditorModel,modified:this.modifiedModel.textEditorModel})}isResolved(){return!!this._textDiffEditorModel}isReadonly(){return!!this.modifiedModel&&this.modifiedModel.isReadonly()}dispose(){this._textDiffEditorModel=void 0,super.dispose()}}var cq=Object.defineProperty,U1=(t,e)=>cq(t,"name",{value:e,configurable:!0});const gp=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"}),hq={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},I0={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".opus":"audio/opus",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function dq(t){const e=e1(t),i=hq[e.toLowerCase()];return i!==void 0?i:hN(t)}U1(dq,"getMediaOrTextMime");function hN(t){const e=e1(t);return I0[e.toLowerCase()]}U1(hN,"getMediaMime");function uq(t){for(const e in I0)if(I0[e]===t)return e}U1(uq,"getExtensionForMimeType");const gq=/^(.+)\/(.+?)(;.+)?$/;function fq(t,e){const i=gq.exec(t);return i?`${i[1].toLowerCase()}/${i[2].toLowerCase()}${i[3]??""}`:e?void 0:t}U1(fq,"normalizeMimeType");var pq=Object.defineProperty,$r=(t,e)=>pq(t,"name",{value:e,configurable:!0});const $D={Configuration:"base.contributions.configuration"},sb={properties:{},patternProperties:{}},nb={properties:{},patternProperties:{}},ob={properties:{},patternProperties:{}},rb={properties:{},patternProperties:{}},ab={properties:{},patternProperties:{}},Bg={properties:{},patternProperties:{}},Pc="vscode://schemas/settings/resourceLanguage",lb=ui.as(m1.JSONContribution);class mq{static{$r(this,"ConfigurationRegistry")}registeredConfigurationDefaults=[];configurationDefaultsOverrides;defaultLanguageConfigurationOverridesNode;configurationContributors;configurationProperties;policyConfigurations;excludedConfigurationProperties;resourceLanguageSettingsSchema;overrideIdentifiers=new Set;_onDidSchemaChange=new I;onDidSchemaChange=this._onDidSchemaChange.event;_onDidUpdateConfiguration=new I;onDidUpdateConfiguration=this._onDidUpdateConfiguration.event;constructor(){this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:c("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},lb.registerSchema(Pc,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,i=!0){this.registerConfigurations([e],i)}registerConfigurations(e,i=!0){const s=new Set;this.doRegisterConfigurations(e,i,s),lb.registerSchema(Pc,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:s})}deregisterConfigurations(e){const i=new Set;this.doDeregisterConfigurations(e,i),lb.registerSchema(Pc,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}updateConfigurations({add:e,remove:i}){const s=new Set;this.doDeregisterConfigurations(i,s),this.doRegisterConfigurations(e,!1,s),lb.registerSchema(Pc,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:s})}registerDefaultConfigurations(e){const i=new Set;this.doRegisterDefaultConfigurations(e,i),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,i){this.registeredConfigurationDefaults.push(...e);const s=[];for(const{overrides:n,source:o}of e)for(const r in n){i.add(r);const a=this.configurationDefaultsOverrides.get(r)??this.configurationDefaultsOverrides.set(r,{configurationDefaultOverrides:[]}).get(r),l=n[r];if(a.configurationDefaultOverrides.push({value:l,source:o}),Af.test(r)){const h=this.mergeDefaultConfigurationsForOverrideIdentifier(r,l,o,a.configurationDefaultOverrideValue);if(!h)continue;a.configurationDefaultOverrideValue=h,this.updateDefaultOverrideProperty(r,h,o),s.push(...uN(r))}else{const h=this.mergeDefaultConfigurationsForConfigurationProperty(r,l,o,a.configurationDefaultOverrideValue);if(!h)continue;a.configurationDefaultOverrideValue=h;const d=this.configurationProperties[r];d&&(this.updatePropertyDefaultValue(r,d),this.updateSchema(r,d))}}this.doRegisterOverrideIdentifiers(s)}deregisterDefaultConfigurations(e){const i=new Set;this.doDeregisterDefaultConfigurations(e,i),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i,defaultsOverrides:!0})}doDeregisterDefaultConfigurations(e,i){for(const s of e){const n=this.registeredConfigurationDefaults.indexOf(s);n!==-1&&this.registeredConfigurationDefaults.splice(n,1)}for(const{overrides:s,source:n}of e)for(const o in s){const r=this.configurationDefaultsOverrides.get(o);if(!r)continue;const a=r.configurationDefaultOverrides.findIndex(l=>n?l.source?.id===n.id:l.value===s[o]);if(a!==-1){if(r.configurationDefaultOverrides.splice(a,1),r.configurationDefaultOverrides.length===0&&this.configurationDefaultsOverrides.delete(o),Af.test(o)){let l;for(const h of r.configurationDefaultOverrides)l=this.mergeDefaultConfigurationsForOverrideIdentifier(o,h.value,h.source,l);l&&!cC(l.value)?(r.configurationDefaultOverrideValue=l,this.updateDefaultOverrideProperty(o,l,n)):(this.configurationDefaultsOverrides.delete(o),delete this.configurationProperties[o],delete this.defaultLanguageConfigurationOverridesNode.properties[o])}else{let l;for(const d of r.configurationDefaultOverrides)l=this.mergeDefaultConfigurationsForConfigurationProperty(o,d.value,d.source,l);r.configurationDefaultOverrideValue=l;const h=this.configurationProperties[o];h&&(this.updatePropertyDefaultValue(o,h),this.updateSchema(o,h))}i.add(o)}}this.updateOverridePropertyPatternKey()}updateDefaultOverrideProperty(e,i,s){const n={type:"object",default:i.value,description:c("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",p4(e)),$ref:Pc,defaultDefaultValue:i.value,source:s,defaultValueSource:s};this.configurationProperties[e]=n,this.defaultLanguageConfigurationOverridesNode.properties[e]=n}mergeDefaultConfigurationsForOverrideIdentifier(e,i,s,n){const o=n?.value||{},r=n?.source??new Map;if(!(r instanceof Map)){console.error("objectConfigurationSources is not a Map");return}for(const a of Object.keys(i)){const l=i[a];if(cs(l)&&(xo(o[a])||cs(o[a]))){if(o[a]={...o[a]??{},...l},s)for(const d in l)r.set(`${a}.${d}`,s)}else o[a]=l,s?r.set(a,s):r.delete(a)}return{value:o,source:r}}mergeDefaultConfigurationsForConfigurationProperty(e,i,s,n){const o=this.configurationProperties[e],r=n?.value??o?.defaultDefaultValue;let a=s;if(cs(i)&&(o!==void 0&&o.type==="object"||o===void 0&&(xo(r)||cs(r)))){if(a=n?.source??new Map,!(a instanceof Map)){console.error("defaultValueSource is not a Map");return}for(const h in i)s&&a.set(`${e}.${h}`,s);i={...cs(r)?r:{},...i}}return{value:i,source:a}}deltaConfiguration(e){let i=!1;const s=new Set;e.removedDefaults&&(this.doDeregisterDefaultConfigurations(e.removedDefaults,s),i=!0),e.addedDefaults&&(this.doRegisterDefaultConfigurations(e.addedDefaults,s),i=!0),e.removedConfigurations&&this.doDeregisterConfigurations(e.removedConfigurations,s),e.addedConfigurations&&this.doRegisterConfigurations(e.addedConfigurations,!1,s),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:s,defaultsOverrides:i})}notifyConfigurationSchemaUpdated(...e){this._onDidSchemaChange.fire()}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(const i of e)this.overrideIdentifiers.add(i);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,i,s){e.forEach(n=>{this.validateAndRegisterProperties(n,i,n.extensionInfo,n.restrictedProperties,void 0,s),this.configurationContributors.push(n),this.registerJSONConfiguration(n)})}doDeregisterConfigurations(e,i){const s=$r(n=>{if(n.properties)for(const o in n.properties){i.add(o);const r=this.configurationProperties[o];r?.policy?.name&&this.policyConfigurations.delete(r.policy.name),delete this.configurationProperties[o],this.removeFromSchema(o,n.properties[o])}n.allOf?.forEach(o=>s(o))},"deregisterConfiguration");for(const n of e){s(n);const o=this.configurationContributors.indexOf(n);o!==-1&&this.configurationContributors.splice(o,1)}}validateAndRegisterProperties(e,i=!0,s,n,o=3,r){o=ji(e.scope)?o:e.scope;const a=e.properties;if(a)for(const h in a){const d=a[h];if(i&&fN(h,d)){delete a[h];continue}if(d.source=s,d.defaultDefaultValue=a[h].default,this.updatePropertyDefaultValue(h,d),Af.test(h)?d.scope=void 0:(d.scope=ji(d.scope)?o:d.scope,d.restricted=ji(d.restricted)?!!n?.includes(h):d.restricted),a[h].hasOwnProperty("included")&&!a[h].included){this.excludedConfigurationProperties[h]=a[h],delete a[h];continue}else this.configurationProperties[h]=a[h],a[h].policy?.name&&this.policyConfigurations.set(a[h].policy.name,h);!a[h].deprecationMessage&&a[h].markdownDeprecationMessage&&(a[h].deprecationMessage=a[h].markdownDeprecationMessage),r.add(h)}const l=e.allOf;if(l)for(const h of l)this.validateAndRegisterProperties(h,i,s,n,o,r)}getConfigurations(){return this.configurationContributors}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}getExcludedConfigurationProperties(){return this.excludedConfigurationProperties}getRegisteredDefaultConfigurations(){return[...this.registeredConfigurationDefaults]}getConfigurationDefaultsOverrides(){const e=new Map;for(const[i,s]of this.configurationDefaultsOverrides)s.configurationDefaultOverrideValue&&e.set(i,s.configurationDefaultOverrideValue);return e}registerJSONConfiguration(e){const i=$r(s=>{const n=s.properties;if(n)for(const r in n)this.updateSchema(r,n[r]);s.allOf?.forEach(i)},"register");i(e)}updateSchema(e,i){switch(sb.properties[e]=i,i.scope){case 1:nb.properties[e]=i;break;case 2:ob.properties[e]=i;break;case 6:rb.properties[e]=i;break;case 3:ab.properties[e]=i;break;case 4:Bg.properties[e]=i;break;case 5:Bg.properties[e]=i,this.resourceLanguageSettingsSchema.properties[e]=i;break}}removeFromSchema(e,i){switch(delete sb.properties[e],i.scope){case 1:delete nb.properties[e];break;case 2:delete ob.properties[e];break;case 6:delete rb.properties[e];break;case 3:delete ab.properties[e];break;case 4:case 5:delete Bg.properties[e],delete this.resourceLanguageSettingsSchema.properties[e];break}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const i=`[${e}]`,s={type:"object",description:c("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:c("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:Pc};this.updatePropertyDefaultValue(i,s),sb.properties[i]=s,nb.properties[i]=s,ob.properties[i]=s,rb.properties[i]=s,ab.properties[i]=s,Bg.properties[i]=s}}registerOverridePropertyPatternKey(){const e={type:"object",description:c("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:c("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:Pc};sb.patternProperties[zc]=e,nb.patternProperties[zc]=e,ob.patternProperties[zc]=e,rb.patternProperties[zc]=e,ab.patternProperties[zc]=e,Bg.patternProperties[zc]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,i){const s=this.configurationDefaultsOverrides.get(e)?.configurationDefaultOverrideValue;let n,o;s&&(!i.disallowConfigurationDefault||!s.source)&&(n=s.value,o=s.source),xo(n)&&(n=i.defaultDefaultValue,o=void 0),xo(n)&&(n=gN(i.type)),i.default=n,i.defaultValueSource=o}}const dN="\\[([^\\]]+)\\]",JI=new RegExp(dN,"g"),zc=`^(${dN})+$`,Af=new RegExp(zc);function uN(t){const e=[];if(Af.test(t)){let i=JI.exec(t);for(;i?.length;){const s=i[1].trim();s&&e.push(s),i=JI.exec(t)}}return vu(e)}$r(uN,"overrideIdentifiersFromKey");function bq(t){return t.reduce((e,i)=>`${e}[${i}]`,"")}$r(bq,"keyFromOverrideIdentifiers");function gN(t){switch(Array.isArray(t)?t[0]:t){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}$r(gN,"getDefaultValue");const Ef=new mq;ui.add($D.Configuration,Ef);function fN(t,e){return t.trim()?Af.test(t)?c("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",t):Ef.getConfigurationProperties()[t]!==void 0?c("config.property.duplicate","Cannot register '{0}'. This property is already registered.",t):e.policy?.name&&Ef.getPolicyConfigurations().get(e.policy?.name)!==void 0?c("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",t,e.policy?.name,Ef.getPolicyConfigurations().get(e.policy?.name)):null:c("config.property.empty","Cannot register an empty property")}$r(fN,"validateProperty");function vq(){const t=[],e=Ef.getConfigurationProperties();for(const i of Object.keys(e))t.push([i,e[i].scope]);return t.push(["launch",4]),t.push(["task",4]),t}$r(vq,"getScopes");function pN(t){const e={};for(const i of t){const s=i.properties;if(cs(s))for(const n in s)e[n]=s[n];i.allOf&&Object.assign(e,pN(i.allOf))}return e}$r(pN,"getAllConfigurationProperties");function wq(t){switch(t){case"application":return 1;case"machine":return 2;case"resource":return 4;case"machine-overridable":return 6;case"language-overridable":return 5;default:return 3}}$r(wq,"parseScope");var yq=Object.defineProperty,eT=(t,e)=>yq(t,"name",{value:e,configurable:!0});const _q={ModesRegistry:"editor.modesRegistry"};class Sq{static{eT(this,"EditorModesRegistry")}_languages;_onDidChangeLanguages=new I;onDidChangeLanguages=this._onDidChangeLanguages.event;constructor(){this._languages=[]}registerLanguage(e){return this._languages.push(e),this._onDidChangeLanguages.fire(void 0),{dispose:eT(()=>{for(let i=0,s=this._languages.length;i<s;i++)if(this._languages[i]===e){this._languages.splice(i,1);return}},"dispose")}}getLanguages(){return this._languages}}const mN=new Sq;ui.add(_q.ModesRegistry,mN);const If="plaintext",Cq=".txt";mN.registerLanguage({id:If,extensions:[Cq],aliases:[c("plainText.alias","Plain Text"),"text"],mimetypes:[gp.text]});ui.as($D.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}]);var Dq=Object.defineProperty,cd=(t,e)=>Dq(t,"name",{value:e,configurable:!0});class aoe{static{cd(this,"TextModelResolvedOptions")}_textModelResolvedOptionsBrand=void 0;tabSize;indentSize;_indentSizeIsTabSize;insertSpaces;defaultEOL;trimAutoWhitespace;bracketPairColorizationOptions;get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(e){this.tabSize=Math.max(1,e.tabSize|0),e.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,e.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!e.insertSpaces,this.defaultEOL=e.defaultEOL|0,this.trimAutoWhitespace=!!e.trimAutoWhitespace,this.bracketPairColorizationOptions=e.bracketPairColorizationOptions}equals(e){return this.tabSize===e.tabSize&&this._indentSizeIsTabSize===e._indentSizeIsTabSize&&this.indentSize===e.indentSize&&this.insertSpaces===e.insertSpaces&&this.defaultEOL===e.defaultEOL&&this.trimAutoWhitespace===e.trimAutoWhitespace&&Ua(this.bracketPairColorizationOptions,e.bracketPairColorizationOptions)}createChangeEvent(e){return{tabSize:this.tabSize!==e.tabSize,indentSize:this.indentSize!==e.indentSize,insertSpaces:this.insertSpaces!==e.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==e.trimAutoWhitespace}}}class loe{static{cd(this,"FindMatch")}_findMatchBrand=void 0;range;matches;constructor(e,i){this.range=e,this.matches=i}}function Aq(t){return t&&typeof t.read=="function"}cd(Aq,"isITextSnapshot");var T0=(t=>(t[t.FIRST_LINE_DETECTION_LENGTH_LIMIT=1e3]="FIRST_LINE_DETECTION_LENGTH_LIMIT",t))(T0||{});class coe{constructor(e,i,s,n,o,r){this.identifier=e,this.range=i,this.text=s,this.forceMoveMarkers=n,this.isAutoWhitespaceEdit=o,this._isTracked=r}static{cd(this,"ValidAnnotatedEditOperation")}}class hoe{static{cd(this,"SearchData")}regex;wordSeparators;simpleSearch;constructor(e,i,s){this.regex=e,this.wordSeparators=i,this.simpleSearch=s}}class doe{constructor(e,i,s){this.reverseEdits=e,this.changes=i,this.trimAutoWhitespaceLineNumbers=s}static{cd(this,"ApplyEditsResult")}}function Eq(t){return!t.isTooLargeForSyncing()&&!t.isForSimpleWidget}cd(Eq,"shouldSynchronizeModel");const Iq=Ce("ILanguageDetectionService"),tT="languageDetection";var bN=Object.defineProperty,Tq=Object.getOwnPropertyDescriptor,kq=(t,e)=>bN(t,"name",{value:e,configurable:!0}),xq=(t,e,i,s)=>{for(var n=s>1?void 0:s?Tq(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&bN(e,i,n),n},cb=(t,e)=>(i,s)=>e(i,s,t);let fp=class extends rN{constructor(t,e,i,s,n){super(),this.modelService=t,this.languageService=e,this.languageDetectionService=i,this.accessibilityService=s,n&&this.handleExistingModel(n)}static{kq(this,"BaseTextEditorModel")}static AUTO_DETECT_LANGUAGE_THROTTLE_DELAY=600;textEditorModelHandle=void 0;createdEditorModel;modelDisposeListener=this._register(new fr);autoDetectLanguageThrottler=this._register(new Ax(fp.AUTO_DETECT_LANGUAGE_THROTTLE_DELAY));handleExistingModel(t){const e=this.modelService.getModel(t);if(!e)throw new Error(`Document with resource ${t.toString(!0)} does not exist`);this.textEditorModelHandle=t,this.registerModelDisposeListener(e)}registerModelDisposeListener(t){this.modelDisposeListener.value=t.onWillDispose(()=>{this.textEditorModelHandle=void 0,this.dispose()})}get textEditorModel(){return this.textEditorModelHandle?this.modelService.getModel(this.textEditorModelHandle):null}isReadonly(){return!0}_hasLanguageSetExplicitly=!1;get hasLanguageSetExplicitly(){return this._hasLanguageSetExplicitly}setLanguageId(t,e){this._hasLanguageSetExplicitly=!0,this.setLanguageIdInternal(t,e)}setLanguageIdInternal(t,e){this.isResolved()&&(!t||t===this.textEditorModel.getLanguageId()||this.textEditorModel.setLanguage(this.languageService.createById(t),e))}installModelListeners(t){const e=this._register(t.onDidChangeLanguage(i=>{i.source!==tT&&(this._hasLanguageSetExplicitly=!0,e.dispose())}))}getLanguageId(){return this.textEditorModel?.getLanguageId()}autoDetectLanguage(){return this.autoDetectLanguageThrottler.trigger(()=>this.doAutoDetectLanguage())}async doAutoDetectLanguage(){if(this.hasLanguageSetExplicitly||!this.textEditorModelHandle||!this.languageDetectionService.isEnabledForLanguage(this.getLanguageId()??If))return;const t=await this.languageDetectionService.detectLanguage(this.textEditorModelHandle),e=this.getLanguageId();if(t&&t!==e&&!this.isDisposed()){this.setLanguageIdInternal(t,tT);const i=this.languageService.getLanguageName(t);this.accessibilityService.alert(c("languageAutoDetected","Language {0} was automatically detected and set as the language mode.",i??t))}}createTextEditorModel(t,e,i){const s=this.getFirstLineText(t),n=this.getOrCreateLanguage(e,this.languageService,i,s);return this.doCreateTextEditorModel(t,n,e)}doCreateTextEditorModel(t,e,i){let s=i&&this.modelService.getModel(i);return s?this.updateTextEditorModel(t,e.languageId):(s=this.modelService.createModel(t,e,i),this.createdEditorModel=!0,this.registerModelDisposeListener(s)),this.textEditorModelHandle=s.uri,s}getFirstLineText(t){const e=t;return typeof e.getFirstLineText=="function"?e.getFirstLineText(T0.FIRST_LINE_DETECTION_LENGTH_LIMIT):t.getLineContent(1).substr(0,T0.FIRST_LINE_DETECTION_LENGTH_LIMIT)}getOrCreateLanguage(t,e,i,s){return!i||i===If?e.createByFilepathOrFirstLine(t??null,s):e.createById(i)}updateTextEditorModel(t,e){this.isResolved()&&(t&&this.modelService.updateModel(this.textEditorModel,t),e&&e!==If&&this.textEditorModel.getLanguageId()!==e&&this.textEditorModel.setLanguage(this.languageService.createById(e)))}createSnapshot(){return this.textEditorModel?this.textEditorModel.createSnapshot(!0):null}isResolved(){return!!this.textEditorModelHandle}dispose(){this.modelDisposeListener.dispose(),this.textEditorModelHandle&&this.createdEditorModel&&this.modelService.destroyModel(this.textEditorModelHandle),this.textEditorModelHandle=void 0,this.createdEditorModel=!1,super.dispose()}};fp=xq([cb(0,DD),cb(1,CD),cb(2,Iq),cb(3,A1)],fp);var vN=Object.defineProperty,Lq=Object.getOwnPropertyDescriptor,wN=(t,e)=>vN(t,"name",{value:e,configurable:!0}),Pq=(t,e,i,s)=>{for(var n=s>1?void 0:s?Lq(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&vN(e,i,n),n},Rq=(t,e)=>(i,s)=>e(i,s,t);let Bu=class extends Gl{constructor(t,e,i,s,n,o){super(t,e,i,s,o),this.original=i,this.modified=s,this.forceOpenAsBinary=n}static{wN(this,"DiffEditorInput")}static ID="workbench.editors.diffEditorInput";get typeId(){return Bu.ID}get editorId(){return this.modified.editorId===this.original.editorId?this.modified.editorId:void 0}get capabilities(){let t=super.capabilities;return this.labels.forceDescription&&(t|=$n.ForceDescription),t}cachedModel=void 0;labels=this.computeLabels();computeLabels(){let t,e=!1;if(this.preferredName)t=this.preferredName;else{const h=this.original.getName(),d=this.modified.getName();t=c("sideBySideLabels","{0}  {1}",h,d),e=h===d}let i,s,n;if(this.preferredDescription)i=this.preferredDescription,s=this.preferredDescription,n=this.preferredDescription;else{i=this.computeLabel(this.original.getDescription($i.SHORT),this.modified.getDescription($i.SHORT)),n=this.computeLabel(this.original.getDescription($i.LONG),this.modified.getDescription($i.LONG));const h=this.original.getDescription($i.MEDIUM),d=this.modified.getDescription($i.MEDIUM);if(typeof h=="string"&&typeof d=="string"&&(h||d)){const[u,g]=S4([h,d]);s=this.computeLabel(u,g)}}let o=this.computeLabel(this.original.getTitle($i.SHORT)??this.original.getName(),this.modified.getTitle($i.SHORT)??this.modified.getName(),"  "),r=this.computeLabel(this.original.getTitle($i.MEDIUM)??this.original.getName(),this.modified.getTitle($i.MEDIUM)??this.modified.getName(),"  "),a=this.computeLabel(this.original.getTitle($i.LONG)??this.original.getName(),this.modified.getTitle($i.LONG)??this.modified.getName(),"  ");const l=this.getPreferredTitle();return l&&(o=`${l} (${o})`,r=`${l} (${r})`,a=`${l} (${a})`),{name:t,shortDescription:i,mediumDescription:s,longDescription:n,forceDescription:e,shortTitle:o,mediumTitle:r,longTitle:a}}computeLabel(t,e,i=" - "){if(!(!t||!e))return t===e?e:`${t}${i}${e}`}getName(){return this.labels.name}getDescription(t=$i.MEDIUM){switch(t){case $i.SHORT:return this.labels.shortDescription;case $i.LONG:return this.labels.longDescription;case $i.MEDIUM:default:return this.labels.mediumDescription}}getTitle(t){switch(t){case $i.SHORT:return this.labels.shortTitle;case $i.LONG:return this.labels.longTitle;default:case $i.MEDIUM:return this.labels.mediumTitle}}async resolve(){const t=await this.createModel();return this.cachedModel?.dispose(),this.cachedModel=t,this.cachedModel}prefersEditorPane(t){return this.forceOpenAsBinary?t.find(e=>e.typeId===LK):t.find(e=>e.typeId===xK)}async createModel(){const[t,e]=await Promise.all([this.original.resolve(),this.modified.resolve()]);return e instanceof fp&&t instanceof fp?new lq(t,e):new aN(E0(t)?t:void 0,E0(e)?e:void 0)}toUntyped(t){const e=super.toUntyped(t);if(e)return{...e,modified:e.primary,original:e.secondary}}matches(t){return this===t?!0:t instanceof Bu?this.modified.matches(t.modified)&&this.original.matches(t.original)&&t.forceOpenAsBinary===this.forceOpenAsBinary:tr(t)?this.modified.matches(t.modified)&&this.original.matches(t.original):!1}dispose(){this.cachedModel&&(this.cachedModel.dispose(),this.cachedModel=void 0),super.dispose()}};Bu=Pq([Rq(5,ld)],Bu);class uoe extends cN{static{wN(this,"DiffEditorInputSerializer")}createEditorInput(e,i,s,n,o){return e.createInstance(Bu,i,s,n,o,void 0)}}var Nq=Object.defineProperty,Kr=(t,e)=>Nq(t,"name",{value:e,configurable:!0});const Oq={IconContribution:"base.contributions.icons"};var iT;(t=>{function e(i,s){let n=i.defaults;for(;Ae.isThemeIcon(n);){const o=hd.getIcon(n.id);if(!o)return;n=o.defaults}return n}t.getDefinition=e,Kr(e,"getDefinition")})(iT||(iT={}));var sT;(t=>{function e(s){return{weight:s.weight,style:s.style,src:s.src.map(n=>({format:n.format,location:n.location.toString()}))}}t.toJSONObject=e,Kr(e,"toJSONObject");function i(s){const n=Kr(o=>Yi(o)?o:void 0,"stringOrUndef");if(s&&Array.isArray(s.src)&&s.src.every(o=>Yi(o.format)&&Yi(o.location)))return{weight:n(s.weight),style:n(s.style),src:s.src.map(o=>({format:o.format,location:j.parse(o.location)}))}}t.fromJSONObject=i,Kr(i,"fromJSONObject")})(sT||(sT={}));class Bq{static{Kr(this,"IconRegistry")}_onDidChange=new I;onDidChange=this._onDidChange.event;iconsById;iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:c("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:c("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}};iconReferenceSchema={type:"string",pattern:`^${Ae.iconNameExpression}$`,enum:[],enumDescriptions:[]};iconFontsById;constructor(){this.iconsById={},this.iconFontsById={}}registerIcon(e,i,s,n){const o=this.iconsById[e];if(o){if(s&&!o.description){o.description=s,this.iconSchema.properties[e].markdownDescription=`${s} $(${e})`;const l=this.iconReferenceSchema.enum.indexOf(e);l!==-1&&(this.iconReferenceSchema.enumDescriptions[l]=s),this._onDidChange.fire()}return o}const r={id:e,description:s,defaults:i,deprecationMessage:n};this.iconsById[e]=r;const a={$ref:"#/definitions/icons"};return n&&(a.deprecationMessage=n),s&&(a.markdownDescription=`${s}: $(${e})`),this.iconSchema.properties[e]=a,this.iconReferenceSchema.enum.push(e),this.iconReferenceSchema.enumDescriptions.push(s||""),this._onDidChange.fire(),{id:e}}deregisterIcon(e){delete this.iconsById[e],delete this.iconSchema.properties[e];const i=this.iconReferenceSchema.enum.indexOf(e);i!==-1&&(this.iconReferenceSchema.enum.splice(i,1),this.iconReferenceSchema.enumDescriptions.splice(i,1)),this._onDidChange.fire()}getIcons(){return Object.keys(this.iconsById).map(e=>this.iconsById[e])}getIcon(e){return this.iconsById[e]}getIconSchema(){return this.iconSchema}getIconReferenceSchema(){return this.iconReferenceSchema}registerIconFont(e,i){const s=this.iconFontsById[e];return s||(this.iconFontsById[e]=i,this._onDidChange.fire(),i)}deregisterIconFont(e){delete this.iconFontsById[e]}getIconFont(e){return this.iconFontsById[e]}toString(){const e=Kr((o,r)=>o.id.localeCompare(r.id),"sorter"),i=Kr(o=>{for(;Ae.isThemeIcon(o.defaults);)o=this.iconsById[o.defaults.id];return`codicon codicon-${o?o.id:""}`},"classNames"),s=[];s.push("| preview     | identifier                        | default codicon ID                | description"),s.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const n=Object.keys(this.iconsById).map(o=>this.iconsById[o]);for(const o of n.filter(r=>!!r.description).sort(e))s.push(`|<i class="${i(o)}"></i>|${o.id}|${Ae.isThemeIcon(o.defaults)?o.defaults.id:o.id}|${o.description||""}|`);s.push("| preview     | identifier                        "),s.push("| ----------- | --------------------------------- |");for(const o of n.filter(r=>!Ae.isThemeIcon(r.defaults)).sort(e))s.push(`|<i class="${i(o)}"></i>|${o.id}|`);return s.join(`
`)}}const hd=new Bq;ui.add(Oq.IconContribution,hd);function ct(t,e,i,s){return hd.registerIcon(t,e,i,s)}Kr(ct,"registerIcon");function Mq(){return hd}Kr(Mq,"getIconRegistry");function yN(){const t=HC();for(const e in t){const i="\\"+t[e].toString(16);hd.registerIcon(e,{fontCharacter:i})}}Kr(yN,"initialize");yN();const _N="vscode://schemas/icons",SN=ui.as(m1.JSONContribution);SN.registerSchema(_N,hd.getIconSchema());const nT=new Ls(()=>SN.notifySchemaChanged(_N),200);hd.onDidChange(()=>{nT.isScheduled()||nT.schedule()});ct("widget-close",he.close,c("widgetClose","Icon for the close action in widgets."));ct("goto-previous-location",he.arrowUp,c("previousChangeIcon","Icon for goto previous editor location."));ct("goto-next-location",he.arrowDown,c("nextChangeIcon","Icon for goto next editor location."));Ae.modify(he.sync,"spin");Ae.modify(he.loading,"spin");var Fq=Object.defineProperty,fg=(t,e)=>Fq(t,"name",{value:e,configurable:!0});c("views log","Views");const Vq=ct("default-view-icon",he.window,c("defaultViewIcon","Default view icon."));var pp;(t=>{t.ViewContainersRegistry="workbench.registry.view.containers",t.ViewsRegistry="workbench.registry.view"})(pp||(pp={}));var ne=(t=>(t[t.Sidebar=0]="Sidebar",t[t.Panel=1]="Panel",t[t.AuxiliaryBar=2]="AuxiliaryBar",t))(ne||{});function Ts(t){switch(t){case 0:return"sidebar";case 1:return"panel";case 2:return"auxiliarybar"}}fg(Ts,"ViewContainerLocationToString");class Hq extends q{static{fg(this,"ViewContainersRegistryImpl")}_onDidRegister=this._register(new I);onDidRegister=this._onDidRegister.event;_onDidDeregister=this._register(new I);onDidDeregister=this._onDidDeregister.event;viewContainers=new Map;defaultViewContainers=[];get all(){return[...this.viewContainers.values()].flat()}registerViewContainer(e,i,s){const n=this.get(e.id);if(n)return n;const o=e;return o.openCommandActionDescriptor=s?.doNotRegisterOpenCommand?void 0:o.openCommandActionDescriptor??{id:o.id},vv(this.viewContainers,i,[]).push(o),s?.isDefault&&this.defaultViewContainers.push(o),this._onDidRegister.fire({viewContainer:o,viewContainerLocation:i}),o}deregisterViewContainer(e){for(const i of this.viewContainers.keys()){const s=this.viewContainers.get(i),n=s?.indexOf(e);if(n!==-1){s?.splice(n,1),s.length===0&&this.viewContainers.delete(i),this._onDidDeregister.fire({viewContainer:e,viewContainerLocation:i});return}}}get(e){return this.all.filter(i=>i.id===e)[0]}getViewContainers(e){return[...this.viewContainers.get(e)||[]]}getViewContainerLocation(e){return[...this.viewContainers.keys()].filter(i=>this.getViewContainers(i).filter(s=>s?.id===e.id).length>0)[0]}getDefaultViewContainer(e){return this.defaultViewContainers.find(i=>this.getViewContainerLocation(i)===e)}}ui.add(pp.ViewContainersRegistry,new Hq);function CN(t,e){const i=t.group??"9_more",s=e.group??"9_more";return i!==s?i.localeCompare(s):(t.order??5)-(e.order??5)}fg(CN,"compareViewContentDescriptors");class Wq extends q{static{fg(this,"ViewsRegistry")}_onViewsRegistered=this._register(new I);onViewsRegistered=this._onViewsRegistered.event;_onViewsDeregistered=this._register(new I);onViewsDeregistered=this._onViewsDeregistered.event;_onDidChangeContainer=this._register(new I);onDidChangeContainer=this._onDidChangeContainer.event;_onDidChangeViewWelcomeContent=this._register(new I);onDidChangeViewWelcomeContent=this._onDidChangeViewWelcomeContent.event;_viewContainers=[];_views=new Map;_viewWelcomeContents=new WS;registerViews(e,i){this.registerViews2([{views:e,viewContainer:i}])}registerViews2(e){e.forEach(({views:i,viewContainer:s})=>this.addViews(i,s)),this._onViewsRegistered.fire(e)}deregisterViews(e,i){const s=this.removeViews(e,i);s.length&&this._onViewsDeregistered.fire({views:s,viewContainer:i})}moveViews(e,i){for(const s of this._views.keys())if(s!==i){const n=this.removeViews(e,s);n.length&&(this.addViews(n,i),this._onDidChangeContainer.fire({views:n,from:s,to:i}))}}getViews(e){return this._views.get(e)||[]}getView(e){for(const i of this._viewContainers){const s=(this._views.get(i)||[]).filter(n=>n.id===e)[0];if(s)return s}return null}getViewContainer(e){for(const i of this._viewContainers)if((this._views.get(i)||[]).filter(n=>n.id===e)[0])return i;return null}registerViewWelcomeContent(e,i){return this._viewWelcomeContents.add(e,i),this._onDidChangeViewWelcomeContent.fire(e),Se(()=>{this._viewWelcomeContents.delete(e,i),this._onDidChangeViewWelcomeContent.fire(e)})}registerViewWelcomeContent2(e,i){const s=new Map;for(const[n,o]of i)this._viewWelcomeContents.add(e,o),s.set(n,Se(()=>{this._viewWelcomeContents.delete(e,o),this._onDidChangeViewWelcomeContent.fire(e)}));return this._onDidChangeViewWelcomeContent.fire(e),s}getViewWelcomeContent(e){const i=[];return this._viewWelcomeContents.forEach(e,s=>i.push(s)),i.sort(CN)}addViews(e,i){let s=this._views.get(i);s||(s=[],this._views.set(i,s),this._viewContainers.push(i));for(const n of e){if(this.getView(n.id)!==null)throw new Error(c("duplicateId","A view with id '{0}' is already registered",n.id));s.push(n)}}removeViews(e,i){const s=this._views.get(i);if(!s)return[];const n=[],o=[];for(const r of s)e.includes(r)?n.push(r):o.push(r);return n.length&&(o.length?this._views.set(i,o):(this._views.delete(i),this._viewContainers.splice(this._viewContainers.indexOf(i),1))),n}}ui.add(pp.ViewsRegistry,new Wq);const fs=Ce("viewDescriptorService");var DN=(t=>(t[t.Default=0]="Default",t[t.Expand=1]="Expand",t))(DN||{});class goe{static{fg(this,"ResolvableTreeItem")}handle;parentHandle;collapsibleState;label;description;icon;iconDark;themeIcon;resourceUri;tooltip;contextValue;command;children;accessibilityInformation;resolve;resolved=!1;_hasResolve=!1;constructor(e,i){YC(this,e),this._hasResolve=!!i,this.resolve=async s=>{if(i&&!this.resolved){const n=await i(s);n&&(this.tooltip=this.tooltip??n.tooltip,this.command=this.command??n.command)}s.isCancellationRequested||(this.resolved=!0)}}get hasResolve(){return this._hasResolve}resetResolve(){this.resolved=!1}asTreeItem(){return{handle:this.handle,parentHandle:this.parentHandle,collapsibleState:this.collapsibleState,label:this.label,description:this.description,icon:this.icon,iconDark:this.iconDark,themeIcon:this.themeIcon,resourceUri:this.resourceUri,tooltip:this.tooltip,contextValue:this.contextValue,command:this.command,children:this.children,accessibilityInformation:this.accessibilityInformation}}}class foe extends Error{static{fg(this,"NoTreeViewError")}name="NoTreeViewError";constructor(e){super(c("treeView.notRegistered","No tree view with id '{0}' registered.",e))}static is(e){return!!e&&e.name==="NoTreeViewError"}}var Uq=Object.defineProperty,KD=(t,e)=>Uq(t,"name",{value:e,configurable:!0});async function AN(t){const e=navigator.usb;if(!e)return;const i=await e.requestDevice({filters:t?.filters??[]});if(i)return{deviceClass:i.deviceClass,deviceProtocol:i.deviceProtocol,deviceSubclass:i.deviceSubclass,deviceVersionMajor:i.deviceVersionMajor,deviceVersionMinor:i.deviceVersionMinor,deviceVersionSubminor:i.deviceVersionSubminor,manufacturerName:i.manufacturerName,productId:i.productId,productName:i.productName,serialNumber:i.serialNumber,usbVersionMajor:i.usbVersionMajor,usbVersionMinor:i.usbVersionMinor,usbVersionSubminor:i.usbVersionSubminor,vendorId:i.vendorId}}KD(AN,"requestUsbDevice");async function EN(t){const e=navigator.serial;if(!e)return;const i=await e.requestPort({filters:t?.filters??[]});if(!i)return;const s=i.getInfo();return{usbVendorId:s.usbVendorId,usbProductId:s.usbProductId}}KD(EN,"requestSerialPort");async function IN(t){const e=navigator.hid;if(!e)return;const i=await e.requestDevice({filters:t?.filters??[]});if(!i.length)return;const s=i[0];return{opened:s.opened,vendorId:s.vendorId,productId:s.productId,productName:s.productName,collections:s.collections}}KD(IN,"requestHidDevice");const Hi=Ce("commandService"),ln=new class{_commands=new Map;_onDidRegisterCommand=new I;onDidRegisterCommand=this._onDidRegisterCommand.event;registerCommand(t,e){if(!t)throw new Error("invalid command");if(typeof t=="string"){if(!e)throw new Error("invalid command");return this.registerCommand({id:t,handler:e})}if(t.metadata&&Array.isArray(t.metadata.args)){const r=[];for(const l of t.metadata.args)r.push(l.constraint);const a=t.handler;t.handler=(l,...h)=>(ox(h,r),a(l,...h))}const{id:i}=t;let s=this._commands.get(i);s||(s=new Xa,this._commands.set(i,s));const n=s.unshift(t),o=Se(()=>{n(),this._commands.get(i)?.isEmpty()&&this._commands.delete(i)});return this._onDidRegisterCommand.fire(i),o}registerCommandAlias(t,e){return ln.registerCommand(t,(i,...s)=>i.get(Hi).executeCommand(e,...s))}getCommand(t){const e=this._commands.get(t);if(!(!e||e.isEmpty()))return ut.first(e)}getCommands(){const t=new Map;for(const e of this._commands.keys()){const i=this.getCommand(e);i&&t.set(e,i)}return t}};ln.registerCommand("noop",()=>{});const z1=Ce("labelService");var mp=(t=>(t[t.SHORT=0]="SHORT",t[t.MEDIUM=1]="MEDIUM",t[t.LONG=2]="LONG",t))(mp||{}),zq=Object.defineProperty,TN=(t,e)=>zq(t,"name",{value:e,configurable:!0});const pg=Ce("openerService");function $q(t,e){return t.with({fragment:`${e.startLineNumber},${e.startColumn}${e.endLineNumber?`-${e.endLineNumber}${e.endColumn?`,${e.endColumn}`:""}`:""}`})}TN($q,"withSelection");function GD(t){let e;const i=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(t.fragment);return i&&(e={startLineNumber:Number.parseInt(i[1]),startColumn:i[2]?Number.parseInt(i[2]):1,endLineNumber:i[4]?Number.parseInt(i[4]):void 0,endColumn:i[4]?i[5]?Number.parseInt(i[5]):1:void 0},t=t.with({fragment:""})),{selection:e,uri:t}}TN(GD,"extractSelection");const Kq=c("open","open"),Gq=c("close","close"),jq=c("find","find");var Ky={open:Kq,close:Gq,find:jq},qq=Object.defineProperty,bp=(t,e)=>qq(t,"name",{value:e,configurable:!0});async function kN(t,e){const i=[];return await jD(t,i,e.logsHome,e.logsHome),i}bp(kN,"getLogs");async function jD(t,e,i,s){const n=await t.resolve(i);for(const{resource:o,isDirectory:r}of n.children||[])if(r)await jD(t,e,o,s);else{const a=(await t.readFile(o)).value.toString();if(a){const l=Y9(s,o);l&&e.push({relativePath:l,contents:a})}}}bp(jD,"doGetLogs");function xN(t){switch(t){case Ed.Trace:return"trace";case Ed.Debug:return"debug";case Ed.Info:return"info";case Ed.Warning:return"warn";case Ed.Error:return"error"}return"info"}bp(xN,"logLevelToString");class poe extends J${static{bp(this,"ConsoleLogInAutomationLogger")}constructor(e=hg){super({log:bp((i,s)=>this.consoleLog(xN(i),s),"log")},e)}consoleLog(e,i){const s=Q;if(typeof s.codeAutomationLog=="function")try{s.codeAutomationLog(e,i)}catch(n){console.error("Problems writing to codeAutomationLog",n)}}}var LN=Object.defineProperty,Yq=Object.getOwnPropertyDescriptor,PN=(t,e)=>LN(t,"name",{value:e,configurable:!0}),Xq=(t,e,i,s)=>{for(var n=s>1?void 0:s?Yq(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&LN(e,i,n),n},hb=(t,e)=>(i,s)=>e(i,s,t);let k0=class{constructor(t,e,i,s){this.fileService=t,this.environmentService=e,this.lifecycleService=i,this.logService=s}static{PN(this,"BrowserWindowDriver")}async getLogs(){return kN(this.fileService,this.environmentService)}async whenWorkbenchRestored(){this.logService.info("[driver] Waiting for restored lifecycle phase..."),await this.lifecycleService.when(Xt.Restored),this.logService.info("[driver] Restored lifecycle phase reached. Waiting for contributions..."),await ui.as(lp.Workbench).whenRestored,this.logService.info("[driver] Workbench contributions created.")}async setValue(t,e){const i=Q.document.querySelector(t);if(!i)return Promise.reject(new Error(`Element not found: ${t}`));const s=i;s.value=e;const n=new Event("input",{bubbles:!0,cancelable:!0});s.dispatchEvent(n)}async isActiveElement(t){if(Q.document.querySelector(t)!==Q.document.activeElement){const i=[];let s=Q.document.activeElement;for(;s;){const n=s.tagName,o=s.id?`#${s.id}`:"",r=Tn(s.className.split(/\s+/g).map(a=>a.trim())).map(a=>`.${a}`).join("");i.unshift(`${n}${o}${r}`),s=s.parentElement}throw new Error(`Active element not found. Current active element is '${i.join(" > ")}'. Looking for ${t}`)}return!0}async getElements(t,e){const i=Q.document.querySelectorAll(t),s=[];for(let n=0;n<i.length;n++){const o=i.item(n);s.push(this.serializeElement(o,e))}return s}serializeElement(t,e){const i=Object.create(null);for(let r=0;r<t.attributes.length;r++){const a=t.attributes.item(r);a&&(i[a.name]=a.value)}const s=[];if(e)for(let r=0;r<t.children.length;r++){const a=t.children.item(r);a&&s.push(this.serializeElement(a,!0))}const{left:n,top:o}=Eu(t);return{tagName:t.tagName,className:t.className,textContent:t.textContent||"",attributes:i,children:s,left:n,top:o}}async getElementXY(t,e,i){const s=typeof e=="number"&&typeof i=="number"?{x:e,y:i}:void 0;return this._getElementXY(t,s)}async typeInEditor(t,e){const i=Q.document.querySelector(t);if(!i)throw new Error(`Editor not found: ${t}`);const s=i,n=s.selectionStart,o=n+e.length,r=s.value,a=r.substr(0,n)+e+r.substr(n);s.value=a,s.setSelectionRange(o,o);const l=new Event("input",{bubbles:!0,cancelable:!0});s.dispatchEvent(l)}async getTerminalBuffer(t){const e=Q.document.querySelector(t);if(!e)throw new Error(`Terminal not found: ${t}`);const i=e.xterm;if(!i)throw new Error(`Xterm not found: ${t}`);const s=[];for(let n=0;n<i.buffer.active.length;n++)s.push(i.buffer.active.getLine(n).translateToString(!0));return s}async writeInTerminal(t,e){const i=Q.document.querySelector(t);if(!i)throw new Error(`Element not found: ${t}`);const s=i.xterm;if(!s)throw new Error(`Xterm not found: ${t}`);s.input(e)}getLocaleInfo(){return Promise.resolve({language:ya,locale:o6})}getLocalizedStrings(){return Promise.resolve({open:Ky.open,close:Ky.close,find:Ky.find})}async _getElementXY(t,e){const i=Q.document.querySelector(t);if(!i)return Promise.reject(new Error(`Element not found: ${t}`));const{left:s,top:n}=Eu(i),{width:o,height:r}=kh(i);let a,l;return e?(a=s+e.x,l=n+e.y):(a=s+o/2,l=n+r/2),a=Math.round(a),l=Math.round(l),{x:a,y:l}}async exitApplication(){}};k0=Xq([hb(0,nd),hb(1,mm),hb(2,Xr),hb(3,od)],k0);function RN(t){Object.assign(Q,{driver:t.createInstance(k0)})}PN(RN,"registerWindowDriver");var Zq=Object.defineProperty,$1=(t,e)=>Zq(t,"name",{value:e,configurable:!0});const su=60,nu=su*60,Uh=nu*24,oT=Uh*7,rT=Uh*30,aT=Uh*365;function qD(t,e,i,s){typeof t!="number"&&(t=t.getTime());const n=Math.round((new Date().getTime()-t)/1e3);if(n<-30)return c("date.fromNow.in","in {0}",qD(new Date().getTime()+n*1e3,!1));if(!s&&n<30)return c("date.fromNow.now","now");let o;return n<su?(o=n,e?o===1?i?c("date.fromNow.seconds.singular.ago.fullWord","{0} second ago",o):c("date.fromNow.seconds.singular.ago","{0} sec ago",o):i?c("date.fromNow.seconds.plural.ago.fullWord","{0} seconds ago",o):c("date.fromNow.seconds.plural.ago","{0} secs ago",o):o===1?i?c("date.fromNow.seconds.singular.fullWord","{0} second",o):c("date.fromNow.seconds.singular","{0} sec",o):i?c("date.fromNow.seconds.plural.fullWord","{0} seconds",o):c("date.fromNow.seconds.plural","{0} secs",o)):n<nu?(o=Math.floor(n/su),e?o===1?i?c("date.fromNow.minutes.singular.ago.fullWord","{0} minute ago",o):c("date.fromNow.minutes.singular.ago","{0} min ago",o):i?c("date.fromNow.minutes.plural.ago.fullWord","{0} minutes ago",o):c("date.fromNow.minutes.plural.ago","{0} mins ago",o):o===1?i?c("date.fromNow.minutes.singular.fullWord","{0} minute",o):c("date.fromNow.minutes.singular","{0} min",o):i?c("date.fromNow.minutes.plural.fullWord","{0} minutes",o):c("date.fromNow.minutes.plural","{0} mins",o)):n<Uh?(o=Math.floor(n/nu),e?o===1?i?c("date.fromNow.hours.singular.ago.fullWord","{0} hour ago",o):c("date.fromNow.hours.singular.ago","{0} hr ago",o):i?c("date.fromNow.hours.plural.ago.fullWord","{0} hours ago",o):c("date.fromNow.hours.plural.ago","{0} hrs ago",o):o===1?i?c("date.fromNow.hours.singular.fullWord","{0} hour",o):c("date.fromNow.hours.singular","{0} hr",o):i?c("date.fromNow.hours.plural.fullWord","{0} hours",o):c("date.fromNow.hours.plural","{0} hrs",o)):n<oT?(o=Math.floor(n/Uh),e?o===1?c("date.fromNow.days.singular.ago","{0} day ago",o):c("date.fromNow.days.plural.ago","{0} days ago",o):o===1?c("date.fromNow.days.singular","{0} day",o):c("date.fromNow.days.plural","{0} days",o)):n<rT?(o=Math.floor(n/oT),e?o===1?i?c("date.fromNow.weeks.singular.ago.fullWord","{0} week ago",o):c("date.fromNow.weeks.singular.ago","{0} wk ago",o):i?c("date.fromNow.weeks.plural.ago.fullWord","{0} weeks ago",o):c("date.fromNow.weeks.plural.ago","{0} wks ago",o):o===1?i?c("date.fromNow.weeks.singular.fullWord","{0} week",o):c("date.fromNow.weeks.singular","{0} wk",o):i?c("date.fromNow.weeks.plural.fullWord","{0} weeks",o):c("date.fromNow.weeks.plural","{0} wks",o)):n<aT?(o=Math.floor(n/rT),e?o===1?i?c("date.fromNow.months.singular.ago.fullWord","{0} month ago",o):c("date.fromNow.months.singular.ago","{0} mo ago",o):i?c("date.fromNow.months.plural.ago.fullWord","{0} months ago",o):c("date.fromNow.months.plural.ago","{0} mos ago",o):o===1?i?c("date.fromNow.months.singular.fullWord","{0} month",o):c("date.fromNow.months.singular","{0} mo",o):i?c("date.fromNow.months.plural.fullWord","{0} months",o):c("date.fromNow.months.plural","{0} mos",o)):(o=Math.floor(n/aT),e?o===1?i?c("date.fromNow.years.singular.ago.fullWord","{0} year ago",o):c("date.fromNow.years.singular.ago","{0} yr ago",o):i?c("date.fromNow.years.plural.ago.fullWord","{0} years ago",o):c("date.fromNow.years.plural.ago","{0} yrs ago",o):o===1?i?c("date.fromNow.years.singular.fullWord","{0} year",o):c("date.fromNow.years.singular","{0} yr",o):i?c("date.fromNow.years.plural.fullWord","{0} years",o):c("date.fromNow.years.plural","{0} yrs",o))}$1(qD,"fromNow");function Qq(t,e,i){typeof t!="number"&&(t=t.getTime());const s=new Date;s.setHours(0,0,0,0);const n=new Date(s.getTime());return n.setDate(n.getDate()-1),t>s.getTime()?c("today","Today"):t>n.getTime()?c("yesterday","Yesterday"):qD(t,e,i)}$1(Qq,"fromNowByDay");function Jq(t,e){const i=Math.abs(t/1e3);return i<1?e?c("duration.ms.full","{0} milliseconds",t):c("duration.ms","{0}ms",t):i<su?e?c("duration.s.full","{0} seconds",Math.round(t)/1e3):c("duration.s","{0}s",Math.round(t)/1e3):i<nu?e?c("duration.m.full","{0} minutes",Math.round(t/(1e3*su))):c("duration.m","{0} mins",Math.round(t/(1e3*su))):i<Uh?e?c("duration.h.full","{0} hours",Math.round(t/(1e3*nu))):c("duration.h","{0} hrs",Math.round(t/(1e3*nu))):c("duration.d","{0} days",Math.round(t/(1e3*Uh)))}$1(Jq,"getDurationString");function NN(t){return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")+"T"+String(t.getHours()).padStart(2,"0")+":"+String(t.getMinutes()).padStart(2,"0")+":"+String(t.getSeconds()).padStart(2,"0")+"."+(t.getMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}$1(NN,"toLocalISOString");var ON=Object.defineProperty,eY=Object.getOwnPropertyDescriptor,YD=(t,e)=>ON(t,"name",{value:e,configurable:!0}),ti=(t,e,i,s)=>{for(var n=eY(e,i),o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=r(e,i,n)||n);return n&&ON(e,i,n),n};const tw=/^([^.]+\..+)[:=](.+)$/;class ii{constructor(e,i,s){this._args=e,this.paths=i,this.productService=s}static{YD(this,"AbstractNativeEnvironmentService")}get appRoot(){return Uk(Cu.asFileUri("").fsPath)}get userHome(){return j.file(this.paths.homeDir)}get userDataPath(){return this.paths.userDataDir}get appSettingsHome(){return j.file(Co(this.userDataPath,"User"))}get tmpDir(){return j.file(this.paths.tmpDir)}get cacheHome(){return j.file(this.userDataPath)}get stateResource(){return Tt(this.appSettingsHome,"globalStorage","storage.json")}get userRoamingDataHome(){return this.appSettingsHome.with({scheme:Ue.vscodeUserData})}get userDataSyncHome(){return Tt(this.appSettingsHome,"sync")}get logsHome(){if(!this.args.logsPath){const e=NN(new Date).replace(/-|:|\.\d+Z$/g,"");this.args.logsPath=Co(this.userDataPath,"logs",e)}return j.file(this.args.logsPath)}get sync(){return this.args.sync}get machineSettingsResource(){return Tt(j.file(Co(this.userDataPath,"Machine")),"settings.json")}get workspaceStorageHome(){return Tt(this.appSettingsHome,"workspaceStorage")}get localHistoryHome(){return Tt(this.appSettingsHome,"History")}get keyboardLayoutResource(){return Tt(this.userRoamingDataHome,"keyboardLayout.json")}get argvResource(){const e=qc.VSCODE_PORTABLE;return e?j.file(Co(e,"argv.json")):Tt(this.userHome,this.productService.dataFolderName,"argv.json")}get isExtensionDevelopment(){return!!this.args.extensionDevelopmentPath}get untitledWorkspacesHome(){return j.file(Co(this.userDataPath,"Workspaces"))}get builtinExtensionsPath(){const e=this.args["builtin-extensions-dir"];return e?Pb(e):fh(Co(Cu.asFileUri("").fsPath,"..","extensions"))}get extensionsDownloadLocation(){const e=this.args["extensions-download-dir"];return e?j.file(Pb(e)):j.file(Co(this.userDataPath,"CachedExtensionVSIXs"))}get extensionsPath(){const e=this.args["extensions-dir"];if(e)return Pb(e);const i=qc.VSCODE_EXTENSIONS;if(i)return i;const s=qc.VSCODE_PORTABLE;return s?Co(s,"extensions"):Tt(this.userHome,this.productService.dataFolderName,"extensions").fsPath}get extensionDevelopmentLocationURI(){const e=this.args.extensionDevelopmentPath;if(Array.isArray(e))return e.map(i=>/^[^:/?#]+?:\/\//.test(i)?j.parse(i):j.file(fh(i)))}get extensionDevelopmentKind(){return this.args.extensionDevelopmentKind?.map(e=>e==="ui"||e==="workspace"||e==="web"?e:"workspace")}get extensionTestsLocationURI(){const e=this.args.extensionTestsPath;if(e)return/^[^:/?#]+?:\/\//.test(e)?j.parse(e):j.file(fh(e))}get disableExtensions(){if(this.args["disable-extensions"])return!0;const e=this.args["disable-extension"];if(e){if(typeof e=="string")return[e];if(Array.isArray(e)&&e.length>0)return e}return!1}get debugExtensionHost(){return BN(this.args,this.isBuilt)}get debugRenderer(){return!!this.args.debugRenderer}get isBuilt(){return!qc.VSCODE_DEV}get verbose(){return!!this.args.verbose}get logLevel(){return this.args.log?.find(e=>!tw.test(e))}get extensionLogLevel(){const e=[];for(const i of this.args.log||[]){const s=tw.exec(i);s&&s[1]&&s[2]&&e.push([s[1],s[2]])}return e.length?e:void 0}get serviceMachineIdResource(){return Tt(j.file(this.userDataPath),"machineid")}get crashReporterId(){return this.args["crash-reporter-id"]}get crashReporterDirectory(){return this.args["crash-reporter-directory"]}get disableTelemetry(){return!!this.args["disable-telemetry"]}get disableWorkspaceTrust(){return!!this.args["disable-workspace-trust"]}get useInMemorySecretStorage(){return!!this.args["use-inmemory-secretstorage"]}get policyFile(){if(this.args["__enable-file-policy"]){const e=qc.VSCODE_PORTABLE;return e?j.file(Co(e,"policy.json")):Tt(this.userHome,this.productService.dataFolderName,"policy.json")}}editSessionId=this.args.editSessionId;get continueOn(){return this.args.continueOn}set continueOn(e){this.args.continueOn=e}get args(){return this._args}}ti([ie],ii.prototype,"appRoot");ti([ie],ii.prototype,"userHome");ti([ie],ii.prototype,"userDataPath");ti([ie],ii.prototype,"appSettingsHome");ti([ie],ii.prototype,"tmpDir");ti([ie],ii.prototype,"cacheHome");ti([ie],ii.prototype,"stateResource");ti([ie],ii.prototype,"userRoamingDataHome");ti([ie],ii.prototype,"userDataSyncHome");ti([ie],ii.prototype,"sync");ti([ie],ii.prototype,"machineSettingsResource");ti([ie],ii.prototype,"workspaceStorageHome");ti([ie],ii.prototype,"localHistoryHome");ti([ie],ii.prototype,"keyboardLayoutResource");ti([ie],ii.prototype,"argvResource");ti([ie],ii.prototype,"isExtensionDevelopment");ti([ie],ii.prototype,"untitledWorkspacesHome");ti([ie],ii.prototype,"builtinExtensionsPath");ti([ie],ii.prototype,"extensionsPath");ti([ie],ii.prototype,"extensionDevelopmentLocationURI");ti([ie],ii.prototype,"extensionDevelopmentKind");ti([ie],ii.prototype,"extensionTestsLocationURI");ti([ie],ii.prototype,"debugExtensionHost");ti([ie],ii.prototype,"logLevel");ti([ie],ii.prototype,"extensionLogLevel");ti([ie],ii.prototype,"serviceMachineIdResource");ti([ie],ii.prototype,"disableTelemetry");ti([ie],ii.prototype,"disableWorkspaceTrust");ti([ie],ii.prototype,"useInMemorySecretStorage");ti([ie],ii.prototype,"policyFile");function BN(t,e){return MN(t["inspect-extensions"],t["inspect-brk-extensions"],5870,e,t.debugId,t.extensionEnvironment)}YD(BN,"parseExtensionHostDebugPort");function MN(t,e,i,s,n,o){const a=Number(e||t)||(s?null:i),l=a?!!e:!1;let h;if(o)try{h=JSON.parse(o)}catch{}return{port:a,break:l,debugId:n,env:h}}YD(MN,"parseDebugParams");var FN=Object.defineProperty,tY=Object.getOwnPropertyDescriptor,iY=(t,e)=>FN(t,"name",{value:e,configurable:!0}),bt=(t,e,i,s)=>{for(var n=tY(e,i),o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=r(e,i,n)||n);return n&&FN(e,i,n),n};const XD=mm;class vt{constructor(e,i,s,n){if(this.workspaceId=e,this.logsHome=i,this.options=s,this.productService=n,s.workspaceProvider&&Array.isArray(s.workspaceProvider.payload))try{this.payload=new Map(s.workspaceProvider.payload)}catch(o){ss(o)}}static{iY(this,"BrowserWorkbenchEnvironmentService")}get remoteAuthority(){return this.options.remoteAuthority}get expectsResolverExtension(){return!!this.options.remoteAuthority?.includes("+")&&!this.options.webSocketFactory}get isBuilt(){return!!this.productService.commit}get logLevel(){const e=this.payload?.get("logLevel");return e?e.split(",").find(i=>!tw.test(i)):this.options.developmentOptions?.logLevel!==void 0?Yv(this.options.developmentOptions?.logLevel):void 0}get extensionLogLevel(){const e=this.payload?.get("logLevel");if(e){const i=[];for(const s of e.split(",")){const n=tw.exec(s);n&&n[1]&&n[2]&&i.push([n[1],n[2]])}return i.length?i:void 0}return this.options.developmentOptions?.extensionLogLevel!==void 0?this.options.developmentOptions?.extensionLogLevel.map(([i,s])=>[i,Yv(s)]):void 0}get profDurationMarkers(){const e=this.payload?.get("profDurationMarkers");if(e){const i=[];for(const s of e.split(","))i.push(s);return i.length===2?i:void 0}}get windowLogsPath(){return this.logsHome}get logFile(){return Tt(this.windowLogsPath,"window.log")}get userRoamingDataHome(){return j.file("/User").with({scheme:Ue.vscodeUserData})}get argvResource(){return Tt(this.userRoamingDataHome,"argv.json")}get cacheHome(){return Tt(this.userRoamingDataHome,"caches")}get workspaceStorageHome(){return Tt(this.userRoamingDataHome,"workspaceStorage")}get localHistoryHome(){return Tt(this.userRoamingDataHome,"History")}get stateResource(){return Tt(this.userRoamingDataHome,"State","storage.json")}get userDataSyncHome(){return Tt(this.userRoamingDataHome,"sync",this.workspaceId)}get sync(){}get keyboardLayoutResource(){return Tt(this.userRoamingDataHome,"keyboardLayout.json")}get untitledWorkspacesHome(){return Tt(this.userRoamingDataHome,"Workspaces")}get serviceMachineIdResource(){return Tt(this.userRoamingDataHome,"machineid")}get extHostLogsPath(){return Tt(this.logsHome,"exthost")}get extHostTelemetryLogFile(){return Tt(this.extHostLogsPath,"extensionTelemetry.log")}extensionHostDebugEnvironment=void 0;get debugExtensionHost(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.params}get isExtensionDevelopment(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.isExtensionDevelopment}get extensionDevelopmentLocationURI(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.extensionDevelopmentLocationURI}get extensionDevelopmentLocationKind(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.extensionDevelopmentKind}get extensionTestsLocationURI(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.extensionTestsLocationURI}get extensionEnabledProposedApi(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.extensionEnabledProposedApi}get debugRenderer(){return this.extensionHostDebugEnvironment||(this.extensionHostDebugEnvironment=this.resolveExtensionHostDebugEnvironment()),this.extensionHostDebugEnvironment.debugRenderer}get enableSmokeTestDriver(){return this.options.developmentOptions?.enableSmokeTestDriver}get disableExtensions(){return this.payload?.get("disableExtensions")==="true"}get enableExtensions(){return this.options.enabledExtensions}get webviewExternalEndpoint(){const e=this.options.webviewEndpoint||this.productService.webviewContentExternalBaseUrlTemplate||"https://{{uuid}}.vscode-cdn.net/{{quality}}/{{commit}}/out/vs/workbench/contrib/webview/browser/pre/",i=this.payload?.get("webviewExternalEndpointCommit");return e.replace("{{commit}}",i??this.productService.commit??"ef65ac1ba57f57f2a3961bfe94aa20481caca4c6").replace("{{quality}}",(i?"insider":this.productService.quality)??"insider")}get extensionTelemetryLogResource(){return Tt(this.logsHome,"extensionTelemetry.log")}get disableTelemetry(){return!1}get verbose(){return this.payload?.get("verbose")==="true"}get logExtensionHostCommunication(){return this.payload?.get("logExtensionHostCommunication")==="true"}get skipReleaseNotes(){return this.payload?.get("skipReleaseNotes")==="true"}get skipWelcome(){return this.payload?.get("skipWelcome")==="true"}get disableWorkspaceTrust(){return!this.options.enableWorkspaceTrust}get profile(){return this.payload?.get("profile")}editSessionId=this.options.editSessionId;payload;resolveExtensionHostDebugEnvironment(){const e={params:{port:null,break:!1},debugRenderer:!1,isExtensionDevelopment:!1,extensionDevelopmentLocationURI:void 0,extensionDevelopmentKind:void 0};if(this.payload)for(const[s,n]of this.payload)switch(s){case"extensionDevelopmentPath":e.extensionDevelopmentLocationURI||(e.extensionDevelopmentLocationURI=[]),e.extensionDevelopmentLocationURI.push(j.parse(n)),e.isExtensionDevelopment=!0;break;case"extensionDevelopmentKind":e.extensionDevelopmentKind=[n];break;case"extensionTestsPath":e.extensionTestsLocationURI=j.parse(n);break;case"debugRenderer":e.debugRenderer=n==="true";break;case"debugId":e.params.debugId=n;break;case"inspect-brk-extensions":e.params.port=Number.parseInt(n),e.params.break=!0;break;case"inspect-extensions":e.params.port=Number.parseInt(n);break;case"enableProposedApi":e.extensionEnabledProposedApi=[];break}const i=this.options.developmentOptions;return i&&!e.isExtensionDevelopment&&(i.extensions?.length&&(e.extensionDevelopmentLocationURI=i.extensions.map(s=>j.revive(s)),e.isExtensionDevelopment=!0),i.extensionTestsPath&&(e.extensionTestsLocationURI=j.revive(i.extensionTestsPath))),e}get filesToOpenOrCreate(){if(this.payload){const e=this.payload.get("openFile");if(e){const i=j.parse(e);if(this.payload.has("gotoLineMode")){const s=hx(i.path);return[{fileUri:i.with({path:s.path}),options:{selection:xo(s.line)?void 0:{startLineNumber:s.line,startColumn:s.column||1}}}]}return[{fileUri:i}]}}}get filesToDiff(){if(this.payload){const e=this.payload.get("diffFilePrimary"),i=this.payload.get("diffFileSecondary");if(e&&i)return[{fileUri:j.parse(i)},{fileUri:j.parse(e)}]}}get filesToMerge(){if(this.payload){const e=this.payload.get("mergeFile1"),i=this.payload.get("mergeFile2"),s=this.payload.get("mergeFileBase"),n=this.payload.get("mergeFileResult");if(e&&i&&s&&n)return[{fileUri:j.parse(e)},{fileUri:j.parse(i)},{fileUri:j.parse(s)},{fileUri:j.parse(n)}]}}}bt([ie],vt.prototype,"remoteAuthority");bt([ie],vt.prototype,"expectsResolverExtension");bt([ie],vt.prototype,"isBuilt");bt([ie],vt.prototype,"logLevel");bt([ie],vt.prototype,"windowLogsPath");bt([ie],vt.prototype,"logFile");bt([ie],vt.prototype,"userRoamingDataHome");bt([ie],vt.prototype,"argvResource");bt([ie],vt.prototype,"cacheHome");bt([ie],vt.prototype,"workspaceStorageHome");bt([ie],vt.prototype,"localHistoryHome");bt([ie],vt.prototype,"stateResource");bt([ie],vt.prototype,"userDataSyncHome");bt([ie],vt.prototype,"sync");bt([ie],vt.prototype,"keyboardLayoutResource");bt([ie],vt.prototype,"untitledWorkspacesHome");bt([ie],vt.prototype,"serviceMachineIdResource");bt([ie],vt.prototype,"extHostLogsPath");bt([ie],vt.prototype,"extHostTelemetryLogFile");bt([ie],vt.prototype,"debugExtensionHost");bt([ie],vt.prototype,"isExtensionDevelopment");bt([ie],vt.prototype,"extensionDevelopmentLocationURI");bt([ie],vt.prototype,"extensionDevelopmentLocationKind");bt([ie],vt.prototype,"extensionTestsLocationURI");bt([ie],vt.prototype,"extensionEnabledProposedApi");bt([ie],vt.prototype,"debugRenderer");bt([ie],vt.prototype,"enableSmokeTestDriver");bt([ie],vt.prototype,"disableExtensions");bt([ie],vt.prototype,"enableExtensions");bt([ie],vt.prototype,"webviewExternalEndpoint");bt([ie],vt.prototype,"extensionTelemetryLogResource");bt([ie],vt.prototype,"disableTelemetry");bt([ie],vt.prototype,"verbose");bt([ie],vt.prototype,"logExtensionHostCommunication");bt([ie],vt.prototype,"skipReleaseNotes");bt([ie],vt.prototype,"skipWelcome");bt([ie],vt.prototype,"disableWorkspaceTrust");bt([ie],vt.prototype,"profile");bt([ie],vt.prototype,"filesToOpenOrCreate");bt([ie],vt.prototype,"filesToDiff");bt([ie],vt.prototype,"filesToMerge");var VN=Object.defineProperty,sY=Object.getOwnPropertyDescriptor,Eo=(t,e)=>VN(t,"name",{value:e,configurable:!0}),HN=(t,e,i,s)=>{for(var n=s>1?void 0:s?sY(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&VN(e,i,n),n},Ko=(t,e)=>(i,s)=>e(i,s,t);let Ta=class extends q{constructor(t,e={getWindowsCount:L_,getWindows:ip},i,s){super(),this.hostService=i,this.environmentService=s,this.enableWindowFocusOnElementFocus(t),this.enableMultiWindowAwareTimeout(t,e),this.registerFullScreenListeners(t.vscodeWindowId)}static{Eo(this,"BaseWindow")}static TIMEOUT_HANDLES=Number.MIN_SAFE_INTEGER;static TIMEOUT_DISPOSABLES=new Map;enableWindowFocusOnElementFocus(t){const e=t.HTMLElement.prototype.focus,i=this;t.HTMLElement.prototype.focus=function(s){i.onElementFocus(be(this)),e.apply(this,[s])}}onElementFocus(t){const e=nr();e!==t&&e.document.hasFocus()&&(t.focus(),!this.environmentService.extensionTestsLocationURI&&!t.document.hasFocus()&&this.hostService.focus(t))}enableMultiWindowAwareTimeout(t,e={getWindowsCount:L_,getWindows:ip}){const i=t.setTimeout;Object.defineProperty(t,"vscodeOriginalSetTimeout",{get:Eo(()=>i,"get")});const s=t.clearTimeout;Object.defineProperty(t,"vscodeOriginalClearTimeout",{get:Eo(()=>s,"get")}),t.setTimeout=function(n,o=0,...r){if(e.getWindowsCount()===1||typeof n=="string"||o===0)return i.apply(this,[n,o,...r]);const a=new Set,l=Ta.TIMEOUT_HANDLES++;Ta.TIMEOUT_DISPOSABLES.set(l,a);const h=Up(n,()=>{ai(a),Ta.TIMEOUT_DISPOSABLES.delete(l)});for(const{window:d,disposables:u}of e.getWindows()){if(qS(d)&&d.document.visibilityState==="hidden")continue;let g=!1;const p=d.vscodeOriginalSetTimeout.apply(this,[(...b)=>{g||h(...b)},o,...r]),m=Se(()=>{g=!0,d.vscodeOriginalClearTimeout(p),a.delete(m)});u.add(m),a.add(m)}return l},t.clearTimeout=function(n){const o=typeof n=="number"?Ta.TIMEOUT_DISPOSABLES.get(n):void 0;o?(ai(o),Ta.TIMEOUT_DISPOSABLES.delete(n)):s.apply(this,[n])}}registerFullScreenListeners(t){this._register(this.hostService.onDidChangeFullScreen(({windowId:e,fullscreen:i})=>{if(e===t){const s=o3(t);s&&Ik(i,s.window)}}))}static async confirmOnShutdown(t,e){const i=t.get(rl),s=t.get(Ke),n=e===f0.QUIT?He?c("quitMessageMac","Are you sure you want to quit?"):c("quitMessage","Are you sure you want to exit?"):c("closeWindowMessage","Are you sure you want to close the window?"),o=e===f0.QUIT?He?c({key:"quitButtonLabel",comment:["&& denotes a mnemonic"]},"&&Quit"):c({key:"exitButtonLabel",comment:["&& denotes a mnemonic"]},"&&Exit"):c({key:"closeWindowButtonLabel",comment:["&& denotes a mnemonic"]},"&&Close Window"),r=await i.confirm({message:n,primaryButton:o,checkbox:{label:c("doNotAskAgain","Do not ask me again")}});return r.confirmed&&r.checkboxChecked&&await s.updateValue("window.confirmBeforeClose","never"),r.confirmed}};Ta=HN([Ko(2,ho),Ko(3,vr)],Ta);let lT=class extends Ta{constructor(t,e,i,s,n,o,r,a,l){super(Q,void 0,l,o),this.openerService=t,this.lifecycleService=e,this.dialogService=i,this.labelService=s,this.productService=n,this.browserEnvironmentService=o,this.layoutService=r,this.instantiationService=a,this.registerListeners(),this.create()}static{Eo(this,"BrowserWindow")}registerListeners(){this._register(this.lifecycleService.onWillShutdown(()=>this.onWillShutdown()));const t=No&&Q.visualViewport?Q.visualViewport:Q;this._register(N(t,U.RESIZE,()=>{this.layoutService.layout(),No&&Q.scrollTo(0,0)})),this._register(N(this.layoutService.mainContainer,U.WHEEL,e=>e.preventDefault(),{passive:!1})),this._register(N(this.layoutService.mainContainer,U.CONTEXT_MENU,e=>xe.stop(e,!0))),this._register(N(this.layoutService.mainContainer,U.DROP,e=>xe.stop(e,!0)))}onWillShutdown(){R.toPromise(R.any(R.once(new $e(Q.document.body,U.KEY_DOWN,!0).event),R.once(new $e(Q.document.body,U.MOUSE_DOWN,!0).event))).then(async()=>{await Za(3e3),await this.dialogService.prompt({type:za.Error,message:c("shutdownError","An unexpected error occurred that requires a reload of this page."),detail:c("shutdownErrorDetail","The workbench was unexpectedly disposed while running."),buttons:[{label:c({key:"reload",comment:["&& denotes a mnemonic"]},"&&Reload"),run:Eo(()=>Q.location.reload(),"run")}]})})}create(){this.setupOpenHandlers(),this.registerLabelFormatters(),this.registerCommands(),this.setupDriver()}setupDriver(){this.environmentService.enableSmokeTestDriver&&RN(this.instantiationService)}setupOpenHandlers(){this.openerService.setDefaultExternalOpener({openExternal:Eo(async t=>{let e=!1;if(this.browserEnvironmentService.options?.openerAllowedExternalUrlPrefixes){for(const i of this.browserEnvironmentService.options.openerAllowedExternalUrlPrefixes)if(t.startsWith(i)){e=!0;break}}if(ff(t,Ue.http)||ff(t,Ue.https))$p?uL(t,!e)||await this.dialogService.prompt({type:za.Warning,message:c("unableToOpenExternal","The browser interrupted the opening of a new tab or window. Press 'Open' to open it anyway."),detail:t,buttons:[{label:c({key:"open",comment:["&& denotes a mnemonic"]},"&&Open"),run:Eo(()=>e?O_(t):N_(t),"run")},{label:c({key:"learnMore",comment:["&& denotes a mnemonic"]},"&&Learn More"),run:Eo(()=>this.openerService.open(j.parse("https://aka.ms/allow-vscode-popup")),"run")}],cancelButton:!0}):e?O_(t):N_(t);else{const i=Eo(()=>{this.lifecycleService.withExpectedShutdown({disableShutdownHandling:!0},()=>Q.location.href=t)},"invokeProtocolHandler");i();const s=Eo(async()=>{const{downloadUrl:n}=this.productService;let o;const r=[{label:c({key:"openExternalDialogButtonRetry.v2",comment:["&& denotes a mnemonic"]},"&&Try Again"),run:Eo(()=>i(),"run")}];n!==void 0?(o=c("openExternalDialogDetail.v2",`We launched {0} on your computer.

If {1} did not launch, try again or install it below.`,this.productService.nameLong,this.productService.nameLong),r.push({label:c({key:"openExternalDialogButtonInstall.v3",comment:["&& denotes a mnemonic"]},"&&Install"),run:Eo(async()=>{await this.openerService.open(j.parse(n)),s()},"run")})):o=c("openExternalDialogDetailNoInstall",`We launched {0} on your computer.

If {1} did not launch, try again below.`,this.productService.nameLong,this.productService.nameLong),await this.hostService.withExpectedShutdown(()=>this.dialogService.prompt({type:za.Info,message:c("openExternalDialogTitle","All done. You can close this tab now."),detail:o,buttons:r,cancelButton:!0}))},"showProtocolUrlOpenedDialog");ff(t,this.productService.urlProtocol)&&await s()}return!0},"openExternal")})}registerLabelFormatters(){this._register(this.labelService.registerFormatter({scheme:Ue.vscodeUserData,priority:!0,formatting:{label:"(Settings) ${path}",separator:"/"}}))}registerCommands(){ln.registerCommand("workbench.experimental.requestUsbDevice",async(t,e)=>AN(e)),ln.registerCommand("workbench.experimental.requestSerialPort",async(t,e)=>EN(e)),ln.registerCommand("workbench.experimental.requestHidDevice",async(t,e)=>IN(e))}};lT=HN([Ko(0,pg),Ko(1,Xr),Ko(2,rl),Ko(3,z1),Ko(4,_m),Ko(5,XD),Ko(6,lt),Ko(7,rt),Ko(8,ho)],lT);var WN=Object.defineProperty,nY=Object.getOwnPropertyDescriptor,ef=(t,e)=>WN(t,"name",{value:e,configurable:!0}),UN=(t,e,i,s)=>{for(var n=s>1?void 0:s?nY(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&WN(e,i,n),n},Ea=(t,e)=>(i,s)=>e(i,s,t);const zN=Ce("auxiliaryWindowService");let x0=class extends Ta{constructor(t,e,i,s,n,o){super(t,void 0,n,o),this.window=t,this.container=e,this.configurationService=s,this.whenStylesHaveLoaded=i.wait().then(()=>{}),this.registerListeners()}static{ef(this,"AuxiliaryWindow")}_onWillLayout=this._register(new I);onWillLayout=this._onWillLayout.event;_onDidLayout=this._register(new I);onDidLayout=this._onDidLayout.event;_onBeforeUnload=this._register(new I);onBeforeUnload=this._onBeforeUnload.event;_onUnload=this._register(new I);onUnload=this._onUnload.event;_onWillDispose=this._register(new I);onWillDispose=this._onWillDispose.event;whenStylesHaveLoaded;registerListeners(){this._register(N(this.window,U.BEFORE_UNLOAD,t=>this.handleBeforeUnload(t))),this._register(N(this.window,U.UNLOAD,()=>this.handleUnload())),this._register(N(this.window,"unhandledrejection",t=>{ss(t.reason),t.preventDefault()})),this._register(N(this.window,U.RESIZE,()=>this.layout())),this._register(N(this.container,U.SCROLL,()=>this.container.scrollTop=0)),Qt?(this._register(N(this.container,U.DROP,t=>xe.stop(t,!0))),this._register(N(this.container,U.WHEEL,t=>t.preventDefault(),{passive:!1})),this._register(N(this.container,U.CONTEXT_MENU,t=>xe.stop(t,!0)))):(this._register(N(this.window.document.body,U.DRAG_OVER,t=>xe.stop(t))),this._register(N(this.window.document.body,U.DROP,t=>xe.stop(t))))}handleBeforeUnload(t){let e;if(this._onBeforeUnload.fire({veto(n){n&&(e=n)}}),e){this.handleVetoBeforeClose(t,e);return}const i=this.configurationService.getValue("window.confirmBeforeClose");(i==="always"||i==="keyboardOnly"&&La.getInstance().isModifierPressed)&&this.confirmBeforeClose(t)}handleVetoBeforeClose(t,e){this.preventUnload(t)}preventUnload(t){t.preventDefault(),t.returnValue=c("lifecycleVeto","Changes that you made may not be saved. Please check press 'Cancel' and try again.")}confirmBeforeClose(t){this.preventUnload(t)}handleUnload(){this._onUnload.fire()}layout(){const t=kh(this.window.document.body,this.container);this._onWillLayout.fire(t),this._onDidLayout.fire(t)}createState(){return{bounds:{x:this.window.screenX,y:this.window.screenY,width:this.window.outerWidth,height:this.window.outerHeight},zoomLevel:Ak(this.window)}}dispose(){this._store.isDisposed||(this._onWillDispose.fire(),super.dispose())}};x0=UN([Ea(3,Ke),Ea(4,ho),Ea(5,vr)],x0);let ou=class extends q{constructor(t,e,i,s,n,o){super(),this.layoutService=t,this.dialogService=e,this.configurationService=i,this.telemetryService=s,this.hostService=n,this.environmentService=o}static{ef(this,"BrowserAuxiliaryWindowService")}static DEFAULT_SIZE={width:800,height:600};static WINDOW_IDS=ph(Q)+1;_onDidOpenAuxiliaryWindow=this._register(new I);onDidOpenAuxiliaryWindow=this._onDidOpenAuxiliaryWindow.event;windows=new Map;async open(t){Mt("code/auxiliaryWindow/willOpen");const e=await this.openWindow(t);if(!e)throw new Error(c("unableToOpenWindowError","Unable to open a new window."));const i=await this.resolveWindowId(e);jS(e,i);const s=new Z,{container:n,stylesLoaded:o}=this.createContainer(e,s,t),r=this.createAuxiliaryWindow(e,n,o),a=new Z;this.windows.set(e.vscodeWindowId,r),a.add(Se(()=>this.windows.delete(e.vscodeWindowId)));const l=new Z;return R.once(r.onWillDispose)(()=>{e.close(),s.dispose(),a.dispose(),l.dispose()}),a.add(n3(e)),this._onDidOpenAuxiliaryWindow.fire({window:r,disposables:l}),Mt("code/auxiliaryWindow/didOpen"),this.telemetryService.publicLog2("auxiliaryWindowOpen",{bounds:!!t?.bounds}),r}createAuxiliaryWindow(t,e,i){return new x0(t,e,i,this.configurationService,this.hostService,this.environmentService)}async openWindow(t){const e=nr(),i={x:e.screenX,y:e.screenY,width:e.outerWidth,height:e.outerHeight},s=Math.max(t?.bounds?.width??ou.DEFAULT_SIZE.width,qI.WIDTH),n=Math.max(t?.bounds?.height??ou.DEFAULT_SIZE.height,qI.HEIGHT);let o={x:t?.bounds?.x??Math.max(i.x+i.width/2-s/2,0),y:t?.bounds?.y??Math.max(i.y+i.height/2-n/2,0),width:s,height:n};!t?.bounds&&o.x===i.x&&o.y===i.y&&(o={...o,x:o.x+30,y:o.y+30});const r=Tn(["popup=yes",`left=${o.x}`,`top=${o.y}`,`width=${o.width}`,`height=${o.height}`,t?.nativeTitlebar?"window-native-titlebar=yes":void 0,t?.disableFullscreen?"window-disable-fullscreen=yes":void 0,t?.mode===0?"window-maximized=yes":void 0,t?.mode===2?"window-fullscreen=yes":void 0]),a=Q.open(Bk?"":"about:blank",void 0,r.join(","));return!a&&Qt?(await this.dialogService.prompt({type:za.Warning,message:c("unableToOpenWindow","The browser interrupted the opening of a new window. Press 'Retry' to try again."),detail:c("unableToOpenWindowDetail","To avoid this problem in the future, please ensure to allow popups for this website."),buttons:[{label:c({key:"retry",comment:["&& denotes a mnemonic"]},"&&Retry"),run:ef(()=>this.openWindow(t),"run")}],cancelButton:!0})).result:a?.window}async resolveWindowId(t){return ou.WINDOW_IDS++}createContainer(t,e,i){t.document.createElement=()=>{throw new Error('Not allowed to create elements in child window JavaScript context. Always use the main window so that "xyz instanceof HTMLElement" continues to work.')},this.applyMeta(t);const{stylesLoaded:s}=this.applyCSS(t,e),n=this.applyHTML(t,e);return{stylesLoaded:s,container:n}}applyMeta(t){for(const i of['meta[charset="utf-8"]','meta[http-equiv="Content-Security-Policy"]','meta[name="viewport"]','meta[name="theme-color"]']){const s=Q.document.querySelector(i);if(s){const n=TC(t.document.head);if(Pv(s,n),i==='meta[http-equiv="Content-Security-Policy"]'){const o=n.getAttribute("content");o&&n.setAttribute("content",o.replace(/(script-src[^;]*)/,"script-src 'none'"))}}}const e=Q.document.querySelector('link[rel="icon"]');if(e){const i=oL(t.document.head);Pv(e,i)}}applyCSS(t,e){Mt("code/auxiliaryWindow/willApplyCSS");const i=new Map,s=new Ex;s.wait().then(()=>Mt("code/auxiliaryWindow/didLoadCSSStyles"));const n=e.add(new Z);let o=0;function r(){--o===0&&(n.dispose(),s.open())}ef(r,"onLinkSettled");function a(l){if(sL(l))return;const h=t.document.head.appendChild(l.cloneNode(!0));l.tagName.toLowerCase()==="link"&&(o++,n.add(N(h,"load",r)),n.add(N(h,"error",r))),i.set(l,h)}ef(a,"cloneNode"),o++;try{for(const l of Q.document.head.querySelectorAll('link[rel="stylesheet"], style'))a(l)}finally{r()}return e.add(nL(t)),e.add(IC.observe(Q.document.head,e,{childList:!0,subtree:!0})(l=>{for(const h of l)if(!(h.type!=="childList"||h.target.nodeName.toLowerCase()==="title"||h.target.nodeName.toLowerCase()==="script"||h.target.nodeName.toLowerCase()==="meta")){for(const d of h.addedNodes)if(ns(d)&&(d.tagName.toLowerCase()==="style"||d.tagName.toLowerCase()==="link"))a(d);else if(d.nodeType===Node.TEXT_NODE&&d.parentNode){const u=i.get(d.parentNode);u&&(u.textContent=d.textContent)}for(const d of h.removedNodes){const u=i.get(d);u&&(u.parentNode?.removeChild(u),i.delete(d))}}})),Mt("code/auxiliaryWindow/didApplyCSS"),{stylesLoaded:s}}applyHTML(t,e){Mt("code/auxiliaryWindow/willApplyHTML");const i=document.createElement("div");return i.setAttribute("role","application"),_C(i,0,0,0,0,"relative"),i.style.display="flex",i.style.height="100%",i.style.flexDirection="column",t.document.body.append(i),e.add(Fb(Q.document.documentElement,t.document.documentElement)),e.add(Fb(Q.document.body,t.document.body)),e.add(Fb(this.layoutService.mainContainer,i,["class"])),Mt("code/auxiliaryWindow/didApplyHTML"),i}getWindow(t){return this.windows.get(t)}};ou=UN([Ea(0,lt),Ea(1,rl),Ea(2,Ke),Ea(3,Zs),Ea(4,ho),Ea(5,vr)],ou);pm(zN,ou,fm.Delayed);const oY=Ce("bannerService");var rY=Object.defineProperty,aa=(t,e)=>rY(t,"name",{value:e,configurable:!0});const aY="undefined_publisher";function lY(t){if(typeof t=="object"&&t!==null&&t.supported!==!0)return t.description}aa(lY,"getWorkspaceSupportTypeMessage");var vp=(t=>(t[t.System=0]="System",t[t.User=1]="User",t))(vp||{}),Ve=(t=>(t.WIN32_X64="win32-x64",t.WIN32_ARM64="win32-arm64",t.LINUX_X64="linux-x64",t.LINUX_ARM64="linux-arm64",t.LINUX_ARMHF="linux-armhf",t.ALPINE_X64="alpine-x64",t.ALPINE_ARM64="alpine-arm64",t.DARWIN_X64="darwin-x64",t.DARWIN_ARM64="darwin-arm64",t.WEB="web",t.UNIVERSAL="universal",t.UNKNOWN="unknown",t.UNDEFINED="undefined",t))(Ve||{});class Xn{static{aa(this,"ExtensionIdentifier")}value;_lower;constructor(e){this.value=e,this._lower=e.toLowerCase()}static equals(e,i){if(typeof e>"u"||e===null)return typeof i>"u"||i===null;if(typeof i>"u"||i===null)return!1;if(typeof e=="string"||typeof i=="string"){const s=typeof e=="string"?e:e.value,n=typeof i=="string"?i:i.value;return xa(s,n)}return e._lower===i._lower}static toKey(e){return typeof e=="string"?e.toLowerCase():e._lower}}class db{static{aa(this,"ExtensionIdentifierSet")}_set=new Set;get size(){return this._set.size}constructor(e){if(e)for(const i of e)this.add(i)}add(e){this._set.add(Xn.toKey(e))}delete(e){return this._set.delete(Xn.toKey(e))}has(e){return this._set.has(Xn.toKey(e))}}class cY{static{aa(this,"ExtensionIdentifierMap")}_map=new Map;clear(){this._map.clear()}delete(e){this._map.delete(Xn.toKey(e))}get(e){return this._map.get(Xn.toKey(e))}has(e){return this._map.has(Xn.toKey(e))}set(e,i){this._map.set(Xn.toKey(e),i)}values(){return this._map.values()}forEach(e){this._map.forEach(e)}[Symbol.iterator](){return this._map[Symbol.iterator]()}}function hY(t){return $N(t)}aa(hY,"isApplicationScopedExtension");function $N(t){return t.contributes&&t.contributes.localizations?t.contributes.localizations.length>0:!1}aa($N,"isLanguagePackExtension");function dY(t){return t.contributes&&t.contributes.authentication?t.contributes.authentication.length>0:!1}aa(dY,"isAuthenticationProviderExtension");function uY(t,e){if(e){const i=`onResolveRemoteAuthority:${M1(e)}`;return!!t.activationEvents?.includes(i)}return!1}aa(uY,"isResolverExtension");function gY(t){return t.map(e=>{const[i,s]=e.split("@");return{proposalName:i,version:s?Number.parseInt(s):void 0}})}aa(gY,"parseApiProposals");function fY(t){return t.map(e=>e.split("@")[0])}aa(fY,"parseEnabledApiProposalNames");Ce("IBuiltinExtensionsScannerService");var pY=Object.defineProperty,ru=(t,e)=>pY(t,"name",{value:e,configurable:!0});function KN(t){if(iC===xd.Linux&&/^penguin(\.|$)/i.test(t))return"chromebook"}ru(KN,"getPlatformDetail");function mY(t,e,i,s,n,o,r,a,l,h){const d=Object.create(null);d["common.machineId"]=o,d["common.sqmId"]=r,d["common.devDeviceId"]=a,d.sessionID=jv()+Date.now(),d.commitHash=s,d.version=n,d["common.platformVersion"]=(t||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),d["common.platform"]=Nk(iC),d["common.nodePlatform"]=Mk,d["common.nodeArch"]=i,d["common.product"]=h||"desktop",l&&(d["common.msftInternal"]=l);let u=0;const g=Date.now();Object.defineProperties(d,{timestamp:{get:ru(()=>new Date,"get"),enumerable:!0},"common.timesincesessionstart":{get:ru(()=>Date.now()-g,"get"),enumerable:!0},"common.sequence":{get:ru(()=>u++,"get"),enumerable:!0}}),t6&&(d["common.snap"]="true");const p=KN(e);return p&&(d["common.platformDetail"]=p),d}ru(mY,"resolveCommonProperties");function GN(t){const e=qc.USERDNSDOMAIN;if(!e)return!1;const i=e.toLowerCase();return t.some(s=>i===s)}ru(GN,"verifyMicrosoftInternalDomain");var bY=Object.defineProperty,Bn=(t,e)=>bY(t,"name",{value:e,configurable:!0});class L0{constructor(e){this.value=e}static{Bn(this,"TelemetryTrustedValue")}isTrustedTelemetryValue=!0}class moe{static{Bn(this,"NullTelemetryServiceShape")}telemetryLevel=Qc.NONE;sessionId="someValue.sessionId";machineId="someValue.machineId";sqmId="someValue.sqmId";devDeviceId="someValue.devDeviceId";firstSessionDate="someValue.firstSessionDate";sendErrorTelemetry=!1;publicLog(){}publicLog2(){}publicLogError(){}publicLogError2(){}setExperimentProperty(){}}class boe{static{Bn(this,"NullEndpointTelemetryService")}_serviceBrand;async publicLog(e,i,s){}async publicLogError(e,i,s){}}function vY(t,e){return!e.isBuilt&&!e.disableTelemetry?!0:!(e.disableTelemetry||!t.enableTelemetry)}Bn(vY,"supportsTelemetry");function wY(t,e){return e.extensionTestsLocationURI?!0:!(e.isBuilt||e.disableTelemetry||t.enableTelemetry&&t.aiConfig?.ariaKey)}Bn(wY,"isLoggingOnly");function yY(t){const e=t.getValue(_z),i=t.getValue(Sz);if(t.getValue(Cz)===!1||i===!1)return Qc.NONE;switch(e??Ad.ON){case Ad.ON:return Qc.USAGE;case Ad.ERROR:return Qc.ERROR;case Ad.CRASH:return Qc.CRASH;case Ad.OFF:return Qc.NONE}}Bn(yY,"getTelemetryLevel");function _Y(t){const e={},i={},s={};ZD(t,s);for(let n in s){n=n.length>150?n.substr(n.length-149):n;const o=s[n];typeof o=="number"?i[n]=o:typeof o=="boolean"?i[n]=o?1:0:typeof o=="string"?(o.length>8192&&console.warn(`Telemetry property: ${n} has been trimmed to 8192, the original length is ${o.length}`),e[n]=o.substring(0,8191)):typeof o<"u"&&o!==null&&(e[n]=o)}return{properties:e,measurements:i}}Bn(_Y,"validateTelemetryData");const SY=new Set(["ssh-remote","dev-container","attached-container","wsl","tunnel","codespaces","amlext"]);function CY(t){if(!t)return"none";const e=M1(t);return SY.has(e)?e:"other"}Bn(CY,"cleanRemoteAuthority");function ZD(t,e,i=0,s){if(t)for(const n of Object.getOwnPropertyNames(t)){const o=t[n],r=s?s+n:n;Array.isArray(o)?e[r]=e0(o):o instanceof Date?e[r]=o.toISOString():cs(o)?i<2?ZD(o,e,i+1,r+"."):e[r]=e0(o):e[r]=o}}Bn(ZD,"flatten");function DY(t,e){const i=t.msftInternalDomains||[],s=e.getValue("telemetry.internalTesting");return GN(i)||s}Bn(DY,"isInternalTelemetry");function AY(t){return[t.appRoot,t.extensionsPath,t.userHome.fsPath,t.tmpDir.fsPath,t.userDataPath]}Bn(AY,"getPiiPathsFromEnvironment");function jN(t,e){if(!t||!t.includes("/")&&!t.includes("\\"))return t;let i=t;const s=[];for(const a of e)for(;;){const l=a.exec(t);if(!l)break;s.push([l.index,a.lastIndex])}const n=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,o=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g;let r=0;for(i="";;){const a=o.exec(t);if(!a)break;const l=s.some(([h,d])=>a.index<d&&h<o.lastIndex);!n.test(a[0])&&!l&&(i+=t.substring(r,a.index)+"<REDACTED: user-file-path>",r=o.lastIndex)}return r<t.length&&(i+=t.substr(r)),i}Bn(jN,"anonymizeFilePaths");function qN(t){if(!t)return t;const e=[{label:"Google API Key",regex:/AIza[A-Za-z0-9_-]{35}/},{label:"Slack Token",regex:/xox[pbar]-[A-Za-z0-9]/},{label:"GitHub Token",regex:/(gh[psuro]_[a-zA-Z0-9]{36}|github_pat_[a-zA-Z0-9]{22}_[a-zA-Z0-9]{59})/},{label:"Generic Secret",regex:/(key|token|sig|secret|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/i},{label:"CLI Credentials",regex:/((login|psexec|(certutil|psexec)\.exe).{1,50}(\s-u(ser(name)?)?\s+.{3,100})?\s-(admin|user|vm|root)?p(ass(word)?)?\s+["']?[^$\-/\s]|(^|[\s\r\n\\])net(\.exe)?.{1,5}(user\s+|share\s+\/user:| user -? secrets ? set) \s + [^ $\s /])/},{label:"Email",regex:/@[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+/}];for(const i of e)if(i.regex.test(t))return`<REDACTED: ${i.label}>`;return t}Bn(qN,"removePropertiesWithPossibleUserInfo");function EY(t,e){return qC(t,i=>{if(i instanceof L0||Object.hasOwnProperty.call(i,"isTrustedTelemetryValue"))return i.value;if(typeof i=="string"){let s=i.replaceAll("%20"," ");s=jN(s,e);for(const n of e)s=s.replace(n,"");return s=qN(s),s}})}Bn(EY,"cleanData");var IY=Object.defineProperty,yc=(t,e)=>IY(t,"name",{value:e,configurable:!0});function TY(t){switch(t){case Ve.WIN32_X64:return"Windows 64 bit";case Ve.WIN32_ARM64:return"Windows ARM";case Ve.LINUX_X64:return"Linux 64 bit";case Ve.LINUX_ARM64:return"Linux ARM 64";case Ve.LINUX_ARMHF:return"Linux ARM";case Ve.ALPINE_X64:return"Alpine Linux 64 bit";case Ve.ALPINE_ARM64:return"Alpine ARM 64";case Ve.DARWIN_X64:return"Mac";case Ve.DARWIN_ARM64:return"Mac Silicon";case Ve.WEB:return"Web";case Ve.UNIVERSAL:return Ve.UNIVERSAL;case Ve.UNKNOWN:return Ve.UNKNOWN;case Ve.UNDEFINED:return Ve.UNDEFINED}}yc(TY,"TargetPlatformToString");function kY(t){switch(t){case Ve.WIN32_X64:return Ve.WIN32_X64;case Ve.WIN32_ARM64:return Ve.WIN32_ARM64;case Ve.LINUX_X64:return Ve.LINUX_X64;case Ve.LINUX_ARM64:return Ve.LINUX_ARM64;case Ve.LINUX_ARMHF:return Ve.LINUX_ARMHF;case Ve.ALPINE_X64:return Ve.ALPINE_X64;case Ve.ALPINE_ARM64:return Ve.ALPINE_ARM64;case Ve.DARWIN_X64:return Ve.DARWIN_X64;case Ve.DARWIN_ARM64:return Ve.DARWIN_ARM64;case Ve.WEB:return Ve.WEB;case Ve.UNIVERSAL:return Ve.UNIVERSAL;default:return Ve.UNKNOWN}}yc(kY,"toTargetPlatform");function YN(t,e){switch(t){case xd.Windows:return e==="x64"?Ve.WIN32_X64:e==="arm64"?Ve.WIN32_ARM64:Ve.UNKNOWN;case xd.Linux:return e==="x64"?Ve.LINUX_X64:e==="arm64"?Ve.LINUX_ARM64:e==="arm"?Ve.LINUX_ARMHF:Ve.UNKNOWN;case"alpine":return e==="x64"?Ve.ALPINE_X64:e==="arm64"?Ve.ALPINE_ARM64:Ve.UNKNOWN;case xd.Mac:return e==="x64"?Ve.DARWIN_X64:e==="arm64"?Ve.DARWIN_ARM64:Ve.UNKNOWN;case xd.Web:return Ve.WEB}}yc(YN,"getTargetPlatform");function XN(t,e){return e===Ve.WEB&&!t.includes(Ve.WEB)}yc(XN,"isNotWebExtensionInWebTargetPlatform");function xY(t,e,i){return XN(e,i)?!1:t===Ve.UNDEFINED||t===Ve.UNIVERSAL?!0:t===Ve.UNKNOWN?!1:t===i}yc(xY,"isTargetPlatformCompatible");function LY(t){return t&&typeof t=="object"&&typeof t.id=="string"&&(!t.uuid||typeof t.uuid=="string")}yc(LY,"isIExtensionIdentifier");Ce("extensionGalleryService");class voe extends Error{constructor(e,i){super(e),this.code=i,this.name=i}static{yc(this,"ExtensionGalleryError")}}class woe extends Error{constructor(e,i){super(e),this.code=i,this.name=i}static{yc(this,"ExtensionManagementError")}}Ce("extensionManagementService");Ce("IGlobalExtensionEnablementService");Ce("IExtensionTipsService");te("extensions","Extensions");te("preferences","Preferences");var PY=Object.defineProperty,uo=(t,e)=>PY(t,"name",{value:e,configurable:!0});function wp(t,e){return t.uuid&&e.uuid?t.uuid===e.uuid:t.id===e.id?!0:Ev(t.id,e.id)===0}uo(wp,"areSameExtensions");const RY=/^([^.]+\..+)-(\d+\.\d+\.\d+)(-(.+))?$/;class tv{constructor(e,i,s=Ve.UNDEFINED){this.identifier=e,this.version=i,this.targetPlatform=s,this.id=e.id}static{uo(this,"ExtensionKey")}static create(e){const i=e.manifest?e.manifest.version:e.version,s=e.manifest?e.targetPlatform:e.properties.targetPlatform;return new tv(e.identifier,i,s)}static parse(e){const i=RY.exec(e);return i&&i[1]&&i[2]?new tv({id:i[1]},i[2],i[4]||void 0):null}id;toString(){return`${this.id}-${this.version}${this.targetPlatform!==Ve.UNDEFINED?`-${this.targetPlatform}`:""}`}equals(e){return e instanceof tv?wp(this,e)&&this.version===e.version&&this.targetPlatform===e.targetPlatform:!1}}const NY=/^([^.]+\..+)@((prerelease)|(\d+\.\d+\.\d+(-.*)?))$/;function OY(t){const e=NY.exec(t);return e&&e[1]?[iw(e[1]),e[2]]:[iw(t),void 0]}uo(OY,"getIdAndVersion");function QD(t,e){return`${t}.${e}`}uo(QD,"getExtensionId");function iw(t){return t.toLowerCase()}uo(iw,"adoptToGalleryExtensionId");function ZN(t,e){return iw(QD(t??aY,e))}uo(ZN,"getGalleryExtensionId");function BY(t,e){const i=[],s=uo(n=>{for(const o of i)if(o.some(r=>wp(e(r),e(n))))return o;return null},"findGroup");for(const n of t){const o=s(n);o?o.push(n):i.push([n])}return i}uo(BY,"groupByExtension");function MY(t){return{id:t.identifier.id,name:t.manifest.name,galleryId:null,publisherId:t.publisherId,publisherName:t.manifest.publisher,publisherDisplayName:t.publisherDisplayName,dependencies:t.manifest.extensionDependencies&&t.manifest.extensionDependencies.length>0}}uo(MY,"getLocalExtensionTelemetryData");function FY(t){return{id:new L0(t.identifier.id),name:new L0(t.name),version:t.version,galleryId:t.identifier.uuid,publisherId:t.publisherId,publisherName:t.publisher,publisherDisplayName:t.publisherDisplayName,isPreReleaseVersion:t.properties.isPreReleaseVersion,dependencies:!!(t.properties.dependencies&&t.properties.dependencies.length>0),isSigned:t.isSigned,...t.telemetryData}}uo(FY,"getGalleryExtensionTelemetryData");new Xn("pprice.better-merge");function VY(t,e){const i=[],s=e.manifest.extensionDependencies?.slice(0)??[];for(;s.length;){const n=s.shift();if(n&&i.every(o=>!wp(o.identifier,{id:n}))){const o=t.filter(r=>wp(r.identifier,{id:n}));o.length===1&&(i.push(o[0]),s.push(...o[0].manifest.extensionDependencies?.slice(0)??[]))}}return i}uo(VY,"getExtensionDependencies");async function QN(t,e){if(!Ni)return!1;let i;try{i=(await t.readFile(j.file("/etc/os-release"))).value.toString()}catch{try{i=(await t.readFile(j.file("/usr/lib/os-release"))).value.toString()}catch(n){e.debug("Error while getting the os-release file.",MS(n))}}return!!i&&(i.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]==="alpine"}uo(QN,"isAlpineLinux");async function HY(t,e){const i=await QN(t,e),s=YN(i?"alpine":iC,u6);return e.debug("ComputeTargetPlatform:",s),s}uo(HY,"computeTargetPlatform");var WY=Object.defineProperty,UY=(t,e)=>WY(t,"name",{value:e,configurable:!0});class zY{static{UY(this,"ImplicitActivationEventsImpl")}_generators=new Map;_cache=new WeakMap;register(e,i){this._generators.set(e,i)}readActivationEvents(e){return this._cache.has(e)||this._cache.set(e,this._readActivationEvents(e)),this._cache.get(e)}createActivationEventsMap(e){const i=Object.create(null);for(const s of e){const n=this.readActivationEvents(s);n.length>0&&(i[Xn.toKey(s.identifier)]=n)}return i}_readActivationEvents(e){if(typeof e.main>"u"&&typeof e.browser>"u")return[];const i=Array.isArray(e.activationEvents)?e.activationEvents.slice(0):[];for(let s=0;s<i.length;s++)i[s]==="onUri"&&(i[s]=`onUri:${Xn.toKey(e.identifier)}`);if(!e.contributes)return i;for(const s in e.contributes){const n=this._generators.get(s);if(!n)continue;const o=e.contributes[s],r=Array.isArray(o)?o:[o];try{n(r,i)}catch(a){ss(a)}}return i}}const Gy=new zY;var $Y=Object.defineProperty,hr=(t,e)=>$Y(t,"name",{value:e,configurable:!0});Object.freeze({identifier:new Xn("nullExtensionDescription"),name:"Null Extension Description",version:"0.0.0",publisher:"vscode",engines:{vscode:""},extensionLocation:j.parse("void:location"),isBuiltin:!1,targetPlatform:Ve.UNDEFINED,isUserBuiltin:!1,isUnderDevelopment:!1});const yr=Ce("extensionService");class yoe{constructor(e){this.dependency=e}static{hr(this,"MissingExtensionDependency")}}class _oe{static{hr(this,"ExtensionHostExtensions")}_versionId;_allExtensions;_myExtensions;_myActivationEvents;get versionId(){return this._versionId}get allExtensions(){return this._allExtensions}get myExtensions(){return this._myExtensions}constructor(e,i,s){this._versionId=e,this._allExtensions=i.slice(0),this._myExtensions=s.slice(0),this._myActivationEvents=null}toSnapshot(){return{versionId:this._versionId,allExtensions:this._allExtensions,myExtensions:this._myExtensions,activationEvents:Gy.createActivationEventsMap(this._allExtensions)}}set(e,i,s){if(this._versionId>e)throw new Error(`ExtensionHostExtensions: invalid versionId ${e} (current: ${this._versionId})`);const n=[],o=[],r=[],a=[],l=P0(this._allExtensions),h=P0(i),d=hr((b,C)=>b.extensionLocation.toString()===C.extensionLocation.toString()||b.isBuiltin===C.isBuiltin||b.isUserBuiltin===C.isUserBuiltin||b.isUnderDevelopment===C.isUnderDevelopment,"extensionsAreTheSame");for(const b of this._allExtensions){const C=h.get(b.identifier);if(!C){n.push(b.identifier),l.delete(b.identifier);continue}if(!d(b,C)){n.push(b.identifier),l.delete(b.identifier);continue}}for(const b of i){const C=l.get(b.identifier);if(!C){o.push(b);continue}if(!d(C,b)){n.push(C.identifier),l.delete(C.identifier);continue}}const u=new db(this._myExtensions),g=new db(s);for(const b of this._myExtensions)g.has(b)||r.push(b);for(const b of s)u.has(b)||a.push(b);const p=Gy.createActivationEventsMap(o),m={versionId:e,toRemove:n,toAdd:o,addActivationEvents:p,myToRemove:r,myToAdd:a};return this.delta(m),m}delta(e){if(this._versionId>=e.versionId)return null;const{toRemove:i,toAdd:s,myToRemove:n,myToAdd:o}=e,r=new db(i),a=new db(n);for(let l=0;l<this._allExtensions.length;l++)r.has(this._allExtensions[l].identifier)&&(this._allExtensions.splice(l,1),l--);for(let l=0;l<this._myExtensions.length;l++)a.has(this._myExtensions[l])&&(this._myExtensions.splice(l,1),l--);for(const l of s)this._allExtensions.push(l);for(const l of o)this._myExtensions.push(l);return this._myActivationEvents=null,e}containsExtension(e){for(const i of this._myExtensions)if(Xn.equals(i,e))return!0;return!1}containsActivationEvent(e){return this._myActivationEvents||(this._myActivationEvents=this._readMyActivationEvents()),this._myActivationEvents.has(e)}_readMyActivationEvents(){const e=new Set;for(const i of this._allExtensions){if(!this.containsExtension(i.identifier))continue;const s=Gy.readActivationEvents(i);for(const n of s)e.add(n)}return e}}function P0(t){const e=new cY;for(const i of t)e.set(i.identifier,i);return e}hr(P0,"extensionDescriptionArrayToMap");function JN(t,e){return t.enabledApiProposals?t.enabledApiProposals.includes(e):!1}hr(JN,"isProposedApiEnabled");function KY(t,e){if(!JN(t,e))throw new Error(`Extension '${t.identifier.value}' CANNOT use API proposal: ${e}.
Its package.json#enabledApiProposals-property declares: ${t.enabledApiProposals?.join(", ")??"[]"} but NOT ${e}.
 The missing proposal MUST be added and you must start in extension development mode or use the following command line switch: --enable-proposed-api ${t.identifier.value}`)}hr(KY,"checkProposedApiEnabled");class Soe{constructor(e,i,s,n){this.codeLoadingTime=e,this.activateCallTime=i,this.activateResolvedTime=s,this.activationReason=n}static{hr(this,"ActivationTimes")}}class Coe{static{hr(this,"ExtensionPointContribution")}description;value;constructor(e,i){this.description=e,this.value=i}}var R0=(t=>(t[t.Normal=0]="Normal",t[t.Immediate=1]="Immediate",t))(R0||{});function GY(t){return{type:t.isBuiltin?vp.System:vp.User,isBuiltin:t.isBuiltin||t.isUserBuiltin,identifier:{id:ZN(t.publisher,t.name),uuid:t.uuid},manifest:t,location:t.extensionLocation,targetPlatform:t.targetPlatform,validations:[],isValid:!0}}hr(GY,"toExtension");function jY(t,e){const i=QD(t.manifest.publisher,t.manifest.name);return{id:i,identifier:new Xn(i),isBuiltin:t.type===vp.System,isUserBuiltin:t.type===vp.User&&t.isBuiltin,isUnderDevelopment:!!e,extensionLocation:t.location,uuid:t.identifier.uuid,targetPlatform:t.targetPlatform,publisherDisplayName:t.publisherDisplayName,...t.manifest}}hr(jY,"toExtensionDescription");class Doe{static{hr(this,"NullExtensionService")}onDidRegisterExtensions=R.None;onDidChangeExtensionsStatus=R.None;onDidChangeExtensions=R.None;onWillActivateByEvent=R.None;onDidChangeResponsiveChange=R.None;onWillStop=R.None;extensions=[];activateByEvent(e){return Promise.resolve(void 0)}activateById(e,i){return Promise.resolve(void 0)}activationEventIsDone(e){return!1}whenInstalledExtensionsRegistered(){return Promise.resolve(!0)}getExtension(){return Promise.resolve(void 0)}readExtensionPointContributions(e){return Promise.resolve(Object.create(null))}getExtensionsStatus(){return Object.create(null)}getInspectPorts(e,i){return Promise.resolve([])}stopExtensionHosts(){}async startExtensionHosts(){}async setRemoteEnvironment(e){}canAddExtension(){return!1}canRemoveExtension(){return!1}}var qY=Object.defineProperty,e5=(t,e)=>qY(t,"name",{value:e,configurable:!0});const t5=Ce("statusbarService");var N0=(t=>(t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT",t))(N0||{});function i5(t){const e=t;return typeof e?.id=="string"&&typeof e.alignment=="number"}e5(i5,"isStatusbarEntryLocation");function YY(t){const e=t;return(typeof e?.primary=="number"||i5(e?.primary))&&typeof e?.secondary=="number"}e5(YY,"isStatusbarEntryPriority");const XY=Ce("titleService"),ZY=Ce("workingCopyBackupService");var QY=Object.defineProperty,s5=(t,e)=>QY(t,"name",{value:e,configurable:!0});class vs{constructor(e,i){this.storageService=i,this.id=vs.COMMON_PREFIX+e}static{s5(this,"Memento")}static applicationMementos=new Map;static profileMementos=new Map;static workspaceMementos=new Map;static COMMON_PREFIX="memento/";id;getMemento(e,i){switch(e){case _e.WORKSPACE:{let s=vs.workspaceMementos.get(this.id);return s||(s=new jy(this.id,e,i,this.storageService),vs.workspaceMementos.set(this.id,s)),s.getMemento()}case _e.PROFILE:{let s=vs.profileMementos.get(this.id);return s||(s=new jy(this.id,e,i,this.storageService),vs.profileMementos.set(this.id,s)),s.getMemento()}case _e.APPLICATION:{let s=vs.applicationMementos.get(this.id);return s||(s=new jy(this.id,e,i,this.storageService),vs.applicationMementos.set(this.id,s)),s.getMemento()}}}onDidChangeValue(e,i){return this.storageService.onDidChangeValue(e,this.id,i)}saveMemento(){vs.workspaceMementos.get(this.id)?.save(),vs.profileMementos.get(this.id)?.save(),vs.applicationMementos.get(this.id)?.save()}reloadMemento(e){let i;switch(e){case _e.APPLICATION:i=vs.applicationMementos.get(this.id);break;case _e.PROFILE:i=vs.profileMementos.get(this.id);break;case _e.WORKSPACE:i=vs.workspaceMementos.get(this.id);break}i?.reload()}static clear(e){switch(e){case _e.WORKSPACE:vs.workspaceMementos.clear();break;case _e.PROFILE:vs.profileMementos.clear();break;case _e.APPLICATION:vs.applicationMementos.clear();break}}}class jy{constructor(e,i,s,n){this.id=e,this.scope=i,this.target=s,this.storageService=n,this.mementoObj=this.doLoad()}static{s5(this,"ScopedMemento")}mementoObj;doLoad(){try{return this.storageService.getObject(this.id,this.scope,{})}catch(e){ss(`[memento]: failed to parse contents: ${e} (id: ${this.id}, scope: ${this.scope}, contents: ${this.storageService.get(this.id,this.scope)})`)}return{}}getMemento(){return this.mementoObj}reload(){for(const e of Object.getOwnPropertyNames(this.mementoObj))delete this.mementoObj[e];Object.assign(this.mementoObj,this.doLoad())}save(){cC(this.mementoObj)?this.storageService.remove(this.id,this.scope):this.storageService.store(this.id,this.mementoObj,this.scope,this.target)}}var JY=Object.defineProperty,eX=(t,e)=>JY(t,"name",{value:e,configurable:!0});class K1 extends w1{constructor(e,i,s){super(i),this.id=e,this.memento=new vs(this.id,s),this._register(s.onWillSaveState(()=>{this.saveState(),this.memento.saveMemento()}))}static{eX(this,"Component")}memento;getId(){return this.id}getMemento(e,i){return this.memento.getMemento(e,i)}reloadMemento(e){return this.memento.reloadMemento(e)}onDidChangeMementoValue(e,i){return this.memento.onDidChangeValue(e,i)}saveState(){}}var tX=Object.defineProperty,JD=(t,e)=>tX(t,"name",{value:e,configurable:!0});class eA extends K1{constructor(e,i,s,n,o){super(e,s,n),this.options=i,this.layoutService=o,this._register(o.registerPart(this))}static{JD(this,"Part")}_dimension;get dimension(){return this._dimension}_contentPosition;get contentPosition(){return this._contentPosition}_onDidVisibilityChange=this._register(new I);onDidVisibilityChange=this._onDidVisibilityChange.event;parent;headerArea;titleArea;contentArea;footerArea;partLayout;onThemeChange(e){this.parent&&super.onThemeChange(e)}create(e,i){this.parent=e,this.titleArea=this.createTitleArea(e,i),this.contentArea=this.createContentArea(e,i),this.partLayout=new Tf(this.options,this.contentArea),this.updateStyles()}getContainer(){return this.parent}createTitleArea(e,i){}getTitleArea(){return this.titleArea}createContentArea(e,i){}getContentArea(){return this.contentArea}setHeaderArea(e){if(this.headerArea)throw new Error("Header already exists");!this.parent||!this.titleArea||(p1(this.parent,e),e.classList.add("header-or-footer"),e.classList.add("header"),this.headerArea=e,this.partLayout?.setHeaderVisibility(!0),this.relayout())}setFooterArea(e){if(this.footerArea)throw new Error("Footer already exists");!this.parent||!this.titleArea||(this.parent.appendChild(e),e.classList.add("header-or-footer"),e.classList.add("footer"),this.footerArea=e,this.partLayout?.setFooterVisibility(!0),this.relayout())}removeHeaderArea(){this.headerArea&&(this.headerArea.remove(),this.headerArea=void 0,this.partLayout?.setHeaderVisibility(!1),this.relayout())}removeFooterArea(){this.footerArea&&(this.footerArea.remove(),this.footerArea=void 0,this.partLayout?.setFooterVisibility(!1),this.relayout())}relayout(){this.dimension&&this.contentPosition&&this.layout(this.dimension.width,this.dimension.height,this.contentPosition.top,this.contentPosition.left)}layoutContents(e,i){return di(this.partLayout).layout(e,i)}_onDidChange=this._register(new I);get onDidChange(){return this._onDidChange.event}element;layout(e,i,s,n){this._dimension=new Vt(e,i),this._contentPosition={top:s,left:n}}setVisible(e){this._onDidVisibilityChange.fire(e)}}class Tf{constructor(e,i){this.options=e,this.contentArea=i}static{JD(this,"PartLayout")}static HEADER_HEIGHT=35;static TITLE_HEIGHT=35;static Footer_HEIGHT=35;headerVisible=!1;footerVisible=!1;layout(e,i){let s;this.options.hasTitle?s=new Vt(e,Math.min(i,Tf.TITLE_HEIGHT)):s=Vt.None;let n;this.headerVisible?n=new Vt(e,Math.min(i,Tf.HEADER_HEIGHT)):n=Vt.None;let o;this.footerVisible?o=new Vt(e,Math.min(i,Tf.Footer_HEIGHT)):o=Vt.None;let r=e;this.options&&typeof this.options.borderWidth=="function"&&(r-=this.options.borderWidth());const a=new Vt(r,i-s.height-n.height-o.height);return this.contentArea&&yC(this.contentArea,a.width,a.height),{headerSize:n,titleSize:s,contentSize:a,footerSize:o}}setFooterVisibility(e){this.footerVisible=e}setHeaderVisibility(e){this.headerVisible=e}}class Aoe extends K1{static{JD(this,"MultiWindowParts")}_parts=new Set;get parts(){return Array.from(this._parts)}registerPart(e){return this._parts.add(e),Se(()=>this.unregisterPart(e))}unregisterPart(e){this._parts.delete(e)}getPart(e){return this.getPartByDocument(e.ownerDocument)}getPartByDocument(e){if(this._parts.size>1){for(const i of this._parts)if(i.element?.ownerDocument===e)return i}return this.mainPart}get activePart(){return this.getPartByDocument(tg())}}var iX=Object.defineProperty,n5=(t,e)=>iX(t,"name",{value:e,configurable:!0});class sX extends q{static{n5(this,"DelayedDragHandler")}timeout;constructor(e,i){super(),this._register(N(e,"dragover",s=>{s.preventDefault(),this.timeout||(this.timeout=setTimeout(()=>{i(),this.timeout=null},800))})),["dragleave","drop","dragend"].forEach(s=>{this._register(N(e,s,()=>{this.clearDragTimeout()}))})}clearDragTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}dispose(){super.dispose(),this.clearDragTimeout()}}const Ba={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:gp.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"};function nX(t,e,i,s,n){const o=document.createElement("div");o.className=i,o.textContent=e,n&&(o.style.color=n),s&&(o.style.background=s),t.dataTransfer&&(be(t).document.body.appendChild(o),t.dataTransfer.setDragImage(o,-10,-10),setTimeout(()=>o.remove(),0))}n5(nX,"applyDragImage");var oX=Object.defineProperty,G1=(t,e)=>oX(t,"name",{value:e,configurable:!0});function o5(t){const e=r5(t);if(e&&e.length>0)return new Uint32Array(e)}G1(o5,"getKoreanAltChars");let _n=0;const Ll=new Uint32Array(10);function r5(t){if(_n=0,Uo(t,qy,4352),_n>0||(Uo(t,Yy,4449),_n>0)||(Uo(t,Xy,4520),_n>0)||(Uo(t,Rc,12593),_n))return Ll.subarray(0,_n);if(t>=44032&&t<=55203){const e=t-44032,i=e%588,s=Math.floor(e/588),n=Math.floor(i/28),o=i%28-1;if(s<qy.length?Uo(s,qy,0):4352+s-12593<Rc.length&&Uo(4352+s,Rc,12593),n<Yy.length?Uo(n,Yy,0):4449+n-12593<Rc.length&&Uo(4449+n-12593,Rc,12593),o>=0&&(o<Xy.length?Uo(o,Xy,0):4520+o-12593<Rc.length&&Uo(4520+o-12593,Rc,12593)),_n>0)return Ll.subarray(0,_n)}}G1(r5,"disassembleKorean");function Uo(t,e,i){t>=i&&t<i+e.length&&a5(e[t-i])}G1(Uo,"getCodesFromArray");function a5(t){t!==0&&(Ll[_n++]=t&255,t>>8&&(Ll[_n++]=t>>8&255),t>>16&&(Ll[_n++]=t>>16&255))}G1(a5,"addCodesToBuffer");const qy=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),Yy=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),Xy=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),Rc=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]);var rX=Object.defineProperty,tt=(t,e)=>rX(t,"name",{value:e,configurable:!0});function tA(...t){return(e,i)=>{for(let s=0,n=t.length;s<n;s++){const o=t[s](e,i);if(o)return o}return null}}tt(tA,"or");iA.bind(void 0,!1);const sw=iA.bind(void 0,!0);function iA(t,e,i){if(!i||i.length<e.length)return null;let s;return t?s=Zu(i,e):s=i.indexOf(e)===0,s?e.length>0?[{start:0,end:e.length}]:[]:null}tt(iA,"_matchesPrefix");function l5(t,e){const i=e.toLowerCase().indexOf(t.toLowerCase());return i===-1?null:[{start:i,end:i+t.length}]}tt(l5,"matchesContiguousSubString");function c5(t,e){return nw(t.toLowerCase(),e.toLowerCase(),0,0)}tt(c5,"matchesSubString");function nw(t,e,i,s){if(i===t.length)return[];if(s===e.length)return null;if(t[i]===e[s]){let n=null;return(n=nw(t,e,i+1,s+1))?Y1({start:s,end:s+1},n):null}return nw(t,e,i,s+1)}tt(nw,"_matchesSubString");function j1(t){return O.a<=t&&t<=O.z}tt(j1,"isLower");function Im(t){return O.A<=t&&t<=O.Z}tt(Im,"isUpper");function q1(t){return O.Digit0<=t&&t<=O.Digit9}tt(q1,"isNumber");function sA(t){return t===O.Space||t===O.Tab||t===O.LineFeed||t===O.CarriageReturn}tt(sA,"isWhitespace");const h5=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(t=>h5.add(t.charCodeAt(0)));function yp(t){return sA(t)||h5.has(t)}tt(yp,"isWordSeparator");function O0(t,e){return t===e||yp(t)&&yp(e)}tt(O0,"charactersMatch");const Zy=new Map;function B0(t){if(Zy.has(t))return Zy.get(t);let e;const i=o5(t);return i&&(e=i),Zy.set(t,e),e}tt(B0,"getAlternateCodes");function nA(t){return j1(t)||Im(t)||q1(t)}tt(nA,"isAlphanumeric");function Y1(t,e){return e.length===0?e=[t]:t.end===e[0].start?e[0].start=t.start:e.unshift(t),e}tt(Y1,"join");function oA(t,e){for(let i=e;i<t.length;i++){const s=t.charCodeAt(i);if(Im(s)||q1(s)||i>0&&!nA(t.charCodeAt(i-1)))return i}return t.length}tt(oA,"nextAnchor");function ow(t,e,i,s){if(i===t.length)return[];if(s===e.length)return null;if(t[i]!==e[s].toLowerCase())return null;{let n=null,o=s+1;for(n=ow(t,e,i+1,s+1);!n&&(o=oA(e,o))<e.length;)n=ow(t,e,i+1,o),o++;return n===null?null:Y1({start:s,end:s+1},n)}}tt(ow,"_matchesCamelCase");function d5(t){let e=0,i=0,s=0,n=0,o=0;for(let d=0;d<t.length;d++)o=t.charCodeAt(d),Im(o)&&e++,j1(o)&&i++,nA(o)&&s++,q1(o)&&n++;const r=e/t.length,a=i/t.length,l=s/t.length,h=n/t.length;return{upperPercent:r,lowerPercent:a,alphaPercent:l,numericPercent:h}}tt(d5,"analyzeCamelCaseWord");function u5(t){const{upperPercent:e,lowerPercent:i}=t;return i===0&&e>.6}tt(u5,"isUpperCaseWord");function g5(t){const{upperPercent:e,lowerPercent:i,alphaPercent:s,numericPercent:n}=t;return i>.2&&e<.8&&s>.6&&n<.2}tt(g5,"isCamelCaseWord");function f5(t){let e=0,i=0,s=0,n=0;for(let o=0;o<t.length;o++)s=t.charCodeAt(o),Im(s)&&e++,j1(s)&&i++,sA(s)&&n++;return(e===0||i===0)&&n===0?t.length<=30:e<=5}tt(f5,"isCamelCasePattern");function rA(t,e){if(!e||(e=e.trim(),e.length===0)||!f5(t))return null;e.length>60&&(e=e.substring(0,60));const i=d5(e);if(!g5(i)){if(!u5(i))return null;e=e.toLowerCase()}let s=null,n=0;for(t=t.toLowerCase();n<e.length&&(s=ow(t,e,0,n))===null;)n=oA(e,n+1);return s}tt(rA,"matchesCamelCase");function aX(t,e,i=!1){if(!e||e.length===0)return null;let s=null,n=0;for(t=t.toLowerCase(),e=e.toLowerCase();n<e.length&&(s=rw(t,e,0,n,i),s===null);)n=aA(e,n+1);return s}tt(aX,"matchesWords");function rw(t,e,i,s,n){let o=0;if(i===t.length)return[];if(s===e.length)return null;if(!O0(t.charCodeAt(i),e.charCodeAt(s))){const l=B0(t.charCodeAt(i));if(!l)return null;for(let h=0;h<l.length;h++)if(!O0(l[h],e.charCodeAt(s+h)))return null;o+=l.length-1}let r=null,a=s+o+1;if(r=rw(t,e,i+1,a,n),!n)for(;!r&&(a=aA(e,a))<e.length;)r=rw(t,e,i+1,a,n),a++;if(!r)return null;if(t.charCodeAt(i)!==e.charCodeAt(s)){const l=B0(t.charCodeAt(i));if(!l)return r;for(let h=0;h<l.length;h++)if(l[h]!==e.charCodeAt(s+h))return r}return Y1({start:s,end:s+o+1},r)}tt(rw,"_matchesWords");function aA(t,e){for(let i=e;i<t.length;i++)if(yp(t.charCodeAt(i))||i>0&&yp(t.charCodeAt(i-1)))return i;return t.length}tt(aA,"nextWord");const lX=tA(sw,rA,l5),cX=tA(sw,rA,c5),cT=new w2(1e4);function M0(t,e,i=!1){if(typeof t!="string"||typeof e!="string")return null;let s=cT.get(t);s||(s=new RegExp(Kk(t),"i"),cT.set(t,s));const n=s.exec(e);return n?[{start:n.index,end:n.index+n[0].length}]:i?cX(t,e):lX(t,e)}tt(M0,"matchesFuzzy");function p5(t,e){const i=Mu(t,t.toLowerCase(),0,e,e.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return i?m5(i):null}tt(p5,"matchesFuzzy2");function hX(t,e,i,s,n,o){const r=Math.min(13,t.length);for(;i<r;i++){const a=Mu(t,e,i,s,n,o,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(a)return a}return[0,o]}tt(hX,"anyScore");function m5(t){if(typeof t>"u")return[];const e=[],i=t[1];for(let s=t.length-1;s>1;s--){const n=t[s]+i,o=e[e.length-1];o&&o.end===n?o.end=n+1:e.push({start:n,end:n+1})}return e}tt(m5,"createMatches");const jl=128;function X1(){const t=[],e=[];for(let i=0;i<=jl;i++)e[i]=0;for(let i=0;i<=jl;i++)t.push(e.slice(0));return t}tt(X1,"initTable");function lA(t){const e=[];for(let i=0;i<=t;i++)e[i]=0;return e}tt(lA,"initArr");const b5=lA(2*jl),F0=lA(2*jl),Tr=X1(),yl=X1(),tf=X1();function iv(t,e,i,s,n){function o(a,l,h=" "){for(;a.length<l;)a=h+a;return a}tt(o,"pad");let r=` |   |${s.split("").map(a=>o(a,3)).join("|")}
`;for(let a=0;a<=i;a++)a===0?r+=" |":r+=`${e[a-1]}|`,r+=t[a].slice(0,n+1).map(l=>o(l.toString(),3)).join("|")+`
`;return r}tt(iv,"printTable");function dX(t,e,i,s){t=t.substr(e),i=i.substr(s),console.log(iv(yl,t,t.length,i,i.length)),console.log(iv(tf,t,t.length,i,i.length)),console.log(iv(Tr,t,t.length,i,i.length))}tt(dX,"printTables");function sf(t,e){if(e<0||e>=t.length)return!1;const i=t.codePointAt(e);switch(i){case O.Underline:case O.Dash:case O.Period:case O.Space:case O.Slash:case O.Backslash:case O.SingleQuote:case O.DoubleQuote:case O.Colon:case O.DollarSign:case O.LessThan:case O.GreaterThan:case O.OpenParen:case O.CloseParen:case O.OpenSquareBracket:case O.CloseSquareBracket:case O.OpenCurlyBrace:case O.CloseCurlyBrace:return!0;case void 0:return!1;default:return!!aC(i)}}tt(sf,"isSeparatorAtPos");function V0(t,e){if(e<0||e>=t.length)return!1;switch(t.charCodeAt(e)){case O.Space:case O.Tab:return!0;default:return!1}}tt(V0,"isWhitespaceAtPos");function kf(t,e,i){return e[t]!==i[t]}tt(kf,"isUpperCaseAtPos");function v5(t,e,i,s,n,o,r=!1){for(;e<i&&n<o;)t[e]===s[n]&&(r&&(b5[e]=n),e+=1),n+=1;return e===i}tt(v5,"isPatternInWord");var yh;(t=>{t.Default=[-100,0];function e(i){return!i||i.length===2&&i[0]===-100&&i[1]===0}t.isDefault=e,tt(e,"isDefault")})(yh||(yh={}));class uX{constructor(e,i){this.firstMatchCanBeWeak=e,this.boostFullMatch=i}static{tt(this,"FuzzyScoreOptions")}static default={boostFullMatch:!0,firstMatchCanBeWeak:!1}}function Mu(t,e,i,s,n,o,r=uX.default){const a=t.length>jl?jl:t.length,l=s.length>jl?jl:s.length;if(i>=a||o>=l||a-i>l-o||!v5(e,i,a,n,o,l,!0))return;w5(a,l,i,o,e,n);let h=1,d=1,u=i,g=o;const p=[!1];for(h=1,u=i;u<a;h++,u++){const E=b5[u],F=F0[u],B=u+1<a?F0[u+1]:l;for(d=E-o+1,g=E;g<B;d++,g++){let M=Number.MIN_SAFE_INTEGER,X=!1;g<=F&&(M=y5(t,e,u,i,s,n,g,l,o,Tr[h-1][d-1]===0,p));let ee=0;M!==Number.MAX_SAFE_INTEGER&&(X=!0,ee=M+yl[h-1][d-1]);const z=g>E,se=z?yl[h][d-1]+(Tr[h][d-1]>0?-5:0):0,Re=g>E+1&&Tr[h][d-1]>0,oe=Re?yl[h][d-2]+(Tr[h][d-2]>0?-5:0):0;if(Re&&(!z||oe>=se)&&(!X||oe>=ee))yl[h][d]=oe,tf[h][d]=3,Tr[h][d]=0;else if(z&&(!X||se>=ee))yl[h][d]=se,tf[h][d]=2,Tr[h][d]=0;else if(X)yl[h][d]=ee,tf[h][d]=1,Tr[h][d]=Tr[h-1][d-1]+1;else throw new Error("not possible")}}if(!p[0]&&!r.firstMatchCanBeWeak)return;h--,d--;const m=[yl[h][d],o];let b=0,C=0;for(;h>=1;){let E=d;do{const F=tf[h][E];if(F===3)E=E-2;else if(F===2)E=E-1;else break}while(E>=1);b>1&&e[i+h-1]===n[o+d-1]&&!kf(E+o-1,s,n)&&b+1>Tr[h][E]&&(E=d),E===d?b++:b=1,C||(C=E),h--,d=E-1,m.push(d)}l-o===a&&r.boostFullMatch&&(m[0]+=2);const x=C-a;return m[0]-=x,m}tt(Mu,"fuzzyScore");function w5(t,e,i,s,n,o){let r=t-1,a=e-1;for(;r>=i&&a>=s;)n[r]===o[a]&&(F0[r]=a,r--),a--}tt(w5,"_fillInMaxWordMatchPos");function y5(t,e,i,s,n,o,r,a,l,h,d){if(e[i]!==o[r])return Number.MIN_SAFE_INTEGER;let u=1,g=!1;return r===i-s?u=t[i]===n[r]?7:5:kf(r,n,o)&&(r===0||!kf(r-1,n,o))?(u=t[i]===n[r]?7:5,g=!0):sf(o,r)&&(r===0||!sf(o,r-1))?u=5:(sf(o,r-1)||V0(o,r-1))&&(u=5,g=!0),u>1&&i===s&&(d[0]=!0),g||(g=kf(r,n,o)||sf(o,r-1)||V0(o,r-1)),i===s?r>l&&(u-=g?3:5):h?u+=g?2:0:u+=g?0:1,r+1===a&&(u-=g?3:5),u}tt(y5,"_doScore");function gX(t,e,i,s,n,o,r){return cA(t,e,i,s,n,o,!0,r)}tt(gX,"fuzzyScoreGracefulAggressive");function fX(t,e,i,s,n,o,r){return cA(t,e,i,s,n,o,!1,r)}tt(fX,"fuzzyScoreGraceful");function cA(t,e,i,s,n,o,r,a){let l=Mu(t,e,i,s,n,o,a);if(l&&!r)return l;if(t.length>=3){const h=Math.min(7,t.length-1);for(let d=i+1;d<h;d++){const u=_5(t,d);if(u){const g=Mu(u,u.toLowerCase(),i,s,n,o,a);g&&(g[0]-=3,(!l||g[0]>l[0])&&(l=g))}}}return l}tt(cA,"fuzzyScoreWithPermutations");function _5(t,e){if(e+1>=t.length)return;const i=t[e],s=t[e+1];if(i!==s)return t.slice(0,e)+s+i+t.slice(e+2)}tt(_5,"nextTypoPermutation");var pX=Object.defineProperty,mX=(t,e)=>pX(t,"name",{value:e,configurable:!0});class bX{constructor(e){this.spliceables=e}static{mX(this,"CombinedSpliceable")}splice(e,i,s){this.spliceables.forEach(n=>n.splice(e,i,s))}}var vX=Object.defineProperty,S5=(t,e)=>vX(t,"name",{value:e,configurable:!0}),C5=(t=>(t[t.Copy=0]="Copy",t[t.Move=1]="Move",t))(C5||{}),nf=(t=>(t.Over="drop-target",t.Before="drop-target-before",t.After="drop-target-after",t))(nf||{});class Nc extends Error{static{S5(this,"ListError")}constructor(e,i){super(`ListError [${e}] ${i}`)}}class Eoe{static{S5(this,"CachedListVirtualDelegate")}cache=new WeakMap;getHeight(e){return this.cache.get(e)??this.estimateHeight(e)}setDynamicHeight(e,i){i>0&&this.cache.set(e,i)}}var wX=Object.defineProperty,ub=(t,e)=>wX(t,"name",{value:e,configurable:!0}),As;(t=>{function e(o,r){if(o.start>=r.end||r.start>=o.end)return{start:0,end:0};const a=Math.max(o.start,r.start),l=Math.min(o.end,r.end);return l-a<=0?{start:0,end:0}:{start:a,end:l}}t.intersect=e,ub(e,"intersect");function i(o){return o.end-o.start<=0}t.isEmpty=i,ub(i,"isEmpty");function s(o,r){return!i(e(o,r))}t.intersects=s,ub(s,"intersects");function n(o,r){const a=[],l={start:o.start,end:Math.min(r.start,o.end)},h={start:Math.max(r.end,o.start),end:o.end};return i(l)||a.push(l),i(h)||a.push(h),a}t.relativeComplement=n,ub(n,"relativeComplement")})(As||(As={}));var yX=Object.defineProperty,Tm=(t,e)=>yX(t,"name",{value:e,configurable:!0});function H0(t,e){const i=[];for(const s of e){if(t.start>=s.range.end)continue;if(t.end<s.range.start)break;const n=As.intersect(t,s.range);As.isEmpty(n)||i.push({range:n,size:s.size})}return i}Tm(H0,"groupIntersect");function aw({start:t,end:e},i){return{start:t+i,end:e+i}}Tm(aw,"shift");function D5(t){const e=[];let i=null;for(const s of t){const n=s.range.start,o=s.range.end,r=s.size;if(i&&r===i.size){i.range.end=o;continue}i={range:{start:n,end:o},size:r},e.push(i)}return e}Tm(D5,"consolidate");function A5(...t){return D5(t.reduce((e,i)=>e.concat(i),[]))}Tm(A5,"concat");class _X{static{Tm(this,"RangeMap")}groups=[];_size=0;_paddingTop=0;get paddingTop(){return this._paddingTop}set paddingTop(e){this._size=this._size+e-this._paddingTop,this._paddingTop=e}constructor(e){this._paddingTop=e??0,this._size=this._paddingTop}splice(e,i,s=[]){const n=s.length-i,o=H0({start:0,end:e},this.groups),r=H0({start:e+i,end:Number.POSITIVE_INFINITY},this.groups).map(l=>({range:aw(l.range,n),size:l.size})),a=s.map((l,h)=>({range:{start:e+h,end:e+h+1},size:l.size}));this.groups=A5(o,a,r),this._size=this._paddingTop+this.groups.reduce((l,h)=>l+h.size*(h.range.end-h.range.start),0)}get count(){const e=this.groups.length;return e?this.groups[e-1].range.end:0}get size(){return this._size}indexAt(e){if(e<0)return-1;if(e<this._paddingTop)return 0;let i=0,s=this._paddingTop;for(const n of this.groups){const o=n.range.end-n.range.start,r=s+o*n.size;if(e<r)return i+Math.floor((e-s)/n.size);i+=o,s=r}return i}indexAfter(e){return Math.min(this.indexAt(e)+1,this.count)}positionAt(e){if(e<0)return-1;let i=0,s=0;for(const n of this.groups){const o=n.range.end-n.range.start,r=s+o;if(e<r)return this._paddingTop+i+(e-s)*n.size;i+=o*n.size,s=r}return-1}}var SX=Object.defineProperty,CX=(t,e)=>SX(t,"name",{value:e,configurable:!0});class DX{constructor(e){this.renderers=e}static{CX(this,"RowCache")}cache=new Map;transactionNodesPendingRemoval=new Set;inTransaction=!1;alloc(e){let i=this.getTemplateCache(e).pop(),s=!1;if(i)s=this.transactionNodesPendingRemoval.has(i.domNode),s&&this.transactionNodesPendingRemoval.delete(i.domNode);else{const n=de(".monaco-list-row"),r=this.getRenderer(e).renderTemplate(n);i={domNode:n,templateId:e,templateData:r}}return{row:i,isReusingConnectedDomNode:s}}release(e){e&&this.releaseRow(e)}transact(e){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{e()}finally{for(const i of this.transactionNodesPendingRemoval)this.doRemoveNode(i);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(e){const{domNode:i,templateId:s}=e;i&&(this.inTransaction?this.transactionNodesPendingRemoval.add(i):this.doRemoveNode(i)),this.getTemplateCache(s).push(e)}doRemoveNode(e){e.classList.remove("scrolling"),e.remove()}getTemplateCache(e){let i=this.cache.get(e);return i||(i=[],this.cache.set(e,i)),i}dispose(){this.cache.forEach((e,i)=>{for(const s of e)this.getRenderer(i).disposeTemplate(s.templateData),s.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(e){const i=this.renderers.get(e);if(!i)throw new Error(`No renderer found for ${e}`);return i}}var E5=Object.defineProperty,AX=Object.getOwnPropertyDescriptor,Ma=(t,e)=>E5(t,"name",{value:e,configurable:!0}),_r=(t,e,i,s)=>{for(var n=AX(e,i),o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=r(e,i,n)||n);return n&&E5(e,i,n),n};const Oc={CurrentDragAndDropData:void 0},Er={useShadows:!0,verticalScrollMode:Jt.Auto,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(t){return[t]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class km{static{Ma(this,"ElementsDragAndDropData")}elements;_context;get context(){return this._context}set context(e){this._context=e}constructor(e){this.elements=e}update(){}getData(){return this.elements}}class EX{static{Ma(this,"ExternalElementsDragAndDropData")}elements;constructor(e){this.elements=e}update(){}getData(){return this.elements}}class IX{static{Ma(this,"NativeDragAndDropData")}types;files;constructor(){this.types=[],this.files=[]}update(e){if(e.types&&this.types.splice(0,this.types.length,...e.types),e.files){this.files.splice(0,this.files.length);for(let i=0;i<e.files.length;i++){const s=e.files.item(i);s&&(s.size||s.type)&&this.files.push(s)}}}getData(){return{types:this.types,files:this.files}}}function I5(t,e){return Array.isArray(t)&&Array.isArray(e)?Pn(t,e):t===e}Ma(I5,"equalsDragFeedback");class TX{static{Ma(this,"ListViewAccessibilityProvider")}getSetSize;getPosInSet;getRole;isChecked;constructor(e){e?.getSetSize?this.getSetSize=e.getSetSize.bind(e):this.getSetSize=(i,s,n)=>n,e?.getPosInSet?this.getPosInSet=e.getPosInSet.bind(e):this.getPosInSet=(i,s)=>s+1,e?.getRole?this.getRole=e.getRole.bind(e):this.getRole=i=>"listitem",e?.isChecked?this.isChecked=e.isChecked.bind(e):this.isChecked=i=>{}}}const Fo=class T5{constructor(e,i,s,n=Er){if(this.virtualDelegate=i,n.horizontalScrolling&&n.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap(n.paddingTop??0);for(const r of s)this.renderers.set(r.templateId,r);this.cache=this.disposables.add(new DX(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof n.mouseSupport=="boolean"?n.mouseSupport:!0),this._horizontalScrolling=n.horizontalScrolling??Er.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof n.paddingBottom>"u"?0:n.paddingBottom,this.accessibilityProvider=new TX(n.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(n.transformOptimization??Er.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(us.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new S1({forceIntegerValues:!0,smoothScrollDuration:n.smoothScrolling??!1?125:0,scheduleAtNextAnimationFrame:Ma(r=>no(be(this.domNode),r),"scheduleAtNextAnimationFrame")})),this.scrollableElement=this.disposables.add(new GR(this.rowsContainer,{alwaysConsumeMouseWheel:n.alwaysConsumeMouseWheel??Er.alwaysConsumeMouseWheel,horizontal:Jt.Auto,vertical:n.verticalScrollMode??Er.verticalScrollMode,useShadows:n.useShadows??Er.useShadows,mouseWheelScrollSensitivity:n.mouseWheelScrollSensitivity,fastScrollSensitivity:n.fastScrollSensitivity,scrollByPage:n.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),e.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add(N(this.rowsContainer,kt.Change,r=>this.onTouchChange(r))),this.disposables.add(N(this.scrollableElement.getDomNode(),"scroll",r=>r.target.scrollTop=0)),this.disposables.add(N(this.domNode,"dragover",r=>this.onDragOver(this.toDragEvent(r)))),this.disposables.add(N(this.domNode,"drop",r=>this.onDrop(this.toDragEvent(r)))),this.disposables.add(N(this.domNode,"dragleave",r=>this.onDragLeave(this.toDragEvent(r)))),this.disposables.add(N(this.domNode,"dragend",r=>this.onDragEnd(r))),this.setRowLineHeight=n.setRowLineHeight??Er.setRowLineHeight,this.setRowHeight=n.setRowHeight??Er.setRowHeight,this.supportDynamicHeights=n.supportDynamicHeights??Er.supportDynamicHeights,this.dnd=n.dnd??this.disposables.add(Er.dnd),this.layout(n.initialSize?.height,n.initialSize?.width)}static{Ma(this,"ListView")}static InstanceCount=0;domId=`list_id_${++T5.InstanceCount}`;domNode;items;itemId;rangeMap;cache;renderers=new Map;lastRenderTop;lastRenderHeight;renderWidth=0;rowsContainer;scrollable;scrollableElement;_scrollHeight=0;scrollableElementUpdateDisposable=null;scrollableElementWidthDelayer=new Ju(50);splicing=!1;dragOverAnimationDisposable;dragOverAnimationStopDisposable=q.None;dragOverMouseY=0;setRowLineHeight;setRowHeight;supportDynamicHeights;paddingBottom;accessibilityProvider;scrollWidth;dnd;canDrop=!1;currentDragData;currentDragFeedback;currentDragFeedbackPosition;currentDragFeedbackDisposable=q.None;onDragLeaveTimeout=q.None;disposables=new Z;_onDidChangeContentHeight=new I;_onDidChangeContentWidth=new I;onDidChangeContentHeight=R.latch(this._onDidChangeContentHeight.event,void 0,this.disposables);onDidChangeContentWidth=R.latch(this._onDidChangeContentWidth.event,void 0,this.disposables);get contentHeight(){return this.rangeMap.size}get contentWidth(){return this.scrollWidth??0}get onDidScroll(){return this.scrollableElement.onScroll}get onWillScroll(){return this.scrollableElement.onWillScroll}get containerDomNode(){return this.rowsContainer}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}_horizontalScrolling=!1;get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(e){if(e!==this._horizontalScrolling){if(e&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=e,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const i of this.items)this.measureItemWidth(i);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:bf(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(e){e.paddingBottom!==void 0&&(this.paddingBottom=e.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),e.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(e.smoothScrolling?125:0),e.horizontalScrolling!==void 0&&(this.horizontalScrolling=e.horizontalScrolling);let i;if(e.scrollByPage!==void 0&&(i={...i??{},scrollByPage:e.scrollByPage}),e.mouseWheelScrollSensitivity!==void 0&&(i={...i??{},mouseWheelScrollSensitivity:e.mouseWheelScrollSensitivity}),e.fastScrollSensitivity!==void 0&&(i={...i??{},fastScrollSensitivity:e.fastScrollSensitivity}),i&&this.scrollableElement.updateOptions(i),e.paddingTop!==void 0&&e.paddingTop!==this.rangeMap.paddingTop){const s=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),n=e.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=e.paddingTop,this.render(s,Math.max(0,this.lastRenderTop+n),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}delegateScrollFromMouseWheelEvent(e){this.scrollableElement.delegateScrollFromMouseWheelEvent(e)}delegateVerticalScrollbarPointerDown(e){this.scrollableElement.delegateVerticalScrollbarPointerDown(e)}updateElementHeight(e,i,s){if(e<0||e>=this.items.length)return;const n=this.items[e].size;if(typeof i>"u"){if(!this.supportDynamicHeights){console.warn("Dynamic heights not supported",new Error().stack);return}this.items[e].lastDynamicHeightWidth=void 0,i=n+this.probeDynamicHeight(e)}if(n===i)return;const o=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);let r=0;e<o.start||s!==null&&s>e&&s<o.end?r=i-n:r=0,this.rangeMap.splice(e,1,[{size:i}]),this.items[e].size=i,this.render(o,Math.max(0,this.lastRenderTop+r),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}createRangeMap(e){return new _X(e)}splice(e,i,s=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(e,i,s)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(e,i,s=[]){const n=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),o={start:e,end:e+i},r=As.intersect(n,o),a=new Map;for(let M=r.end-1;M>=r.start;M--){const X=this.items[M];if(X.dragStartDisposable.dispose(),X.checkedDisposable.dispose(),X.row){let ee=a.get(X.templateId);ee||(ee=[],a.set(X.templateId,ee));const z=this.renderers.get(X.templateId);z&&z.disposeElement&&z.disposeElement(X.element,M,X.row.templateData,X.size),ee.unshift(X.row)}X.row=null,X.stale=!0}const l={start:e+i,end:this.items.length},h=As.intersect(l,n),d=As.relativeComplement(l,n),u=s.map(M=>({id:String(this.itemId++),element:M,templateId:this.virtualDelegate.getTemplateId(M),size:this.virtualDelegate.getHeight(M),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(M),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:q.None,checkedDisposable:q.None,stale:!1}));let g;e===0&&i>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,u),g=this.items,this.items=u):(this.rangeMap.splice(e,i,u),g=this.items.splice(e,i,...u));const p=s.length-i,m=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),b=aw(h,p),C=As.intersect(m,b);for(let M=C.start;M<C.end;M++)this.updateItemInDOM(this.items[M],M);const x=As.relativeComplement(b,m);for(const M of x)for(let X=M.start;X<M.end;X++)this.removeItemFromDOM(X);const E=d.map(M=>aw(M,p)),B=[{start:e,end:e+s.length},...E].map(M=>As.intersect(m,M)).reverse();for(const M of B)for(let X=M.end-1;X>=M.start;X--){const ee=this.items[X],se=a.get(ee.templateId)?.pop();this.insertItemInDOM(X,se)}for(const M of a.values())for(const X of M)this.cache.release(X);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),g.map(M=>M.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=no(be(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let e=0;for(const i of this.items)typeof i.width<"u"&&(e=Math.max(e,i.width));this.scrollWidth=e,this.scrollableElement.setScrollDimensions({scrollWidth:e===0?0:e+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}updateWidth(e){if(!this.horizontalScrolling||typeof this.scrollWidth>"u")return;const i=this.items[e];this.measureItemWidth(i),typeof i.width<"u"&&i.width>this.scrollWidth&&(this.scrollWidth=i.width,this.scrollableElement.setScrollDimensions({scrollWidth:this.scrollWidth+10}),this._onDidChangeContentWidth.fire(this.scrollWidth))}rerender(){if(this.supportDynamicHeights){for(const e of this.items)e.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}get firstMostlyVisibleIndex(){const e=this.firstVisibleIndex,i=this.rangeMap.positionAt(e),s=this.rangeMap.positionAt(e+1);return s!==-1&&(s-i)/2+i<this.scrollTop?e+1:e}get lastVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).end-1}element(e){return this.items[e].element}indexOf(e){return this.items.findIndex(i=>i.element===e)}domElement(e){const i=this.items[e].row;return i&&i.domNode}elementHeight(e){return this.items[e].size}elementTop(e){return this.rangeMap.positionAt(e)}indexAt(e){return this.rangeMap.indexAt(e)}indexAfter(e){return this.rangeMap.indexAfter(e)}layout(e,i){const s={height:typeof e=="number"?e:CC(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,s.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(s),typeof i<"u"&&(this.renderWidth=i,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof i=="number"?i:bf(this.domNode)})}render(e,i,s,n,o,r=!1){const a=this.getRenderRange(i,s),l=As.relativeComplement(a,e).reverse(),h=As.relativeComplement(e,a);if(r){const d=As.intersect(e,a);for(let u=d.start;u<d.end;u++)this.updateItemInDOM(this.items[u],u)}this.cache.transact(()=>{for(const d of h)for(let u=d.start;u<d.end;u++)this.removeItemFromDOM(u);for(const d of l)for(let u=d.end-1;u>=d.start;u--)this.insertItemInDOM(u)}),n!==void 0&&(this.rowsContainer.style.left=`-${n}px`),this.rowsContainer.style.top=`-${i}px`,this.horizontalScrolling&&o!==void 0&&(this.rowsContainer.style.width=`${Math.max(o,this.renderWidth)}px`),this.lastRenderTop=i,this.lastRenderHeight=s}insertItemInDOM(e,i){const s=this.items[e];if(!s.row)if(i)s.row=i,s.stale=!0;else{const l=this.cache.alloc(s.templateId);s.row=l.row,s.stale||=l.isReusingConnectedDomNode}const n=this.accessibilityProvider.getRole(s.element)||"listitem";s.row.domNode.setAttribute("role",n);const o=this.accessibilityProvider.isChecked(s.element);if(typeof o=="boolean")s.row.domNode.setAttribute("aria-checked",String(!!o));else if(o){const l=Ma(h=>s.row.domNode.setAttribute("aria-checked",String(!!h)),"update");l(o.value),s.checkedDisposable=o.onDidChange(()=>l(o.value))}if(s.stale||!s.row.domNode.parentElement){const l=this.items.at(e+1)?.row?.domNode??null;(s.row.domNode.parentElement!==this.rowsContainer||s.row.domNode.nextElementSibling!==l)&&this.rowsContainer.insertBefore(s.row.domNode,l),s.stale=!1}this.updateItemInDOM(s,e);const r=this.renderers.get(s.templateId);if(!r)throw new Error(`No renderer found for template id ${s.templateId}`);r?.renderElement(s.element,e,s.row.templateData,s.size);const a=this.dnd.getDragURI(s.element);s.dragStartDisposable.dispose(),s.row.domNode.draggable=!!a,a&&(s.dragStartDisposable=N(s.row.domNode,"dragstart",l=>this.onDragStart(s.element,a,l))),this.horizontalScrolling&&(this.measureItemWidth(s),this.eventuallyUpdateScrollWidth())}measureItemWidth(e){if(!e.row||!e.row.domNode)return;e.row.domNode.style.width="fit-content",e.width=bf(e.row.domNode);const i=be(e.row.domNode).getComputedStyle(e.row.domNode);i.paddingLeft&&(e.width+=Number.parseFloat(i.paddingLeft)),i.paddingRight&&(e.width+=Number.parseFloat(i.paddingRight)),e.row.domNode.style.width=""}updateItemInDOM(e,i){e.row.domNode.style.top=`${this.elementTop(i)}px`,this.setRowHeight&&(e.row.domNode.style.height=`${e.size}px`),this.setRowLineHeight&&(e.row.domNode.style.lineHeight=`${e.size}px`),e.row.domNode.setAttribute("data-index",`${i}`),e.row.domNode.setAttribute("data-last-element",i===this.length-1?"true":"false"),e.row.domNode.setAttribute("data-parity",i%2===0?"even":"odd"),e.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(e.element,i,this.length))),e.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(e.element,i))),e.row.domNode.setAttribute("id",this.getElementDomId(i)),e.row.domNode.classList.toggle("drop-target",e.dropTarget)}removeItemFromDOM(e){const i=this.items[e];if(i.dragStartDisposable.dispose(),i.checkedDisposable.dispose(),i.row){const s=this.renderers.get(i.templateId);s&&s.disposeElement&&s.disposeElement(i.element,e,i.row.templateData,i.size),this.cache.release(i.row),i.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(e,i){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:e,reuseAnimation:i})}getScrollLeft(){return this.scrollableElement.getScrollPosition().scrollLeft}setScrollLeft(e){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollWidth:this.scrollWidth})),this.scrollableElement.setScrollPosition({scrollLeft:e})}get scrollTop(){return this.getScrollTop()}set scrollTop(e){this.setScrollTop(e)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return R.map(this.disposables.add(new $e(this.domNode,"click")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDblClick(){return R.map(this.disposables.add(new $e(this.domNode,"dblclick")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMiddleClick(){return R.filter(R.map(this.disposables.add(new $e(this.domNode,"auxclick")).event,e=>this.toMouseEvent(e),this.disposables),e=>e.browserEvent.button===1,this.disposables)}get onMouseUp(){return R.map(this.disposables.add(new $e(this.domNode,"mouseup")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseDown(){return R.map(this.disposables.add(new $e(this.domNode,"mousedown")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOver(){return R.map(this.disposables.add(new $e(this.domNode,"mouseover")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseMove(){return R.map(this.disposables.add(new $e(this.domNode,"mousemove")).event,e=>this.toMouseEvent(e),this.disposables)}get onMouseOut(){return R.map(this.disposables.add(new $e(this.domNode,"mouseout")).event,e=>this.toMouseEvent(e),this.disposables)}get onContextMenu(){return R.any(R.map(this.disposables.add(new $e(this.domNode,"contextmenu")).event,e=>this.toMouseEvent(e),this.disposables),R.map(this.disposables.add(new $e(this.domNode,kt.Contextmenu)).event,e=>this.toGestureEvent(e),this.disposables))}get onTouchStart(){return R.map(this.disposables.add(new $e(this.domNode,"touchstart")).event,e=>this.toTouchEvent(e),this.disposables)}get onTap(){return R.map(this.disposables.add(new $e(this.rowsContainer,kt.Tap)).event,e=>this.toGestureEvent(e),this.disposables)}toMouseEvent(e){const i=this.getItemIndexFromEventTarget(e.target||null),s=typeof i>"u"?void 0:this.items[i],n=s&&s.element;return{browserEvent:e,index:i,element:n}}toTouchEvent(e){const i=this.getItemIndexFromEventTarget(e.target||null),s=typeof i>"u"?void 0:this.items[i],n=s&&s.element;return{browserEvent:e,index:i,element:n}}toGestureEvent(e){const i=this.getItemIndexFromEventTarget(e.initialTarget||null),s=typeof i>"u"?void 0:this.items[i],n=s&&s.element;return{browserEvent:e,index:i,element:n}}toDragEvent(e){const i=this.getItemIndexFromEventTarget(e.target||null),s=typeof i>"u"?void 0:this.items[i],n=s&&s.element,o=this.getTargetSector(e,i);return{browserEvent:e,index:i,element:n,sector:o}}onScroll(e){try{const i=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(i,e.scrollTop,e.height,e.scrollLeft,e.scrollWidth),this.supportDynamicHeights&&this._rerender(e.scrollTop,e.height,e.inSmoothScrolling)}catch(i){throw console.error("Got bad scroll event:",e),i}}onTouchChange(e){e.preventDefault(),e.stopPropagation(),this.scrollTop-=e.translationY}onDragStart(e,i,s){if(!s.dataTransfer)return;const n=this.dnd.getDragElements(e);if(s.dataTransfer.effectAllowed="copyMove",s.dataTransfer.setData(Ba.TEXT,i),s.dataTransfer.setDragImage){let o;this.dnd.getDragLabel&&(o=this.dnd.getDragLabel(n,s)),typeof o>"u"&&(o=String(n.length));const r=de(".monaco-drag-image");r.textContent=o,Ma(h=>{for(;h&&!h.classList.contains("monaco-workbench");)h=h.parentElement;return h||this.domNode.ownerDocument},"getDragImageContainer")(this.domNode).appendChild(r),s.dataTransfer.setDragImage(r,-10,-10),setTimeout(()=>r.remove(),0)}this.domNode.classList.add("dragging"),this.currentDragData=new km(n),Oc.CurrentDragAndDropData=new EX(n),this.dnd.onDragStart?.(this.currentDragData,s)}onDragOver(e){if(e.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),Oc.CurrentDragAndDropData&&Oc.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(e.browserEvent),!e.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(Oc.CurrentDragAndDropData)this.currentDragData=Oc.CurrentDragAndDropData;else{if(!e.browserEvent.dataTransfer.types)return!1;this.currentDragData=new IX}const i=this.dnd.onDragOver(this.currentDragData,e.element,e.index,e.sector,e.browserEvent);if(this.canDrop=typeof i=="boolean"?i:i.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;e.browserEvent.dataTransfer.dropEffect=typeof i!="boolean"&&i.effect?.type===C5.Copy?"copy":"move";let s;typeof i!="boolean"&&i.feedback?s=i.feedback:typeof e.index>"u"?s=[-1]:s=[e.index],s=vu(s).filter(o=>o>=-1&&o<this.length).sort((o,r)=>o-r),s=s[0]===-1?[-1]:s;let n=typeof i!="boolean"&&i.effect&&i.effect.position?i.effect.position:nf.Over;if(I5(this.currentDragFeedback,s)&&this.currentDragFeedbackPosition===n)return!0;if(this.currentDragFeedback=s,this.currentDragFeedbackPosition=n,this.currentDragFeedbackDisposable.dispose(),s[0]===-1)this.domNode.classList.add(n),this.rowsContainer.classList.add(n),this.currentDragFeedbackDisposable=Se(()=>{this.domNode.classList.remove(n),this.rowsContainer.classList.remove(n)});else{if(s.length>1&&n!==nf.Over)throw new Error("Can't use multiple feedbacks with position different than 'over'");n===nf.After&&s[0]<this.length-1&&(s[0]+=1,n=nf.Before);for(const o of s){const r=this.items[o];r.dropTarget=!0,r.row?.domNode.classList.add(n)}this.currentDragFeedbackDisposable=Se(()=>{for(const o of s){const r=this.items[o];r.dropTarget=!1,r.row?.domNode.classList.remove(n)}})}return!0}onDragLeave(e){this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=Tv(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&this.dnd.onDragLeave?.(this.currentDragData,e.element,e.index,e.browserEvent)}onDrop(e){if(!this.canDrop)return;const i=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,Oc.CurrentDragAndDropData=void 0,!(!i||!e.browserEvent.dataTransfer)&&(e.browserEvent.preventDefault(),i.update(e.browserEvent.dataTransfer),this.dnd.drop(i,e.element,e.index,e.sector,e.browserEvent))}onDragEnd(e){this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,Oc.CurrentDragAndDropData=void 0,this.dnd.onDragEnd?.(e)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=q.None}setupDragAndDropScrollTopAnimation(e){if(!this.dragOverAnimationDisposable){const i=Eu(this.domNode).top;this.dragOverAnimationDisposable=gL(be(this.domNode),this.animateDragAndDropScrollTop.bind(this,i))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=Tv(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=e.pageY}animateDragAndDropScrollTop(e){if(this.dragOverMouseY===void 0)return;const i=this.dragOverMouseY-e,s=this.renderHeight-35;i<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(i-35))):i>s&&(this.scrollTop+=Math.min(14,Math.floor(.3*(i-s))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(e,i){if(i===void 0)return;const s=e.offsetY/this.items[i].size,n=Math.floor(s/.25);return $s(n,0,3)}getItemIndexFromEventTarget(e){const i=this.scrollableElement.getDomNode();let s=e;for(;(ns(s)||lL(s))&&s!==this.rowsContainer&&i.contains(s);){const n=s.getAttribute("data-index");if(n){const o=Number(n);if(!isNaN(o))return o}s=s.parentElement}}getRenderRange(e,i){return{start:this.rangeMap.indexAt(e),end:this.rangeMap.indexAfter(e+i-1)}}_rerender(e,i,s){const n=this.getRenderRange(e,i);let o,r;e===this.elementTop(n.start)?(o=n.start,r=0):n.end-n.start>1&&(o=n.start+1,r=this.elementTop(o)-e);let a=0;for(;;){const l=this.getRenderRange(e,i);let h=!1;for(let d=l.start;d<l.end;d++){const u=this.probeDynamicHeight(d);u!==0&&this.rangeMap.splice(d,1,[this.items[d]]),a+=u,h=h||u!==0}if(!h){a!==0&&this.eventuallyUpdateScrollDimensions();const d=As.relativeComplement(n,l);for(const g of d)for(let p=g.start;p<g.end;p++)this.items[p].row&&this.removeItemFromDOM(p);const u=As.relativeComplement(l,n).reverse();for(const g of u)for(let p=g.end-1;p>=g.start;p--)this.insertItemInDOM(p);for(let g=l.start;g<l.end;g++)this.items[g].row&&this.updateItemInDOM(this.items[g],g);if(typeof o=="number"){const g=this.scrollable.getFutureScrollPosition().scrollTop-e,p=this.elementTop(o)-r+g;this.setScrollTop(p,s)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(e){const i=this.items[e];if(this.virtualDelegate.getDynamicHeight){const r=this.virtualDelegate.getDynamicHeight(i.element);if(r!==null){const a=i.size;return i.size=r,i.lastDynamicHeightWidth=this.renderWidth,r-a}}if(!i.hasDynamicHeight||i.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(i.element))return 0;const s=i.size;if(i.row)return i.row.domNode.style.height="",i.size=i.row.domNode.offsetHeight,i.size===0&&!hs(i.row.domNode,be(i.row.domNode).document.body)&&console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!",new Error().stack),i.lastDynamicHeightWidth=this.renderWidth,i.size-s;const{row:n}=this.cache.alloc(i.templateId);n.domNode.style.height="",this.rowsContainer.appendChild(n.domNode);const o=this.renderers.get(i.templateId);if(!o)throw new Ro("Missing renderer for templateId: "+i.templateId);return o.renderElement(i.element,e,n.templateData,void 0),i.size=n.domNode.offsetHeight,o.disposeElement?.(i.element,e,n.templateData,void 0),this.virtualDelegate.setDynamicHeight?.(i.element,i.size),i.lastDynamicHeightWidth=this.renderWidth,n.domNode.remove(),this.cache.release(n),i.size-s}getElementDomId(e){return`${this.domId}_${e}`}dispose(){for(const e of this.items)if(e.dragStartDisposable.dispose(),e.checkedDisposable.dispose(),e.row){const i=this.renderers.get(e.row.templateId);i&&(i.disposeElement?.(e.element,-1,e.row.templateData,void 0),i.disposeTemplate(e.row.templateData))}this.items=[],this.domNode?.remove(),this.dragOverAnimationDisposable?.dispose(),this.disposables.dispose()}};_r([ie],Fo.prototype,"onMouseClick");_r([ie],Fo.prototype,"onMouseDblClick");_r([ie],Fo.prototype,"onMouseMiddleClick");_r([ie],Fo.prototype,"onMouseUp");_r([ie],Fo.prototype,"onMouseDown");_r([ie],Fo.prototype,"onMouseOver");_r([ie],Fo.prototype,"onMouseMove");_r([ie],Fo.prototype,"onMouseOut");_r([ie],Fo.prototype,"onContextMenu");_r([ie],Fo.prototype,"onTouchStart");_r([ie],Fo.prototype,"onTap");let kX=Fo;var k5=Object.defineProperty,xX=Object.getOwnPropertyDescriptor,gi=(t,e)=>k5(t,"name",{value:e,configurable:!0}),la=(t,e,i,s)=>{for(var n=xX(e,i),o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=r(e,i,n)||n);return n&&k5(e,i,n),n};class LX{constructor(e){this.trait=e}static{gi(this,"TraitRenderer")}renderedElements=[];get templateId(){return`template:${this.trait.name}`}renderTemplate(e){return e}renderElement(e,i,s){const n=this.renderedElements.findIndex(o=>o.templateData===s);if(n>=0){const o=this.renderedElements[n];this.trait.unrender(s),o.index=i}else{const o={index:i,templateData:s};this.renderedElements.push(o)}this.trait.renderIndex(i,s)}splice(e,i,s){const n=[];for(const o of this.renderedElements)o.index<e?n.push(o):o.index>=e+i&&n.push({index:o.index+s-i,templateData:o.templateData});this.renderedElements=n}renderIndexes(e){for(const{index:i,templateData:s}of this.renderedElements)e.indexOf(i)>-1&&this.trait.renderIndex(i,s)}disposeTemplate(e){const i=this.renderedElements.findIndex(s=>s.templateData===e);i<0||this.renderedElements.splice(i,1)}}let lw=class{constructor(e){this._trait=e}static{gi(this,"Trait")}indexes=[];sortedIndexes=[];_onChange=new I;onChange=this._onChange.event;get name(){return this._trait}get renderer(){return new LX(this)}splice(e,i,s){const n=s.length-i,o=e+i,r=[];let a=0;for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]<e;)r.push(this.sortedIndexes[a++]);for(let l=0;l<s.length;l++)s[l]&&r.push(l+e);for(;a<this.sortedIndexes.length&&this.sortedIndexes[a]>=o;)r.push(this.sortedIndexes[a++]+n);this.renderer.splice(e,i,s.length),this._set(r,r)}renderIndex(e,i){i.classList.toggle(this._trait,this.contains(e))}unrender(e){e.classList.remove(this._trait)}set(e,i){return this._set(e,[...e].sort(dT),i)}_set(e,i,s){const n=this.indexes,o=this.sortedIndexes;this.indexes=e,this.sortedIndexes=i;const r=cw(o,e);return this.renderer.renderIndexes(r),this._onChange.fire({indexes:e,browserEvent:s}),n}get(){return this.indexes}contains(e){return ck(this.sortedIndexes,e,dT)>=0}dispose(){ai(this._onChange)}};la([ie],lw.prototype,"renderer");class PX extends lw{constructor(e){super("selected"),this.setAriaSelected=e}static{gi(this,"SelectionTrait")}renderIndex(e,i){super.renderIndex(e,i),this.setAriaSelected&&(this.contains(e)?i.setAttribute("aria-selected","true"):i.setAttribute("aria-selected","false"))}}class Qy{constructor(e,i,s){this.trait=e,this.view=i,this.identityProvider=s}static{gi(this,"TraitSpliceable")}splice(e,i,s){if(!this.identityProvider)return this.trait.splice(e,i,new Array(s.length).fill(!1));const n=this.trait.get().map(a=>this.identityProvider.getId(this.view.element(a)).toString());if(n.length===0)return this.trait.splice(e,i,new Array(s.length).fill(!1));const o=new Set(n),r=s.map(a=>o.has(this.identityProvider.getId(a).toString()));this.trait.splice(e,i,r)}}function dd(t,e){return t.classList.contains(e)?!0:t.classList.contains("monaco-list")||!t.parentElement?!1:dd(t.parentElement,e)}gi(dd,"isListElementDescendantOfClass");function Vd(t){return dd(t,"monaco-editor")}gi(Vd,"isMonacoEditor");function x5(t){return dd(t,"monaco-custom-toggle")}gi(x5,"isMonacoCustomToggle");function L5(t){return dd(t,"action-item")}gi(L5,"isActionItem");function RX(t){return dd(t,"monaco-tl-twistie")}gi(RX,"isMonacoTwistie");function au(t){return dd(t,"monaco-tree-sticky-row")}gi(au,"isStickyScrollElement");function Fu(t){return t.classList.contains("monaco-tree-sticky-container")}gi(Fu,"isStickyScrollContainer");function hA(t){return t.tagName==="A"&&t.classList.contains("monaco-button")||t.tagName==="DIV"&&t.classList.contains("monaco-button-dropdown")?!0:t.classList.contains("monaco-list")||!t.parentElement?!1:hA(t.parentElement)}gi(hA,"isButton");class P5{constructor(e,i,s){this.list=e,this.view=i,this.multipleSelectionSupport=s.multipleSelectionSupport,this.disposables.add(this.onKeyDown(n=>{switch(n.keyCode){case D.Enter:return this.onEnter(n);case D.UpArrow:return this.onUpArrow(n);case D.DownArrow:return this.onDownArrow(n);case D.PageUp:return this.onPageUpArrow(n);case D.PageDown:return this.onPageDownArrow(n);case D.Escape:return this.onEscape(n);case D.KeyA:this.multipleSelectionSupport&&(He?n.metaKey:n.ctrlKey)&&this.onCtrlA(n)}}))}static{gi(this,"KeyboardController")}disposables=new Z;multipleSelectionDisposables=new Z;multipleSelectionSupport;get onKeyDown(){return R.chain(this.disposables.add(new $e(this.view.domNode,"keydown")).event,e=>e.filter(i=>!Ur(i.target)).map(i=>new mt(i)))}updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=e.multipleSelectionSupport)}onEnter(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(this.list.getFocus(),e.browserEvent)}onUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPrevious(1,!1,e.browserEvent);const i=this.list.getFocus()[0];this.list.setAnchor(i),this.list.reveal(i),this.view.domNode.focus()}onDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNext(1,!1,e.browserEvent);const i=this.list.getFocus()[0];this.list.setAnchor(i),this.list.reveal(i),this.view.domNode.focus()}onPageUpArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusPreviousPage(e.browserEvent);const i=this.list.getFocus()[0];this.list.setAnchor(i),this.list.reveal(i),this.view.domNode.focus()}onPageDownArrow(e){e.preventDefault(),e.stopPropagation(),this.list.focusNextPage(e.browserEvent);const i=this.list.getFocus()[0];this.list.setAnchor(i),this.list.reveal(i),this.view.domNode.focus()}onCtrlA(e){e.preventDefault(),e.stopPropagation(),this.list.setSelection(Ds(this.list.length),e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(e){this.list.getSelection().length&&(e.preventDefault(),e.stopPropagation(),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}la([ie],P5.prototype,"onKeyDown");var Id=(t=>(t[t.Automatic=0]="Automatic",t[t.Trigger=1]="Trigger",t))(Id||{});const NX=new class{mightProducePrintableCharacter(t){return t.ctrlKey||t.metaKey||t.altKey?!1:t.keyCode>=D.KeyA&&t.keyCode<=D.KeyZ||t.keyCode>=D.Digit0&&t.keyCode<=D.Digit9||t.keyCode>=D.Numpad0&&t.keyCode<=D.Numpad9||t.keyCode>=D.Semicolon&&t.keyCode<=D.Quote}};class OX{constructor(e,i,s,n,o){this.list=e,this.view=i,this.keyboardNavigationLabelProvider=s,this.keyboardNavigationEventFilter=n,this.delegate=o,this.updateOptions(e.options)}static{gi(this,"TypeNavigationController")}enabled=!1;state=0;mode=0;triggered=!1;previouslyFocused=-1;enabledDisposables=new Z;disposables=new Z;updateOptions(e){e.typeNavigationEnabled??!0?this.enable():this.disable(),this.mode=e.typeNavigationMode??0}trigger(){this.triggered=!this.triggered}enable(){if(this.enabled)return;let e=!1;const i=R.chain(this.enabledDisposables.add(new $e(this.view.domNode,"keydown")).event,o=>o.filter(r=>!Ur(r.target)).filter(()=>this.mode===0||this.triggered).map(r=>new mt(r)).filter(r=>e||this.keyboardNavigationEventFilter(r)).filter(r=>this.delegate.mightProducePrintableCharacter(r)).forEach(r=>xe.stop(r,!0)).map(r=>r.browserEvent.key)),s=R.debounce(i,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);R.reduce(R.any(i,s),(o,r)=>r===null?null:(o||"")+r,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),s(this.onClear,this,this.enabledDisposables),i(()=>e=!0,void 0,this.enabledDisposables),s(()=>e=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){const e=this.list.getFocus();if(e.length>0&&e[0]===this.previouslyFocused){const i=this.list.options.accessibilityProvider?.getAriaLabel(this.list.element(e[0]));typeof i=="string"?Bh(i):i&&Bh(i.get())}this.previouslyFocused=-1}onInput(e){if(!e){this.state=0,this.triggered=!1;return}const i=this.list.getFocus(),s=i.length>0?i[0]:0,n=this.state===0?1:0;this.state=1;for(let o=0;o<this.list.length;o++){const r=(s+o+n)%this.list.length,a=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(r)),l=a&&a.toString();if(this.list.options.typeNavigationEnabled){if(typeof l<"u"){if(sw(e,l)){this.previouslyFocused=s,this.list.setFocus([r]),this.list.reveal(r);return}const h=p5(e,l);if(h&&h[0].end-h[0].start>1&&h.length===1){this.previouslyFocused=s,this.list.setFocus([r]),this.list.reveal(r);return}}}else if(typeof l>"u"||sw(e,l)){this.previouslyFocused=s,this.list.setFocus([r]),this.list.reveal(r);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class BX{constructor(e,i){this.list=e,this.view=i;const s=R.chain(this.disposables.add(new $e(i.domNode,"keydown")).event,o=>o.filter(r=>!Ur(r.target)).map(r=>new mt(r)));R.chain(s,o=>o.filter(r=>r.keyCode===D.Tab&&!r.ctrlKey&&!r.metaKey&&!r.shiftKey&&!r.altKey))(this.onTab,this,this.disposables)}static{gi(this,"DOMFocusController")}disposables=new Z;onTab(e){if(e.target!==this.view.domNode)return;const i=this.list.getFocus();if(i.length===0)return;const s=this.view.domElement(i[0]);if(!s)return;const n=s.querySelector("[tabIndex]");if(!n||!ns(n)||n.tabIndex===-1)return;const o=be(n).getComputedStyle(n);o.visibility==="hidden"||o.display==="none"||(e.preventDefault(),e.stopPropagation(),n.focus())}dispose(){this.disposables.dispose()}}function dA(t){return He?t.browserEvent.metaKey:t.browserEvent.ctrlKey}gi(dA,"isSelectionSingleChangeEvent");function uA(t){return t.browserEvent.shiftKey}gi(uA,"isSelectionRangeChangeEvent");function R5(t){return f1(t)&&t.button===2}gi(R5,"isMouseRightClick");const hT={isSelectionSingleChangeEvent:dA,isSelectionRangeChangeEvent:uA};class N5{constructor(e){this.list=e,e.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||hT),this.mouseSupport=typeof e.options.mouseSupport>"u"||!!e.options.mouseSupport,this.mouseSupport&&(e.onMouseDown(this.onMouseDown,this,this.disposables),e.onContextMenu(this.onContextMenu,this,this.disposables),e.onMouseDblClick(this.onDoubleClick,this,this.disposables),e.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(us.addTarget(e.getHTMLElement()))),R.any(e.onMouseClick,e.onMouseMiddleClick,e.onTap)(this.onViewPointer,this,this.disposables)}static{gi(this,"MouseController")}multipleSelectionController;mouseSupport;disposables=new Z;_onPointer=new I;onPointer=this._onPointer.event;updateOptions(e){e.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,e.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||hT))}isSelectionSingleChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(e):!1}isSelectionRangeChangeEvent(e){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(e):!1}isSelectionChangeEvent(e){return this.isSelectionSingleChangeEvent(e)||this.isSelectionRangeChangeEvent(e)}onMouseDown(e){Vd(e.browserEvent.target)||Lo()!==e.browserEvent.target&&this.list.domFocus()}onContextMenu(e){if(Ur(e.browserEvent.target)||Vd(e.browserEvent.target))return;const i=typeof e.index>"u"?[]:[e.index];this.list.setFocus(i,e.browserEvent)}onViewPointer(e){if(!this.mouseSupport||Ur(e.browserEvent.target)||Vd(e.browserEvent.target)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const i=e.index;if(typeof i>"u"){this.list.setFocus([],e.browserEvent),this.list.setSelection([],e.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(e))return this.changeSelection(e);this.list.setFocus([i],e.browserEvent),this.list.setAnchor(i),R5(e.browserEvent)||this.list.setSelection([i],e.browserEvent),this._onPointer.fire(e)}onDoubleClick(e){if(Ur(e.browserEvent.target)||Vd(e.browserEvent.target)||this.isSelectionChangeEvent(e)||e.browserEvent.isHandledByList)return;e.browserEvent.isHandledByList=!0;const i=this.list.getFocus();this.list.setSelection(i,e.browserEvent)}changeSelection(e){const i=e.index;let s=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(e)){typeof s>"u"&&(s=this.list.getFocus()[0]??i,this.list.setAnchor(s));const n=Math.min(s,i),o=Math.max(s,i),r=Ds(n,o+1),a=this.list.getSelection(),l=M5(cw(a,[s]),s);if(l.length===0)return;const h=cw(r,F5(a,l));this.list.setSelection(h,e.browserEvent),this.list.setFocus([i],e.browserEvent)}else if(this.isSelectionSingleChangeEvent(e)){const n=this.list.getSelection(),o=n.filter(r=>r!==i);this.list.setFocus([i]),this.list.setAnchor(i),n.length===o.length?this.list.setSelection([...o,i],e.browserEvent):this.list.setSelection(o,e.browserEvent)}}dispose(){this.disposables.dispose()}}class O5{constructor(e,i){this.styleElement=e,this.selectorSuffix=i}static{gi(this,"DefaultStyleController")}style(e){const i=this.selectorSuffix&&`.${this.selectorSuffix}`,s=[];e.listBackground&&s.push(`.monaco-list${i} .monaco-list-rows { background: ${e.listBackground}; }`),e.listFocusBackground&&(s.push(`.monaco-list${i}:focus .monaco-list-row.focused { background-color: ${e.listFocusBackground}; }`),s.push(`.monaco-list${i}:focus .monaco-list-row.focused:hover { background-color: ${e.listFocusBackground}; }`)),e.listFocusForeground&&s.push(`.monaco-list${i}:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),e.listActiveSelectionBackground&&(s.push(`.monaco-list${i}:focus .monaco-list-row.selected { background-color: ${e.listActiveSelectionBackground}; }`),s.push(`.monaco-list${i}:focus .monaco-list-row.selected:hover { background-color: ${e.listActiveSelectionBackground}; }`)),e.listActiveSelectionForeground&&s.push(`.monaco-list${i}:focus .monaco-list-row.selected { color: ${e.listActiveSelectionForeground}; }`),e.listActiveSelectionIconForeground&&s.push(`@layer monaco-list { .monaco-list${i}:focus .monaco-list-row.selected .codicon { color: ${e.listActiveSelectionIconForeground}; } }`),e.listFocusAndSelectionBackground&&s.push(`
				.monaco-drag-image,
				.monaco-list${i}:focus .monaco-list-row.selected.focused { background-color: ${e.listFocusAndSelectionBackground}; }
			`),e.listFocusAndSelectionForeground&&s.push(`
				.monaco-drag-image,
				.monaco-list${i}:focus .monaco-list-row.selected.focused { color: ${e.listFocusAndSelectionForeground}; }
			`),e.listInactiveFocusForeground&&(s.push(`.monaco-list${i} .monaco-list-row.focused { color:  ${e.listInactiveFocusForeground}; }`),s.push(`.monaco-list${i} .monaco-list-row.focused:hover { color:  ${e.listInactiveFocusForeground}; }`)),e.listInactiveSelectionIconForeground&&s.push(`@layer monaco-list { .monaco-list${i} .monaco-list-row.focused .codicon { color:  ${e.listInactiveSelectionIconForeground}; } }`),e.listInactiveFocusBackground&&(s.push(`.monaco-list${i} .monaco-list-row.focused { background-color:  ${e.listInactiveFocusBackground}; }`),s.push(`.monaco-list${i} .monaco-list-row.focused:hover { background-color:  ${e.listInactiveFocusBackground}; }`)),e.listInactiveSelectionBackground&&(s.push(`.monaco-list${i} .monaco-list-row.selected { background-color:  ${e.listInactiveSelectionBackground}; }`),s.push(`.monaco-list${i} .monaco-list-row.selected:hover { background-color:  ${e.listInactiveSelectionBackground}; }`)),e.listInactiveSelectionForeground&&s.push(`.monaco-list${i} .monaco-list-row.selected { color: ${e.listInactiveSelectionForeground}; }`),e.listHoverBackground&&s.push(`.monaco-list${i}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${e.listHoverBackground}; }`),e.listHoverForeground&&s.push(`.monaco-list${i}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${e.listHoverForeground}; }`);const n=or(e.listFocusAndSelectionOutline,or(e.listSelectionOutline,e.listFocusOutline??""));n&&s.push(`.monaco-list${i}:focus .monaco-list-row.focused.selected { outline: 1px solid ${n}; outline-offset: -1px;}`),e.listFocusOutline&&s.push(`
				.monaco-drag-image,
				.monaco-list${i}:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${i}.last-focused .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }
			`);const o=or(e.listSelectionOutline,e.listInactiveFocusOutline??"");o&&s.push(`.monaco-list${i} .monaco-list-row.focused.selected { outline: 1px dotted ${o}; outline-offset: -1px; }`),e.listSelectionOutline&&s.push(`.monaco-list${i} .monaco-list-row.selected { outline: 1px dotted ${e.listSelectionOutline}; outline-offset: -1px; }`),e.listInactiveFocusOutline&&s.push(`.monaco-list${i} .monaco-list-row.focused { outline: 1px dotted ${e.listInactiveFocusOutline}; outline-offset: -1px; }`),e.listHoverOutline&&s.push(`.monaco-list${i} .monaco-list-row:hover { outline: 1px dashed ${e.listHoverOutline}; outline-offset: -1px; }`),e.listDropOverBackground&&s.push(`
				.monaco-list${i}.drop-target,
				.monaco-list${i} .monaco-list-rows.drop-target,
				.monaco-list${i} .monaco-list-row.drop-target { background-color: ${e.listDropOverBackground} !important; color: inherit !important; }
			`),e.listDropBetweenBackground&&(s.push(`
			.monaco-list${i} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${i} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`),s.push(`
			.monaco-list${i} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${i} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${e.listDropBetweenBackground};
			}`)),e.tableColumnsBorder&&s.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${e.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),e.tableOddRowsBackgroundColor&&s.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${e.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=s.join(`
`)}}const B5={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:k.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:k.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:k.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},MX={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function M5(t,e){const i=t.indexOf(e);if(i===-1)return[];const s=[];let n=i-1;for(;n>=0&&t[n]===e-(i-n);)s.push(t[n--]);for(s.reverse(),n=i;n<t.length&&t[n]===e+(n-i);)s.push(t[n++]);return s}gi(M5,"getContiguousRangeContaining");function cw(t,e){const i=[];let s=0,n=0;for(;s<t.length||n<e.length;)if(s>=t.length)i.push(e[n++]);else if(n>=e.length)i.push(t[s++]);else if(t[s]===e[n]){i.push(t[s]),s++,n++;continue}else t[s]<e[n]?i.push(t[s++]):i.push(e[n++]);return i}gi(cw,"disjunction");function F5(t,e){const i=[];let s=0,n=0;for(;s<t.length||n<e.length;)if(s>=t.length)i.push(e[n++]);else if(n>=e.length)i.push(t[s++]);else if(t[s]===e[n]){s++,n++;continue}else t[s]<e[n]?i.push(t[s++]):n++;return i}gi(F5,"relativeComplement");const dT=gi((t,e)=>t-e,"numericSort");class FX{constructor(e,i){this._templateId=e,this.renderers=i}static{gi(this,"PipelineRenderer")}get templateId(){return this._templateId}renderTemplate(e){return this.renderers.map(i=>i.renderTemplate(e))}renderElement(e,i,s,n){let o=0;for(const r of this.renderers)r.renderElement(e,i,s[o++],n)}disposeElement(e,i,s,n){let o=0;for(const r of this.renderers)r.disposeElement?.(e,i,s[o],n),o+=1}disposeTemplate(e){let i=0;for(const s of this.renderers)s.disposeTemplate(e[i++])}}class VX{constructor(e){this.accessibilityProvider=e}static{gi(this,"AccessibiltyRenderer")}templateId="a18n";renderTemplate(e){return{container:e,disposables:new Z}}renderElement(e,i,s){const n=this.accessibilityProvider.getAriaLabel(e),o=n&&typeof n!="string"?n:rD(n);s.disposables.add(ac(a=>{this.setAriaLabel(a.readObservable(o),s.container)}));const r=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(e);typeof r=="number"?s.container.setAttribute("aria-level",`${r}`):s.container.removeAttribute("aria-level")}setAriaLabel(e,i){e?i.setAttribute("aria-label",e):i.removeAttribute("aria-label")}disposeElement(e,i,s,n){s.disposables.clear()}disposeTemplate(e){e.disposables.dispose()}}class HX{constructor(e,i){this.list=e,this.dnd=i}static{gi(this,"ListViewDragAndDrop")}getDragElements(e){const i=this.list.getSelectedElements();return i.indexOf(e)>-1?i:[e]}getDragURI(e){return this.dnd.getDragURI(e)}getDragLabel(e,i){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e,i)}onDragStart(e,i){this.dnd.onDragStart?.(e,i)}onDragOver(e,i,s,n,o){return this.dnd.onDragOver(e,i,s,n,o)}onDragLeave(e,i,s,n){this.dnd.onDragLeave?.(e,i,s,n)}onDragEnd(e){this.dnd.onDragEnd?.(e)}drop(e,i,s,n,o){this.dnd.drop(e,i,s,n,o)}dispose(){this.dnd.dispose()}}class go{constructor(e,i,s,n,o=MX){this.user=e,this._options=o;const r=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?this._options.accessibilityProvider?.getWidgetRole():"list";this.selection=new PX(r!=="listbox");const a=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=o.accessibilityProvider,this.accessibilityProvider&&(a.push(new VX(this.accessibilityProvider)),this.accessibilityProvider.onDidChangeActiveDescendant?.(this.onDidChangeActiveDescendant,this,this.disposables)),n=n.map(h=>new FX(h.templateId,[...a,h]));const l={...o,dnd:o.dnd&&new HX(this,o.dnd)};if(this.view=this.createListView(i,s,n,l),this.view.domNode.setAttribute("role",r),o.styleController)this.styleController=o.styleController(this.view.domId);else{const h=cr(this.view.domNode);this.styleController=new O5(h,this.view.domId)}if(this.spliceable=new bX([new Qy(this.focus,this.view,o.identityProvider),new Qy(this.selection,this.view,o.identityProvider),new Qy(this.anchor,this.view,o.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new BX(this,this.view)),(typeof o.keyboardSupport!="boolean"||o.keyboardSupport)&&(this.keyboardController=new P5(this,this.view,o),this.disposables.add(this.keyboardController)),o.keyboardNavigationLabelProvider){const h=o.keyboardNavigationDelegate||NX;this.typeNavigationController=new OX(this,this.view,o.keyboardNavigationLabelProvider,o.keyboardNavigationEventFilter??(()=>!0),h),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(o),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}static{gi(this,"List")}focus=new lw("focused");selection;anchor=new lw("anchor");eventBufferer=new KS;view;spliceable;styleController;typeNavigationController;accessibilityProvider;keyboardController;mouseController;_ariaLabel="";disposables=new Z;get onDidChangeFocus(){return R.map(this.eventBufferer.wrapEvent(this.focus.onChange),e=>this.toListEvent(e),this.disposables)}get onDidChangeSelection(){return R.map(this.eventBufferer.wrapEvent(this.selection.onChange),e=>this.toListEvent(e),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseUp(){return this.view.onMouseUp}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseMove(){return this.view.onMouseMove}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let e=!1;const i=R.chain(this.disposables.add(new $e(this.view.domNode,"keydown")).event,o=>o.map(r=>new mt(r)).filter(r=>e=r.keyCode===D.ContextMenu||r.shiftKey&&r.keyCode===D.F10).map(r=>xe.stop(r,!0)).filter(()=>!1)),s=R.chain(this.disposables.add(new $e(this.view.domNode,"keyup")).event,o=>o.forEach(()=>e=!1).map(r=>new mt(r)).filter(r=>r.keyCode===D.ContextMenu||r.shiftKey&&r.keyCode===D.F10).map(r=>xe.stop(r,!0)).map(({browserEvent:r})=>{const a=this.getFocus(),l=a.length?a[0]:void 0,h=typeof l<"u"?this.view.element(l):void 0,d=typeof l<"u"?this.view.domElement(l):this.view.domNode;return{index:l,element:h,anchor:d,browserEvent:r}})),n=R.chain(this.view.onContextMenu,o=>o.filter(r=>!e).map(({element:r,index:a,browserEvent:l})=>({element:r,index:a,anchor:new qi(be(this.view.domNode),l),browserEvent:l})));return R.any(i,s,n)}get onKeyDown(){return this.disposables.add(new $e(this.view.domNode,"keydown")).event}get onKeyUp(){return this.disposables.add(new $e(this.view.domNode,"keyup")).event}get onKeyPress(){return this.disposables.add(new $e(this.view.domNode,"keypress")).event}get onDidFocus(){return R.signal(this.disposables.add(new $e(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return R.signal(this.disposables.add(new $e(this.view.domNode,"blur",!0)).event)}_onDidDispose=new I;onDidDispose=this._onDidDispose.event;createListView(e,i,s,n){return new kX(e,i,s,n)}createMouseController(e){return new N5(this)}updateOptions(e={}){this._options={...this._options,...e},this.typeNavigationController?.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(e),this.keyboardController?.updateOptions(e),this.view.updateOptions(e)}get options(){return this._options}splice(e,i,s=[]){if(e<0||e>this.view.length)throw new Nc(this.user,`Invalid start index: ${e}`);if(i<0)throw new Nc(this.user,`Invalid delete count: ${i}`);i===0&&s.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(e,i,s))}updateWidth(e){this.view.updateWidth(e)}updateElementHeight(e,i){this.view.updateElementHeight(e,i,null)}rerender(){this.view.rerender()}element(e){return this.view.element(e)}indexOf(e){return this.view.indexOf(e)}indexAt(e){return this.view.indexAt(e)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get contentWidth(){return this.view.contentWidth}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get onDidChangeContentWidth(){return this.view.onDidChangeContentWidth}get scrollTop(){return this.view.getScrollTop()}set scrollTop(e){this.view.setScrollTop(e)}get scrollLeft(){return this.view.getScrollLeft()}set scrollLeft(e){this.view.setScrollLeft(e)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get firstMostlyVisibleIndex(){return this.view.firstMostlyVisibleIndex}get lastVisibleIndex(){return this.view.lastVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(e){this._ariaLabel=e,this.view.domNode.setAttribute("aria-label",e)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(e,i){this.view.layout(e,i)}triggerTypeNavigation(){this.typeNavigationController?.trigger()}setSelection(e,i){for(const s of e)if(s<0||s>=this.length)throw new Nc(this.user,`Invalid index ${s}`);this.selection.set(e,i)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(e=>this.view.element(e))}setAnchor(e){if(typeof e>"u"){this.anchor.set([]);return}if(e<0||e>=this.length)throw new Nc(this.user,`Invalid index ${e}`);this.anchor.set([e])}getAnchor(){return this.anchor.get().at(0)}getAnchorElement(){const e=this.getAnchor();return typeof e>"u"?void 0:this.element(e)}setFocus(e,i){for(const s of e)if(s<0||s>=this.length)throw new Nc(this.user,`Invalid index ${s}`);this.focus.set(e,i)}focusNext(e=1,i=!1,s,n){if(this.length===0)return;const o=this.focus.get(),r=this.findNextIndex(o.length>0?o[0]+e:0,i,n);r>-1&&this.setFocus([r],s)}focusPrevious(e=1,i=!1,s,n){if(this.length===0)return;const o=this.focus.get(),r=this.findPreviousIndex(o.length>0?o[0]-e:0,i,n);r>-1&&this.setFocus([r],s)}async focusNextPage(e,i){let s=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);s=s===0?0:s-1;const n=this.getFocus()[0];if(n!==s&&(n===void 0||s>n)){const o=this.findPreviousIndex(s,!1,i);o>-1&&n!==o?this.setFocus([o],e):this.setFocus([s],e)}else{const o=this.view.getScrollTop();let r=o+this.view.renderHeight;s>n&&(r-=this.view.elementHeight(s)),this.view.setScrollTop(r),this.view.getScrollTop()!==o&&(this.setFocus([]),await Za(0),await this.focusNextPage(e,i))}}async focusPreviousPage(e,i,s=()=>0){let n;const o=s(),r=this.view.getScrollTop()+o;r===0?n=this.view.indexAt(r):n=this.view.indexAfter(r-1);const a=this.getFocus()[0];if(a!==n&&(a===void 0||a>=n)){const l=this.findNextIndex(n,!1,i);l>-1&&a!==l?this.setFocus([l],e):this.setFocus([n],e)}else{const l=r;this.view.setScrollTop(r-this.view.renderHeight-o),this.view.getScrollTop()+s()!==l&&(this.setFocus([]),await Za(0),await this.focusPreviousPage(e,i,s))}}focusLast(e,i){if(this.length===0)return;const s=this.findPreviousIndex(this.length-1,!1,i);s>-1&&this.setFocus([s],e)}focusFirst(e,i){this.focusNth(0,e,i)}focusNth(e,i,s){if(this.length===0)return;const n=this.findNextIndex(e,!1,s);n>-1&&this.setFocus([n],i)}findNextIndex(e,i=!1,s){for(let n=0;n<this.length;n++){if(e>=this.length&&!i)return-1;if(e=e%this.length,!s||s(this.element(e)))return e;e++}return-1}findPreviousIndex(e,i=!1,s){for(let n=0;n<this.length;n++){if(e<0&&!i)return-1;if(e=(this.length+e%this.length)%this.length,!s||s(this.element(e)))return e;e--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(e=>this.view.element(e))}reveal(e,i,s=0){if(e<0||e>=this.length)throw new Nc(this.user,`Invalid index ${e}`);const n=this.view.getScrollTop(),o=this.view.elementTop(e),r=this.view.elementHeight(e);if(pc(i)){const a=r-this.view.renderHeight+s;this.view.setScrollTop(a*$s(i,0,1)+o-s)}else{const a=o+r,l=n+this.view.renderHeight;o<n+s&&a>=l||(o<n+s||a>=l&&r>=this.view.renderHeight?this.view.setScrollTop(o-s):a>=l&&this.view.setScrollTop(a-this.view.renderHeight))}}getRelativeTop(e,i=0){if(e<0||e>=this.length)throw new Nc(this.user,`Invalid index ${e}`);const s=this.view.getScrollTop(),n=this.view.elementTop(e),o=this.view.elementHeight(e);if(n<s+i||n+o>s+this.view.renderHeight)return null;const r=o-this.view.renderHeight+i;return Math.abs((s+i-n)/r)}isDOMFocused(){return na(this.view.domNode)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(e){return this.view.getElementDomId(e)}getElementTop(e){return this.view.elementTop(e)}style(e){this.styleController.style(e)}toListEvent({indexes:e,browserEvent:i}){return{indexes:e,elements:e.map(s=>this.view.element(s)),browserEvent:i}}_onFocusChange(){const e=this.focus.get();this.view.domNode.classList.toggle("element-focused",e.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){const e=this.focus.get();if(e.length>0){let i;this.accessibilityProvider?.getActiveDescendantId&&(i=this.accessibilityProvider.getActiveDescendantId(this.view.element(e[0]))),this.view.domNode.setAttribute("aria-activedescendant",i||this.view.getElementDomId(e[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const e=this.selection.get();this.view.domNode.classList.toggle("selection-none",e.length===0),this.view.domNode.classList.toggle("selection-single",e.length===1),this.view.domNode.classList.toggle("selection-multiple",e.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}la([ie],go.prototype,"onDidChangeFocus");la([ie],go.prototype,"onDidChangeSelection");la([ie],go.prototype,"onContextMenu");la([ie],go.prototype,"onKeyDown");la([ie],go.prototype,"onKeyUp");la([ie],go.prototype,"onKeyPress");la([ie],go.prototype,"onDidFocus");la([ie],go.prototype,"onDidBlur");var WX=Object.defineProperty,mg=(t,e)=>WX(t,"name",{value:e,configurable:!0});const UX="$(",gA=new RegExp(`\\$\\(${Ae.iconNameExpression}(?:${Ae.iconModifierExpression})?\\)`,"g"),zX=new RegExp(`(\\\\)?${gA.source}`,"g");function V5(t){return t.replace(zX,(e,i)=>i?e:`\\${e}`)}mg(V5,"escapeIcons");const $X=new RegExp(`\\\\${gA.source}`,"g");function H5(t){return t.replace($X,e=>`\\${e}`)}mg(H5,"markdownEscapeEscapedIcons");const KX=new RegExp(`(\\s)?(\\\\)?${gA.source}(\\s)?`,"g");function W5(t){return t.indexOf(UX)===-1?t:t.replace(KX,(e,i,s,n)=>s?e:i||n||"")}mg(W5,"stripIcons");function GX(t){return t?t.replace(/\$\((.*?)\)/g,(e,i)=>` ${i} `).trim():""}mg(GX,"getCodiconAriaLabel");const Jy=new RegExp(`\\$\\(${Ae.iconNameCharacter}+\\)`,"g");function jX(t){Jy.lastIndex=0;let e="";const i=[];let s=0;for(;;){const n=Jy.lastIndex,o=Jy.exec(t),r=t.substring(n,o?.index);if(r.length>0){e+=r;for(let a=0;a<r.length;a++)i.push(s)}if(!o)break;s+=o[0].length}return{text:e,iconOffsets:i}}mg(jX,"parseLabelWithIcons");function qX(t,e,i=!1){const{text:s,iconOffsets:n}=e;if(!n||n.length===0)return M0(t,s,i);const o=Kp(s," "),r=s.length-o.length,a=M0(t,o,i);if(a)for(const l of a){const h=n[l.start+r]+r;l.start+=h,l.end+=h}return a}mg(qX,"matchesFuzzyIconAware");var YX=Object.defineProperty,ll=(t,e)=>YX(t,"name",{value:e,configurable:!0});class XX{static{ll(this,"MarkdownString")}value;isTrusted;supportThemeIcons;supportHtml;baseUri;constructor(e="",i=!1){if(this.value=e,typeof this.value!="string")throw Yw("value");typeof i=="boolean"?(this.isTrusted=i,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=i.isTrusted??void 0,this.supportThemeIcons=i.supportThemeIcons??!1,this.supportHtml=i.supportHtml??!1)}appendText(e,i=0){return this.value+=$5(this.supportThemeIcons?V5(e):e).replace(/([ \t]+)/g,(s,n)=>"&nbsp;".repeat(n.length)).replace(/>/gm,"\\>").replace(/\n/g,i===1?`\\
`:`

`),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,i){return this.value+=`
${K5(i,e)}
`,this}appendLink(e,i,s){return this.value+="[",this.value+=this._escape(i,"]"),this.value+="](",this.value+=this._escape(String(e),")"),s&&(this.value+=` "${this._escape(this._escape(s,'"'),")")}"`),this.value+=")",this}_escape(e,i){const s=new RegExp(t1(i),"g");return e.replace(s,(n,o)=>e.charAt(o-1)!=="\\"?`\\${n}`:n)}}function U5(t){return xf(t)?!t.value:Array.isArray(t)?t.every(U5):!0}ll(U5,"isEmptyMarkdownString");function xf(t){return t instanceof XX?!0:t&&typeof t=="object"?typeof t.value=="string"&&(typeof t.isTrusted=="boolean"||typeof t.isTrusted=="object"||t.isTrusted===void 0)&&(typeof t.supportThemeIcons=="boolean"||t.supportThemeIcons===void 0):!1}ll(xf,"isMarkdownString");function z5(t,e){return t===e?!0:!t||!e?!1:t.value===e.value&&t.isTrusted===e.isTrusted&&t.supportThemeIcons===e.supportThemeIcons&&t.supportHtml===e.supportHtml&&(t.baseUri===e.baseUri||!!t.baseUri&&!!e.baseUri&&qd(j.from(t.baseUri),j.from(e.baseUri)))}ll(z5,"markdownStringEqual");function $5(t){return t.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}ll($5,"escapeMarkdownSyntaxTokens");function K5(t,e){const i=t.match(/^`+/gm)?.reduce((n,o)=>n.length>o.length?n:o).length??0,s=i>=3?i+1:3;return[`${"`".repeat(s)}${e}`,t,`${"`".repeat(s)}`].join(`
`)}ll(K5,"appendEscapedMarkdownCodeBlockFence");function of(t){return t.replace(/"/g,"&quot;")}ll(of,"escapeDoubleQuotes");function sv(t){return t&&t.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}ll(sv,"removeMarkdownEscapes");function G5(t){const e=[],i=t.split("|").map(n=>n.trim());t=i[0];const s=i[1];if(s){const n=/height=(\d+)/.exec(s),o=/width=(\d+)/.exec(s),r=n?n[1]:"",a=o?o[1]:"",l=isFinite(Number.parseInt(a)),h=isFinite(Number.parseInt(r));l&&e.push(`width="${a}"`),h&&e.push(`height="${r}"`)}return{href:t,dimensions:e}}ll(G5,"parseHrefAndDimensions");var ZX=Object.defineProperty,QX=(t,e)=>ZX(t,"name",{value:e,configurable:!0});class JX{static{QX(this,"IdGenerator")}_prefix;_lastId;constructor(e){this._prefix=e,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const W0=new JX("id#");var eZ=Object.defineProperty,Ai=(t,e)=>eZ(t,"name",{value:e,configurable:!0});const ps={};(function(){function t(e,i){i(ps)}Ai(t,"define"),t.amd=!0,((e,i)=>{typeof t=="function"&&t.amd?t(["exports"],i):typeof Qi=="object"&&typeof S7<"u"?i(Qi):(e=typeof globalThis<"u"?globalThis:e||self,i(e.marked={}))})(this,function(e){function i(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}Ai(i,"_getDefaults"),e.defaults=i();function s(qe){e.defaults=qe}Ai(s,"changeDefaults");const n=/[&<>"']/,o=new RegExp(n.source,"g"),r=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,a=new RegExp(r.source,"g"),l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h=Ai(qe=>l[qe],"getEscapeReplacement");function d(qe,w){if(w){if(n.test(qe))return qe.replace(o,h)}else if(r.test(qe))return qe.replace(a,h);return qe}Ai(d,"escape$1");const u=/(^|[^[])\^/g;function g(qe,w){let y=typeof qe=="string"?qe:qe.source;w=w||"";const S={replace:Ai((A,T)=>{let W=typeof T=="string"?T:T.source;return W=W.replace(u,"$1"),y=y.replace(A,W),S},"replace"),getRegex:Ai(()=>new RegExp(y,w),"getRegex")};return S}Ai(g,"edit");function p(qe){try{qe=encodeURI(qe).replace(/%25/g,"%")}catch{return null}return qe}Ai(p,"cleanUrl");const m={exec:Ai(()=>null,"exec")};function b(qe,w){const y=qe.replace(/\|/g,(T,W,G)=>{let ue=!1,me=W;for(;--me>=0&&G[me]==="\\";)ue=!ue;return ue?"|":" |"}),S=y.split(/ \|/);let A=0;if(S[0].trim()||S.shift(),S.length>0&&!S[S.length-1].trim()&&S.pop(),w)if(S.length>w)S.splice(w);else for(;S.length<w;)S.push("");for(;A<S.length;A++)S[A]=S[A].trim().replace(/\\\|/g,"|");return S}Ai(b,"splitCells");function C(qe,w,y){const S=qe.length;if(S===0)return"";let A=0;for(;A<S;){const T=qe.charAt(S-A-1);if(T===w&&!y)A++;else if(T!==w&&y)A++;else break}return qe.slice(0,S-A)}Ai(C,"rtrim");function x(qe,w){if(qe.indexOf(w[1])===-1)return-1;let y=0;for(let S=0;S<qe.length;S++)if(qe[S]==="\\")S++;else if(qe[S]===w[0])y++;else if(qe[S]===w[1]&&(y--,y<0))return S;return-1}Ai(x,"findClosingBracket");function E(qe,w,y,S){const A=w.href,T=w.title?d(w.title):null,W=qe[1].replace(/\\([[\]])/g,"$1");if(qe[0].charAt(0)!=="!"){S.state.inLink=!0;const G={type:"link",raw:y,href:A,title:T,text:W,tokens:S.inlineTokens(W)};return S.state.inLink=!1,G}return{type:"image",raw:y,href:A,title:T,text:d(W)}}Ai(E,"outputLink");function F(qe,w){const y=qe.match(/^(\s+)(?:```)/);if(y===null)return w;const S=y[1];return w.split(`
`).map(A=>{const T=A.match(/^\s+/);if(T===null)return A;const[W]=T;return W.length>=S.length?A.slice(S.length):A}).join(`
`)}Ai(F,"indentCodeCompensation");class B{static{Ai(this,"_Tokenizer")}options;rules;lexer;constructor(w){this.options=w||e.defaults}space(w){const y=this.rules.block.newline.exec(w);if(y&&y[0].length>0)return{type:"space",raw:y[0]}}code(w){const y=this.rules.block.code.exec(w);if(y){const S=y[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:y[0],codeBlockStyle:"indented",text:this.options.pedantic?S:C(S,`
`)}}}fences(w){const y=this.rules.block.fences.exec(w);if(y){const S=y[0],A=F(S,y[3]||"");return{type:"code",raw:S,lang:y[2]?y[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):y[2],text:A}}}heading(w){const y=this.rules.block.heading.exec(w);if(y){let S=y[2].trim();if(/#$/.test(S)){const A=C(S,"#");(this.options.pedantic||!A||/ $/.test(A))&&(S=A.trim())}return{type:"heading",raw:y[0],depth:y[1].length,text:S,tokens:this.lexer.inline(S)}}}hr(w){const y=this.rules.block.hr.exec(w);if(y)return{type:"hr",raw:C(y[0],`
`)}}blockquote(w){const y=this.rules.block.blockquote.exec(w);if(y){let S=C(y[0],`
`).split(`
`),A="",T="";const W=[];for(;S.length>0;){let G=!1;const ue=[];let me;for(me=0;me<S.length;me++)if(/^ {0,3}>/.test(S[me]))ue.push(S[me]),G=!0;else{if(G)break;ue.push(S[me])}S=S.slice(me);const Ye=ue.join(`
`),_t=Ye.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");A=A?`${A}
${Ye}`:Ye,T=T?`${T}
${_t}`:_t;const si=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(_t,W,!0),this.lexer.state.top=si,S.length===0)break;const Bi=W[W.length-1];if(Bi?.type==="code")break;if(Bi?.type==="blockquote"){const fi=Bi,ke=fi.raw+`
`+S.join(`
`),L=this.blockquote(ke);W[W.length-1]=L,A=A.substring(0,A.length-fi.raw.length)+L.raw,T=T.substring(0,T.length-fi.text.length)+L.text;break}else if(Bi?.type==="list"){const fi=Bi,ke=fi.raw+`
`+S.join(`
`),L=this.list(ke);W[W.length-1]=L,A=A.substring(0,A.length-Bi.raw.length)+L.raw,T=T.substring(0,T.length-fi.raw.length)+L.raw,S=ke.substring(W[W.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:A,tokens:W,text:T}}}list(w){let y=this.rules.block.list.exec(w);if(y){let S=y[1].trim();const A=S.length>1,T={type:"list",raw:"",ordered:A,start:A?+S.slice(0,-1):"",loose:!1,items:[]};S=A?`\\d{1,9}\\${S.slice(-1)}`:`\\${S}`,this.options.pedantic&&(S=A?S:"[*+-]");const W=new RegExp(`^( {0,3}${S})((?:[	 ][^\\n]*)?(?:\\n|$))`);let G=!1;for(;w;){let ue=!1,me="",Ye="";if(!(y=W.exec(w))||this.rules.block.hr.test(w))break;me=y[0],w=w.substring(me.length);let _t=y[2].split(`
`,1)[0].replace(/^\t+/,re=>" ".repeat(3*re.length)),si=w.split(`
`,1)[0],Bi=!_t.trim(),fi=0;if(this.options.pedantic?(fi=2,Ye=_t.trimStart()):Bi?fi=y[1].length+1:(fi=y[2].search(/[^ ]/),fi=fi>4?1:fi,Ye=_t.slice(fi),fi+=y[1].length),Bi&&/^ *$/.test(si)&&(me+=si+`
`,w=w.substring(si.length+1),ue=!0),!ue){const re=new RegExp(`^ {0,${Math.min(3,fi-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),ye=new RegExp(`^ {0,${Math.min(3,fi-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),zt=new RegExp(`^ {0,${Math.min(3,fi-1)}}(?:\`\`\`|~~~)`),Ui=new RegExp(`^ {0,${Math.min(3,fi-1)}}#`);for(;w;){const Vs=w.split(`
`,1)[0];if(si=Vs,this.options.pedantic&&(si=si.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),zt.test(si)||Ui.test(si)||re.test(si)||ye.test(w))break;if(si.search(/[^ ]/)>=fi||!si.trim())Ye+=`
`+si.slice(fi);else{if(Bi||_t.search(/[^ ]/)>=4||zt.test(_t)||Ui.test(_t)||ye.test(_t))break;Ye+=`
`+si}!Bi&&!si.trim()&&(Bi=!0),me+=Vs+`
`,w=w.substring(Vs.length+1),_t=si.slice(fi)}}T.loose||(G?T.loose=!0:/\n *\n *$/.test(me)&&(G=!0));let ke=null,L;this.options.gfm&&(ke=/^\[[ xX]\] /.exec(Ye),ke&&(L=ke[0]!=="[ ] ",Ye=Ye.replace(/^\[[ xX]\] +/,""))),T.items.push({type:"list_item",raw:me,task:!!ke,checked:L,loose:!1,text:Ye,tokens:[]}),T.raw+=me}T.items[T.items.length-1].raw=T.items[T.items.length-1].raw.trimEnd(),T.items[T.items.length-1].text=T.items[T.items.length-1].text.trimEnd(),T.raw=T.raw.trimEnd();for(let ue=0;ue<T.items.length;ue++)if(this.lexer.state.top=!1,T.items[ue].tokens=this.lexer.blockTokens(T.items[ue].text,[]),!T.loose){const me=T.items[ue].tokens.filter(_t=>_t.type==="space"),Ye=me.length>0&&me.some(_t=>/\n.*\n/.test(_t.raw));T.loose=Ye}if(T.loose)for(let ue=0;ue<T.items.length;ue++)T.items[ue].loose=!0;return T}}html(w){const y=this.rules.block.html.exec(w);if(y)return{type:"html",block:!0,raw:y[0],pre:y[1]==="pre"||y[1]==="script"||y[1]==="style",text:y[0]}}def(w){const y=this.rules.block.def.exec(w);if(y){const S=y[1].toLowerCase().replace(/\s+/g," "),A=y[2]?y[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",T=y[3]?y[3].substring(1,y[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):y[3];return{type:"def",tag:S,raw:y[0],href:A,title:T}}}table(w){const y=this.rules.block.table.exec(w);if(!y||!/[:|]/.test(y[2]))return;const S=b(y[1]),A=y[2].replace(/^\||\| *$/g,"").split("|"),T=y[3]&&y[3].trim()?y[3].replace(/\n[ \t]*$/,"").split(`
`):[],W={type:"table",raw:y[0],header:[],align:[],rows:[]};if(S.length===A.length){for(const G of A)/^ *-+: *$/.test(G)?W.align.push("right"):/^ *:-+: *$/.test(G)?W.align.push("center"):/^ *:-+ *$/.test(G)?W.align.push("left"):W.align.push(null);for(let G=0;G<S.length;G++)W.header.push({text:S[G],tokens:this.lexer.inline(S[G]),header:!0,align:W.align[G]});for(const G of T)W.rows.push(b(G,W.header.length).map((ue,me)=>({text:ue,tokens:this.lexer.inline(ue),header:!1,align:W.align[me]})));return W}}lheading(w){const y=this.rules.block.lheading.exec(w);if(y)return{type:"heading",raw:y[0],depth:y[2].charAt(0)==="="?1:2,text:y[1],tokens:this.lexer.inline(y[1])}}paragraph(w){const y=this.rules.block.paragraph.exec(w);if(y){const S=y[1].charAt(y[1].length-1)===`
`?y[1].slice(0,-1):y[1];return{type:"paragraph",raw:y[0],text:S,tokens:this.lexer.inline(S)}}}text(w){const y=this.rules.block.text.exec(w);if(y)return{type:"text",raw:y[0],text:y[0],tokens:this.lexer.inline(y[0])}}escape(w){const y=this.rules.inline.escape.exec(w);if(y)return{type:"escape",raw:y[0],text:d(y[1])}}tag(w){const y=this.rules.inline.tag.exec(w);if(y)return!this.lexer.state.inLink&&/^<a /i.test(y[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(y[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(y[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(y[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:y[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:y[0]}}link(w){const y=this.rules.inline.link.exec(w);if(y){const S=y[2].trim();if(!this.options.pedantic&&/^</.test(S)){if(!/>$/.test(S))return;const W=C(S.slice(0,-1),"\\");if((S.length-W.length)%2===0)return}else{const W=x(y[2],"()");if(W>-1){const ue=(y[0].indexOf("!")===0?5:4)+y[1].length+W;y[2]=y[2].substring(0,W),y[0]=y[0].substring(0,ue).trim(),y[3]=""}}let A=y[2],T="";if(this.options.pedantic){const W=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(A);W&&(A=W[1],T=W[3])}else T=y[3]?y[3].slice(1,-1):"";return A=A.trim(),/^</.test(A)&&(this.options.pedantic&&!/>$/.test(S)?A=A.slice(1):A=A.slice(1,-1)),E(y,{href:A&&A.replace(this.rules.inline.anyPunctuation,"$1"),title:T&&T.replace(this.rules.inline.anyPunctuation,"$1")},y[0],this.lexer)}}reflink(w,y){let S;if((S=this.rules.inline.reflink.exec(w))||(S=this.rules.inline.nolink.exec(w))){const A=(S[2]||S[1]).replace(/\s+/g," "),T=y[A.toLowerCase()];if(!T){const W=S[0].charAt(0);return{type:"text",raw:W,text:W}}return E(S,T,S[0],this.lexer)}}emStrong(w,y,S=""){let A=this.rules.inline.emStrongLDelim.exec(w);if(!A||A[3]&&S.match(/[\p{L}\p{N}]/u))return;if(!(A[1]||A[2]||"")||!S||this.rules.inline.punctuation.exec(S)){const W=[...A[0]].length-1;let G,ue,me=W,Ye=0;const _t=A[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(_t.lastIndex=0,y=y.slice(-1*w.length+W);(A=_t.exec(y))!=null;){if(G=A[1]||A[2]||A[3]||A[4]||A[5]||A[6],!G)continue;if(ue=[...G].length,A[3]||A[4]){me+=ue;continue}else if((A[5]||A[6])&&W%3&&!((W+ue)%3)){Ye+=ue;continue}if(me-=ue,me>0)continue;ue=Math.min(ue,ue+me+Ye);const si=[...A[0]][0].length,Bi=w.slice(0,W+A.index+si+ue);if(Math.min(W,ue)%2){const ke=Bi.slice(1,-1);return{type:"em",raw:Bi,text:ke,tokens:this.lexer.inlineTokens(ke)}}const fi=Bi.slice(2,-2);return{type:"strong",raw:Bi,text:fi,tokens:this.lexer.inlineTokens(fi)}}}}codespan(w){const y=this.rules.inline.code.exec(w);if(y){let S=y[2].replace(/\n/g," ");const A=/[^ ]/.test(S),T=/^ /.test(S)&&/ $/.test(S);return A&&T&&(S=S.substring(1,S.length-1)),S=d(S,!0),{type:"codespan",raw:y[0],text:S}}}br(w){const y=this.rules.inline.br.exec(w);if(y)return{type:"br",raw:y[0]}}del(w){const y=this.rules.inline.del.exec(w);if(y)return{type:"del",raw:y[0],text:y[2],tokens:this.lexer.inlineTokens(y[2])}}autolink(w){const y=this.rules.inline.autolink.exec(w);if(y){let S,A;return y[2]==="@"?(S=d(y[1]),A="mailto:"+S):(S=d(y[1]),A=S),{type:"link",raw:y[0],text:S,href:A,tokens:[{type:"text",raw:S,text:S}]}}}url(w){let y;if(y=this.rules.inline.url.exec(w)){let S,A;if(y[2]==="@")S=d(y[0]),A="mailto:"+S;else{let T;do T=y[0],y[0]=this.rules.inline._backpedal.exec(y[0])?.[0]??"";while(T!==y[0]);S=d(y[0]),y[1]==="www."?A="http://"+y[0]:A=y[0]}return{type:"link",raw:y[0],text:S,href:A,tokens:[{type:"text",raw:S,text:S}]}}}inlineText(w){const y=this.rules.inline.text.exec(w);if(y){let S;return this.lexer.state.inRawBlock?S=y[0]:S=d(y[0]),{type:"text",raw:y[0],text:S}}}}const M=/^(?: *(?:\n|$))+/,X=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,ee=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,z=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,se=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Re=/(?:[*+-]|\d{1,9}[.)])/,oe=g(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Re).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),De=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Wt=/^[^\n]+/,ve=/(?!\s*\])(?:\\.|[^[\]\\])+/,ae=g(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",ve).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Te=g(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Re).getRegex(),pe="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Be=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Ne=g("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Be).replace("tag",pe).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),gt=g(De).replace("hr",z).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pe).getRegex(),Ut={blockquote:g(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",gt).getRegex(),code:X,def:ae,fences:ee,heading:se,hr:z,html:Ne,lheading:oe,list:Te,newline:M,paragraph:gt,table:m,text:Wt},yt=g("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",z).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pe).getRegex(),_i={...Ut,table:yt,paragraph:g(De).replace("hr",z).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",yt).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",pe).getRegex()},ms={...Ut,html:g(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Be).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:m,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:g(De).replace("hr",z).replace("heading",` *#{1,6} *[^
]`).replace("lheading",oe).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Js=/^\\([!"#$%&'()*+,\-./:;<=>?@[\]\\^_`{|}~])/,Mn=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,da=/^( {2,}|\\)\n(?!\s*$)/,gd=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<![`*_]|\b_|$)|[^ ](?= {2,}\n)))/,mo="\\p{P}\\p{S}",ua=g(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,mo).getRegex(),Ig=/\[[^[\]]*?\]\([^()]*?\)|`[^`]*?`|<[^<>]*?>/g,Tg=g(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,mo).getRegex(),gl=g("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,mo).getRegex(),fd=g("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,mo).getRegex(),pd=g(/\\([punct])/,"gu").replace(/punct/g,mo).getRegex(),Mm=g(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Fm=g(Be).replace("(?:-->|$)","-->").getRegex(),Cy=g("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Fm).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),fl=/(?:\[(?:\\.|[^[\]\\])*\]|\\.|`[^`]*`|[^[\]\\`])*?/,Ic=g(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",fl).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ga=g(/^!?\[(label)\]\[(ref)\]/).replace("label",fl).replace("ref",ve).getRegex(),fa=g(/^!?\[(ref)\](?:\[\])?/).replace("ref",ve).getRegex(),Vm=g("reflink|nolink(?!\\()","g").replace("reflink",ga).replace("nolink",fa).getRegex(),md={_backpedal:m,anyPunctuation:pd,autolink:Mm,blockSkip:Ig,br:da,code:Mn,del:m,emStrongLDelim:Tg,emStrongRDelimAst:gl,emStrongRDelimUnd:fd,escape:Js,link:Ic,nolink:fa,punctuation:ua,reflink:ga,reflinkSearch:Vm,tag:Cy,text:gd,url:m},Hm={...md,link:g(/^!?\[(label)\]\((.*?)\)/).replace("label",fl).getRegex(),reflink:g(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",fl).getRegex()},Tc={...md,escape:g(Js).replace("])","~|])").getRegex(),url:g(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+/=?_`{|}~-]+@)|[\s\S]*?(?:(?=[\\<![`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+/=?_`{|}~-](?=[a-zA-Z0-9.!#$%&'*+/=?_`{|}~-]+@)))/},Wm={...Tc,br:g(da).replace("{2,}","*").getRegex(),text:g(Tc.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},pa={normal:Ut,gfm:_i,pedantic:ms},Sr={normal:md,gfm:Tc,breaks:Wm,pedantic:Hm};class Wi{static{Ai(this,"_Lexer")}tokens;options;state;tokenizer;inlineQueue;constructor(w){this.tokens=[],this.tokens.links=Object.create(null),this.options=w||e.defaults,this.options.tokenizer=this.options.tokenizer||new B,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const y={block:pa.normal,inline:Sr.normal};this.options.pedantic?(y.block=pa.pedantic,y.inline=Sr.pedantic):this.options.gfm&&(y.block=pa.gfm,this.options.breaks?y.inline=Sr.breaks:y.inline=Sr.gfm),this.tokenizer.rules=y}static get rules(){return{block:pa,inline:Sr}}static lex(w,y){return new Wi(y).lex(w)}static lexInline(w,y){return new Wi(y).inlineTokens(w)}lex(w){w=w.replace(/\r\n|\r/g,`
`),this.blockTokens(w,this.tokens);for(let y=0;y<this.inlineQueue.length;y++){const S=this.inlineQueue[y];this.inlineTokens(S.src,S.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(w,y=[],S=!1){this.options.pedantic?w=w.replace(/\t/g,"    ").replace(/^ +$/gm,""):w=w.replace(/^( *)(\t+)/gm,(G,ue,me)=>ue+"    ".repeat(me.length));let A,T,W;for(;w;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(G=>(A=G.call({lexer:this},w,y))?(w=w.substring(A.raw.length),y.push(A),!0):!1))){if(A=this.tokenizer.space(w)){w=w.substring(A.raw.length),A.raw.length===1&&y.length>0?y[y.length-1].raw+=`
`:y.push(A);continue}if(A=this.tokenizer.code(w)){w=w.substring(A.raw.length),T=y[y.length-1],T&&(T.type==="paragraph"||T.type==="text")?(T.raw+=`
`+A.raw,T.text+=`
`+A.text,this.inlineQueue[this.inlineQueue.length-1].src=T.text):y.push(A);continue}if(A=this.tokenizer.fences(w)){w=w.substring(A.raw.length),y.push(A);continue}if(A=this.tokenizer.heading(w)){w=w.substring(A.raw.length),y.push(A);continue}if(A=this.tokenizer.hr(w)){w=w.substring(A.raw.length),y.push(A);continue}if(A=this.tokenizer.blockquote(w)){w=w.substring(A.raw.length),y.push(A);continue}if(A=this.tokenizer.list(w)){w=w.substring(A.raw.length),y.push(A);continue}if(A=this.tokenizer.html(w)){w=w.substring(A.raw.length),y.push(A);continue}if(A=this.tokenizer.def(w)){w=w.substring(A.raw.length),T=y[y.length-1],T&&(T.type==="paragraph"||T.type==="text")?(T.raw+=`
`+A.raw,T.text+=`
`+A.raw,this.inlineQueue[this.inlineQueue.length-1].src=T.text):this.tokens.links[A.tag]||(this.tokens.links[A.tag]={href:A.href,title:A.title});continue}if(A=this.tokenizer.table(w)){w=w.substring(A.raw.length),y.push(A);continue}if(A=this.tokenizer.lheading(w)){w=w.substring(A.raw.length),y.push(A);continue}if(W=w,this.options.extensions&&this.options.extensions.startBlock){let G=Number.POSITIVE_INFINITY;const ue=w.slice(1);let me;this.options.extensions.startBlock.forEach(Ye=>{me=Ye.call({lexer:this},ue),typeof me=="number"&&me>=0&&(G=Math.min(G,me))}),G<Number.POSITIVE_INFINITY&&G>=0&&(W=w.substring(0,G+1))}if(this.state.top&&(A=this.tokenizer.paragraph(W))){T=y[y.length-1],S&&T?.type==="paragraph"?(T.raw+=`
`+A.raw,T.text+=`
`+A.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=T.text):y.push(A),S=W.length!==w.length,w=w.substring(A.raw.length);continue}if(A=this.tokenizer.text(w)){w=w.substring(A.raw.length),T=y[y.length-1],T&&T.type==="text"?(T.raw+=`
`+A.raw,T.text+=`
`+A.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=T.text):y.push(A);continue}if(w){const G="Infinite loop on byte: "+w.charCodeAt(0);if(this.options.silent){console.error(G);break}else throw new Error(G)}}return this.state.top=!0,y}inline(w,y=[]){return this.inlineQueue.push({src:w,tokens:y}),y}inlineTokens(w,y=[]){let S,A,T,W=w,G,ue,me;if(this.tokens.links){const Ye=Object.keys(this.tokens.links);if(Ye.length>0)for(;(G=this.tokenizer.rules.inline.reflinkSearch.exec(W))!=null;)Ye.includes(G[0].slice(G[0].lastIndexOf("[")+1,-1))&&(W=W.slice(0,G.index)+"["+"a".repeat(G[0].length-2)+"]"+W.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(G=this.tokenizer.rules.inline.blockSkip.exec(W))!=null;)W=W.slice(0,G.index)+"["+"a".repeat(G[0].length-2)+"]"+W.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(G=this.tokenizer.rules.inline.anyPunctuation.exec(W))!=null;)W=W.slice(0,G.index)+"++"+W.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;w;)if(ue||(me=""),ue=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Ye=>(S=Ye.call({lexer:this},w,y))?(w=w.substring(S.raw.length),y.push(S),!0):!1))){if(S=this.tokenizer.escape(w)){w=w.substring(S.raw.length),y.push(S);continue}if(S=this.tokenizer.tag(w)){w=w.substring(S.raw.length),A=y[y.length-1],A&&S.type==="text"&&A.type==="text"?(A.raw+=S.raw,A.text+=S.text):y.push(S);continue}if(S=this.tokenizer.link(w)){w=w.substring(S.raw.length),y.push(S);continue}if(S=this.tokenizer.reflink(w,this.tokens.links)){w=w.substring(S.raw.length),A=y[y.length-1],A&&S.type==="text"&&A.type==="text"?(A.raw+=S.raw,A.text+=S.text):y.push(S);continue}if(S=this.tokenizer.emStrong(w,W,me)){w=w.substring(S.raw.length),y.push(S);continue}if(S=this.tokenizer.codespan(w)){w=w.substring(S.raw.length),y.push(S);continue}if(S=this.tokenizer.br(w)){w=w.substring(S.raw.length),y.push(S);continue}if(S=this.tokenizer.del(w)){w=w.substring(S.raw.length),y.push(S);continue}if(S=this.tokenizer.autolink(w)){w=w.substring(S.raw.length),y.push(S);continue}if(!this.state.inLink&&(S=this.tokenizer.url(w))){w=w.substring(S.raw.length),y.push(S);continue}if(T=w,this.options.extensions&&this.options.extensions.startInline){let Ye=Number.POSITIVE_INFINITY;const _t=w.slice(1);let si;this.options.extensions.startInline.forEach(Bi=>{si=Bi.call({lexer:this},_t),typeof si=="number"&&si>=0&&(Ye=Math.min(Ye,si))}),Ye<Number.POSITIVE_INFINITY&&Ye>=0&&(T=w.substring(0,Ye+1))}if(S=this.tokenizer.inlineText(T)){w=w.substring(S.raw.length),S.raw.slice(-1)!=="_"&&(me=S.raw.slice(-1)),ue=!0,A=y[y.length-1],A&&A.type==="text"?(A.raw+=S.raw,A.text+=S.text):y.push(S);continue}if(w){const Ye="Infinite loop on byte: "+w.charCodeAt(0);if(this.options.silent){console.error(Ye);break}else throw new Error(Ye)}}return y}}class bo{static{Ai(this,"_Renderer")}options;parser;constructor(w){this.options=w||e.defaults}space(w){return""}code({text:w,lang:y,escaped:S}){const A=(y||"").match(/^\S*/)?.[0],T=w.replace(/\n$/,"")+`
`;return A?'<pre><code class="language-'+d(A)+'">'+(S?T:d(T,!0))+`</code></pre>
`:"<pre><code>"+(S?T:d(T,!0))+`</code></pre>
`}blockquote({tokens:w}){return`<blockquote>
${this.parser.parse(w)}</blockquote>
`}html({text:w}){return w}heading({tokens:w,depth:y}){return`<h${y}>${this.parser.parseInline(w)}</h${y}>
`}hr(w){return`<hr>
`}list(w){const y=w.ordered,S=w.start;let A="";for(let G=0;G<w.items.length;G++){const ue=w.items[G];A+=this.listitem(ue)}const T=y?"ol":"ul",W=y&&S!==1?' start="'+S+'"':"";return"<"+T+W+`>
`+A+"</"+T+`>
`}listitem(w){let y="";if(w.task){const S=this.checkbox({checked:!!w.checked});w.loose?w.tokens.length>0&&w.tokens[0].type==="paragraph"?(w.tokens[0].text=S+" "+w.tokens[0].text,w.tokens[0].tokens&&w.tokens[0].tokens.length>0&&w.tokens[0].tokens[0].type==="text"&&(w.tokens[0].tokens[0].text=S+" "+w.tokens[0].tokens[0].text)):w.tokens.unshift({type:"text",raw:S+" ",text:S+" "}):y+=S+" "}return y+=this.parser.parse(w.tokens,!!w.loose),`<li>${y}</li>
`}checkbox({checked:w}){return"<input "+(w?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:w}){return`<p>${this.parser.parseInline(w)}</p>
`}table(w){let y="",S="";for(let T=0;T<w.header.length;T++)S+=this.tablecell(w.header[T]);y+=this.tablerow({text:S});let A="";for(let T=0;T<w.rows.length;T++){const W=w.rows[T];S="";for(let G=0;G<W.length;G++)S+=this.tablecell(W[G]);A+=this.tablerow({text:S})}return A&&(A=`<tbody>${A}</tbody>`),`<table>
<thead>
`+y+`</thead>
`+A+`</table>
`}tablerow({text:w}){return`<tr>
${w}</tr>
`}tablecell(w){const y=this.parser.parseInline(w.tokens),S=w.header?"th":"td";return(w.align?`<${S} align="${w.align}">`:`<${S}>`)+y+`</${S}>
`}strong({tokens:w}){return`<strong>${this.parser.parseInline(w)}</strong>`}em({tokens:w}){return`<em>${this.parser.parseInline(w)}</em>`}codespan({text:w}){return`<code>${w}</code>`}br(w){return"<br>"}del({tokens:w}){return`<del>${this.parser.parseInline(w)}</del>`}link({href:w,title:y,tokens:S}){const A=this.parser.parseInline(S),T=p(w);if(T===null)return A;w=T;let W='<a href="'+w+'"';return y&&(W+=' title="'+y+'"'),W+=">"+A+"</a>",W}image({href:w,title:y,text:S}){const A=p(w);if(A===null)return S;w=A;let T=`<img src="${w}" alt="${S}"`;return y&&(T+=` title="${y}"`),T+=">",T}text(w){return"tokens"in w&&w.tokens?this.parser.parseInline(w.tokens):w.text}}class pl{static{Ai(this,"_TextRenderer")}strong({text:w}){return w}em({text:w}){return w}codespan({text:w}){return w}del({text:w}){return w}html({text:w}){return w}text({text:w}){return w}link({text:w}){return""+w}image({text:w}){return""+w}br(){return""}}class en{static{Ai(this,"_Parser")}options;renderer;textRenderer;constructor(w){this.options=w||e.defaults,this.options.renderer=this.options.renderer||new bo,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new pl}static parse(w,y){return new en(y).parse(w)}static parseInline(w,y){return new en(y).parseInline(w)}parse(w,y=!0){let S="";for(let A=0;A<w.length;A++){const T=w[A];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[T.type]){const G=T,ue=this.options.extensions.renderers[G.type].call({parser:this},G);if(ue!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(G.type)){S+=ue||"";continue}}const W=T;switch(W.type){case"space":{S+=this.renderer.space(W);continue}case"hr":{S+=this.renderer.hr(W);continue}case"heading":{S+=this.renderer.heading(W);continue}case"code":{S+=this.renderer.code(W);continue}case"table":{S+=this.renderer.table(W);continue}case"blockquote":{S+=this.renderer.blockquote(W);continue}case"list":{S+=this.renderer.list(W);continue}case"html":{S+=this.renderer.html(W);continue}case"paragraph":{S+=this.renderer.paragraph(W);continue}case"text":{let G=W,ue=this.renderer.text(G);for(;A+1<w.length&&w[A+1].type==="text";)G=w[++A],ue+=`
`+this.renderer.text(G);y?S+=this.renderer.paragraph({type:"paragraph",raw:ue,text:ue,tokens:[{type:"text",raw:ue,text:ue}]}):S+=ue;continue}default:{const G='Token with "'+W.type+'" type was not found.';if(this.options.silent)return console.error(G),"";throw new Error(G)}}}return S}parseInline(w,y){y=y||this.renderer;let S="";for(let A=0;A<w.length;A++){const T=w[A];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[T.type]){const G=this.options.extensions.renderers[T.type].call({parser:this},T);if(G!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(T.type)){S+=G||"";continue}}const W=T;switch(W.type){case"escape":{S+=y.text(W);break}case"html":{S+=y.html(W);break}case"link":{S+=y.link(W);break}case"image":{S+=y.image(W);break}case"strong":{S+=y.strong(W);break}case"em":{S+=y.em(W);break}case"codespan":{S+=y.codespan(W);break}case"br":{S+=y.br(W);break}case"del":{S+=y.del(W);break}case"text":{S+=y.text(W);break}default:{const G='Token with "'+W.type+'" type was not found.';if(this.options.silent)return console.error(G),"";throw new Error(G)}}}return S}}class kc{static{Ai(this,"_Hooks")}options;constructor(w){this.options=w||e.defaults}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(w){return w}postprocess(w){return w}processAllTokens(w){return w}}class Cr{static{Ai(this,"Marked")}defaults=i();options=this.setOptions;parse=this.parseMarkdown(Wi.lex,en.parse);parseInline=this.parseMarkdown(Wi.lexInline,en.parseInline);Parser=en;Renderer=bo;TextRenderer=pl;Lexer=Wi;Tokenizer=B;Hooks=kc;constructor(...w){this.use(...w)}walkTokens(w,y){let S=[];for(const A of w)switch(S=S.concat(y.call(this,A)),A.type){case"table":{const T=A;for(const W of T.header)S=S.concat(this.walkTokens(W.tokens,y));for(const W of T.rows)for(const G of W)S=S.concat(this.walkTokens(G.tokens,y));break}case"list":{const T=A;S=S.concat(this.walkTokens(T.items,y));break}default:{const T=A;this.defaults.extensions?.childTokens?.[T.type]?this.defaults.extensions.childTokens[T.type].forEach(W=>{const G=T[W].flat(Number.POSITIVE_INFINITY);S=S.concat(this.walkTokens(G,y))}):T.tokens&&(S=S.concat(this.walkTokens(T.tokens,y)))}}return S}use(...w){const y=this.defaults.extensions||{renderers:{},childTokens:{}};return w.forEach(S=>{const A={...S};if(A.async=this.defaults.async||A.async||!1,S.extensions&&(S.extensions.forEach(T=>{if(!T.name)throw new Error("extension name required");if("renderer"in T){const W=y.renderers[T.name];W?y.renderers[T.name]=function(...G){let ue=T.renderer.apply(this,G);return ue===!1&&(ue=W.apply(this,G)),ue}:y.renderers[T.name]=T.renderer}if("tokenizer"in T){if(!T.level||T.level!=="block"&&T.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const W=y[T.level];W?W.unshift(T.tokenizer):y[T.level]=[T.tokenizer],T.start&&(T.level==="block"?y.startBlock?y.startBlock.push(T.start):y.startBlock=[T.start]:T.level==="inline"&&(y.startInline?y.startInline.push(T.start):y.startInline=[T.start]))}"childTokens"in T&&T.childTokens&&(y.childTokens[T.name]=T.childTokens)}),A.extensions=y),S.renderer){const T=this.defaults.renderer||new bo(this.defaults);for(const W in S.renderer){if(!(W in T))throw new Error(`renderer '${W}' does not exist`);if(["options","parser"].includes(W))continue;const G=W,ue=S.renderer[G],me=T[G];T[G]=(...Ye)=>{let _t=ue.apply(T,Ye);return _t===!1&&(_t=me.apply(T,Ye)),_t||""}}A.renderer=T}if(S.tokenizer){const T=this.defaults.tokenizer||new B(this.defaults);for(const W in S.tokenizer){if(!(W in T))throw new Error(`tokenizer '${W}' does not exist`);if(["options","rules","lexer"].includes(W))continue;const G=W,ue=S.tokenizer[G],me=T[G];T[G]=(...Ye)=>{let _t=ue.apply(T,Ye);return _t===!1&&(_t=me.apply(T,Ye)),_t}}A.tokenizer=T}if(S.hooks){const T=this.defaults.hooks||new kc;for(const W in S.hooks){if(!(W in T))throw new Error(`hook '${W}' does not exist`);if(W==="options")continue;const G=W,ue=S.hooks[G],me=T[G];kc.passThroughHooks.has(W)?T[G]=Ye=>{if(this.defaults.async)return Promise.resolve(ue.call(T,Ye)).then(si=>me.call(T,si));const _t=ue.call(T,Ye);return me.call(T,_t)}:T[G]=(...Ye)=>{let _t=ue.apply(T,Ye);return _t===!1&&(_t=me.apply(T,Ye)),_t}}A.hooks=T}if(S.walkTokens){const T=this.defaults.walkTokens,W=S.walkTokens;A.walkTokens=function(G){let ue=[];return ue.push(W.call(this,G)),T&&(ue=ue.concat(T.call(this,G))),ue}}this.defaults={...this.defaults,...A}}),this}setOptions(w){return this.defaults={...this.defaults,...w},this}lexer(w,y){return Wi.lex(w,y??this.defaults)}parser(w,y){return en.parse(w,y??this.defaults)}parseMarkdown(w,y){return Ai((A,T)=>{const W={...T},G={...this.defaults,...W},ue=this.onError(!!G.silent,!!G.async);if(this.defaults.async===!0&&W.async===!1)return ue(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof A>"u"||A===null)return ue(new Error("marked(): input parameter is undefined or null"));if(typeof A!="string")return ue(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(A)+", string expected"));if(G.hooks&&(G.hooks.options=G),G.async)return Promise.resolve(G.hooks?G.hooks.preprocess(A):A).then(me=>w(me,G)).then(me=>G.hooks?G.hooks.processAllTokens(me):me).then(me=>G.walkTokens?Promise.all(this.walkTokens(me,G.walkTokens)).then(()=>me):me).then(me=>y(me,G)).then(me=>G.hooks?G.hooks.postprocess(me):me).catch(ue);try{G.hooks&&(A=G.hooks.preprocess(A));let me=w(A,G);G.hooks&&(me=G.hooks.processAllTokens(me)),G.walkTokens&&this.walkTokens(me,G.walkTokens);let Ye=y(me,G);return G.hooks&&(Ye=G.hooks.postprocess(Ye)),Ye}catch(me){return ue(me)}},"parse")}onError(w,y){return S=>{if(S.message+=`
Please report this to https://github.com/markedjs/marked.`,w){const A="<p>An error occurred:</p><pre>"+d(S.message+"",!0)+"</pre>";return y?Promise.resolve(A):A}if(y)return Promise.reject(S);throw S}}}const ma=new Cr;function Bt(qe,w){return ma.parse(qe,w)}Ai(Bt,"marked"),Bt.options=Bt.setOptions=qe=>(ma.setOptions(qe),Bt.defaults=ma.defaults,s(Bt.defaults),Bt),Bt.getDefaults=i,Bt.defaults=e.defaults,Bt.use=(...qe)=>(ma.use(...qe),Bt.defaults=ma.defaults,s(Bt.defaults),Bt),Bt.walkTokens=(qe,w)=>ma.walkTokens(qe,w),Bt.parseInline=ma.parseInline,Bt.Parser=en,Bt.parser=en.parse,Bt.Renderer=bo,Bt.TextRenderer=pl,Bt.Lexer=Wi,Bt.lexer=Wi.lex,Bt.Tokenizer=B,Bt.Hooks=kc,Bt.parse=Bt;const Ji=Bt.options,ml=Bt.setOptions,Dy=Bt.use,Um=Bt.walkTokens,kg=Bt.parseInline,zm=Bt,$m=en.parse,Ay=Wi.lex;e.Hooks=kc,e.Lexer=Wi,e.Marked=Cr,e.Parser=en,e.Renderer=bo,e.TextRenderer=pl,e.Tokenizer=B,e.getDefaults=i,e.lexer=Ay,e.marked=Bt,e.options=Ji,e.parse=zm,e.parseInline=kg,e.parser=$m,e.setOptions=ml,e.use=Dy,e.walkTokens=Um})})();ps.Hooks||Qi.Hooks;ps.Lexer||Qi.Lexer;ps.Marked||Qi.Marked;ps.Parser||Qi.Parser;var j5=ps.Renderer||Qi.Renderer;ps.TextRenderer||Qi.TextRenderer;ps.Tokenizer||Qi.Tokenizer;var tZ=ps.defaults||Qi.defaults;ps.getDefaults||Qi.getDefaults;var Z1=ps.lexer||Qi.lexer;ps.marked||Qi.marked;ps.options||Qi.options;var q5=ps.parse||Qi.parse;ps.parseInline||Qi.parseInline;var iZ=ps.parser||Qi.parser;ps.setOptions||Qi.setOptions;ps.use||Qi.use;ps.walkTokens||Qi.walkTokens;var sZ=Object.defineProperty,_c=(t,e)=>sZ(t,"name",{value:e,configurable:!0});function Y5(t,e={}){const i=Q1(e);return i.textContent=t,i}_c(Y5,"renderText");function X5(t,e={}){const i=Q1(e);return fA(i,Z5(t,!!e.renderCodeSegments),e.actionHandler,e.renderCodeSegments),i}_c(X5,"renderFormattedText");function Q1(t){const e=t.inline?"span":"div",i=document.createElement(e);return t.className&&(i.className=t.className),i}_c(Q1,"createElement");class nZ{static{_c(this,"StringStream")}source;index;constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function fA(t,e,i,s){let n;if(e.type===2)n=document.createTextNode(e.content||"");else if(e.type===3)n=document.createElement("b");else if(e.type===4)n=document.createElement("i");else if(e.type===7&&s)n=document.createElement("code");else if(e.type===5&&i){const o=document.createElement("a");i.disposables.add(Dn(o,"click",r=>{i.callback(String(e.index),r)})),n=o}else e.type===8?n=document.createElement("br"):e.type===1&&(n=t);n&&t!==n&&t.appendChild(n),n&&Array.isArray(e.children)&&e.children.forEach(o=>{fA(n,o,i,s)})}_c(fA,"_renderFormattedText");function Z5(t,e){const i={type:1,children:[]};let s=0,n=i;const o=[],r=new nZ(t);for(;!r.eos();){let a=r.next();const l=a==="\\"&&hw(r.peek(),e)!==0;if(l&&(a=r.next()),!l&&Q5(a,e)&&a===r.peek()){r.advance(),n.type===2&&(n=o.pop());const h=hw(a,e);if(n.type===h||n.type===5&&h===6)n=o.pop();else{const d={type:h,children:[]};h===5&&(d.index=s,s++),n.children.push(d),o.push(n),n=d}}else if(a===`
`)n.type===2&&(n=o.pop()),n.children.push({type:8});else if(n.type!==2){const h={type:2,content:a};n.children.push(h),o.push(n),n=h}else n.content+=a}return n.type===2&&(n=o.pop()),i}_c(Z5,"parseFormattedText");function Q5(t,e){return hw(t,e)!==0}_c(Q5,"isFormatTag");function hw(t,e){switch(t){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return e?7:0;default:return 0}}_c(hw,"formatTagType");var oZ=Object.defineProperty,J5=(t,e)=>oZ(t,"name",{value:e,configurable:!0});const rZ=new RegExp(`(\\\\)?\\$\\((${Ae.iconNameExpression}(?:${Ae.iconModifierExpression})?)\\)`,"g");function J1(t){const e=new Array;let i,s=0,n=0;for(;(i=rZ.exec(t))!==null;){n=i.index||0,s<n&&e.push(t.substring(s,n)),s=(i.index||0)+i[0].length;const[,o,r]=i;e.push(o?`$(${r})`:eO({id:r}))}return s<t.length&&e.push(t.substring(s)),e}J5(J1,"renderLabelWithIcons");function eO(t){const e=de("span");return e.classList.add(...Ae.asClassNameArray(t)),e}J5(eO,"renderIcon");var aZ=Object.defineProperty,Gt=(t,e)=>aZ(t,"name",{value:e,configurable:!0});const e_=Object.freeze({image:Gt(({href:t,title:e,text:i})=>{let s=[],n=[];return t&&({href:t,dimensions:s}=G5(t),n.push(`src="${of(t)}"`)),i&&n.push(`alt="${of(i)}"`),e&&n.push(`title="${of(e)}"`),s.length&&(n=n.concat(s)),"<img "+n.join(" ")+">"},"image"),paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>`},link({href:t,title:e,tokens:i}){let s=this.parser.parseInline(i);return typeof t!="string"?"":(t===s&&(s=sv(s)),e=typeof e=="string"?of(sv(e)):"",t=sv(t),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${t}" title="${e||t}" draggable="false">${s}</a>`)}});function pA(t,e={},i={}){const s=new Z;let n=!1;const o=Q1(e),r=Gt(b=>{let C;try{C=O1(decodeURIComponent(b))}catch{}return C?(C=qC(C,x=>{if(t.uris&&t.uris[x])return j.revive(t.uris[x])}),encodeURIComponent(JSON.stringify(C))):b},"_uriMassage"),a=Gt((b,C)=>{const x=t.uris&&t.uris[b];let E=j.revive(x);return C?b.startsWith(Ue.data+":")?b:(E||(E=j.parse(b)),Cu.uriToBrowserUri(E).toString(!0)):!E||j.parse(b).toString()===E.toString()?b:(E.query&&(E=E.with({query:r(E.query)})),E.toString())},"_href"),l=new j5;l.image=e_.image,l.link=e_.link,l.paragraph=e_.paragraph;const h=[],d=[];if(e.codeBlockRendererSync?l.code=({text:b,lang:C})=>{const x=W0.nextId(),E=e.codeBlockRendererSync(U0(C),b);return d.push([x,E]),`<div class="code" data-code="${x}">${Kd(b)}</div>`}:e.codeBlockRenderer&&(l.code=({text:b,lang:C})=>{const x=W0.nextId(),E=e.codeBlockRenderer(U0(C),b);return h.push(E.then(F=>[x,F])),`<div class="code" data-code="${x}">${Kd(b)}</div>`}),e.actionHandler){const b=Gt(E=>{const F=E.target.closest("a[data-href]");if(ns(F))try{let B=F.dataset.href;B&&(t.baseUri&&(B=nv(j.from(t.baseUri),B)),e.actionHandler.callback(B,E))}catch(B){ss(B)}finally{E.preventDefault()}},"_activateLink"),C=e.actionHandler.disposables.add(new $e(o,"click")),x=e.actionHandler.disposables.add(new $e(o,"auxclick"));e.actionHandler.disposables.add(R.any(C.event,x.event)(E=>{const F=new qi(be(o),E);!F.leftButton&&!F.middleButton||b(F)})),e.actionHandler.disposables.add(N(o,"keydown",E=>{const F=new mt(E);!F.equals(D.Space)&&!F.equals(D.Enter)||b(F)}))}t.supportHtml||(l.html=({text:b})=>e.sanitizerOptions?.replaceWithPlaintext?Kd(b):(t.isTrusted?b.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?b:""),i.renderer=l;let u=t.value??"";u.length>1e5&&(u=`${u.substr(0,1e5)}`),t.supportThemeIcons&&(u=H5(u));let g;if(e.fillInIncompleteTokens){const b={...tZ,...i},C=Z1(u,b),x=rO(C);g=iZ(x,b)}else g=q5(u,{...i,async:!1});t.supportThemeIcons&&(g=J1(g).map(C=>typeof C=="string"?C:C.outerHTML).join(""));const m=new DOMParser().parseFromString(dw({isTrusted:t.isTrusted,...e.sanitizerOptions},g),"text/html");if(m.body.querySelectorAll("img, audio, video, source").forEach(b=>{const C=b.getAttribute("src");if(C){let x=C;try{t.baseUri&&(x=nv(j.from(t.baseUri),x))}catch{}if(b.setAttribute("src",a(x,!0)),e.remoteImageIsAllowed){const E=j.parse(x);E.scheme!==Ue.file&&E.scheme!==Ue.data&&!e.remoteImageIsAllowed(E)&&b.replaceWith(de("",void 0,b.outerHTML))}}}),m.body.querySelectorAll("a").forEach(b=>{const C=b.getAttribute("href");if(b.setAttribute("href",""),!C||/^data:|javascript:/i.test(C)||/^command:/i.test(C)&&!t.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(C))b.replaceWith(...b.childNodes);else{let x=a(C,!1);t.baseUri&&(x=nv(j.from(t.baseUri),C)),b.dataset.href=x}}),o.innerHTML=dw({isTrusted:t.isTrusted,...e.sanitizerOptions},m.body.innerHTML),h.length>0)Promise.all(h).then(b=>{if(n)return;const C=new Map(b),x=o.querySelectorAll("div[data-code]");for(const E of x){const F=C.get(E.dataset.code??"");F&&Zl(E,F)}e.asyncRenderCallback?.()});else if(d.length>0){const b=new Map(d),C=o.querySelectorAll("div[data-code]");for(const x of C){const E=b.get(x.dataset.code??"");E&&Zl(x,E)}}if(e.asyncRenderCallback)for(const b of o.getElementsByTagName("img")){const C=s.add(N(b,"load",()=>{C.dispose(),e.asyncRenderCallback()}))}return{element:o,dispose:Gt(()=>{n=!0,s.dispose()},"dispose")}}Gt(pA,"renderMarkdown");function U0(t){if(!t)return"";const e=t.split(/[\s+|:|,|{|?]/,1);return e.length?e[0]:t}Gt(U0,"postProcessCodeBlockLanguageId");function nv(t,e){return/^\w[\w\d+.-]*:/.test(e)?e:t.path.endsWith("/")?QE(t,e).toString():QE(_x(t),e).toString()}Gt(nv,"resolveWithBaseUri");const lZ=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function dw(t,e){const{config:i,allowedSchemes:s}=tO(t),n=new Z;n.add(z0("uponSanitizeAttribute",(o,r)=>{if(r.attrName==="style"||r.attrName==="class"){if(o.tagName==="SPAN"){if(r.attrName==="style"){r.keepAttr=/^(color:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z0-9]+)+\));)?(background-color:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z0-9]+)+\));)?(border-radius:[0-9]+px;)?$/.test(r.attrValue);return}else if(r.attrName==="class"){r.keepAttr=/^codicon codicon-[a-z-]+( codicon-modifier-[a-z-]+)?$/.test(r.attrValue);return}}r.keepAttr=!1;return}else if(o.tagName==="INPUT"&&o.attributes.getNamedItem("type")?.value==="checkbox"){if(r.attrName==="type"&&r.attrValue==="checkbox"||r.attrName==="disabled"||r.attrName==="checked"){r.keepAttr=!0;return}r.keepAttr=!1}})),n.add(z0("uponSanitizeElement",(o,r)=>{if(r.tagName==="input"&&(o.attributes.getNamedItem("type")?.value==="checkbox"?o.setAttribute("disabled",""):t.replaceWithPlaintext||o.remove()),t.replaceWithPlaintext&&!r.allowedTags[r.tagName]&&r.tagName!=="body"&&o.parentElement){let a,l;if(r.tagName==="#comment")a=`<!--${o.textContent}-->`;else{const g=lZ.includes(r.tagName),p=o.attributes.length?" "+Array.from(o.attributes).map(m=>`${m.name}="${m.value}"`).join(" "):"";a=`<${r.tagName}${p}>`,g||(l=`</${r.tagName}>`)}const h=document.createDocumentFragment(),d=o.parentElement.ownerDocument.createTextNode(a);h.appendChild(d);const u=l?o.parentElement.ownerDocument.createTextNode(l):void 0;for(;o.firstChild;)h.appendChild(o.firstChild);u&&h.appendChild(u),o.parentElement.replaceChild(h,o)}})),n.add(RC(s));try{return bC(e,{...i,RETURN_TRUSTED_TYPE:!0})}finally{n.dispose()}}Gt(dw,"sanitizeRenderedMarkdown");const cZ=["align","autoplay","alt","checked","class","colspan","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","rowspan","src","style","target","title","type","width","start"];function tO(t){const e=[Ue.http,Ue.https,Ue.mailto,Ue.data,Ue.file,Ue.vscodeFileResource,Ue.vscodeRemote,Ue.vscodeRemoteResource];return t.isTrusted&&e.push(Ue.command),{config:{ALLOWED_TAGS:t.allowedTags??[...$3],ALLOWED_ATTR:cZ,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}Gt(tO,"getSanitizerOptions");function mA(t){return typeof t=="string"?t:iO(t)}Gt(mA,"renderStringAsPlaintext");function iO(t,e){let i=t.value??"";i.length>1e5&&(i=`${i.substr(0,1e5)}`);const s=q5(i,{async:!1,renderer:e?uZ.value:dZ.value});return dw({isTrusted:!1},s).toString().replace(/&(#\d+|[a-zA-Z]+);/g,n=>hZ.get(n)??n)}Gt(iO,"renderMarkdownAsPlaintext");const hZ=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]);function bA(){const t=new j5;return t.code=({text:e})=>e,t.blockquote=({text:e})=>e+`
`,t.html=e=>"",t.heading=function({tokens:e}){return this.parser.parseInline(e)+`
`},t.hr=()=>"",t.list=function({items:e}){return e.map(i=>this.listitem(i)).join(`
`)+`
`},t.listitem=({text:e})=>e+`
`,t.paragraph=function({tokens:e}){return this.parser.parseInline(e)+`
`},t.table=function({header:e,rows:i}){return e.map(s=>this.tablecell(s)).join(" ")+`
`+i.map(s=>s.map(n=>this.tablecell(n)).join(" ")).join(`
`)+`
`},t.tablerow=({text:e})=>e,t.tablecell=function({tokens:e}){return this.parser.parseInline(e)},t.strong=({text:e})=>e,t.em=({text:e})=>e,t.codespan=({text:e})=>e,t.br=e=>`
`,t.del=({text:e})=>e,t.image=e=>"",t.text=({text:e})=>e,t.link=({text:e})=>e,t}Gt(bA,"createRenderer");const dZ=new kn(t=>bA()),uZ=new kn(()=>{const t=bA();return t.code=({text:e})=>`
\`\`\`
${e}
\`\`\`
`,t});function _p(t){let e="";return t.forEach(i=>{e+=i.raw}),e}Gt(_p,"mergeRawTokenText");function vA(t){if(t.tokens)for(let e=t.tokens.length-1;e>=0;e--){const i=t.tokens[e];if(i.type==="text"){const s=i.raw.split(`
`),n=s[s.length-1];if(n.includes("`"))return lO(t);if(n.includes("**"))return fO(t);if(n.match(/\*\w/))return cO(t);if(n.match(/(^|\s)__\w/))return pO(t);if(n.match(/(^|\s)_\w/))return hO(t);if(sO(n)||nO(n)&&t.tokens.slice(0,e).some(o=>o.type==="text"&&o.raw.match(/\[[^\]]*$/))){const o=t.tokens.slice(e+1);return o[0]?.type==="link"&&o[1]?.type==="text"&&o[1].raw.match(/^ *"[^"]*$/)||n.match(/^[^"]* +"[^"]*$/)?uO(t):dO(t)}else if(n.match(/(^|\s)\[\w*/))return gO(t)}}}Gt(vA,"completeSingleLinePattern");function sO(t){return!!t.match(/(^|\s)\[.*\]\(\w*/)}Gt(sO,"hasLinkTextAndStartOfLinkTarget");function nO(t){return!!t.match(/^[^[]*\]\([^)]*$/)}Gt(nO,"hasStartOfLinkTargetAndNoLinkText");function oO(t){const e=t.items[t.items.length-1],i=e.tokens?e.tokens[e.tokens.length-1]:void 0;let s;if(i?.type==="text"&&!("inRawBlock"in e)&&(s=vA(i)),!s||s.type!=="paragraph")return;const n=_p(t.items.slice(0,-1)),o=e.raw.match(/^(\s*(-|\d+\.|\*) +)/)?.[0];if(!o)return;const r=o+_p(e.tokens.slice(0,-1))+s.raw,a=Z1(n+r)[0];if(a.type==="list")return a}Gt(oO,"completeListItemPattern");const gZ=3;function rO(t){for(let e=0;e<gZ;e++){const i=aO(t);if(i)t=i;else break}return t}Gt(rO,"fillInIncompleteTokens");function aO(t){let e,i;for(e=0;e<t.length;e++){const s=t[e];if(s.type==="paragraph"&&s.raw.match(/(\n|^)\|/)){i=mO(t.slice(e));break}if(e===t.length-1&&s.type==="list"){const n=oO(s);if(n){i=[n];break}}if(e===t.length-1&&s.type==="paragraph"){const n=vA(s);if(n){i=[n];break}}}if(i){const s=[...t.slice(0,e),...i];return s.links=t.links,s}return null}Gt(aO,"fillInIncompleteTokensOnce");function lO(t){return cl(t,"`")}Gt(lO,"completeCodespan");function cO(t){return cl(t,"*")}Gt(cO,"completeStar");function hO(t){return cl(t,"_")}Gt(hO,"completeUnderscore");function dO(t){return cl(t,")")}Gt(dO,"completeLinkTarget");function uO(t){return cl(t,'")')}Gt(uO,"completeLinkTargetArg");function gO(t){return cl(t,"](https://microsoft.com)")}Gt(gO,"completeLinkText");function fO(t){return cl(t,"**")}Gt(fO,"completeDoublestar");function pO(t){return cl(t,"__")}Gt(pO,"completeDoubleUnderscore");function cl(t,e){const i=_p(Array.isArray(t)?t:[t]);return Z1(i+e)[0]}Gt(cl,"completeWithString");function mO(t){const e=_p(t),i=e.split(`
`);let s,n=!1;for(let o=0;o<i.length;o++){const r=i[o].trim();if(typeof s>"u"&&r.match(/^\s*\|/)){const a=r.match(/(\|[^|]+)(?=\||$)/g);a&&(s=a.length)}else if(typeof s=="number")if(r.match(/^\s*\|/)){if(o!==i.length-1)return;n=!0}else return}if(typeof s=="number"&&s>0){const o=n?i.slice(0,-1).join(`
`):e,r=!!o.match(/\|\s*$/),a=o+(r?"":"|")+`
|${" --- |".repeat(s)}`;return Z1(a)}}Gt(mO,"completeTable");function z0(t,e){return Ux(t,e),Se(()=>zx(t))}Gt(z0,"addDompurifyHook");var fZ=Object.defineProperty,wA=(t,e)=>fZ(t,"name",{value:e,configurable:!0});function bO(t){const e=t;return!!e&&typeof e.x=="number"&&typeof e.y=="number"}wA(bO,"isAnchor");var cc=(t=>(t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT",t))(cc||{}),$c=(t=>(t[t.BELOW=0]="BELOW",t[t.ABOVE=1]="ABOVE",t))($c||{}),vO=(t=>(t[t.VERTICAL=0]="VERTICAL",t[t.HORIZONTAL=1]="HORIZONTAL",t))(vO||{}),ov=(t=>(t[t.Before=0]="Before",t[t.After=1]="After",t))(ov||{});function ah(t,e,i){const s=i.mode===1?i.offset:i.offset+i.size,n=i.mode===1?i.offset+i.size:i.offset;return i.position===0?e<=t-s?s:e<=n?n-e:Math.max(t-e,0):e<=n?n-e:e<=t-s?s:0}wA(ah,"layout");class $0 extends q{static{wA(this,"ContextView")}static BUBBLE_UP_EVENTS=["click","keydown","focus","blur"];static BUBBLE_DOWN_EVENTS=["click"];container=null;view;useFixedPosition=!1;useShadowDOM=!1;delegate=null;toDisposeOnClean=q.None;toDisposeOnSetContainer=q.None;shadowRoot=null;shadowRootHostElement=null;constructor(e,i){super(),this.view=de(".context-view"),Qa(this.view),this.setContainer(e,i),this._register(Se(()=>this.setContainer(null,1)))}setContainer(e,i){this.useFixedPosition=i!==1;const s=this.useShadowDOM;if(this.useShadowDOM=i===3,!(e===this.container&&s===this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.view.remove(),this.shadowRoot&&(this.shadowRoot=null,this.shadowRootHostElement?.remove(),this.shadowRootHostElement=null),this.container=null),e)){if(this.container=e,this.useShadowDOM){this.shadowRootHostElement=de(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const o=document.createElement("style");o.textContent=pZ,this.shadowRoot.appendChild(o),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(de("slot"))}else this.container.appendChild(this.view);const n=new Z;$0.BUBBLE_UP_EVENTS.forEach(o=>{n.add(Dn(this.container,o,r=>{this.onDOMEvent(r,!1)}))}),$0.BUBBLE_DOWN_EVENTS.forEach(o=>{n.add(Dn(this.container,o,r=>{this.onDOMEvent(r,!0)},!0))}),this.toDisposeOnSetContainer=n}}show(e){this.isVisible()&&this.hide(),ds(this.view),this.view.className="context-view monaco-component",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex=`${2575+(e.layer??0)}`,this.view.style.position=this.useFixedPosition?"fixed":"absolute",Wr(this.view),this.toDisposeOnClean=e.render(this.view)||q.None,this.delegate=e,this.doLayout(),this.delegate.focus?.()}getViewElement(){return this.view}layout(){if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(No&&qp.pointerEvents)){this.hide();return}this.delegate?.layout?.(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const e=this.delegate.getAnchor();let i;if(ns(e)){const g=Ul(e),p=SC(e);i={top:g.top*p,left:g.left*p,width:g.width*p,height:g.height*p}}else bO(e)?i={top:e.y,left:e.x,width:e.width||1,height:e.height||2}:i={top:e.posy,left:e.posx,width:2,height:2};const s=Iu(this.view),n=xv(this.view),o=this.delegate.anchorPosition||0,r=this.delegate.anchorAlignment||0,a=this.delegate.anchorAxisAlignment||0;let l,h;const d=nr();if(a===0){const g={offset:i.top-d.pageYOffset,size:i.height,position:o===0?0:1},p={offset:i.left,size:i.width,position:r===0?0:1,mode:1};l=ah(d.innerHeight,n,g)+d.pageYOffset,As.intersects({start:l,end:l+n},{start:g.offset,end:g.offset+g.size})&&(p.mode=0),h=ah(d.innerWidth,s,p)}else{const g={offset:i.left,size:i.width,position:r===0?0:1},p={offset:i.top,size:i.height,position:o===0?0:1,mode:1};h=ah(d.innerWidth,s,g),As.intersects({start:h,end:h+s},{start:g.offset,end:g.offset+g.size})&&(p.mode=0),l=ah(d.innerHeight,n,p)+d.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(o===0?"bottom":"top"),this.view.classList.add(r===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const u=Ul(this.container);this.view.style.top=`${l-(this.useFixedPosition?Ul(this.view).top:u.top)}px`,this.view.style.left=`${h-(this.useFixedPosition?Ul(this.view).left:u.left)}px`,this.view.style.width="initial"}hide(e){const i=this.delegate;this.delegate=null,i?.onHide&&i.onHide(e),this.toDisposeOnClean.dispose(),Qa(this.view)}isVisible(){return!!this.delegate}onDOMEvent(e,i){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(e,be(e).document.activeElement):i&&!hs(e.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}const pZ=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var mZ=Object.defineProperty,Us=(t,e)=>mZ(t,"name",{value:e,configurable:!0});const lh=de,wO="selectOption.entry.template";class bZ{static{Us(this,"SelectListRenderer")}get templateId(){return wO}renderTemplate(e){const i=Object.create(null);return i.root=e,i.text=we(e,lh(".option-text")),i.detail=we(e,lh(".option-detail")),i.decoratorRight=we(e,lh(".option-decorator-right")),i}renderElement(e,i,s){const n=s,o=e.text,r=e.detail,a=e.decoratorRight,l=e.isDisabled;n.text.textContent=o,n.detail.textContent=r||"",n.decoratorRight.innerText=a||"",l?n.root.classList.add("option-disabled"):n.root.classList.remove("option-disabled")}disposeTemplate(e){}}class Jc extends q{static{Us(this,"SelectBoxList")}static DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32;static DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2;static DEFAULT_MINIMUM_VISIBLE_OPTIONS=3;_isVisible;selectBoxOptions;selectElement;container;options=[];selected;_onDidSelect;styles;listRenderer;contextViewProvider;selectDropDownContainer;styleElement;selectList;selectDropDownListContainer;widthControlElement;_currentSelection=0;_dropDownPosition;_hasDetails=!1;selectionDetailsPane;_skipLayout=!1;_cachedMaxDetailsHeight;_hover;_sticky=!1;constructor(e,i,s,n,o){super(),this._isVisible=!1,this.styles=n,this.selectBoxOptions=o||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=Jc.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new I,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(s),this.selected=i||0,e&&this.setOptions(e,i),this.initStyleSheet()}setTitle(e){!this._hover&&e?this._hover=this._register(ra().setupManagedHover(Ri("mouse"),this.selectElement,e)):this._hover&&this._hover.update(e)}getHeight(){return 22}getTemplateId(){return wO}constructSelectDropDown(e){this.contextViewProvider=e,this.selectDropDownContainer=de(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=we(this.selectDropDownContainer,lh(".select-box-details-pane"));const i=we(this.selectDropDownContainer,lh(".select-box-dropdown-container-width-control")),s=we(i,lh(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",we(s,this.widthControlElement),this._dropDownPosition=$c.BELOW,this.styleElement=cr(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(N(this.selectDropDownContainer,U.DRAG_START,n=>{xe.stop(n,!0)}))}registerListeners(){this._register(Dn(this.selectElement,"change",i=>{this.selected=i.target.selectedIndex,this._onDidSelect.fire({index:i.target.selectedIndex,selected:i.target.value}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)})),this._register(N(this.selectElement,U.CLICK,i=>{xe.stop(i),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(N(this.selectElement,U.MOUSE_DOWN,i=>{xe.stop(i)}));let e;this._register(N(this.selectElement,"touchstart",i=>{e=this._isVisible})),this._register(N(this.selectElement,"touchend",i=>{xe.stop(i),e?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(N(this.selectElement,U.KEY_DOWN,i=>{const s=new mt(i);let n=!1;He?(s.keyCode===D.DownArrow||s.keyCode===D.UpArrow||s.keyCode===D.Space||s.keyCode===D.Enter)&&(n=!0):(s.keyCode===D.DownArrow&&s.altKey||s.keyCode===D.UpArrow&&s.altKey||s.keyCode===D.Space||s.keyCode===D.Enter)&&(n=!0),n&&(this.showSelectDropDown(),xe.stop(i,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,i){Pn(this.options,e)||(this.options=e,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((s,n)=>{this.selectElement.add(this.createOption(s.text,n,s.isDisabled)),typeof s.description=="string"&&(this._hasDetails=!0)})),i!==void 0&&(this.select(i),this._currentSelection=this.selected)}setEnabled(e){this.selectElement.disabled=!e}setOptionsList(){this.selectList?.splice(0,this.selectList.length,this.options)}select(e){e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)}setAriaLabel(e){this.selectBoxOptions.ariaLabel=e,this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){this.container=e,e.classList.add("select-container"),e.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const e=[];this.styles.listFocusBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(e.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),e.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&e.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),e.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=e.join(`
`)}styleSelectElement(){const e=this.styles.selectBackground??"",i=this.styles.selectForeground??"",s=this.styles.selectBorder??"";this.selectElement.style.backgroundColor=e,this.selectElement.style.color=i,this.selectElement.style.borderColor=s}styleList(){const e=this.styles.selectBackground??"",i=or(this.styles.selectListBackground,e);this.selectDropDownListContainer.style.backgroundColor=i,this.selectionDetailsPane.style.backgroundColor=i;const s=this.styles.focusBorder??"";this.selectDropDownContainer.style.outlineColor=s,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(e,i,s){const n=document.createElement("option");return n.value=e,n.text=e,n.disabled=!!s,n}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:Us(()=>this.selectElement,"getAnchor"),render:Us(e=>this.renderSelectDropDown(e,!0),"render"),layout:Us(()=>{this.layoutSelectDropDown()},"layout"),onHide:Us(()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},"onHide"),anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:Us(()=>this.selectElement,"getAnchor"),render:Us(e=>this.renderSelectDropDown(e),"render"),layout:Us(()=>this.layoutSelectDropDown(),"layout"),onHide:Us(()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},"onHide"),anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(e){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),e&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(e,i){return e.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(i),{dispose:Us(()=>{this.selectDropDownContainer.remove()},"dispose")}}measureMaxDetailsHeight(){let e=0;return this.options.forEach((i,s)=>{this.updateDetail(s),this.selectionDetailsPane.offsetHeight>e&&(e=this.selectionDetailsPane.offsetHeight)}),e}layoutSelectDropDown(e){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const i=be(this.selectElement),s=Ul(this.selectElement),n=be(this.selectElement).getComputedStyle(this.selectElement),o=Number.parseFloat(n.getPropertyValue("--dropdown-padding-top"))+Number.parseFloat(n.getPropertyValue("--dropdown-padding-bottom")),r=i.innerHeight-s.top-s.height-(this.selectBoxOptions.minBottomMargin||0),a=s.top-Jc.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,l=this.selectElement.offsetWidth,h=this.setWidthControlElement(this.widthControlElement),d=Math.max(h,Math.round(l)).toString()+"px";this.selectDropDownContainer.style.width=d,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let u=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const g=this._hasDetails?this._cachedMaxDetailsHeight:0,p=u+o+g,m=Math.floor((r-o-g)/this.getHeight()),b=Math.floor((a-o-g)/this.getHeight());if(e)return s.top+s.height>i.innerHeight-22||s.top<Jc.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||m<1&&b<1?!1:(m<Jc.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&b>m&&this.options.length>m?(this._dropDownPosition=$c.ABOVE,this.selectDropDownListContainer.remove(),this.selectionDetailsPane.remove(),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=$c.BELOW,this.selectDropDownListContainer.remove(),this.selectionDetailsPane.remove(),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(s.top+s.height>i.innerHeight-22||s.top<Jc.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===$c.BELOW&&m<1||this._dropDownPosition===$c.ABOVE&&b<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===$c.BELOW){if(this._isVisible&&m+b<1)return this.hideSelectDropDown(!0),!1;p>r&&(u=m*this.getHeight())}else p>a&&(u=b*this.getHeight());return this.selectList.layout(u),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=u+o+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=u+o+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=d,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(e){let i=0;if(e){let s=0,n=0;this.options.forEach((o,r)=>{const a=o.detail?o.detail.length:0,l=o.decoratorRight?o.decoratorRight.length:0,h=o.text.length+a+l;h>n&&(s=r,n=h)}),e.textContent=this.options[s].text+(this.options[s].decoratorRight?this.options[s].decoratorRight+" ":""),i=Iu(e)}return i}createSelectList(e){if(this.selectList)return;this.selectDropDownListContainer=we(e,lh(".select-box-dropdown-list-container")),this.listRenderer=new bZ,this.selectList=this._register(new go("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:Jt.Visible,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:Us(n=>{let o=n.text;return n.detail&&(o+=`. ${n.detail}`),n.decoratorRight&&(o+=`. ${n.decoratorRight}`),n.description&&(o+=`. ${n.description}`),o},"getAriaLabel"),getWidgetAriaLabel:Us(()=>c({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),"getWidgetAriaLabel"),getRole:Us(()=>He?"":"option","getRole"),getWidgetRole:Us(()=>"listbox","getWidgetRole")}})),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const i=this._register(new $e(this.selectDropDownListContainer,"keydown")),s=R.chain(i.event,n=>n.filter(()=>this.selectList.length>0).map(o=>new mt(o)));this._register(R.chain(s,n=>n.filter(o=>o.keyCode===D.Enter))(this.onEnter,this)),this._register(R.chain(s,n=>n.filter(o=>o.keyCode===D.Tab))(this.onEnter,this)),this._register(R.chain(s,n=>n.filter(o=>o.keyCode===D.Escape))(this.onEscape,this)),this._register(R.chain(s,n=>n.filter(o=>o.keyCode===D.UpArrow))(this.onUpArrow,this)),this._register(R.chain(s,n=>n.filter(o=>o.keyCode===D.DownArrow))(this.onDownArrow,this)),this._register(R.chain(s,n=>n.filter(o=>o.keyCode===D.PageDown))(this.onPageDown,this)),this._register(R.chain(s,n=>n.filter(o=>o.keyCode===D.PageUp))(this.onPageUp,this)),this._register(R.chain(s,n=>n.filter(o=>o.keyCode===D.Home))(this.onHome,this)),this._register(R.chain(s,n=>n.filter(o=>o.keyCode===D.End))(this.onEnd,this)),this._register(R.chain(s,n=>n.filter(o=>o.keyCode>=D.Digit0&&o.keyCode<=D.KeyZ||o.keyCode>=D.Semicolon&&o.keyCode<=D.NumpadDivide))(this.onCharacter,this)),this._register(N(this.selectList.getHTMLElement(),U.POINTER_UP,n=>this.onPointerUp(n))),this._register(this.selectList.onMouseOver(n=>typeof n.index<"u"&&this.selectList.setFocus([n.index]))),this._register(this.selectList.onDidChangeFocus(n=>this.onListFocus(n))),this._register(N(this.selectDropDownContainer,U.FOCUS_OUT,n=>{!this._isVisible||hs(n.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(e){if(!this.selectList.length)return;xe.stop(e);const i=e.target;if(!i||i.classList.contains("slider"))return;const s=i.closest(".monaco-list-row");if(!s)return;const n=Number(s.getAttribute("data-index")),o=s.classList.contains("option-disabled");n>=0&&n<this.options.length&&!o&&(this.selected=n,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(e,i){const s=Us(o=>{for(let r=0;r<o.childNodes.length;r++){const a=o.childNodes.item(r);(a.tagName&&a.tagName.toLowerCase())==="img"?a.remove():s(a)}},"cleanRenderedMarkdown"),n=pA({value:e,supportThemeIcons:!0},{actionHandler:i});return n.element.classList.add("select-box-description-markdown"),s(n.element),n.element}onListFocus(e){!this._isVisible||!this._hasDetails||this.updateDetail(e.indexes[0])}updateDetail(e){this.selectionDetailsPane.innerText="";const i=this.options[e],s=i?.description??"",n=i?.descriptionIsMarkdown??!1;if(s){if(n){const o=i.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(s,o))}else this.selectionDetailsPane.innerText=s;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(e){xe.stop(e),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(e){xe.stop(e),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(e){if(this.selected<this.options.length-1){xe.stop(e,!0);const i=this.options[this.selected+1].isDisabled;if(i&&this.options.length>this.selected+2)this.selected+=2;else{if(i)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(e){this.selected>0&&(xe.stop(e,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(e){xe.stop(e),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(e){xe.stop(e),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(e){xe.stop(e),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(e){xe.stop(e),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(e){const i=tp.toString(e.keyCode);let s=-1;for(let n=0;n<this.options.length-1;n++)if(s=(n+this.selected+1)%this.options.length,this.options[s].text.charAt(0).toUpperCase()===i&&!this.options[s].isDisabled){this.select(s),this.selectList.setFocus([s]),this.selectList.reveal(this.selectList.getFocus()[0]),xe.stop(e);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}var vZ=Object.defineProperty,wZ=(t,e)=>vZ(t,"name",{value:e,configurable:!0});class yZ extends q{static{wZ(this,"SelectBoxNative")}selectElement;selectBoxOptions;options;selected=0;_onDidSelect;styles;constructor(e,i,s,n){super(),this.selectBoxOptions=n||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new I),this.styles=s,this.registerListeners(),this.setOptions(e,i)}registerListeners(){this._register(us.addTarget(this.selectElement)),[kt.Tap].forEach(e=>{this._register(N(this.selectElement,e,i=>{this.selectElement.focus()}))}),this._register(Dn(this.selectElement,"click",e=>{xe.stop(e,!0)})),this._register(Dn(this.selectElement,"change",e=>{this.selectElement.title=e.target.value,this._onDidSelect.fire({index:e.target.selectedIndex,selected:e.target.value})})),this._register(Dn(this.selectElement,"keydown",e=>{let i=!1;He?(e.keyCode===D.DownArrow||e.keyCode===D.UpArrow||e.keyCode===D.Space)&&(i=!0):(e.keyCode===D.DownArrow&&e.altKey||e.keyCode===D.Space||e.keyCode===D.Enter)&&(i=!0),i&&e.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(e,i){(!this.options||!Pn(this.options,e))&&(this.options=e,this.selectElement.options.length=0,this.options.forEach((s,n)=>{this.selectElement.add(this.createOption(s.text,n,s.isDisabled))})),i!==void 0&&this.select(i)}select(e){this.options.length===0?this.selected=0:e>=0&&e<this.options.length?this.selected=e:e>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}setAriaLabel(e){this.selectBoxOptions.ariaLabel=e,this.selectElement.setAttribute("aria-label",e)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setEnabled(e){this.selectElement.disabled=!e}setFocusable(e){this.selectElement.tabIndex=e?0:-1}render(e){e.classList.add("select-container"),e.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}style(e){this.styles=e,this.applyStyles()}applyStyles(){this.selectElement&&(this.selectElement.style.backgroundColor=this.styles.selectBackground??"",this.selectElement.style.color=this.styles.selectForeground??"",this.selectElement.style.borderColor=this.styles.selectBorder??"")}createOption(e,i,s){const n=document.createElement("option");return n.value=e,n.text=e,n.disabled=!!s,n}}var _Z=Object.defineProperty,SZ=(t,e)=>_Z(t,"name",{value:e,configurable:!0});({...B5});class CZ extends wr{static{SZ(this,"SelectBox")}selectBoxDelegate;constructor(e,i,s,n,o){super(),He&&!o?.useCustomDrawn?this.selectBoxDelegate=new yZ(e,i,n,o):this.selectBoxDelegate=new Jc(e,i,s,n,o),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(e,i){this.selectBoxDelegate.setOptions(e,i)}select(e){this.selectBoxDelegate.select(e)}setAriaLabel(e){this.selectBoxDelegate.setAriaLabel(e)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(e){this.selectBoxDelegate.setFocusable(e)}setEnabled(e){this.selectBoxDelegate.setEnabled(e)}render(e){this.selectBoxDelegate.render(e)}}var DZ=Object.defineProperty,yA=(t,e)=>DZ(t,"name",{value:e,configurable:!0});class cn extends q{constructor(e,i,s={}){super(),this.options=s,this._context=e||this,this._action=i,i instanceof Et&&this._register(i.onDidChange(n=>{this.element&&this.handleActionChangeEvent(n)}))}static{yA(this,"BaseActionViewItem")}element;_context;_action;customHover;get action(){return this._action}_actionRunner;handleActionChangeEvent(e){e.enabled!==void 0&&this.updateEnabled(),e.checked!==void 0&&this.updateChecked(),e.class!==void 0&&this.updateClass(),e.label!==void 0&&(this.updateLabel(),this.updateTooltip()),e.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new Zr)),this._actionRunner}set actionRunner(e){this._actionRunner=e}isEnabled(){return this._action.enabled}setActionContext(e){this._context=e}render(e){const i=this.element=e;this._register(us.addTarget(e));const s=this.options&&this.options.draggable;s&&(e.draggable=!0,Ah&&this._register(N(e,U.DRAG_START,n=>n.dataTransfer?.setData(Ba.TEXT,this._action.label)))),this._register(N(i,kt.Tap,n=>this.onClick(n,!0))),this._register(N(i,U.MOUSE_DOWN,n=>{s||xe.stop(n,!0),this._action.enabled&&n.button===0&&i.classList.add("active")})),He&&this._register(N(i,U.CONTEXT_MENU,n=>{n.button===0&&n.ctrlKey===!0&&this.onClick(n)})),this._register(N(i,U.CLICK,n=>{xe.stop(n,!0),this.options&&this.options.isMenu||this.onClick(n)})),this._register(N(i,U.DBLCLICK,n=>{xe.stop(n,!0)})),[U.MOUSE_UP,U.MOUSE_OUT].forEach(n=>{this._register(N(i,n,o=>{xe.stop(o),i.classList.remove("active")}))})}onClick(e,i=!1){xe.stop(e,!0);const s=ji(this._context)?this.options?.useEventAsContext?e:{preserveFocus:i}:this._context;this.actionRunner.run(this._action,s)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}isFocused(){return!!this.element?.classList.contains("focused")}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(e){this.element&&(this.element.tabIndex=e?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){if(!this.element)return;const e=this.getTooltip()??"";if(this.updateAriaLabel(),this.options.hoverDelegate?.showNativeHover)this.element.title=e;else if(!this.customHover&&e!==""){const i=this.options.hoverDelegate??Ri("element");this.customHover=this._store.add(ra().setupManagedHover(i,this.element,e))}else this.customHover&&this.customHover.update(e)}updateAriaLabel(){if(this.element){const e=this.getTooltip()??"";this.element.setAttribute("aria-label",e)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class xm extends cn{static{yA(this,"ActionViewItem")}label;options;cssClass;constructor(e,i,s){super(e,i,s),this.options=s,this.options.icon=s.icon!==void 0?s.icon:!1,this.options.label=s.label!==void 0?s.label:!0,this.cssClass=""}render(e){super.render(e),lC(this.element);const i=document.createElement("a");if(i.classList.add("action-label"),i.setAttribute("role",this.getDefaultAriaRole()),this.label=i,this.element.appendChild(i),this.options.label&&this.options.keybinding){const s=document.createElement("span");s.classList.add("keybinding"),s.textContent=this.options.keybinding,this.element.appendChild(s)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===st.ID?"presentation":this.options.isMenu?"menuitem":this.options.isTabList?"tab":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}isFocused(){return!!this.label&&this.label?.tabIndex===0}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(e){this.label&&(this.label.tabIndex=e?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(e=this.action.label,this.options.keybinding&&(e=c({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",e,this.options.keybinding))),e??void 0}updateClass(){this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):this.label?.classList.remove("codicon")}updateEnabled(){this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),this.element?.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),this.element?.classList.add("disabled"))}updateAriaLabel(){if(this.label){const e=this.getTooltip()??"";this.label.setAttribute("aria-label",e)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.options.isTabList?this.label.setAttribute("aria-selected",this.action.checked?"true":"false"):(this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox"))):(this.label.classList.remove("checked"),this.label.removeAttribute(this.options.isTabList?"aria-selected":"aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class AZ extends cn{static{yA(this,"SelectActionViewItem")}selectBox;constructor(e,i,s,n,o,r,a){super(e,i),this.selectBox=new CZ(s,n,o,r,a),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}setOptions(e,i){this.selectBox.setOptions(e,i)}select(e){this.selectBox.select(e)}registerListeners(){this._register(this.selectBox.onDidSelect(e=>this.runAction(e.selected,e.index)))}runAction(e,i){this.actionRunner.run(this._action,this.getActionContext(e,i))}getActionContext(e,i){return e}setFocusable(e){this.selectBox.setFocusable(e)}focus(){this.selectBox?.focus()}blur(){this.selectBox?.blur()}render(e){this.selectBox.render(e)}}var EZ=Object.defineProperty,K0=(t,e)=>EZ(t,"name",{value:e,configurable:!0}),os=(t=>(t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL",t))(os||{});class Sc extends q{static{K0(this,"ActionBar")}options;_hoverDelegate;_actionRunner;_actionRunnerDisposables=this._register(new Z);_context;_orientation;_triggerKeys;viewItems;viewItemDisposables=this._register(new fc);previouslyFocusedItem;focusedItem;focusTracker;triggerKeyDown=!1;focusable=!0;domNode;actionsList;_onDidBlur=this._register(new I);onDidBlur=this._onDidBlur.event;_onDidCancel=this._register(new I({onWillAddFirstListener:K0(()=>this.cancelHasListener=!0,"onWillAddFirstListener")}));onDidCancel=this._onDidCancel.event;cancelHasListener=!1;_onDidRun=this._register(new I);onDidRun=this._onDidRun.event;_onWillRun=this._register(new I);onWillRun=this._onWillRun.event;constructor(e,i={}){super(),this.options=i,this._context=i.context??null,this._orientation=this.options.orientation??0,this._triggerKeys={keyDown:this.options.triggerKeys?.keyDown??!1,keys:this.options.triggerKeys?.keys??[D.Enter,D.Space]},this._hoverDelegate=i.hoverDelegate??this._register(og()),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new Zr,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(o=>this._onDidRun.fire(o))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(o=>this._onWillRun.fire(o))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar";let s,n;switch(this._orientation){case 0:s=[D.LeftArrow],n=[D.RightArrow];break;case 1:s=[D.UpArrow],n=[D.DownArrow],this.domNode.className+=" vertical";break}this._register(N(this.domNode,U.KEY_DOWN,o=>{const r=new mt(o);let a=!0;const l=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;s&&(r.equals(s[0])||r.equals(s[1]))?a=this.focusPrevious():n&&(r.equals(n[0])||r.equals(n[1]))?a=this.focusNext():r.equals(D.Escape)&&this.cancelHasListener?this._onDidCancel.fire():r.equals(D.Home)?a=this.focusFirst():r.equals(D.End)?a=this.focusLast():r.equals(D.Tab)&&l instanceof cn&&l.trapsArrowNavigation?a=this.focusNext(void 0,!0):this.isTriggerKeyEvent(r)?this._triggerKeys.keyDown?this.doTrigger(r):this.triggerKeyDown=!0:a=!1,a&&(r.preventDefault(),r.stopPropagation())})),this._register(N(this.domNode,U.KEY_UP,o=>{const r=new mt(o);this.isTriggerKeyEvent(r)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(r)),r.preventDefault(),r.stopPropagation()):(r.equals(D.Tab)||r.equals(Ze.Shift|D.Tab)||r.equals(D.UpArrow)||r.equals(D.DownArrow)||r.equals(D.LeftArrow)||r.equals(D.RightArrow))&&this.updateFocusedItem()})),this.focusTracker=this._register(oa(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(Lo()===this.domNode||!hs(Lo(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),e.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setAriaLabel(e){e?this.actionsList.setAttribute("aria-label",e):this.actionsList.removeAttribute("aria-label")}setFocusable(e){if(this.focusable=e,this.focusable){const i=this.viewItems.find(s=>s instanceof cn&&s.isEnabled());i instanceof cn&&i.setFocusable(!0)}else this.viewItems.forEach(i=>{i instanceof cn&&i.setFocusable(!1)})}isTriggerKeyEvent(e){let i=!1;return this._triggerKeys.keys.forEach(s=>{i=i||e.equals(s)}),i}updateFocusedItem(){for(let e=0;e<this.actionsList.children.length;e++){const i=this.actionsList.children[e];if(hs(Lo(),i)){this.focusedItem=e,this.viewItems[this.focusedItem]?.showHover?.();break}}}get context(){return this._context}set context(e){this._context=e,this.viewItems.forEach(i=>i.setActionContext(e))}get actionRunner(){return this._actionRunner}set actionRunner(e){this._actionRunner=e,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(i=>this._onDidRun.fire(i))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(i=>this._onWillRun.fire(i))),this.viewItems.forEach(i=>i.actionRunner=e)}getContainer(){return this.domNode}hasAction(e){return this.viewItems.findIndex(i=>i.action.id===e.id)!==-1}getAction(e){if(typeof e=="number")return this.viewItems[e]?.action;if(ns(e)){for(;e.parentElement!==this.actionsList;){if(!e.parentElement)return;e=e.parentElement}for(let i=0;i<this.actionsList.childNodes.length;i++)if(this.actionsList.childNodes[i]===e)return this.viewItems[i].action}}push(e,i={}){const s=Array.isArray(e)?e:[e];let n=pc(i.index)?i.index:null;s.forEach(o=>{const r=document.createElement("li");r.className="action-item",r.setAttribute("role","presentation");let a;const l={hoverDelegate:this._hoverDelegate,...i,isTabList:this.options.ariaRole==="tablist"};this.options.actionViewItemProvider&&(a=this.options.actionViewItemProvider(o,l)),a||(a=new xm(this.context,o,l)),this.options.allowContextMenu||this.viewItemDisposables.set(a,N(r,U.CONTEXT_MENU,h=>{xe.stop(h,!0)})),a.actionRunner=this._actionRunner,a.setActionContext(this.context),a.render(r),this.focusable&&a instanceof cn&&this.viewItems.length===0&&a.setFocusable(!0),n===null||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(r),this.viewItems.push(a)):(this.actionsList.insertBefore(r,this.actionsList.children[n]),this.viewItems.splice(n,0,a),n++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}getWidth(e){if(e>=0&&e<this.actionsList.children.length){const i=this.actionsList.children.item(e);if(i)return i.clientWidth}return 0}getHeight(e){if(e>=0&&e<this.actionsList.children.length){const i=this.actionsList.children.item(e);if(i)return i.clientHeight}return 0}pull(e){e>=0&&e<this.viewItems.length&&(this.actionsList.childNodes[e].remove(),this.viewItemDisposables.deleteAndDispose(this.viewItems[e]),ai(this.viewItems.splice(e,1)),this.refreshRole())}clear(){this.isEmpty()||(this.viewItems=ai(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),ds(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(e){let i=!1,s;if(e===void 0?i=!0:typeof e=="number"?s=e:typeof e=="boolean"&&(i=e),i&&typeof this.focusedItem>"u"){const n=this.viewItems.findIndex(o=>o.isEnabled());this.focusedItem=n===-1?void 0:n,this.updateFocus(void 0,void 0,!0)}else s!==void 0&&(this.focusedItem=s),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(e,i){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const s=this.focusedItem;let n;do{if(!e&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=s,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,n=this.viewItems[this.focusedItem]}while(this.focusedItem!==s&&(this.options.focusOnlyEnabledItems&&!n.isEnabled()||n.action.id===st.ID));return this.updateFocus(void 0,void 0,i),!0}focusPrevious(e){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let s;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!e&&this.options.preventLoopNavigation)return this.focusedItem=i,!1;this.focusedItem=this.viewItems.length-1}s=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!s.isEnabled()||s.action.id===st.ID));return this.updateFocus(!0),!0}updateFocus(e,i,s=!1){typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&this.viewItems[this.previouslyFocusedItem]?.blur();const n=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(n){let o=!0;Jf(n.focus)||(o=!1),this.options.focusOnlyEnabledItems&&Jf(n.isEnabled)&&!n.isEnabled()&&(o=!1),n.action.id===st.ID&&(o=!1),o?(s||this.previouslyFocusedItem!==this.focusedItem)&&(n.focus(e),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem=void 0),o&&n.showHover?.()}}doTrigger(e){if(typeof this.focusedItem>"u")return;const i=this.viewItems[this.focusedItem];if(i instanceof cn){const s=i._context===null||i._context===void 0?e:i._context;this.run(i._action,s)}}async run(e,i){await this._actionRunner.run(e,i)}dispose(){this._context=void 0,this.viewItems=ai(this.viewItems),this.getContainer().remove(),super.dispose()}}function el(t){if(!t.length)return t;let e=-1;for(let s=0;s<t.length;s++)if(t[s].id!==st.ID){e=s;break}if(e===-1)return[];t=t.slice(e);for(let s=t.length-1;s>=0&&t[s].id===st.ID;s--)t.splice(s,1);let i=!1;for(let s=t.length-1;s>=0;s--){const n=t[s].id===st.ID;n&&!i?t.splice(s,1):n?n&&(i=!1):i=!0}return t}K0(el,"prepareActions");var IZ=Object.defineProperty,Lm=(t,e)=>IZ(t,"name",{value:e,configurable:!0});const gb=de;var tl=(t=>(t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT",t[t.BELOW=2]="BELOW",t[t.ABOVE=3]="ABOVE",t))(tl||{});class Toe extends q{static{Lm(this,"HoverWidget")}containerDomNode;contentsDomNode;scrollbar;constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new RD(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class yO extends q{static{Lm(this,"HoverAction")}static render(e,i,s){return new yO(e,i,s)}actionLabel;actionKeybindingLabel;actionContainer;action;constructor(e,i,s){super(),this.actionLabel=i.label,this.actionKeybindingLabel=s,this.actionContainer=we(e,gb("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=we(this.actionContainer,gb("a.action")),this.action.setAttribute("role","button"),i.iconClass&&we(this.action,gb(`span.icon.${i.iconClass}`));const n=we(this.action,gb("span"));n.textContent=s?`${i.label} (${s})`:i.label,this._store.add(new kZ(this.actionContainer,i.run)),this._store.add(new xZ(this.actionContainer,i.run,[D.Enter,D.Space])),this.setEnabled(!0)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}function TZ(t,e){return t&&e?c("acessibleViewHint","Inspect this in the accessible view with {0}.",e):t?c("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}Lm(TZ,"getHoverAccessibleViewHint");class kZ extends q{static{Lm(this,"ClickAction")}constructor(e,i){super(),this._register(N(e,U.CLICK,s=>{s.stopPropagation(),s.preventDefault(),i(e)}))}}class xZ extends q{static{Lm(this,"KeyDownAction")}constructor(e,i,s){super(),this._register(N(e,U.KEY_DOWN,n=>{const o=new mt(n);s.some(r=>o.equals(r))&&(n.stopPropagation(),n.preventDefault(),i(e))}))}}var LZ=Object.defineProperty,xr=(t,e)=>LZ(t,"name",{value:e,configurable:!0});class PZ extends Zr{static{xr(this,"BaseDropdown")}_element;boxContainer;_label;contents;visible;_onDidChangeVisibility=this._register(new I);onDidChangeVisibility=this._onDidChangeVisibility.event;hover;constructor(e,i){super(),this._element=we(e,de(".monaco-dropdown")),this._label=we(this._element,de(".dropdown-label"));let s=i.labelRenderer;s||(s=xr(o=>(o.textContent=i.label||"",null),"labelRenderer"));for(const o of[U.CLICK,U.MOUSE_DOWN,kt.Tap])this._register(N(this.element,o,r=>xe.stop(r,!0)));for(const o of[U.MOUSE_DOWN,kt.Tap])this._register(N(this._label,o,r=>{f1(r)&&(r.detail>1||r.button!==0)||(this.visible?this.hide():this.show())}));this._register(N(this._label,U.KEY_UP,o=>{const r=new mt(o);(r.equals(D.Enter)||r.equals(D.Space))&&(xe.stop(o,!0),this.visible?this.hide():this.show())}));const n=s(this._label);n&&this._register(n),this._register(us.addTarget(this._label))}get element(){return this._element}get label(){return this._label}set tooltip(e){this._label&&(!this.hover&&e!==""?this.hover=this._register(ra().setupManagedHover(Ri("mouse"),this._label,e)):this.hover&&this.hover.update(e))}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}isVisible(){return!!this.visible}onEvent(e,i){this.hide()}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class RZ extends PZ{constructor(e,i){super(e,i),this._options=i,this.actions=i.actions||[]}static{xr(this,"DropdownMenu")}_menuOptions;_actions=[];set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:xr(()=>this.element,"getAnchor"),getActions:xr(()=>this.actions,"getActions"),getActionsContext:xr(()=>this.menuOptions?this.menuOptions.context:null,"getActionsContext"),getActionViewItem:xr((e,i)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e,i):void 0,"getActionViewItem"),getKeyBinding:xr(e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,"getKeyBinding"),getMenuClassName:xr(()=>this._options.menuClassName||"","getMenuClassName"),onHide:xr(()=>this.onHide(),"onHide"),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:cc.LEFT,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}var NZ=Object.defineProperty,uw=(t,e)=>NZ(t,"name",{value:e,configurable:!0});class zh extends cn{static{uw(this,"DropdownMenuActionViewItem")}menuActionsOrProvider;dropdownMenu;contextMenuProvider;actionItem=null;_onDidChangeVisibility=this._register(new I);onDidChangeVisibility=this._onDidChangeVisibility.event;options;constructor(e,i,s,n=Object.create(null)){super(null,e,n),this.menuActionsOrProvider=i,this.contextMenuProvider=s,this.options=n,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const i=uw(o=>{this.element=we(o,de("a.action-label"));let r=[];return typeof this.options.classNames=="string"?r=this.options.classNames.split(/\s+/g).filter(a=>!!a):this.options.classNames&&(r=this.options.classNames),r.find(a=>a==="icon")||r.push("codicon"),this.element.classList.add(...r),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this._action.label&&this._register(ra().setupManagedHover(this.options.hoverDelegate??Ri("mouse"),this.element,this._action.label)),this.element.ariaLabel=this._action.label||"",null},"labelRenderer"),s=Array.isArray(this.menuActionsOrProvider),n={contextMenuProvider:this.contextMenuProvider,labelRenderer:i,menuAsChild:this.options.menuAsChild,actions:s?this.menuActionsOrProvider:void 0,actionProvider:s?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new RZ(e,n)),this._register(this.dropdownMenu.onDidChangeVisibility(o=>{this.element?.setAttribute("aria-expanded",`${o}`),this._onDidChangeVisibility.fire(o)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const o=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return o.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let e=null;return this.action.tooltip?e=this.action.tooltip:this.action.label&&(e=this.action.label),e??void 0}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}show(){this.dropdownMenu?.show()}updateEnabled(){const e=!this.action.enabled;this.actionItem?.classList.toggle("disabled",e),this.element?.classList.toggle("disabled",e)}}class koe extends xm{constructor(e,i,s,n){super(e,i,s),this.contextMenuProvider=n}static{uw(this,"ActionWithDropdownActionViewItem")}dropdownMenuActionViewItem;render(e){if(super.render(e),this.element){this.element.classList.add("action-dropdown-item");const i={getActions:uw(()=>{const o=this.options.menuActionsOrProvider;return Array.isArray(o)?o:o.getActions()},"getActions")},s=this.options.menuActionClassNames||[],n=th("div.action-dropdown-item-separator",[th("div",{})]).root;n.classList.toggle("prominent",s.includes("prominent")),we(this.element,n),this.dropdownMenuActionViewItem=this._register(new zh(this._register(new Et("dropdownAction",c("moreActions","More Actions..."))),i,this.contextMenuProvider,{classNames:["dropdown",...Ae.asClassNameArray(he.dropDownButton),...s],hoverDelegate:this.options.hoverDelegate})),this.dropdownMenuActionViewItem.render(this.element),this._register(N(this.element,U.KEY_DOWN,o=>{if(i.getActions().length===0)return;const r=new mt(o);let a=!1;this.dropdownMenuActionViewItem?.isFocused()&&r.equals(D.LeftArrow)?(a=!0,this.dropdownMenuActionViewItem?.blur(),this.focus()):this.isFocused()&&r.equals(D.RightArrow)&&(a=!0,this.blur(),this.dropdownMenuActionViewItem?.focus()),a&&(r.preventDefault(),r.stopPropagation())}))}}blur(){super.blur(),this.dropdownMenuActionViewItem?.blur()}setFocusable(e){super.setFocusable(e),this.dropdownMenuActionViewItem?.setFocusable(e)}}var OZ=Object.defineProperty,_O=(t,e)=>OZ(t,"name",{value:e,configurable:!0});class ey{static{_O(this,"ModifierLabelProvider")}modifierLabels;constructor(e,i,s=i){this.modifierLabels=[null],this.modifierLabels[ks.Macintosh]=e,this.modifierLabels[ks.Windows]=i,this.modifierLabels[ks.Linux]=s}toLabel(e,i,s){if(i.length===0)return null;const n=[];for(let o=0,r=i.length;o<r;o++){const a=i[o],l=s(a);if(l===null)return null;n[o]=SO(a,l,this.modifierLabels[e])}return n.join(" ")}}const BZ=new ey({ctrlKey:"",shiftKey:"",altKey:"",metaKey:"",separator:""},{ctrlKey:c({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:c({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:c({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:c({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:c({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:c({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:c({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:c({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"});new ey({ctrlKey:c({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:c({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:c({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:c({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:c({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:c({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:c({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:c({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:c({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:c({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:c({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:c({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"});new ey({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"});new ey({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function SO(t,e,i){if(e===null)return"";const s=[];return t.ctrlKey&&s.push(i.ctrlKey),t.shiftKey&&s.push(i.shiftKey),t.altKey&&s.push(i.altKey),t.metaKey&&s.push(i.metaKey),e!==""&&s.push(e),s.join(i.separator)}_O(SO,"_simpleAsString");var MZ=Object.defineProperty,CO=(t,e)=>MZ(t,"name",{value:e,configurable:!0});function FZ(t){return t&&typeof t=="object"&&typeof t.original=="string"&&typeof t.value=="string"}CO(FZ,"isLocalizedString");function _A(t){return t?t.condition!==void 0:!1}CO(_A,"isICommandActionToggleInfo");const SA=Ce("contextViewService"),Di=Ce("contextMenuService"),qt=Ce("keybindingService");var VZ=Object.defineProperty,fo=(t,e)=>VZ(t,"name",{value:e,configurable:!0});function po(t,e){const i={...e};for(const s in t){const n=t[s];i[s]=n!==void 0?Y(n):void 0}return i}fo(po,"overrideStyles");const HZ={keybindingLabelBackground:Y(Z8),keybindingLabelForeground:Y(Q8),keybindingLabelBorder:Y(J8),keybindingLabelBottomBorder:Y(eV),keybindingLabelShadow:Y(ng)};function WZ(t){return po(t,HZ)}fo(WZ,"getKeybindingLabelStyles");const CA={buttonForeground:Y(VL),buttonSeparator:Y(M8),buttonBackground:Y(Xg),buttonHoverBackground:Y(F8),buttonSecondaryForeground:Y(H8),buttonSecondaryBackground:Y(z_),buttonSecondaryHoverBackground:Y(W8),buttonBorder:Y(V8)};function UZ(t){return po(t,CA)}fo(UZ,"getButtonStyles");const ty={progressBarBackground:Y(p8)};function zZ(t){return po(t,ty)}fo(zZ,"getProgressBarStyles");const DO={inputActiveOptionBorder:Y(BL),inputActiveOptionForeground:Y(FL),inputActiveOptionBackground:Y(ML)};Y(Zg),Y(U8),Y(z8),Y($8),Y(K8),Y(G8),Y(j8);function $Z(t){return po(t,DO)}fo($Z,"getToggleStyles");const KZ={checkboxBackground:Y(q8),checkboxBorder:Y(X8),checkboxForeground:Y(Y8)};function GZ(t){return po(t,KZ)}fo(GZ,"getCheckboxStyles");const jZ={dialogBackground:Y(An),dialogForeground:Y(sg),dialogShadow:Y(ng),dialogBorder:Y(ce),errorIconForeground:Y(y8),warningIconForeground:Y(_8),infoIconForeground:Y(S8),textLinkForeground:Y(TL)};function qZ(t){return po(t,jZ)}fo(qZ,"getDialogStyle");const DA={inputBackground:Y(D8),inputForeground:Y(A8),inputBorder:Y(Hb),inputValidationInfoBorder:Y(k8),inputValidationInfoBackground:Y(I8),inputValidationInfoForeground:Y(T8),inputValidationWarningBorder:Y(P8),inputValidationWarningBackground:Y(x8),inputValidationWarningForeground:Y(L8),inputValidationErrorBorder:Y(O8),inputValidationErrorBackground:Y(R8),inputValidationErrorForeground:Y(N8)};function YZ(t){return po(t,DA)}fo(YZ,"getInputBoxStyle");const XZ={listFilterWidgetBackground:Y(uV),listFilterWidgetOutline:Y(gV),listFilterWidgetNoMatchesOutline:Y(fV),listFilterWidgetShadow:Y(pV),inputBoxStyles:DA,toggleStyles:DO},ZZ={badgeBackground:Y(mh),badgeForeground:Y(b1),badgeBorder:Y(ce)};function QZ(t){return po(t,ZZ)}fo(QZ,"getCountBadgeStyle");const JZ={breadcrumbsBackground:Y(v8),breadcrumbsForeground:Y(b8),breadcrumbsHoverForeground:Y(vI),breadcrumbsFocusForeground:Y(vI),breadcrumbsFocusAndSelectionForeground:Y(w8)};function eQ(t){return po(t,JZ)}fo(eQ,"getBreadcrumbsWidgetStyles");const bg={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:Y(tV),listFocusForeground:Y(iV),listFocusOutline:Y(sV),listActiveSelectionBackground:Y(Jo),listActiveSelectionForeground:Y(Lu),listActiveSelectionIconForeground:Y(HL),listFocusAndSelectionOutline:Y(nV),listFocusAndSelectionBackground:Y(Jo),listFocusAndSelectionForeground:Y(Lu),listInactiveSelectionBackground:Y(oV),listInactiveSelectionIconForeground:Y(aV),listInactiveSelectionForeground:Y(rV),listInactiveFocusBackground:Y(lV),listInactiveFocusOutline:Y(cV),listHoverBackground:Y(WL),listHoverForeground:Y(UL),listDropOverBackground:Y(hV),listDropBetweenBackground:Y(dV),listSelectionOutline:Y(yi),listHoverOutline:Y(yi),treeIndentGuidesStroke:Y(Ov),treeInactiveIndentGuidesStroke:Y(mV),treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:Y(Zp),tableColumnsBorder:Y(bV),tableOddRowsBackgroundColor:Y(vV)};function Pm(t){return po(t,bg)}fo(Pm,"getListStyles");const AO={selectBackground:Y(v1),selectListBackground:Y(B8),selectForeground:Y(FC),decoratorRightForeground:Y(EV),selectBorder:Y(VC),focusBorder:Y(oo),listFocusBackground:Y(kV),listInactiveSelectionIconForeground:Y(TV),listFocusForeground:Y(IV),listFocusOutline:SL(yi,k.transparent.toString()),listHoverBackground:Y(WL),listHoverForeground:Y(UL),listHoverOutline:Y(yi),selectListBorder:Y(PL),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0};function tQ(t){return po(t,AO)}fo(tQ,"getSelectBoxStyles");const EO={shadowColor:Y(ng),borderColor:Y(wV),foregroundColor:Y(yV),backgroundColor:Y(_V),selectionForegroundColor:Y(SV),selectionBackgroundColor:Y(CV),selectionBorderColor:Y(DV),separatorColor:Y(AV),scrollbarShadow:Y(Zp),scrollbarSliderBackground:Y(kL),scrollbarSliderHoverBackground:Y(xL),scrollbarSliderActiveBackground:Y(LL)};function iQ(t){return po(t,EO)}fo(iQ,"getMenuStyles");var sQ=Object.defineProperty,IO=(t,e)=>sQ(t,"name",{value:e,configurable:!0}),Ft=(t=>(t[t.EditorCore=0]="EditorCore",t[t.EditorContrib=100]="EditorContrib",t[t.WorkbenchContrib=200]="WorkbenchContrib",t[t.BuiltinExtension=300]="BuiltinExtension",t[t.ExternalExtension=400]="ExternalExtension",t))(Ft||{});class AA{static{IO(this,"KeybindingsRegistryImpl")}_coreKeybindings;_extensionKeybindings;_cachedMergedKeybindings;constructor(){this._coreKeybindings=new Xa,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(Ld===ks.Windows){if(e&&e.win)return e.win}else if(Ld===ks.Macintosh){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const i=AA.bindToCurrentPlatform(e),s=new Z;if(i&&i.primary){const n=x_(i.primary,Ld);n&&s.add(this._registerDefaultKeybinding(n,e.id,e.args,e.weight,0,e.when))}if(i&&Array.isArray(i.secondary))for(let n=0,o=i.secondary.length;n<o;n++){const r=i.secondary[n],a=x_(r,Ld);a&&s.add(this._registerDefaultKeybinding(a,e.id,e.args,e.weight,-n-1,e.when))}return s}setExtensionKeybindings(e){const i=[];let s=0;for(const n of e)n.keybinding&&(i[s++]={keybinding:n.keybinding,command:n.id,commandArgs:n.args,when:n.when,weight1:n.weight,weight2:0,extensionId:n.extensionId||null,isBuiltinExtension:n.isBuiltinExtension||!1});this._extensionKeybindings=i,this._cachedMergedKeybindings=null}registerCommandAndKeybindingRule(e){return Hr(this.registerKeybindingRule(e),ln.registerCommand(e))}_registerDefaultKeybinding(e,i,s,n,o,r){const a=this._coreKeybindings.push({keybinding:e,command:i,commandArgs:s,when:r,weight1:n,weight2:o,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,Se(()=>{a(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(TO)),this._cachedMergedKeybindings.slice(0)}}const Gi=new AA,nQ={EditorModes:"platform.keybindingsRegistry"};ui.add(nQ.EditorModes,Gi);function TO(t,e){if(t.weight1!==e.weight1)return t.weight1-e.weight1;if(t.command&&e.command){if(t.command<e.command)return-1;if(t.command>e.command)return 1}return t.weight2-e.weight2}IO(TO,"sorter");var kO=Object.defineProperty,oQ=Object.getOwnPropertyDescriptor,hl=(t,e)=>kO(t,"name",{value:e,configurable:!0}),rQ=(t,e,i,s)=>{for(var n=s>1?void 0:s?oQ(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&kO(e,i,n),n},uT=(t,e)=>(i,s)=>e(i,s,t);function lu(t){return t.command!==void 0}hl(lu,"isIMenuItem");function xO(t){return t.submenu!==void 0}hl(xO,"isISubmenuItem");class _{static{hl(this,"MenuId")}static _instances=new Map;static CommandPalette=new _("CommandPalette");static DebugBreakpointsContext=new _("DebugBreakpointsContext");static DebugCallStackContext=new _("DebugCallStackContext");static DebugConsoleContext=new _("DebugConsoleContext");static DebugVariablesContext=new _("DebugVariablesContext");static NotebookVariablesContext=new _("NotebookVariablesContext");static DebugHoverContext=new _("DebugHoverContext");static DebugWatchContext=new _("DebugWatchContext");static DebugToolBar=new _("DebugToolBar");static DebugToolBarStop=new _("DebugToolBarStop");static DebugCallStackToolbar=new _("DebugCallStackToolbar");static DebugCreateConfiguration=new _("DebugCreateConfiguration");static EditorContext=new _("EditorContext");static SimpleEditorContext=new _("SimpleEditorContext");static EditorContent=new _("EditorContent");static EditorLineNumberContext=new _("EditorLineNumberContext");static EditorContextCopy=new _("EditorContextCopy");static EditorContextPeek=new _("EditorContextPeek");static EditorContextShare=new _("EditorContextShare");static EditorTitle=new _("EditorTitle");static EditorTitleRun=new _("EditorTitleRun");static EditorTitleContext=new _("EditorTitleContext");static EditorTitleContextShare=new _("EditorTitleContextShare");static EmptyEditorGroup=new _("EmptyEditorGroup");static EmptyEditorGroupContext=new _("EmptyEditorGroupContext");static EditorTabsBarContext=new _("EditorTabsBarContext");static EditorTabsBarShowTabsSubmenu=new _("EditorTabsBarShowTabsSubmenu");static EditorTabsBarShowTabsZenModeSubmenu=new _("EditorTabsBarShowTabsZenModeSubmenu");static EditorActionsPositionSubmenu=new _("EditorActionsPositionSubmenu");static ExplorerContext=new _("ExplorerContext");static ExplorerContextShare=new _("ExplorerContextShare");static ExtensionContext=new _("ExtensionContext");static ExtensionEditorContextMenu=new _("ExtensionEditorContextMenu");static GlobalActivity=new _("GlobalActivity");static CommandCenter=new _("CommandCenter");static CommandCenterCenter=new _("CommandCenterCenter");static LayoutControlMenuSubmenu=new _("LayoutControlMenuSubmenu");static LayoutControlMenu=new _("LayoutControlMenu");static MenubarMainMenu=new _("MenubarMainMenu");static MenubarAppearanceMenu=new _("MenubarAppearanceMenu");static MenubarDebugMenu=new _("MenubarDebugMenu");static MenubarEditMenu=new _("MenubarEditMenu");static MenubarCopy=new _("MenubarCopy");static MenubarFileMenu=new _("MenubarFileMenu");static MenubarGoMenu=new _("MenubarGoMenu");static MenubarHelpMenu=new _("MenubarHelpMenu");static MenubarLayoutMenu=new _("MenubarLayoutMenu");static MenubarNewBreakpointMenu=new _("MenubarNewBreakpointMenu");static PanelAlignmentMenu=new _("PanelAlignmentMenu");static PanelPositionMenu=new _("PanelPositionMenu");static ActivityBarPositionMenu=new _("ActivityBarPositionMenu");static MenubarPreferencesMenu=new _("MenubarPreferencesMenu");static MenubarRecentMenu=new _("MenubarRecentMenu");static MenubarSelectionMenu=new _("MenubarSelectionMenu");static MenubarShare=new _("MenubarShare");static MenubarSwitchEditorMenu=new _("MenubarSwitchEditorMenu");static MenubarSwitchGroupMenu=new _("MenubarSwitchGroupMenu");static MenubarTerminalMenu=new _("MenubarTerminalMenu");static MenubarViewMenu=new _("MenubarViewMenu");static MenubarHomeMenu=new _("MenubarHomeMenu");static OpenEditorsContext=new _("OpenEditorsContext");static OpenEditorsContextShare=new _("OpenEditorsContextShare");static ProblemsPanelContext=new _("ProblemsPanelContext");static SCMInputBox=new _("SCMInputBox");static SCMChangesContext=new _("SCMChangesContext");static SCMChangeContext=new _("SCMChangeContext");static SCMResourceContext=new _("SCMResourceContext");static SCMResourceContextShare=new _("SCMResourceContextShare");static SCMResourceFolderContext=new _("SCMResourceFolderContext");static SCMResourceGroupContext=new _("SCMResourceGroupContext");static SCMSourceControl=new _("SCMSourceControl");static SCMSourceControlInline=new _("SCMSourceControlInline");static SCMSourceControlTitle=new _("SCMSourceControlTitle");static SCMHistoryTitle=new _("SCMHistoryTitle");static SCMTitle=new _("SCMTitle");static SearchContext=new _("SearchContext");static SearchActionMenu=new _("SearchActionContext");static StatusBarWindowIndicatorMenu=new _("StatusBarWindowIndicatorMenu");static StatusBarRemoteIndicatorMenu=new _("StatusBarRemoteIndicatorMenu");static StickyScrollContext=new _("StickyScrollContext");static TestItem=new _("TestItem");static TestItemGutter=new _("TestItemGutter");static TestProfilesContext=new _("TestProfilesContext");static TestMessageContext=new _("TestMessageContext");static TestMessageContent=new _("TestMessageContent");static TestPeekElement=new _("TestPeekElement");static TestPeekTitle=new _("TestPeekTitle");static TestCallStack=new _("TestCallStack");static TouchBarContext=new _("TouchBarContext");static TitleBarContext=new _("TitleBarContext");static TitleBarTitleContext=new _("TitleBarTitleContext");static TunnelContext=new _("TunnelContext");static TunnelPrivacy=new _("TunnelPrivacy");static TunnelProtocol=new _("TunnelProtocol");static TunnelPortInline=new _("TunnelInline");static TunnelTitle=new _("TunnelTitle");static TunnelLocalAddressInline=new _("TunnelLocalAddressInline");static TunnelOriginInline=new _("TunnelOriginInline");static ViewItemContext=new _("ViewItemContext");static ViewContainerTitle=new _("ViewContainerTitle");static ViewContainerTitleContext=new _("ViewContainerTitleContext");static ViewTitle=new _("ViewTitle");static ViewTitleContext=new _("ViewTitleContext");static CommentEditorActions=new _("CommentEditorActions");static CommentThreadTitle=new _("CommentThreadTitle");static CommentThreadActions=new _("CommentThreadActions");static CommentThreadAdditionalActions=new _("CommentThreadAdditionalActions");static CommentThreadTitleContext=new _("CommentThreadTitleContext");static CommentThreadCommentContext=new _("CommentThreadCommentContext");static CommentTitle=new _("CommentTitle");static CommentActions=new _("CommentActions");static CommentsViewThreadActions=new _("CommentsViewThreadActions");static InteractiveToolbar=new _("InteractiveToolbar");static InteractiveCellTitle=new _("InteractiveCellTitle");static InteractiveCellDelete=new _("InteractiveCellDelete");static InteractiveCellExecute=new _("InteractiveCellExecute");static InteractiveInputExecute=new _("InteractiveInputExecute");static InteractiveInputConfig=new _("InteractiveInputConfig");static ReplInputExecute=new _("ReplInputExecute");static IssueReporter=new _("IssueReporter");static NotebookToolbar=new _("NotebookToolbar");static NotebookStickyScrollContext=new _("NotebookStickyScrollContext");static NotebookCellTitle=new _("NotebookCellTitle");static NotebookCellDelete=new _("NotebookCellDelete");static NotebookCellInsert=new _("NotebookCellInsert");static NotebookCellBetween=new _("NotebookCellBetween");static NotebookCellListTop=new _("NotebookCellTop");static NotebookCellExecute=new _("NotebookCellExecute");static NotebookCellExecuteGoTo=new _("NotebookCellExecuteGoTo");static NotebookCellExecutePrimary=new _("NotebookCellExecutePrimary");static NotebookDiffCellInputTitle=new _("NotebookDiffCellInputTitle");static NotebookDiffCellMetadataTitle=new _("NotebookDiffCellMetadataTitle");static NotebookDiffCellOutputsTitle=new _("NotebookDiffCellOutputsTitle");static NotebookOutputToolbar=new _("NotebookOutputToolbar");static NotebookOutlineFilter=new _("NotebookOutlineFilter");static NotebookOutlineActionMenu=new _("NotebookOutlineActionMenu");static NotebookEditorLayoutConfigure=new _("NotebookEditorLayoutConfigure");static NotebookKernelSource=new _("NotebookKernelSource");static BulkEditTitle=new _("BulkEditTitle");static BulkEditContext=new _("BulkEditContext");static TimelineItemContext=new _("TimelineItemContext");static TimelineTitle=new _("TimelineTitle");static TimelineTitleContext=new _("TimelineTitleContext");static TimelineFilterSubMenu=new _("TimelineFilterSubMenu");static AccountsContext=new _("AccountsContext");static SidebarTitle=new _("SidebarTitle");static PanelTitle=new _("PanelTitle");static AuxiliaryBarTitle=new _("AuxiliaryBarTitle");static AuxiliaryBarHeader=new _("AuxiliaryBarHeader");static TerminalInstanceContext=new _("TerminalInstanceContext");static TerminalEditorInstanceContext=new _("TerminalEditorInstanceContext");static TerminalNewDropdownContext=new _("TerminalNewDropdownContext");static TerminalTabContext=new _("TerminalTabContext");static TerminalTabEmptyAreaContext=new _("TerminalTabEmptyAreaContext");static TerminalStickyScrollContext=new _("TerminalStickyScrollContext");static WebviewContext=new _("WebviewContext");static InlineCompletionsActions=new _("InlineCompletionsActions");static InlineEditsActions=new _("InlineEditsActions");static InlineEditActions=new _("InlineEditActions");static NewFile=new _("NewFile");static MergeInput1Toolbar=new _("MergeToolbar1Toolbar");static MergeInput2Toolbar=new _("MergeToolbar2Toolbar");static MergeBaseToolbar=new _("MergeBaseToolbar");static MergeInputResultToolbar=new _("MergeToolbarResultToolbar");static InlineSuggestionToolbar=new _("InlineSuggestionToolbar");static InlineEditToolbar=new _("InlineEditToolbar");static ChatContext=new _("ChatContext");static ChatCodeBlock=new _("ChatCodeblock");static ChatCompareBlock=new _("ChatCompareBlock");static ChatMessageTitle=new _("ChatMessageTitle");static ChatExecute=new _("ChatExecute");static ChatExecuteSecondary=new _("ChatExecuteSecondary");static ChatInputSide=new _("ChatInputSide");static ChatInlineResourceAnchorContext=new _("ChatInlineResourceAnchorContext");static ChatInlineSymbolAnchorContext=new _("ChatInlineSymbolAnchorContext");static AccessibleView=new _("AccessibleView");static MultiDiffEditorFileToolbar=new _("MultiDiffEditorFileToolbar");static DiffEditorHunkToolbar=new _("DiffEditorHunkToolbar");static DiffEditorSelectionToolbar=new _("DiffEditorSelectionToolbar");static for(e){return _._instances.get(e)??new _(e)}id;constructor(e){if(_._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);_._instances.set(e,this),this.id=e}}const Qs=Ce("menuService");class Pl{constructor(e){this.id=e,this.has=i=>i===e}static{hl(this,"MenuRegistryChangeEvent")}static _all=new Map;static for(e){let i=this._all.get(e);return i||(i=new Pl(e),this._all.set(e,i)),i}static merge(e){const i=new Set;for(const s of e)s instanceof Pl&&i.add(s.id);return i}has}const it=new class{_commands=new Map;_menuItems=new Map;_onDidChangeMenu=new B2({merge:Pl.merge});onDidChangeMenu=this._onDidChangeMenu.event;addCommand(t){return this._commands.set(t.id,t),this._onDidChangeMenu.fire(Pl.for(_.CommandPalette)),Se(()=>{this._commands.delete(t.id)&&this._onDidChangeMenu.fire(Pl.for(_.CommandPalette))})}getCommand(t){return this._commands.get(t)}getCommands(){const t=new Map;return this._commands.forEach((e,i)=>t.set(i,e)),t}appendMenuItem(t,e){let i=this._menuItems.get(t);i||(i=new Xa,this._menuItems.set(t,i));const s=i.push(e);return this._onDidChangeMenu.fire(Pl.for(t)),Se(()=>{s(),this._onDidChangeMenu.fire(Pl.for(t))})}appendMenuItems(t){const e=new Z;for(const{id:i,item:s}of t)e.add(this.appendMenuItem(i,s));return e}getMenuItems(t){let e;return this._menuItems.has(t)?e=[...this._menuItems.get(t)]:e=[],t===_.CommandPalette&&this._appendImplicitItems(e),e}_appendImplicitItems(t){const e=new Set;for(const i of t)lu(i)&&(e.add(i.command.id),i.alt&&e.add(i.alt.id));this._commands.forEach((i,s)=>{e.has(s)||t.push({command:i})})}};class Po extends ro{constructor(e,i,s){super(`submenuitem.${e.submenu.id}`,typeof e.title=="string"?e.title:e.title.value,s,"submenu"),this.item=e,this.hideActions=i}static{hl(this,"SubmenuItemAction")}}let Jn=class{constructor(t,e,i,s,n,o,r){this.hideActions=s,this.menuKeybinding=n,this._commandService=r,this.id=t.id,this.label=Jn.label(t,i),this.tooltip=(typeof t.tooltip=="string"?t.tooltip:t.tooltip?.value)??"",this.enabled=!t.precondition||o.contextMatchesRules(t.precondition),this.checked=void 0;let a;if(t.toggled){const l=t.toggled.condition?t.toggled:{condition:t.toggled};this.checked=o.contextMatchesRules(l.condition),this.checked&&l.tooltip&&(this.tooltip=typeof l.tooltip=="string"?l.tooltip:l.tooltip.value),this.checked&&Ae.isThemeIcon(l.icon)&&(a=l.icon),this.checked&&l.title&&(this.label=typeof l.title=="string"?l.title:l.title.value)}a||(a=Ae.isThemeIcon(t.icon)?t.icon:void 0),this.item=t,this.alt=e?new Jn(e,void 0,i,s,void 0,o,r):void 0,this._options=i,this.class=a&&Ae.asClassName(a)}static{hl(this,"MenuItemAction")}static label(t,e){return e?.renderShortTitle&&t.shortTitle?typeof t.shortTitle=="string"?t.shortTitle:t.shortTitle.value:typeof t.title=="string"?t.title:t.title.value}item;alt;_options;id;label;tooltip;class;enabled;checked;run(...t){let e=[];return this._options?.arg&&(e=[...e,this._options.arg]),this._options?.shouldForwardArgs&&(e=[...e,...t]),this._commandService.executeCommand(this.id,...e)}};Jn=rQ([uT(5,Qe),uT(6,Hi)],Jn);class je{constructor(e){this.desc=e}static{hl(this,"Action2")}}function Ie(t){const e=[],i=new t,{f1:s,menu:n,keybinding:o,...r}=i.desc;if(ln.getCommand(r.id))throw new Error(`Cannot register two commands with the same id: ${r.id}`);if(e.push(ln.registerCommand({id:r.id,handler:hl((a,...l)=>i.run(a,...l),"handler"),metadata:r.metadata})),Array.isArray(n))for(const a of n)e.push(it.appendMenuItem(a.id,{command:{...r,precondition:a.precondition===null?void 0:r.precondition},...a}));else n&&e.push(it.appendMenuItem(n.id,{command:{...r,precondition:n.precondition===null?void 0:r.precondition},...n}));if(s&&(e.push(it.appendMenuItem(_.CommandPalette,{command:r,when:r.precondition})),e.push(it.addCommand(r))),Array.isArray(o))for(const a of o)e.push(Gi.registerKeybindingRule({...a,id:r.id,when:r.precondition?H.and(r.precondition,a.when):a.when}));else o&&e.push(Gi.registerKeybindingRule({...o,id:r.id,when:r.precondition?H.and(r.precondition,o.when):o.when}));return{dispose(){ai(e)}}}hl(Ie,"registerAction2");var LO=Object.defineProperty,aQ=Object.getOwnPropertyDescriptor,eo=(t,e)=>LO(t,"name",{value:e,configurable:!0}),iy=(t,e,i,s)=>{for(var n=s>1?void 0:s?aQ(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&LO(e,i,n),n},Ks=(t,e)=>(i,s)=>e(i,s,t);function Vu(t,e,i,s){let n,o,r;if(Array.isArray(t))r=t,n=e,o=i;else{const h=e;r=t.getActions(h),n=i,o=s}const a=La.getInstance(),l=a.keyStatus.altKey||(Lt||Ni)&&a.keyStatus.shiftKey;EA(r,n,l,o?h=>h===o:h=>h==="navigation")}eo(Vu,"createAndFillInContextMenuActions");function vg(t,e,i,s,n,o){let r,a,l,h,d;if(Array.isArray(t))d=t,r=e,a=i,l=s,h=n;else{const g=e;d=t.getActions(g),r=i,a=s,l=n,h=o}EA(d,r,!1,typeof a=="string"?g=>g===a:a,l,h)}eo(vg,"createAndFillInActionBarActions");function EA(t,e,i,s=r=>r==="navigation",n=()=>!1,o=!1){let r,a;Array.isArray(e)?(r=e,a=e):(r=e.primary,a=e.secondary);const l=new Set;for(const[h,d]of t){let u;s(h)?(u=r,u.length>0&&o&&u.push(new st)):(u=a,u.length>0&&u.push(new st));for(let g of d){i&&(g=g instanceof Jn&&g.alt?g.alt:g);const p=u.push(g);g instanceof ro&&l.add({group:h,action:g,index:p-1})}}for(const{group:h,action:d,index:u}of l){const g=s(h)?r:a,p=d.actions;n(d,h,g.length)&&g.splice(u,1,...p)}}eo(EA,"fillInActions");let Hu=class extends xm{constructor(t,e,i,s,n,o,r,a){super(void 0,t,{icon:!!(t.class||t.item.icon),label:!t.class&&!t.item.icon,draggable:e?.draggable,keybinding:e?.keybinding,hoverDelegate:e?.hoverDelegate}),this._options=e,this._keybindingService=i,this._notificationService=s,this._contextKeyService=n,this._themeService=o,this._contextMenuService=r,this._accessibilityService=a,this._altKey=La.getInstance()}static{eo(this,"MenuEntryActionViewItem")}_wantsAltCommand=!1;_itemClassDispose=this._register(new fr);_altKey;get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick(t){t.preventDefault(),t.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(e){this._notificationService.error(e)}}render(t){if(super.render(t),t.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let e=!1;const i=eo(()=>{const s=!!this._menuItemAction.alt?.enabled&&(!this._accessibilityService.isMotionReduced()||e)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&e);s!==this._wantsAltCommand&&(this._wantsAltCommand=s,this.updateLabel(),this.updateTooltip(),this.updateClass())},"updateAltState");this._register(this._altKey.event(i)),this._register(N(t,"mouseleave",s=>{e=!1,i()})),this._register(N(t,"mouseenter",s=>{e=!0,i()})),i()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){const t=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),e=t&&t.getLabel(),i=this._commandAction.tooltip||this._commandAction.label;let s=e?c("titleAndKb","{0} ({1})",i,e):i;if(!this._wantsAltCommand&&this._menuItemAction.alt?.enabled){const n=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,o=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),r=o&&o.getLabel(),a=r?c("titleAndKb","{0} ({1})",n,r):n;s=c("titleAndKbAndAlt",`{0}
[{1}] {2}`,s,BZ.modifierLabels[Ld].altKey,a)}return s}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(t){this._itemClassDispose.value=void 0;const{element:e,label:i}=this;if(!e||!i)return;const s=this._commandAction.checked&&_A(t.toggled)&&t.toggled.icon?t.toggled.icon:t.icon;if(s)if(Ae.isThemeIcon(s)){const n=Ae.asClassNameArray(s);i.classList.add(...n),this._itemClassDispose.value=Se(()=>{i.classList.remove(...n)})}else i.style.backgroundImage=WC(this._themeService.getColorTheme().type)?nc(s.dark):nc(s.light),i.classList.add("icon"),this._itemClassDispose.value=Hr(Se(()=>{i.style.backgroundImage="",i.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};Hu=iy([Ks(2,qt),Ks(3,Ns),Ks(4,Qe),Ks(5,Vi),Ks(6,Di),Ks(7,A1)],Hu);class PO extends Hu{static{eo(this,"TextOnlyMenuEntryActionViewItem")}render(e){this.options.label=!0,this.options.icon=!1,super.render(e),e.classList.add("text-only"),e.classList.toggle("use-comma",this._options?.useComma??!1)}updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();if(this.label){const i=PO._symbolPrintEnter(e);this._options?.conversational?this.label.textContent=c({key:"content2",comment:['A label with keybindg like "ESC to dismiss"']},"{1} to {0}",this._action.label,i):this.label.textContent=c({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,i)}}static _symbolPrintEnter(e){return e.getLabel()?.replace(/\benter\b/gi,"").replace(/\bEscape\b/gi,"Esc")}}let gw=class extends zh{constructor(t,e,i,s,n){const o={...e,menuAsChild:e?.menuAsChild??!1,classNames:e?.classNames??(Ae.isThemeIcon(t.item.icon)?Ae.asClassName(t.item.icon):void 0),keybindingProvider:e?.keybindingProvider??(r=>i.lookupKeybinding(r.id))};super(t,{getActions:eo(()=>t.actions,"getActions")},s,o),this._keybindingService=i,this._contextMenuService=s,this._themeService=n}static{eo(this,"SubmenuEntryActionViewItem")}render(t){super.render(t),lC(this.element),t.classList.add("menu-entry");const e=this._action,{icon:i}=e.item;if(i&&!Ae.isThemeIcon(i)){this.element.classList.add("icon");const s=eo(()=>{this.element&&(this.element.style.backgroundImage=WC(this._themeService.getColorTheme().type)?nc(i.dark):nc(i.light))},"setBackgroundImage");s(),this._register(this._themeService.onDidColorThemeChange(()=>{s()}))}}};gw=iy([Ks(2,qt),Ks(3,Di),Ks(4,Vi)],gw);let G0=class extends cn{constructor(t,e,i,s,n,o,r,a){super(null,t),this._keybindingService=i,this._notificationService=s,this._contextMenuService=n,this._menuService=o,this._instaService=r,this._storageService=a,this._options=e,this._storageKey=`${t.item.submenu.id}_lastActionId`;let l;const h=e?.persistLastActionId?a.get(this._storageKey,_e.WORKSPACE):void 0;h&&(l=t.actions.find(u=>h===u.id)),l||(l=t.actions[0]),this._defaultAction=this._instaService.createInstance(Hu,l,{keybinding:this._getDefaultActionKeybindingLabel(l)});const d={keybindingProvider:eo(u=>this._keybindingService.lookupKeybinding(u.id),"keybindingProvider"),...e,menuAsChild:e?.menuAsChild??!0,classNames:e?.classNames??["codicon","codicon-chevron-down"],actionRunner:e?.actionRunner??new Zr};this._dropdown=new zh(t,t.actions,this._contextMenuService,d),this._register(this._dropdown.actionRunner.onDidRun(u=>{u.action instanceof Jn&&this.update(u.action)}))}static{eo(this,"DropdownWithDefaultActionViewItem")}_options;_defaultAction;_dropdown;_container=null;_storageKey;get onDidChangeDropdownVisibility(){return this._dropdown.onDidChangeVisibility}update(t){this._options?.persistLastActionId&&this._storageService.store(this._storageKey,t.id,_e.WORKSPACE,Pt.MACHINE),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(Hu,t,{keybinding:this._getDefaultActionKeybindingLabel(t)}),this._defaultAction.actionRunner=new class extends Zr{async runAction(e,i){await e.run(void 0)}},this._container&&this._defaultAction.render(p1(this._container,de(".action-container")))}_getDefaultActionKeybindingLabel(t){let e;if(this._options?.renderKeybindingWithDefaultActionLabel){const i=this._keybindingService.lookupKeybinding(t.id);i&&(e=`(${i.getLabel()})`)}return e}setActionContext(t){super.setActionContext(t),this._defaultAction.setActionContext(t),this._dropdown.setActionContext(t)}render(t){this._container=t,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const e=de(".action-container");this._defaultAction.render(we(this._container,e)),this._register(N(e,U.KEY_DOWN,s=>{const n=new mt(s);n.equals(D.RightArrow)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),n.stopPropagation())}));const i=de(".dropdown-action-container");this._dropdown.render(we(this._container,i)),this._register(N(i,U.KEY_DOWN,s=>{const n=new mt(s);n.equals(D.LeftArrow)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),this._defaultAction.element?.focus(),n.stopPropagation())}))}focus(t){t?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(t){t?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};G0=iy([Ks(2,qt),Ks(3,Ns),Ks(4,Di),Ks(5,Qs),Ks(6,rt),Ks(7,as)],G0);let j0=class extends AZ{static{eo(this,"SubmenuEntrySelectActionViewItem")}constructor(t,e){super(null,t,t.actions.map(i=>({text:i.id===st.ID?"":i.label,isDisabled:!i.enabled})),0,e,AO,{ariaLabel:t.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,t.actions.findIndex(i=>i.checked)))}render(t){super.render(t),t.style.borderColor=Y(VC)}runAction(t,e){const i=this.action.actions[e];i&&this.actionRunner.run(i)}};j0=iy([Ks(1,SA)],j0);function sy(t,e,i){return e instanceof Jn?t.createInstance(Hu,e,i):e instanceof Po?e.item.isSelection?t.createInstance(j0,e):e.item.rememberDefaultAction?t.createInstance(G0,e,{...i,persistLastActionId:!0}):t.createInstance(gw,e,i):void 0}eo(sy,"createActionViewItem");var lQ=Object.defineProperty,q0=(t,e)=>lQ(t,"name",{value:e,configurable:!0});class cQ extends q{static{q0(this,"ToolBar")}options;actionBar;toggleMenuAction;toggleMenuActionViewItem;submenuActionViewItems=[];hasSecondaryActions=!1;element;_onDidChangeDropdownVisibility=this._register(new Ck);onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event;disposables=this._register(new Z);constructor(e,i,s={orientation:os.HORIZONTAL}){super(),s.hoverDelegate=s.hoverDelegate??this._register(og()),this.options=s,this.toggleMenuAction=this._register(new Sp(()=>this.toggleMenuActionViewItem?.show(),s.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",e.appendChild(this.element),this.actionBar=this._register(new Sc(this.element,{orientation:s.orientation,ariaLabel:s.ariaLabel,actionRunner:s.actionRunner,allowContextMenu:s.allowContextMenu,highlightToggledItems:s.highlightToggledItems,hoverDelegate:s.hoverDelegate,actionViewItemProvider:q0((n,o)=>{if(n.id===Sp.ID)return this.toggleMenuActionViewItem=new zh(n,n.menuActions,i,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:Ae.asClassNameArray(s.moreIcon??he.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0,hoverDelegate:this.options.hoverDelegate}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(s.actionViewItemProvider){const r=s.actionViewItemProvider(n,o);if(r)return r}if(n instanceof ro){const r=new zh(n,n.actions,i,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:n.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,hoverDelegate:this.options.hoverDelegate});return r.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(r),this.disposables.add(this._onDidChangeDropdownVisibility.add(r.onDidChangeVisibility)),r}},"actionViewItemProvider")}))}set actionRunner(e){this.actionBar.actionRunner=e}get actionRunner(){return this.actionBar.actionRunner}set context(e){this.actionBar.context=e,this.toggleMenuActionViewItem?.setActionContext(e);for(const i of this.submenuActionViewItems)i.setActionContext(e)}getElement(){return this.element}focus(){this.actionBar.focus()}getItemsWidth(){let e=0;for(let i=0;i<this.actionBar.length();i++)e+=this.actionBar.getWidth(i);return e}getItemAction(e){return this.actionBar.getAction(e)}getItemWidth(e){return this.actionBar.getWidth(e)}getItemsLength(){return this.actionBar.length()}setAriaLabel(e){this.actionBar.setAriaLabel(e)}setActions(e,i){this.clear();const s=e?e.slice(0):[];this.hasSecondaryActions=!!(i&&i.length>0),this.hasSecondaryActions&&i&&(this.toggleMenuAction.menuActions=i.slice(0),s.push(this.toggleMenuAction)),s.forEach(n=>{this.actionBar.push(n,{icon:this.options.icon??!0,label:this.options.label??!1,keybinding:this.getKeybindingLabel(n)})})}isEmpty(){return this.actionBar.isEmpty()}getKeybindingLabel(e){return this.options.getKeyBinding?.(e)?.getLabel()??void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}class Sp extends Et{static{q0(this,"ToggleMenuAction")}static ID="toolbar.toggle.more";_menuActions;toggleDropdownMenu;constructor(e,i){i=i||c("moreActions","More Actions..."),super(Sp.ID,i,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=e}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(e){this._menuActions=e}}var RO=Object.defineProperty,hQ=Object.getOwnPropertyDescriptor,Ga=(t,e)=>RO(t,"name",{value:e,configurable:!0}),ny=(t,e,i,s)=>{for(var n=s>1?void 0:s?hQ(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&RO(e,i,n),n},Gr=(t,e)=>(i,s)=>e(i,s,t);let gT=class{constructor(t,e,i){this._commandService=t,this._keybindingService=e,this._hiddenStates=new ch(i)}static{Ga(this,"MenuService")}_hiddenStates;createMenu(t,e,i){return new fw(t,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...i},this._commandService,this._keybindingService,e)}getMenuActions(t,e,i){const s=new fw(t,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...i},this._commandService,this._keybindingService,e),n=s.getActions(i);return s.dispose(),n}getMenuContexts(t){const e=new cu(t,!1);return new Set([...e.structureContextKeys,...e.preconditionContextKeys,...e.toggledContextKeys])}resetHiddenStates(t){this._hiddenStates.reset(t)}};gT=ny([Gr(0,Hi),Gr(1,qt),Gr(2,as)],gT);let ch=class{constructor(t){this._storageService=t;try{const e=t.get(ch._key,_e.PROFILE,"{}");this._data=JSON.parse(e)}catch{this._data=Object.create(null)}this._disposables.add(t.onDidChangeValue(_e.PROFILE,ch._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const e=t.get(ch._key,_e.PROFILE,"{}");this._data=JSON.parse(e)}catch(e){console.log("FAILED to read storage after UPDATE",e)}this._onDidChange.fire()}))}static{Ga(this,"PersistedMenuHideState")}static _key="menu.hiddenCommands";_disposables=new Z;_onDidChange=new I;onDidChange=this._onDidChange.event;_ignoreChangeEvent=!1;_data;_hiddenByDefaultCache=new Map;dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(t,e){return this._hiddenByDefaultCache.get(`${t.id}/${e}`)??!1}setDefaultState(t,e,i){this._hiddenByDefaultCache.set(`${t.id}/${e}`,i)}isHidden(t,e){const i=this._isHiddenByDefault(t,e),s=this._data[t.id]?.includes(e)??!1;return i?!s:s}updateHidden(t,e,i){this._isHiddenByDefault(t,e)&&(i=!i);const n=this._data[t.id];if(i)n?n.indexOf(e)<0&&n.push(e):this._data[t.id]=[e];else if(n){const o=n.indexOf(e);o>=0&&lk(n,o),n.length===0&&delete this._data[t.id]}this._persist()}reset(t){if(t===void 0)this._data=Object.create(null),this._persist();else{for(const{id:e}of t)this._data[e]&&delete this._data[e];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const t=JSON.stringify(this._data);this._storageService.store(ch._key,t,_e.PROFILE,Pt.USER)}finally{this._ignoreChangeEvent=!1}}};ch=ny([Gr(0,as)],ch);class cu{constructor(e,i){this._id=e,this._collectContextKeysForSubmenus=i,this.refresh()}static{Ga(this,"MenuInfoSnapshot")}_menuGroups=[];_allMenuIds=new Set;_structureContextKeys=new Set;_preconditionContextKeys=new Set;_toggledContextKeys=new Set;get allMenuIds(){return this._allMenuIds}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._allMenuIds.clear(),this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const e=this._sort(it.getMenuItems(this._id));let i;for(const s of e){const n=s.group||"";(!i||i[0]!==n)&&(i=[n,[]],this._menuGroups.push(i)),i[1].push(s),this._collectContextKeysAndSubmenuIds(s)}this._allMenuIds.add(this._id)}_sort(e){return e}_collectContextKeysAndSubmenuIds(e){if(cu._fillInKbExprKeys(e.when,this._structureContextKeys),lu(e)){if(e.command.precondition&&cu._fillInKbExprKeys(e.command.precondition,this._preconditionContextKeys),e.command.toggled){const i=e.command.toggled.condition||e.command.toggled;cu._fillInKbExprKeys(i,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&(it.getMenuItems(e.submenu).forEach(this._collectContextKeysAndSubmenuIds,this),this._allMenuIds.add(e.submenu))}static _fillInKbExprKeys(e,i){if(e)for(const s of e.keys())i.add(s)}}let hu=class extends cu{constructor(t,e,i,s,n,o){super(t,i),this._hiddenStates=e,this._commandService=s,this._keybindingService=n,this._contextKeyService=o,this.refresh()}static{Ga(this,"MenuInfo")}createActionGroups(t){const e=[];for(const i of this._menuGroups){const[s,n]=i;let o;for(const r of n)if(this._contextKeyService.contextMatchesRules(r.when)){const a=lu(r);a&&this._hiddenStates.setDefaultState(this._id,r.command.id,!!r.isHiddenByDefault);const l=NO(this._id,a?r.command:r,this._hiddenStates);if(a){const h=IA(this._commandService,this._keybindingService,r.command.id,r.when);(o??=[]).push(new Jn(r.command,r.alt,t,l,h,this._contextKeyService,this._commandService))}else{const h=new hu(r.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._keybindingService,this._contextKeyService).createActionGroups(t),d=st.join(...h.map(u=>u[1]));d.length>0&&(o??=[]).push(new Po(r,l,d))}}o&&o.length>0&&e.push([s,o])}return e}_sort(t){return t.sort(hu._compareMenuItems)}static _compareMenuItems(t,e){const i=t.group,s=e.group;if(i!==s){if(i){if(!s)return-1}else return 1;if(i==="navigation")return-1;if(s==="navigation")return 1;const r=i.localeCompare(s);if(r!==0)return r}const n=t.order||0,o=e.order||0;return n<o?-1:n>o?1:hu._compareTitles(lu(t)?t.command.title:t.title,lu(e)?e.command.title:e.title)}static _compareTitles(t,e){const i=typeof t=="string"?t:t.original,s=typeof e=="string"?e:e.original;return i.localeCompare(s)}};hu=ny([Gr(3,Hi),Gr(4,qt),Gr(5,Qe)],hu);let fw=class{static{Ga(this,"MenuImpl")}_menuInfo;_disposables=new Z;_onDidChange;onDidChange;constructor(t,e,i,s,n,o){this._menuInfo=new hu(t,e,i.emitEventsForSubmenuChanges,s,n,o);const r=new Ls(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},i.eventDebounceDelay);this._disposables.add(r),this._disposables.add(it.onDidChangeMenu(d=>{for(const u of this._menuInfo.allMenuIds)if(d.has(u)){r.schedule();break}}));const a=this._disposables.add(new Z),l=Ga(d=>{let u=!1,g=!1,p=!1;for(const m of d)if(u=u||m.isStructuralChange,g=g||m.isEnablementChange,p=p||m.isToggleChange,u&&g&&p)break;return{menu:this,isStructuralChange:u,isEnablementChange:g,isToggleChange:p}},"merge"),h=Ga(()=>{a.add(o.onDidChangeContext(d=>{const u=d.affectsSome(this._menuInfo.structureContextKeys),g=d.affectsSome(this._menuInfo.preconditionContextKeys),p=d.affectsSome(this._menuInfo.toggledContextKeys);(u||g||p)&&this._onDidChange.fire({menu:this,isStructuralChange:u,isEnablementChange:g,isToggleChange:p})})),a.add(e.onDidChange(d=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))},"startLazyListener");this._onDidChange=new O2({onWillAddFirstListener:h,onDidRemoveLastListener:a.clear.bind(a),delay:i.eventDebounceDelay,merge:l}),this.onDidChange=this._onDidChange.event}getActions(t){return this._menuInfo.createActionGroups(t)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};fw=ny([Gr(3,Hi),Gr(4,qt),Gr(5,Qe)],fw);function NO(t,e,i){const s=xO(e)?e.submenu.id:e.id,n=typeof e.title=="string"?e.title:e.title.value,o=li({id:`hide/${t.id}/${s}`,label:c("hide.label","Hide '{0}'",n),run(){i.updateHidden(t,s,!0)}}),r=li({id:`toggle/${t.id}/${s}`,label:n,get checked(){return!i.isHidden(t,s)},run(){i.updateHidden(t,s,!!this.checked)}});return{hide:o,toggle:r,get isHidden(){return!r.checked}}}Ga(NO,"createMenuHide");function IA(t,e,i,s=void 0,n=!0){return li({id:`configureKeybinding/${i}`,label:c("configure keybinding","Configure Keybinding"),enabled:n,run(){const r=!!!e.lookupKeybinding(i)&&s?s.serialize():void 0;t.executeCommand("workbench.action.openGlobalKeybindings",`@command:${i}`+(r?` +when:${r}`:""))}})}Ga(IA,"createConfigureKeybindingAction");var OO=Object.defineProperty,dQ=Object.getOwnPropertyDescriptor,eh=(t,e)=>OO(t,"name",{value:e,configurable:!0}),BO=(t,e,i,s)=>{for(var n=s>1?void 0:s?dQ(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&OO(e,i,n),n},To=(t,e)=>(i,s)=>e(i,s,t),oy=(t=>(t[t.NoHide=-1]="NoHide",t[t.Ignore=0]="Ignore",t[t.RenderInSecondaryGroup=1]="RenderInSecondaryGroup",t))(oy||{});let $h=class extends cQ{constructor(t,e,i,s,n,o,r,a){super(t,n,{getKeyBinding:eh(h=>o.lookupKeybinding(h.id)??void 0,"getKeyBinding"),...e,allowContextMenu:!0,skipTelemetry:typeof e?.telemetrySource=="string"}),this._options=e,this._menuService=i,this._contextKeyService=s,this._contextMenuService=n,this._keybindingService=o,this._commandService=r;const l=e?.telemetrySource;l&&this._store.add(this.actionBar.onDidRun(h=>a.publicLog2("workbenchActionExecuted",{id:h.action.id,from:l})))}static{eh(this,"WorkbenchToolBar")}_sessionDisposables=this._store.add(new Z);setActions(t,e=[],i){this._sessionDisposables.clear();const s=t.slice(),n=e.slice(),o=[];let r=0;const a=[];let l=!1;if(this._options?.hiddenItemStrategy!==-1)for(let h=0;h<s.length;h++){const d=s[h];!(d instanceof Jn)&&!(d instanceof Po)||d.hideActions&&(o.push(d.hideActions.toggle),d.hideActions.toggle.checked&&r++,d.hideActions.isHidden&&(l=!0,s[h]=void 0,this._options?.hiddenItemStrategy!==0&&(a[h]=d)))}if(this._options?.overflowBehavior!==void 0){const h=nk(new Set(this._options.overflowBehavior.exempted),ut.map(s,g=>g?.id)),d=this._options.overflowBehavior.maxItems-h.size;let u=0;for(let g=0;g<s.length;g++){const p=s[g];p&&(u++,!h.has(p.id)&&u>=d&&(s[g]=void 0,a[g]=p))}}f_(s),f_(a),super.setActions(s,st.join(a,n)),(o.length>0||s.length>0)&&this._sessionDisposables.add(N(this.getElement(),"contextmenu",h=>{const d=new qi(be(this.getElement()),h),u=this.getItemAction(d.target);if(!u)return;d.preventDefault(),d.stopPropagation();const g=[];if(u instanceof Jn&&u.menuKeybinding)g.push(u.menuKeybinding);else if(!(u instanceof Po||u instanceof Sp)){const m=!!this._keybindingService.lookupKeybinding(u.id);g.push(IA(this._commandService,this._keybindingService,u.id,void 0,m))}if(o.length>0){let m=!1;if(r===1&&this._options?.hiddenItemStrategy===0){m=!0;for(let b=0;b<o.length;b++)if(o[b].checked){o[b]=li({id:u.id,label:u.label,checked:!0,enabled:!1,run(){}});break}}if(!m&&(u instanceof Jn||u instanceof Po)){if(!u.hideActions)return;g.push(u.hideActions.hide)}else g.push(li({id:"label",label:c("hide","Hide"),enabled:!1,run(){}}))}const p=st.join(g,o);this._options?.resetMenu&&!i&&(i=[this._options.resetMenu]),l&&i&&(p.push(new st),p.push(li({id:"resetThisMenu",label:c("resetThisMenu","Reset Menu"),run:eh(()=>this._menuService.resetHiddenStates(i),"run")}))),p.length!==0&&this._contextMenuService.showContextMenu({getAnchor:eh(()=>d,"getAnchor"),getActions:eh(()=>p,"getActions"),menuId:this._options?.contextMenu,menuActionOptions:{renderShortTitle:!0,...this._options?.menuOptions},skipTelemetry:typeof this._options?.telemetrySource=="string",contextKeyService:this._contextKeyService})}))}};$h=BO([To(2,Qs),To(3,Qe),To(4,Di),To(5,qt),To(6,Hi),To(7,Zs)],$h);let Y0=class extends $h{static{eh(this,"MenuWorkbenchToolBar")}_onDidChangeMenuItems=this._store.add(new I);onDidChangeMenuItems=this._onDidChangeMenuItems.event;constructor(t,e,i,s,n,o,r,a,l){super(t,{resetMenu:e,...i},s,n,o,r,a,l);const h=this._store.add(s.createMenu(e,n,{emitEventsForSubmenuChanges:!0})),d=eh(()=>{const u=[],g=[];vg(h,i?.menuOptions,{primary:u,secondary:g},i?.toolbarOptions?.primaryGroup,i?.toolbarOptions?.shouldInlineSubmenu,i?.toolbarOptions?.useSeparatorsInPrimaryActions),t.classList.toggle("has-no-actions",u.length===0&&g.length===0),super.setActions(u,g)},"updateToolbar");this._store.add(h.onDidChange(()=>{d(),this._onDidChangeMenuItems.fire(this)})),d()}setActions(){throw new Ro("This toolbar is populated from a menu.")}};Y0=BO([To(3,Qs),To(4,Qe),To(5,Di),To(6,qt),To(7,Hi),To(8,Zs)],Y0);var MO=Object.defineProperty,uQ=Object.getOwnPropertyDescriptor,FO=(t,e)=>MO(t,"name",{value:e,configurable:!0}),gQ=(t,e,i,s)=>{for(var n=s>1?void 0:s?uQ(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&MO(e,i,n),n},fT=(t,e)=>(i,s)=>e(i,s,t);class fQ extends q{constructor(e,i,s,n){super(),this.options=i,this.menuService=s,this.contextKeyService=n,this.menu=this._register(s.createMenu(e,n)),this._register(this.menu.onDidChange(()=>this.updateActions())),this.updateActions()}static{FO(this,"MenuActions")}menu;_primaryActions=[];get primaryActions(){return this._primaryActions}_secondaryActions=[];get secondaryActions(){return this._secondaryActions}_onDidChange=this._register(new I);onDidChange=this._onDidChange.event;disposables=this._register(new Z);updateActions(){this.disposables.clear(),this._primaryActions=[],this._secondaryActions=[],vg(this.menu,this.options,{primary:this._primaryActions,secondary:this._secondaryActions}),this.disposables.add(this.updateSubmenus([...this._primaryActions,...this._secondaryActions],{})),this._onDidChange.fire()}updateSubmenus(e,i){const s=new Z;for(const n of e)if(n instanceof Po&&!i[n.item.submenu.id]){const o=i[n.item.submenu.id]=s.add(this.menuService.createMenu(n.item.submenu,this.contextKeyService));s.add(o.onDidChange(()=>this.updateActions())),s.add(this.updateSubmenus(n.actions,i))}return s}}let Wu=class extends q{constructor(t,e,i,s,n){super(),this.menuId=t,this.contextMenuId=e,this.options=i,this.contextKeyService=s,this.menuService=n,this.menuActions=this._register(new fQ(t,this.options,n,s)),this._register(this.menuActions.onDidChange(()=>this._onDidChange.fire()))}static{FO(this,"CompositeMenuActions")}menuActions;_onDidChange=this._register(new I);onDidChange=this._onDidChange.event;getPrimaryActions(){return this.menuActions.primaryActions}getSecondaryActions(){return this.menuActions.secondaryActions}getContextMenuActions(){const t=[];if(this.contextMenuId){const e=this.menuService.getMenuActions(this.contextMenuId,this.contextKeyService,this.options);vg(e,{primary:[],secondary:t})}return t}};Wu=gQ([fT(3,Qe),fT(4,Qs)],Wu);const et=Object.freeze({View:te("view","View"),Help:te("help","Help"),Test:te("test","Test"),File:te("file","File"),Preferences:te("preferences","Preferences"),Developer:te({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer")});var pQ=Object.defineProperty,mQ=(t,e)=>pQ(t,"name",{value:e,configurable:!0});class xoe{constructor(e){this.options=e}static{mQ(this,"QuickPickItemScorerAccessor")}getItemLabel(e){return e.label}getItemDescription(e){if(!this.options?.skipDescription)return e.description}getItemPath(e){if(!this.options?.skipPath)return e.resource?.scheme===Ue.file?e.resource.fsPath:e.resource?.path}}const wg=Ce("quickInputService");var bQ=Object.defineProperty,vQ=(t,e)=>bQ(t,"name",{value:e,configurable:!0});function wQ(t){return{...t,override:hR.id,pinned:!0}}vQ(wQ,"validateSettingsEditorOptions");const TA=Ce("preferencesService"),Cc=Ce("viewsService");var yQ=Object.defineProperty,VO=(t,e)=>yQ(t,"name",{value:e,configurable:!0});const _Q=ct("auxiliarybar-right-layout-icon",he.layoutSidebarRight,c("toggleAuxiliaryIconRight","Icon to toggle the auxiliary bar off in its right position.")),SQ=ct("auxiliarybar-right-off-layout-icon",he.layoutSidebarRightOff,c("toggleAuxiliaryIconRightOn","Icon to toggle the auxiliary bar on in its right position.")),CQ=ct("auxiliarybar-left-layout-icon",he.layoutSidebarLeft,c("toggleAuxiliaryIconLeft","Icon to toggle the auxiliary bar in its left position.")),DQ=ct("auxiliarybar-left-off-layout-icon",he.layoutSidebarLeftOff,c("toggleAuxiliaryIconLeftOn","Icon to toggle the auxiliary bar on in its left position."));class ar extends je{static{VO(this,"ToggleAuxiliaryBarAction")}static ID="workbench.action.toggleAuxiliaryBar";static LABEL=te("toggleAuxiliaryBar","Toggle Secondary Side Bar Visibility");constructor(){super({id:ar.ID,title:ar.LABEL,toggled:{condition:wh,title:c("secondary sidebar","Secondary Side Bar"),mnemonicTitle:c({key:"secondary sidebar mnemonic",comment:["&& denotes a mnemonic"]},"Secondary Si&&de Bar")},category:et.View,f1:!0,keybinding:{weight:Ft.WorkbenchContrib,primary:Ze.CtrlCmd|Ze.Alt|D.KeyB},menu:[{id:_.LayoutControlMenuSubmenu,group:"0_workbench_layout",order:1},{id:_.MenubarAppearanceMenu,group:"2_workbench_layout",order:2}]})}async run(e){const i=e.get(lt);i.setPartHidden(i.isVisible(P.AUXILIARYBAR_PART),P.AUXILIARYBAR_PART)}}Ie(ar);Ie(class X0 extends je{static{VO(this,"FocusAuxiliaryBarAction")}static ID="workbench.action.focusAuxiliaryBar";static LABEL=te("focusAuxiliaryBar","Focus into Secondary Side Bar");constructor(){super({id:X0.ID,title:X0.LABEL,category:et.View,f1:!0})}async run(e){const i=e.get(al),s=e.get(lt);s.isVisible(P.AUXILIARYBAR_PART)||s.setPartHidden(!1,P.AUXILIARYBAR_PART),i.getActivePaneComposite(ne.AuxiliaryBar)?.focus()}});it.appendMenuItems([{id:_.LayoutControlMenu,item:{group:"0_workbench_toggles",command:{id:ar.ID,title:c("toggleSecondarySideBar","Toggle Secondary Side Bar"),toggled:{condition:wh,icon:CQ},icon:DQ},when:H.and(H.or(H.equals("config.workbench.layoutControl.type","toggles"),H.equals("config.workbench.layoutControl.type","both")),H.equals("config.workbench.sideBar.location","right")),order:0}},{id:_.LayoutControlMenu,item:{group:"0_workbench_toggles",command:{id:ar.ID,title:c("toggleSecondarySideBar","Toggle Secondary Side Bar"),toggled:{condition:wh,icon:_Q},icon:SQ},when:H.and(H.or(H.equals("config.workbench.layoutControl.type","toggles"),H.equals("config.workbench.layoutControl.type","both")),H.equals("config.workbench.sideBar.location","left")),order:2}},{id:_.ViewTitleContext,item:{group:"3_workbench_layout_move",command:{id:ar.ID,title:te("hideAuxiliaryBar","Hide Secondary Side Bar")},when:H.and(wh,H.equals("viewLocation",Ts(ne.AuxiliaryBar))),order:2}}]);var AQ=Object.defineProperty,ca=(t,e)=>AQ(t,"name",{value:e,configurable:!0});const EQ=ct("panel-maximize",he.chevronUp,c("maximizeIcon","Icon to maximize a panel.")),IQ=ct("panel-restore",he.chevronDown,c("restoreIcon","Icon to restore a panel.")),HO=ct("panel-close",he.close,c("closeIcon","Icon to close a panel.")),TQ=ct("panel-layout-icon",he.layoutPanel,c("togglePanelOffIcon","Icon to toggle the panel off when it is on.")),kQ=ct("panel-layout-icon-off",he.layoutPanelOff,c("togglePanelOnIcon","Icon to toggle the panel on when it is off."));class il extends je{static{ca(this,"TogglePanelAction")}static ID="workbench.action.togglePanel";static LABEL=te("togglePanelVisibility","Toggle Panel Visibility");constructor(){super({id:il.ID,title:il.LABEL,toggled:{condition:Nu,title:c("toggle panel","Panel"),mnemonicTitle:c({key:"toggle panel mnemonic",comment:["&& denotes a mnemonic"]},"&&Panel")},f1:!0,category:et.View,keybinding:{primary:Ze.CtrlCmd|D.KeyJ,weight:Ft.WorkbenchContrib},menu:[{id:_.MenubarAppearanceMenu,group:"2_workbench_layout",order:5},{id:_.LayoutControlMenuSubmenu,group:"0_workbench_layout",order:4}]})}async run(e){const i=e.get(lt);i.setPartHidden(i.isVisible(P.PANEL_PART),P.PANEL_PART)}}Ie(il);Ie(class extends je{static ID="workbench.action.focusPanel";static LABEL=c("focusPanel","Focus into Panel");constructor(){super({id:"workbench.action.focusPanel",title:te("focusPanel","Focus into Panel"),category:et.View,f1:!0})}async run(t){const e=t.get(lt),i=t.get(al);e.isVisible(P.PANEL_PART)||e.setPartHidden(!1,P.PANEL_PART),i.getActivePaneComposite(ne.Panel)?.focus()}});const fb={LEFT:"workbench.action.positionPanelLeft",RIGHT:"workbench.action.positionPanelRight",BOTTOM:"workbench.action.positionPanelBottom",TOP:"workbench.action.positionPanelTop"},pb={LEFT:"workbench.action.alignPanelLeft",RIGHT:"workbench.action.alignPanelRight",CENTER:"workbench.action.alignPanelCenter",JUSTIFY:"workbench.action.alignPanelJustify"};function kA(t,e,i,s,n){return{id:t,title:e,shortLabel:i,value:s,when:n}}ca(kA,"createPanelActionConfig");function rf(t,e,i,s){return kA(t,e,i,s,rh.notEqualsTo(In(s)))}ca(rf,"createPositionPanelActionConfig");function af(t,e,i,s){return kA(t,e,i,s,Oa.notEqualsTo(s))}ca(af,"createAlignmentPanelActionConfig");const xQ=[rf(fb.TOP,te("positionPanelTop","Move Panel To Top"),c("positionPanelTopShort","Top"),Je.TOP),rf(fb.LEFT,te("positionPanelLeft","Move Panel Left"),c("positionPanelLeftShort","Left"),Je.LEFT),rf(fb.RIGHT,te("positionPanelRight","Move Panel Right"),c("positionPanelRightShort","Right"),Je.RIGHT),rf(fb.BOTTOM,te("positionPanelBottom","Move Panel To Bottom"),c("positionPanelBottomShort","Bottom"),Je.BOTTOM)],LQ=[af(pb.LEFT,te("alignPanelLeft","Set Panel Alignment to Left"),c("alignPanelLeftShort","Left"),"left"),af(pb.RIGHT,te("alignPanelRight","Set Panel Alignment to Right"),c("alignPanelRightShort","Right"),"right"),af(pb.CENTER,te("alignPanelCenter","Set Panel Alignment to Center"),c("alignPanelCenterShort","Center"),"center"),af(pb.JUSTIFY,te("alignPanelJustify","Set Panel Alignment to Justify"),c("alignPanelJustifyShort","Justify"),"justify")];it.appendMenuItem(_.MenubarAppearanceMenu,{submenu:_.PanelPositionMenu,title:c("positionPanel","Panel Position"),group:"3_workbench_layout_move",order:4});xQ.forEach((t,e)=>{const{id:i,title:s,shortLabel:n,value:o,when:r}=t;Ie(class extends je{constructor(){super({id:i,title:s,category:et.View,f1:!0})}run(a){a.get(lt).setPanelPosition(o===void 0?Je.BOTTOM:o)}}),it.appendMenuItem(_.PanelPositionMenu,{command:{id:i,title:n,toggled:r.negate()},order:5+e})});it.appendMenuItem(_.MenubarAppearanceMenu,{submenu:_.PanelAlignmentMenu,title:c("alignPanel","Align Panel"),group:"3_workbench_layout_move",order:5});LQ.forEach(t=>{const{id:e,title:i,shortLabel:s,value:n,when:o}=t;Ie(class extends je{constructor(){super({id:e,title:i,category:et.View,toggled:o.negate(),f1:!0})}run(r){r.get(lt).setPanelAlignment(n===void 0?"center":n)}}),it.appendMenuItem(_.PanelAlignmentMenu,{command:{id:e,title:s,toggled:o.negate()},order:5})});class WO extends je{static{ca(this,"SwitchPanelViewAction")}constructor(e,i){super({id:e,title:i,category:et.View,f1:!0})}async run(e,i){const s=e.get(al),n=s.getVisiblePaneCompositeIds(ne.Panel),o=s.getActivePaneComposite(ne.Panel);if(!o)return;let r;for(let a=0;a<n.length;a++)if(n[a]===o.getId()){r=n[(a+n.length+i)%n.length];break}typeof r=="string"&&await s.openPaneComposite(r,ne.Panel,!0)}}Ie(class extends WO{constructor(){super("workbench.action.previousPanelView",te("previousPanelView","Previous Panel View"))}run(t){return super.run(t,-1)}});Ie(class extends WO{constructor(){super("workbench.action.nextPanelView",te("nextPanelView","Next Panel View"))}run(t){return super.run(t,1)}});Ie(class extends je{constructor(){super({id:"workbench.action.toggleMaximizedPanel",title:te("toggleMaximizedPanel","Toggle Maximized Panel"),tooltip:c("maximizePanel","Maximize Panel Size"),category:et.View,f1:!0,icon:EQ,precondition:H.or(Oa.isEqualTo("center"),H.and(rh.notEqualsTo("bottom"),rh.notEqualsTo("top"))),toggled:{condition:xR,icon:IQ,tooltip:c("minimizePanel","Restore Panel Size")},menu:[{id:_.PanelTitle,group:"navigation",order:1,when:H.or(Oa.isEqualTo("center"),H.and(rh.notEqualsTo("bottom"),rh.notEqualsTo("top")))}]})}run(t){const e=t.get(lt),i=t.get(Ns);if(e.getPanelAlignment()!=="center"&&es(e.getPanelPosition())){i.warn(c("panelMaxNotSupported","Maximizing the panel is only supported when it is center aligned."));return}e.isVisible(P.PANEL_PART)?e.toggleMaximizedPanel():(e.setPartHidden(!1,P.PANEL_PART),e.isPanelMaximized()||e.toggleMaximizedPanel())}});Ie(class extends je{constructor(){super({id:"workbench.action.closePanel",title:te("closePanel","Hide Panel"),category:et.View,icon:HO,menu:[{id:_.CommandPalette,when:Nu},{id:_.PanelTitle,group:"navigation",order:2}]})}run(t){t.get(lt).setPartHidden(!0,P.PANEL_PART)}});Ie(class extends je{constructor(){super({id:"workbench.action.closeAuxiliaryBar",title:te("closeSecondarySideBar","Hide Secondary Side Bar"),category:et.View,icon:HO,menu:[{id:_.CommandPalette,when:wh},{id:_.AuxiliaryBarTitle,group:"navigation",order:2,when:H.notEquals(`config.${We.ACTIVITY_BAR_LOCATION}`,pt.TOP)}]})}run(t){t.get(lt).setPartHidden(!0,P.AUXILIARYBAR_PART)}});it.appendMenuItems([{id:_.LayoutControlMenu,item:{group:"0_workbench_toggles",command:{id:il.ID,title:c("togglePanel","Toggle Panel"),icon:kQ,toggled:{condition:Nu,icon:TQ}},when:H.or(H.equals("config.workbench.layoutControl.type","toggles"),H.equals("config.workbench.layoutControl.type","both")),order:1}},{id:_.ViewTitleContext,item:{group:"3_workbench_layout_move",command:{id:il.ID,title:te("hidePanel","Hide Panel")},when:H.and(Nu,H.equals("viewLocation",Ts(ne.Panel))),order:2}}]);class ry extends je{constructor(e,i,s){super(s),this.source=e,this.destination=i}static{ca(this,"MoveViewsBetweenPanelsAction")}run(e,...i){const s=e.get(fs),n=e.get(lt),o=e.get(Cc),r=s.getViewContainersByLocation(this.source),a=s.getViewContainersByLocation(this.destination);if(r.length){const l=o.getVisibleViewContainer(this.source);r.forEach(h=>s.moveViewContainerToLocation(h,this.destination,void 0,this.desc.id)),n.setPartHidden(!1,this.destination===ne.Panel?P.PANEL_PART:P.AUXILIARYBAR_PART),l&&a.length===0&&o.openViewContainer(l.id,!0)}}}class xA extends ry{static{ca(this,"MovePanelToSidePanelAction")}static ID="workbench.action.movePanelToSidePanel";constructor(){super(ne.Panel,ne.AuxiliaryBar,{id:xA.ID,title:te("movePanelToSecondarySideBar","Move Panel Views To Secondary Side Bar"),category:et.View,f1:!1})}}class LA extends ry{static{ca(this,"MovePanelToSecondarySideBarAction")}static ID="workbench.action.movePanelToSecondarySideBar";constructor(){super(ne.Panel,ne.AuxiliaryBar,{id:LA.ID,title:te("movePanelToSecondarySideBar","Move Panel Views To Secondary Side Bar"),category:et.View,f1:!0})}}Ie(xA);Ie(LA);class PA extends ry{static{ca(this,"MoveSidePanelToPanelAction")}static ID="workbench.action.moveSidePanelToPanel";constructor(){super(ne.AuxiliaryBar,ne.Panel,{id:PA.ID,title:te("moveSidePanelToPanel","Move Secondary Side Bar Views To Panel"),category:et.View,f1:!1})}}class RA extends ry{static{ca(this,"MoveSecondarySideBarToPanelAction")}static ID="workbench.action.moveSecondarySideBarToPanel";constructor(){super(ne.AuxiliaryBar,ne.Panel,{id:RA.ID,title:te("moveSidePanelToPanel","Move Secondary Side Bar Views To Panel"),category:et.View,f1:!0})}}Ie(PA);Ie(RA);var PQ=Object.defineProperty,Nt=(t,e)=>PQ(t,"name",{value:e,configurable:!0});const RQ=ct("menuBar",he.layoutMenubar,c("menuBarIcon","Represents the menu bar")),NQ=ct("activity-bar-left",he.layoutActivitybarLeft,c("activityBarLeft","Represents the activity bar in the left position")),OQ=ct("activity-bar-right",he.layoutActivitybarRight,c("activityBarRight","Represents the activity bar in the right position")),pw=ct("panel-left",he.layoutSidebarLeft,c("panelLeft","Represents a side bar in the left position")),BQ=ct("panel-left-off",he.layoutSidebarLeftOff,c("panelLeftOff","Represents a side bar in the left position toggled off")),mw=ct("panel-right",he.layoutSidebarRight,c("panelRight","Represents side bar in the right position")),MQ=ct("panel-right-off",he.layoutSidebarRightOff,c("panelRightOff","Represents side bar in the right position toggled off")),FQ=ct("panel-bottom",he.layoutPanel,c("panelBottom","Represents the bottom panel")),VQ=ct("statusBar",he.layoutStatusbar,c("statusBarIcon","Represents the status bar")),HQ=ct("panel-align-left",he.layoutPanelLeft,c("panelBottomLeft","Represents the bottom panel alignment set to the left")),WQ=ct("panel-align-right",he.layoutPanelRight,c("panelBottomRight","Represents the bottom panel alignment set to the right")),UQ=ct("panel-align-center",he.layoutPanelCenter,c("panelBottomCenter","Represents the bottom panel alignment set to the center")),zQ=ct("panel-align-justify",he.layoutPanelJustify,c("panelBottomJustify","Represents the bottom panel alignment set to justified")),$Q=ct("fullscreen",he.screenFull,c("fullScreenIcon","Represents full screen")),KQ=ct("centerLayoutIcon",he.layoutCentered,c("centerLayoutIcon","Represents centered layout mode")),GQ=ct("zenMode",he.target,c("zenModeIcon","Represents zen mode"));Ie(class extends je{constructor(){super({id:"workbench.action.closeSidebar",title:te("closeSidebar","Close Primary Side Bar"),category:et.View,f1:!0})}run(t){t.get(lt).setPartHidden(!0,P.SIDEBAR_PART)}});const UO="workbench.action.toggleActivityBarVisibility";Ie(class extends je{constructor(){super({id:"workbench.action.toggleCenteredLayout",title:{...te("toggleCenteredLayout","Toggle Centered Layout"),mnemonicTitle:c({key:"miToggleCenteredLayout",comment:["&& denotes a mnemonic"]},"&&Centered Layout")},precondition:br.toNegated(),category:et.View,f1:!0,toggled:ED,menu:[{id:_.MenubarAppearanceMenu,group:"1_toggle_view",order:3}]})}run(t){const e=t.get(lt);e.centerMainEditorLayout(!e.isMainEditorLayoutCentered())}});const zO="workbench.sideBar.location";class $O extends je{constructor(e,i,s){super({id:e,title:i,f1:!1}),this.position=s}static{Nt(this,"MoveSidebarPositionAction")}async run(e){const i=e.get(lt),s=e.get(Ke);if(i.getSideBarPosition()!==this.position)return s.updateValue(zO,In(this.position))}}class ay extends $O{static{Nt(this,"MoveSidebarRightAction")}static ID="workbench.action.moveSideBarRight";constructor(){super(ay.ID,te("moveSidebarRight","Move Primary Side Bar Right"),Je.RIGHT)}}class ly extends $O{static{Nt(this,"MoveSidebarLeftAction")}static ID="workbench.action.moveSideBarLeft";constructor(){super(ly.ID,te("moveSidebarLeft","Move Primary Side Bar Left"),Je.LEFT)}}Ie(ay);Ie(ly);class Gs extends je{static{Nt(this,"ToggleSidebarPositionAction")}static ID="workbench.action.toggleSidebarPosition";static LABEL=c("toggleSidebarPosition","Toggle Primary Side Bar Position");static getLabel(e){return e.getSideBarPosition()===Je.LEFT?c("moveSidebarRight","Move Primary Side Bar Right"):c("moveSidebarLeft","Move Primary Side Bar Left")}constructor(){super({id:Gs.ID,title:te("toggleSidebarPosition","Toggle Primary Side Bar Position"),category:et.View,f1:!0})}run(e){const i=e.get(lt),s=e.get(Ke),o=i.getSideBarPosition()===Je.LEFT?"right":"left";return s.updateValue(zO,o)}}Ie(Gs);const KO=ct("configure-layout-icon",he.layout,c("cofigureLayoutIcon","Icon represents workbench layout configuration."));it.appendMenuItem(_.LayoutControlMenu,{submenu:_.LayoutControlMenuSubmenu,title:c("configureLayout","Configure Layout"),icon:KO,group:"1_workbench_layout",when:H.equals("config.workbench.layoutControl.type","menu")});it.appendMenuItems([{id:_.ViewContainerTitleContext,item:{group:"3_workbench_layout_move",command:{id:Gs.ID,title:c("move side bar right","Move Primary Side Bar Right")},when:H.and(H.notEquals("config.workbench.sideBar.location","right"),H.equals("viewContainerLocation",Ts(ne.Sidebar))),order:1}},{id:_.ViewTitleContext,item:{group:"3_workbench_layout_move",command:{id:Gs.ID,title:c("move sidebar right","Move Primary Side Bar Right")},when:H.and(H.notEquals("config.workbench.sideBar.location","right"),H.equals("viewLocation",Ts(ne.Sidebar))),order:1}},{id:_.ViewContainerTitleContext,item:{group:"3_workbench_layout_move",command:{id:Gs.ID,title:c("move sidebar left","Move Primary Side Bar Left")},when:H.and(H.equals("config.workbench.sideBar.location","right"),H.equals("viewContainerLocation",Ts(ne.Sidebar))),order:1}},{id:_.ViewTitleContext,item:{group:"3_workbench_layout_move",command:{id:Gs.ID,title:c("move sidebar left","Move Primary Side Bar Left")},when:H.and(H.equals("config.workbench.sideBar.location","right"),H.equals("viewLocation",Ts(ne.Sidebar))),order:1}},{id:_.ViewTitleContext,item:{group:"3_workbench_layout_move",command:{id:Gs.ID,title:c("move second sidebar left","Move Secondary Side Bar Left")},when:H.and(H.notEquals("config.workbench.sideBar.location","right"),H.equals("viewLocation",Ts(ne.AuxiliaryBar))),order:1}},{id:_.ViewTitleContext,item:{group:"3_workbench_layout_move",command:{id:Gs.ID,title:c("move second sidebar right","Move Secondary Side Bar Right")},when:H.and(H.equals("config.workbench.sideBar.location","right"),H.equals("viewLocation",Ts(ne.AuxiliaryBar))),order:1}}]);it.appendMenuItem(_.MenubarAppearanceMenu,{group:"3_workbench_layout_move",command:{id:Gs.ID,title:c({key:"miMoveSidebarRight",comment:["&& denotes a mnemonic"]},"&&Move Primary Side Bar Right")},when:H.notEquals("config.workbench.sideBar.location","right"),order:2});it.appendMenuItem(_.MenubarAppearanceMenu,{group:"3_workbench_layout_move",command:{id:Gs.ID,title:c({key:"miMoveSidebarLeft",comment:["&& denotes a mnemonic"]},"&&Move Primary Side Bar Left")},when:H.equals("config.workbench.sideBar.location","right"),order:2});Ie(class extends je{constructor(){super({id:"workbench.action.toggleEditorVisibility",title:{...te("toggleEditor","Toggle Editor Area Visibility"),mnemonicTitle:c({key:"miShowEditorArea",comment:["&& denotes a mnemonic"]},"Show &&Editor Area")},category:et.View,f1:!0,toggled:TR,precondition:H.and(br.toNegated(),H.or(Oa.isEqualTo("center"),rh.notEqualsTo("bottom")))})}run(t){t.get(lt).toggleMaximizedPanel()}});it.appendMenuItem(_.MenubarViewMenu,{group:"2_appearance",title:c({key:"miAppearance",comment:["&& denotes a mnemonic"]},"&&Appearance"),submenu:_.MenubarAppearanceMenu,order:1});class ql extends je{static{Nt(this,"ToggleSidebarVisibilityAction")}static ID="workbench.action.toggleSidebarVisibility";constructor(){super({id:ql.ID,title:te("toggleSidebar","Toggle Primary Side Bar Visibility"),toggled:{condition:oh,title:c("primary sidebar","Primary Side Bar"),mnemonicTitle:c({key:"primary sidebar mnemonic",comment:["&& denotes a mnemonic"]},"&&Primary Side Bar")},category:et.View,f1:!0,keybinding:{weight:Ft.WorkbenchContrib,primary:Ze.CtrlCmd|D.KeyB},menu:[{id:_.LayoutControlMenuSubmenu,group:"0_workbench_layout",order:0},{id:_.MenubarAppearanceMenu,group:"2_workbench_layout",order:1}]})}run(e){const i=e.get(lt);i.setPartHidden(i.isVisible(P.SIDEBAR_PART),P.SIDEBAR_PART)}}Ie(ql);it.appendMenuItems([{id:_.ViewContainerTitleContext,item:{group:"3_workbench_layout_move",command:{id:ql.ID,title:c("compositePart.hideSideBarLabel","Hide Primary Side Bar")},when:H.and(oh,H.equals("viewContainerLocation",Ts(ne.Sidebar))),order:2}},{id:_.ViewTitleContext,item:{group:"3_workbench_layout_move",command:{id:ql.ID,title:c("compositePart.hideSideBarLabel","Hide Primary Side Bar")},when:H.and(oh,H.equals("viewLocation",Ts(ne.Sidebar))),order:2}},{id:_.LayoutControlMenu,item:{group:"0_workbench_toggles",command:{id:ql.ID,title:c("toggleSideBar","Toggle Primary Side Bar"),icon:BQ,toggled:{condition:oh,icon:pw}},when:H.and(H.or(H.equals("config.workbench.layoutControl.type","toggles"),H.equals("config.workbench.layoutControl.type","both")),H.equals("config.workbench.sideBar.location","left")),order:0}},{id:_.LayoutControlMenu,item:{group:"0_workbench_toggles",command:{id:ql.ID,title:c("toggleSideBar","Toggle Primary Side Bar"),icon:MQ,toggled:{condition:oh,icon:mw}},when:H.and(H.or(H.equals("config.workbench.layoutControl.type","toggles"),H.equals("config.workbench.layoutControl.type","both")),H.equals("config.workbench.sideBar.location","right")),order:2}}]);class Cp extends je{static{Nt(this,"ToggleStatusbarVisibilityAction")}static ID="workbench.action.toggleStatusbarVisibility";static statusbarVisibleKey="workbench.statusBar.visible";constructor(){super({id:Cp.ID,title:{...te("toggleStatusbar","Toggle Status Bar Visibility"),mnemonicTitle:c({key:"miStatusbar",comment:["&& denotes a mnemonic"]},"S&&tatus Bar")},category:et.View,f1:!0,toggled:H.equals("config.workbench.statusBar.visible",!0),menu:[{id:_.MenubarAppearanceMenu,group:"2_workbench_layout",order:3}]})}run(e){const i=e.get(lt),s=e.get(Ke),o=!i.isVisible(P.STATUSBAR_PART,Q);return s.updateValue(Cp.statusbarVisibleKey,o)}}Ie(Cp);class yg extends je{constructor(e,i,s,n,o,r){super({id:n,title:s,category:et.View,precondition:o,metadata:r?{description:r}:void 0,f1:!0}),this.settingName=e,this.value=i}static{Nt(this,"AbstractSetShowTabsAction")}run(e){return e.get(Ke).updateValue(this.settingName,this.value)}}class NA extends yg{static{Nt(this,"HideEditorTabsAction")}static ID="workbench.action.hideEditorTabs";constructor(){const e=H.and(H.equals(`config.${We.EDITOR_TABS_MODE}`,fn.NONE).negate(),ao.negate()),i=te("hideEditorTabs","Hide Editor Tabs");super(We.EDITOR_TABS_MODE,fn.NONE,i,NA.ID,e,te("hideEditorTabsDescription","Hide Tab Bar"))}}class OA extends yg{static{Nt(this,"ZenHideEditorTabsAction")}static ID="workbench.action.zenHideEditorTabs";constructor(){const e=H.and(H.equals(`config.${xi.SHOW_TABS}`,fn.NONE).negate(),ao),i=te("hideEditorTabsZenMode","Hide Editor Tabs in Zen Mode");super(xi.SHOW_TABS,fn.NONE,i,OA.ID,e,te("hideEditorTabsZenModeDescription","Hide Tab Bar in Zen Mode"))}}class BA extends yg{static{Nt(this,"ShowMultipleEditorTabsAction")}static ID="workbench.action.showMultipleEditorTabs";constructor(){const e=H.and(H.equals(`config.${We.EDITOR_TABS_MODE}`,fn.MULTIPLE).negate(),ao.negate()),i=te("showMultipleEditorTabs","Show Multiple Editor Tabs");super(We.EDITOR_TABS_MODE,fn.MULTIPLE,i,BA.ID,e,te("showMultipleEditorTabsDescription","Show Tab Bar with multiple tabs"))}}class MA extends yg{static{Nt(this,"ZenShowMultipleEditorTabsAction")}static ID="workbench.action.zenShowMultipleEditorTabs";constructor(){const e=H.and(H.equals(`config.${xi.SHOW_TABS}`,fn.MULTIPLE).negate(),ao),i=te("showMultipleEditorTabsZenMode","Show Multiple Editor Tabs in Zen Mode");super(xi.SHOW_TABS,fn.MULTIPLE,i,MA.ID,e,te("showMultipleEditorTabsZenModeDescription","Show Tab Bar in Zen Mode"))}}class FA extends yg{static{Nt(this,"ShowSingleEditorTabAction")}static ID="workbench.action.showEditorTab";constructor(){const e=H.and(H.equals(`config.${We.EDITOR_TABS_MODE}`,fn.SINGLE).negate(),ao.negate()),i=te("showSingleEditorTab","Show Single Editor Tab");super(We.EDITOR_TABS_MODE,fn.SINGLE,i,FA.ID,e,te("showSingleEditorTabDescription","Show Tab Bar with one Tab"))}}class VA extends yg{static{Nt(this,"ZenShowSingleEditorTabAction")}static ID="workbench.action.zenShowEditorTab";constructor(){const e=H.and(H.equals(`config.${xi.SHOW_TABS}`,fn.SINGLE).negate(),ao),i=te("showSingleEditorTabZenMode","Show Single Editor Tab in Zen Mode");super(xi.SHOW_TABS,fn.SINGLE,i,VA.ID,e,te("showSingleEditorTabZenModeDescription","Show Tab Bar in Zen Mode with one Tab"))}}Ie(NA);Ie(OA);Ie(BA);Ie(MA);Ie(FA);Ie(VA);it.appendMenuItem(_.MenubarAppearanceMenu,{submenu:_.EditorTabsBarShowTabsSubmenu,title:c("tabBar","Tab Bar"),group:"3_workbench_layout_move",order:10,when:ao.negate()});it.appendMenuItem(_.MenubarAppearanceMenu,{submenu:_.EditorTabsBarShowTabsZenModeSubmenu,title:c("tabBar","Tab Bar"),group:"3_workbench_layout_move",order:10,when:ao});class HA extends je{static{Nt(this,"EditorActionsTitleBarAction")}static ID="workbench.action.editorActionsTitleBar";constructor(){super({id:HA.ID,title:te("moveEditorActionsToTitleBar","Move Editor Actions to Title Bar"),category:et.View,precondition:H.equals(`config.${We.EDITOR_ACTIONS_LOCATION}`,Qr.TITLEBAR).negate(),metadata:{description:te("moveEditorActionsToTitleBarDescription","Move Editor Actions from the tab bar to the title bar")},f1:!0})}run(e){return e.get(Ke).updateValue(We.EDITOR_ACTIONS_LOCATION,Qr.TITLEBAR)}}Ie(HA);class WA extends je{static{Nt(this,"EditorActionsDefaultAction")}static ID="workbench.action.editorActionsDefault";constructor(){super({id:WA.ID,title:te("moveEditorActionsToTabBar","Move Editor Actions to Tab Bar"),category:et.View,precondition:H.and(H.equals(`config.${We.EDITOR_ACTIONS_LOCATION}`,Qr.DEFAULT).negate(),H.equals(`config.${We.EDITOR_TABS_MODE}`,fn.NONE).negate()),metadata:{description:te("moveEditorActionsToTabBarDescription","Move Editor Actions from the title bar to the tab bar")},f1:!0})}run(e){return e.get(Ke).updateValue(We.EDITOR_ACTIONS_LOCATION,Qr.DEFAULT)}}Ie(WA);class UA extends je{static{Nt(this,"HideEditorActionsAction")}static ID="workbench.action.hideEditorActions";constructor(){super({id:UA.ID,title:te("hideEditorActons","Hide Editor Actions"),category:et.View,precondition:H.equals(`config.${We.EDITOR_ACTIONS_LOCATION}`,Qr.HIDDEN).negate(),metadata:{description:te("hideEditorActonsDescription","Hide Editor Actions in the tab and title bar")},f1:!0})}run(e){return e.get(Ke).updateValue(We.EDITOR_ACTIONS_LOCATION,Qr.HIDDEN)}}Ie(UA);class zA extends je{static{Nt(this,"ShowEditorActionsAction")}static ID="workbench.action.showEditorActions";constructor(){super({id:zA.ID,title:te("showEditorActons","Show Editor Actions"),category:et.View,precondition:H.equals(`config.${We.EDITOR_ACTIONS_LOCATION}`,Qr.HIDDEN),metadata:{description:te("showEditorActonsDescription","Make Editor Actions visible.")},f1:!0})}run(e){return e.get(Ke).updateValue(We.EDITOR_ACTIONS_LOCATION,Qr.DEFAULT)}}Ie(zA);it.appendMenuItem(_.MenubarAppearanceMenu,{submenu:_.EditorActionsPositionSubmenu,title:c("editorActionsPosition","Editor Actions Position"),group:"3_workbench_layout_move",order:11});class $A extends je{static{Nt(this,"ConfigureEditorTabsAction")}static ID="workbench.action.configureEditorTabs";constructor(){super({id:$A.ID,title:te("configureTabs","Configure Tabs"),category:et.View})}run(e){e.get(TA).openSettings({jsonEditor:!1,query:"workbench.editor tab"})}}Ie($A);class KA extends je{static{Nt(this,"ConfigureEditorAction")}static ID="workbench.action.configureEditor";constructor(){super({id:KA.ID,title:te("configureEditors","Configure Editors"),category:et.View})}run(e){e.get(TA).openSettings({jsonEditor:!1,query:"workbench.editor"})}}Ie(KA);Ie(class extends je{constructor(){super({id:"workbench.action.toggleSeparatePinnedEditorTabs",title:te("toggleSeparatePinnedEditorTabs","Separate Pinned Editor Tabs"),category:et.View,precondition:H.equals(`config.${We.EDITOR_TABS_MODE}`,fn.MULTIPLE),metadata:{description:te("toggleSeparatePinnedEditorTabsDescription","Toggle whether pinned editor tabs are shown on a separate row above unpinned tabs.")},f1:!0})}run(t){const e=t.get(Ke),s=!e.getValue("workbench.editor.pinnedTabsOnSeparateRow");return e.updateValue("workbench.editor.pinnedTabsOnSeparateRow",s)}});Ie(class extends je{constructor(){super({id:"workbench.action.toggleZenMode",title:{...te("toggleZenMode","Toggle Zen Mode"),mnemonicTitle:c({key:"miToggleZenMode",comment:["&& denotes a mnemonic"]},"Zen Mode")},precondition:br.toNegated(),category:et.View,f1:!0,keybinding:{weight:Ft.WorkbenchContrib,primary:ol(Ze.CtrlCmd|D.KeyK,D.KeyZ)},toggled:ao,menu:[{id:_.MenubarAppearanceMenu,group:"1_toggle_view",order:2}]})}run(t){return t.get(lt).toggleZenMode()}});Gi.registerCommandAndKeybindingRule({id:"workbench.action.exitZenMode",weight:Ft.EditorContrib-1e3,handler(t){const e=t.get(lt),i=t.get(Qe);ao.getValue(i)&&e.toggleZenMode()},when:ao,primary:ol(D.Escape,D.Escape)});if(Lt||Ni||Qt){Ie(class extends je{static{Nt(this,"ToggleMenubarAction")}constructor(){super({id:"workbench.action.toggleMenuBar",title:{...te("toggleMenuBar","Toggle Menu Bar"),mnemonicTitle:c({key:"miMenuBar",comment:["&& denotes a mnemonic"]},"Menu &&Bar")},category:et.View,f1:!0,toggled:H.and(Ru.toNegated(),H.notEquals("config.window.menuBarVisibility","hidden"),H.notEquals("config.window.menuBarVisibility","toggle"),H.notEquals("config.window.menuBarVisibility","compact")),menu:[{id:_.MenubarAppearanceMenu,group:"2_workbench_layout",order:0}]})}run(e){return e.get(lt).toggleMenuBar()}});for(const t of[_.TitleBarContext,_.TitleBarTitleContext])it.appendMenuItem(t,{command:{id:"workbench.action.toggleMenuBar",title:c("miMenuBarNoMnemonic","Menu Bar"),toggled:H.and(Ru.toNegated(),H.notEquals("config.window.menuBarVisibility","hidden"),H.notEquals("config.window.menuBarVisibility","toggle"),H.notEquals("config.window.menuBarVisibility","compact"))},when:H.and(br.toNegated(),H.notEquals(kR.key,bR.NATIVE),V1.negate()),group:"2_config",order:0})}Ie(class extends je{constructor(){super({id:"workbench.action.resetViewLocations",title:te("resetViewLocations","Reset View Locations"),category:et.View,f1:!0})}run(t){return t.get(fs).reset()}});Ie(class extends je{constructor(){super({id:"workbench.action.moveView",title:te("moveView","Move View"),category:et.View,f1:!0})}async run(t){const e=t.get(fs),i=t.get(rt),s=t.get(wg),n=t.get(Qe),o=t.get(al),r=Jr.getValue(n);let a;r&&e.getViewDescriptorById(r)?.canMoveView&&(a=r);try{if(a=await this.getView(s,e,o,a),!a)return;const l=new GO;i.invokeFunction(h=>l.run(h,a))}catch{}}getViewItems(t,e){const i=[];return e.getVisiblePaneCompositeIds(ne.Sidebar).forEach(r=>{const a=t.getViewContainerById(r),l=t.getViewContainerModel(a);let h=!1;l.visibleViewDescriptors.forEach(d=>{d.canMoveView&&(h||(i.push({type:"separator",label:c("sidebarContainer","Side Bar / {0}",l.title)}),h=!0),i.push({id:d.id,label:d.name.value}))})}),e.getPinnedPaneCompositeIds(ne.Panel).forEach(r=>{const a=t.getViewContainerById(r),l=t.getViewContainerModel(a);let h=!1;l.visibleViewDescriptors.forEach(d=>{d.canMoveView&&(h||(i.push({type:"separator",label:c("panelContainer","Panel / {0}",l.title)}),h=!0),i.push({id:d.id,label:d.name.value}))})}),e.getPinnedPaneCompositeIds(ne.AuxiliaryBar).forEach(r=>{const a=t.getViewContainerById(r),l=t.getViewContainerModel(a);let h=!1;l.visibleViewDescriptors.forEach(d=>{d.canMoveView&&(h||(i.push({type:"separator",label:c("secondarySideBarContainer","Secondary Side Bar / {0}",l.title)}),h=!0),i.push({id:d.id,label:d.name.value}))})}),i}async getView(t,e,i,s){const n=new Z,o=n.add(t.createQuickPick({useSeparators:!0}));return o.placeholder=c("moveFocusedView.selectView","Select a View to Move"),o.items=this.getViewItems(e,i),o.selectedItems=o.items.filter(r=>r.id===s),new Promise((r,a)=>{n.add(o.onDidAccept(()=>{const l=o.selectedItems[0];l.id?r(l.id):a(),o.hide()})),n.add(o.onDidHide(()=>{n.dispose(),a()})),o.show()})}});class GO extends je{static{Nt(this,"MoveFocusedViewAction")}constructor(){super({id:"workbench.action.moveFocusedView",title:te("moveFocusedView","Move Focused View"),category:et.View,precondition:Jr.notEqualsTo(""),f1:!0})}run(e,i){const s=e.get(fs),n=e.get(Cc),o=e.get(wg),r=e.get(Qe),a=e.get(rl),l=e.get(al),h=i||Jr.getValue(r);if(h===void 0||h.trim()===""){a.error(c("moveFocusedView.error.noFocusedView","There is no view currently focused."));return}const d=s.getViewDescriptorById(h);if(!d||!d.canMoveView){a.error(c("moveFocusedView.error.nonMovableView","The currently focused view is not movable."));return}const u=new Z,g=u.add(o.createQuickPick({useSeparators:!0}));g.placeholder=c("moveFocusedView.selectDestination","Select a Destination for the View"),g.title=c({key:"moveFocusedView.title",comment:["{0} indicates the title of the view the user has selected to move."]},"View: Move {0}",d.name.value);const p=[],m=s.getViewContainerByViewId(h),b=s.getViewLocationById(h),C=s.getViewContainerModel(m).allViewDescriptors.length===1;C&&b===ne.Panel||p.push({id:"_.panel.newcontainer",label:c({key:"moveFocusedView.newContainerInPanel",comment:["Creates a new top-level tab in the panel."]},"New Panel Entry")}),C&&b===ne.Sidebar||p.push({id:"_.sidebar.newcontainer",label:c("moveFocusedView.newContainerInSidebar","New Side Bar Entry")}),C&&b===ne.AuxiliaryBar||p.push({id:"_.auxiliarybar.newcontainer",label:c("moveFocusedView.newContainerInSidePanel","New Secondary Side Bar Entry")}),p.push({type:"separator",label:c("sidebar","Side Bar")});const x=l.getVisiblePaneCompositeIds(ne.Sidebar);p.push(...x.filter(B=>B===s.getViewContainerByViewId(h).id?!1:!s.getViewContainerById(B).rejectAddedViews).map(B=>({id:B,label:s.getViewContainerModel(s.getViewContainerById(B)).title}))),p.push({type:"separator",label:c("panel","Panel")});const E=l.getPinnedPaneCompositeIds(ne.Panel);p.push(...E.filter(B=>B===s.getViewContainerByViewId(h).id?!1:!s.getViewContainerById(B).rejectAddedViews).map(B=>({id:B,label:s.getViewContainerModel(s.getViewContainerById(B)).title}))),p.push({type:"separator",label:c("secondarySideBar","Secondary Side Bar")});const F=l.getPinnedPaneCompositeIds(ne.AuxiliaryBar);p.push(...F.filter(B=>B===s.getViewContainerByViewId(h).id?!1:!s.getViewContainerById(B).rejectAddedViews).map(B=>({id:B,label:s.getViewContainerModel(s.getViewContainerById(B)).title}))),g.items=p,u.add(g.onDidAccept(()=>{const B=g.selectedItems[0];B.id==="_.panel.newcontainer"?(s.moveViewToLocation(d,ne.Panel,this.desc.id),n.openView(h,!0)):B.id==="_.sidebar.newcontainer"?(s.moveViewToLocation(d,ne.Sidebar,this.desc.id),n.openView(h,!0)):B.id==="_.auxiliarybar.newcontainer"?(s.moveViewToLocation(d,ne.AuxiliaryBar,this.desc.id),n.openView(h,!0)):B.id&&(s.moveViewsToContainer([d],s.getViewContainerById(B.id),void 0,this.desc.id),n.openView(h,!0)),g.hide()})),u.add(g.onDidHide(()=>u.dispose())),g.show()}}Ie(GO);Ie(class extends je{constructor(){super({id:"workbench.action.resetFocusedViewLocation",title:te("resetFocusedViewLocation","Reset Focused View Location"),category:et.View,f1:!0,precondition:Jr.notEqualsTo("")})}run(t){const e=t.get(fs),i=t.get(Qe),s=t.get(rl),n=t.get(Cc),o=Jr.getValue(i);let r=null;if(o!==void 0&&o.trim()!==""&&(r=e.getViewDescriptorById(o)),!r){s.error(c("resetFocusedView.error.noFocusedView","There is no view currently focused."));return}const a=e.getDefaultContainerById(r.id);!a||a===e.getViewContainerByViewId(r.id)||(e.moveViewsToContainer([r],a,void 0,this.desc.id),n.openView(r.id,!0))}});class xn extends je{static{Nt(this,"BaseResizeViewAction")}static RESIZE_INCREMENT=60;resizePart(e,i,s,n){let o;if(n===void 0){const r=s.hasFocus(P.EDITOR_PART),a=s.hasFocus(P.SIDEBAR_PART),l=s.hasFocus(P.PANEL_PART),h=s.hasFocus(P.AUXILIARYBAR_PART);a?o=P.SIDEBAR_PART:l?o=P.PANEL_PART:r?o=P.EDITOR_PART:h&&(o=P.AUXILIARYBAR_PART)}else o=n;o&&s.resizePart(o,e,i)}}class jQ extends xn{static{Nt(this,"IncreaseViewSizeAction")}constructor(){super({id:"workbench.action.increaseViewSize",title:te("increaseViewSize","Increase Current View Size"),f1:!0,precondition:br.toNegated()})}run(e){this.resizePart(xn.RESIZE_INCREMENT,xn.RESIZE_INCREMENT,e.get(lt))}}class qQ extends xn{static{Nt(this,"IncreaseViewWidthAction")}constructor(){super({id:"workbench.action.increaseViewWidth",title:te("increaseEditorWidth","Increase Editor Width"),f1:!0,precondition:br.toNegated()})}run(e){this.resizePart(xn.RESIZE_INCREMENT,0,e.get(lt),P.EDITOR_PART)}}class YQ extends xn{static{Nt(this,"IncreaseViewHeightAction")}constructor(){super({id:"workbench.action.increaseViewHeight",title:te("increaseEditorHeight","Increase Editor Height"),f1:!0,precondition:br.toNegated()})}run(e){this.resizePart(0,xn.RESIZE_INCREMENT,e.get(lt),P.EDITOR_PART)}}class XQ extends xn{static{Nt(this,"DecreaseViewSizeAction")}constructor(){super({id:"workbench.action.decreaseViewSize",title:te("decreaseViewSize","Decrease Current View Size"),f1:!0,precondition:br.toNegated()})}run(e){this.resizePart(-xn.RESIZE_INCREMENT,-xn.RESIZE_INCREMENT,e.get(lt))}}class ZQ extends xn{static{Nt(this,"DecreaseViewWidthAction")}constructor(){super({id:"workbench.action.decreaseViewWidth",title:te("decreaseEditorWidth","Decrease Editor Width"),f1:!0,precondition:br.toNegated()})}run(e){this.resizePart(-xn.RESIZE_INCREMENT,0,e.get(lt),P.EDITOR_PART)}}class QQ extends xn{static{Nt(this,"DecreaseViewHeightAction")}constructor(){super({id:"workbench.action.decreaseViewHeight",title:te("decreaseEditorHeight","Decrease Editor Height"),f1:!0,precondition:br.toNegated()})}run(e){this.resizePart(0,-xn.RESIZE_INCREMENT,e.get(lt),P.EDITOR_PART)}}Ie(jQ);Ie(qQ);Ie(YQ);Ie(XQ);Ie(ZQ);Ie(QQ);function jO(t){return t.iconA!==void 0}Nt(jO,"isContextualLayoutVisualIcon");const Td=Nt((t,e,i,s)=>({id:t,active:e,label:i,visualIcon:s,activeIcon:he.eye,inactiveIcon:he.eyeClosed,activeAriaLabel:c("selectToHide","Select to Hide"),inactiveAriaLabel:c("selectToShow","Select to Show"),useButtons:!0}),"CreateToggleLayoutItem"),Fa=Nt((t,e,i,s)=>({id:t,active:e,label:i,visualIcon:s,activeIcon:he.check,activeAriaLabel:c("active","Active"),useButtons:!1}),"CreateOptionLayoutItem"),JQ=H.and(Ru.toNegated(),H.notEquals("config.window.menuBarVisibility","hidden"),H.notEquals("config.window.menuBarVisibility","toggle"),H.notEquals("config.window.menuBarVisibility","compact")),cy=[];(!He||!dn)&&cy.push(Td("workbench.action.toggleMenuBar",JQ,c("menuBar","Menu Bar"),RQ));cy.push(Td(UO,H.notEquals("config.workbench.activityBar.location","hidden"),c("activityBar","Activity Bar"),{whenA:H.equals("config.workbench.sideBar.location","left"),iconA:NQ,iconB:OQ}),Td(ql.ID,oh,c("sideBar","Primary Side Bar"),{whenA:H.equals("config.workbench.sideBar.location","left"),iconA:pw,iconB:mw}),Td(ar.ID,wh,c("secondarySideBar","Secondary Side Bar"),{whenA:H.equals("config.workbench.sideBar.location","left"),iconA:mw,iconB:pw}),Td(il.ID,Nu,c("panel","Panel"),FQ),Td(Cp.ID,H.equals("config.workbench.statusBar.visible",!0),c("statusBar","Status Bar"),VQ));const qO=[Fa(ly.ID,H.equals("config.workbench.sideBar.location","left"),c("leftSideBar","Left"),pw),Fa(ay.ID,H.equals("config.workbench.sideBar.location","right"),c("rightSideBar","Right"),mw)],YO=[Fa("workbench.action.alignPanelLeft",Oa.isEqualTo("left"),c("leftPanel","Left"),HQ),Fa("workbench.action.alignPanelRight",Oa.isEqualTo("right"),c("rightPanel","Right"),WQ),Fa("workbench.action.alignPanelCenter",Oa.isEqualTo("center"),c("centerPanel","Center"),UQ),Fa("workbench.action.alignPanelJustify",Oa.isEqualTo("justify"),c("justifyPanel","Justify"),zQ)],XO=[Fa("workbench.action.toggleFullScreen",V1,c("fullscreen","Full Screen"),$Q),Fa("workbench.action.toggleZenMode",ao,c("zenMode","Zen Mode"),GQ),Fa("workbench.action.toggleCenteredLayout",ED,c("centeredLayout","Centered Layout"),KQ)],ZO=new Set;for(const{active:t}of[...cy,...qO,...YO,...XO])for(const e of t.keys())ZO.add(e);Ie(class extends je{static{Nt(this,"CustomizeLayoutAction")}_currentQuickPick;constructor(){super({id:"workbench.action.customizeLayout",title:te("customizeLayout","Customize Layout..."),f1:!0,icon:KO,menu:[{id:_.LayoutControlMenuSubmenu,group:"z_end"},{id:_.LayoutControlMenu,when:H.equals("config.workbench.layoutControl.type","both"),group:"z_end"}]})}getItems(e,i){const s=Nt(n=>{const o=n.active.evaluate(e.getContext(null));let r=n.useButtons?n.label:n.label+(o&&n.activeIcon?` $(${n.activeIcon.id})`:!o&&n.inactiveIcon?` $(${n.inactiveIcon.id})`:"");const a=n.label+(o&&n.activeAriaLabel?` (${n.activeAriaLabel})`:!o&&n.inactiveAriaLabel?` (${n.inactiveAriaLabel})`:"");if(n.visualIcon){let h=n.visualIcon;jO(h)&&(h=h.whenA.evaluate(e.getContext(null))?h.iconA:h.iconB),r=`$(${h.id}) ${r}`}const l=o?n.activeIcon:n.inactiveIcon;return{type:"item",id:n.id,label:r,ariaLabel:a,keybinding:i.lookupKeybinding(n.id,e),buttons:n.useButtons?[{alwaysVisible:!1,tooltip:a,iconClass:l?Ae.asClassName(l):void 0}]:void 0}},"toQuickPickItem");return[{type:"separator",label:c("toggleVisibility","Visibility")},...cy.map(s),{type:"separator",label:c("sideBarPosition","Primary Side Bar Position")},...qO.map(s),{type:"separator",label:c("panelAlignment","Panel Alignment")},...YO.map(s),{type:"separator",label:c("layoutModes","Modes")},...XO.map(s)]}run(e){if(this._currentQuickPick){this._currentQuickPick.hide();return}const i=e.get(Ke),s=e.get(Qe),n=e.get(Hi),o=e.get(wg),r=e.get(qt),a=new Z,l=a.add(o.createQuickPick({useSeparators:!0}));this._currentQuickPick=l,l.items=this.getItems(s,r),l.ignoreFocusOut=!0,l.hideInput=!0,l.title=c("customizeLayoutQuickPickTitle","Customize Layout");const h={alwaysVisible:!0,iconClass:Ae.asClassName(he.close),tooltip:c("close","Close")},d={alwaysVisible:!0,iconClass:Ae.asClassName(he.discard),tooltip:c("restore defaults","Restore Defaults")};l.buttons=[d,h];let u;a.add(s.onDidChangeContext(g=>{g.affectsSome(ZO)&&(l.items=this.getItems(s,r),u&&(l.activeItems=l.items.filter(p=>p.id===u?.id)),setTimeout(()=>o.focus(),0))})),a.add(l.onDidAccept(g=>{l.selectedItems.length&&(u=l.selectedItems[0],n.executeCommand(u.id))})),a.add(l.onDidTriggerItemButton(g=>{g.item&&(u=g.item,n.executeCommand(u.id))})),a.add(l.onDidTriggerButton(g=>{if(g===h)l.hide();else if(g===d){const p=Nt(m=>{const b=i.inspect(m);i.updateValue(m,b.defaultValue)},"resetSetting");p("workbench.activityBar.location"),p("workbench.sideBar.location"),p("workbench.statusBar.visible"),p("workbench.panel.defaultLocation"),(!He||!dn)&&p("window.menuBarVisibility"),n.executeCommand("workbench.action.alignPanelCenter")}})),a.add(l.onDidHide(()=>{l.dispose()})),a.add(l.onDispose(()=>{this._currentQuickPick=void 0,a.dispose()})),l.show()}});var eJ=Object.defineProperty,t_=(t,e)=>eJ(t,"name",{value:e,configurable:!0});class tJ extends q{constructor(e){if(super(),this.channelName=e,"BroadcastChannel"in Q)try{this.broadcastChannel=new BroadcastChannel(e);const i=t_(s=>{this._onDidReceiveData.fire(s.data)},"listener");this.broadcastChannel.addEventListener("message",i),this._register(Se(()=>{this.broadcastChannel&&(this.broadcastChannel.removeEventListener("message",i),this.broadcastChannel.close())}))}catch(i){console.warn("Error while creating broadcast channel. Falling back to localStorage.",MS(i))}this.broadcastChannel||(this.channelName=`BroadcastDataChannel.${e}`,this.createBroadcastChannel())}static{t_(this,"BroadcastDataChannel")}broadcastChannel;_onDidReceiveData=this._register(new I);onDidReceiveData=this._onDidReceiveData.event;createBroadcastChannel(){const e=t_(i=>{i.key===this.channelName&&i.newValue&&this._onDidReceiveData.fire(JSON.parse(i.newValue))},"listener");Q.addEventListener("storage",e),this._register(Se(()=>Q.removeEventListener("storage",e)))}postData(e){this.broadcastChannel?this.broadcastChannel.postMessage(e):(localStorage.removeItem(this.channelName),localStorage.setItem(this.channelName,JSON.stringify(e)))}}var iJ=Object.defineProperty,to=(t,e)=>iJ(t,"name",{value:e,configurable:!0});function sJ(t){return{asString:to(async()=>t,"asString"),asFile:to(()=>{},"asFile"),value:typeof t=="string"?t:void 0}}to(sJ,"createStringDataTransferItem");function nJ(t,e,i){const s={id:jv(),name:t,uri:e,data:i};return{asString:to(async()=>"","asString"),asFile:to(()=>s,"asFile"),value:void 0}}to(nJ,"createFileDataTransferItem");class Roe{static{to(this,"VSDataTransfer")}_entries=new Map;get size(){let e=0;for(const i of this._entries)e++;return e}has(e){return this._entries.has(this.toKey(e))}matches(e){const i=[...this._entries.keys()];return ut.some(this,([s,n])=>n.asFile())&&i.push("files"),GA(Dp(e),i)}get(e){return this._entries.get(this.toKey(e))?.[0]}append(e,i){const s=this._entries.get(e);s?s.push(i):this._entries.set(this.toKey(e),[i])}replace(e,i){this._entries.set(this.toKey(e),[i])}delete(e){this._entries.delete(this.toKey(e))}*[Symbol.iterator](){for(const[e,i]of this._entries)for(const s of i)yield[e,s]}toKey(e){return Dp(e)}}function Dp(t){return t.toLowerCase()}to(Dp,"normalizeMimeType");function oJ(t,e){return GA(Dp(t),e.map(Dp))}to(oJ,"matchesMimeType");function GA(t,e){if(t==="*/*")return e.length>0;if(e.includes(t))return!0;const i=t.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!i)return!1;const[s,n,o]=i;return o==="*"?e.some(r=>r.startsWith(n+"/")):!1}to(GA,"matchesMimeType_normalized");const bw=Object.freeze({create:to(t=>vu(t.map(e=>e.toString())).join(`\r
`),"create"),split:to(t=>t.split(`\r
`),"split"),parse:to(t=>bw.split(t).filter(e=>!e.startsWith("#")),"parse")});var rJ=Object.defineProperty,aJ=(t,e)=>rJ(t,"name",{value:e,configurable:!0});class lJ{constructor(e,i,s){this.indexedDB=e,this.store=i,this.logService=s}static{aJ(this,"HTMLFileSystemProvider")}onDidChangeCapabilities=R.None;onDidChangeFile=R.None;extUri=Ni?wt:wx;_capabilities;get capabilities(){return this._capabilities||(this._capabilities=Yb.FileReadWrite|Yb.FileReadStream,Ni&&(this._capabilities|=Yb.PathCaseSensitive)),this._capabilities}async stat(e){try{const i=await this.getHandle(e);if(!i)throw this.createFileSystemProviderError(e,"No such file or directory, stat",on.FileNotFound);if(Zo.isFileSystemFileHandle(i)){const s=await i.getFile();return{type:$l.File,mtime:s.lastModified,ctime:0,size:s.size}}return{type:$l.Directory,mtime:0,ctime:0,size:0}}catch(i){throw this.toFileSystemProviderError(i)}}async readdir(e){try{const i=await this.getDirectoryHandle(e);if(!i)throw this.createFileSystemProviderError(e,"No such file or directory, readdir",on.FileNotFound);const s=[];for await(const[n,o]of i)s.push([n,Zo.isFileSystemFileHandle(o)?$l.File:$l.Directory]);return s}catch(i){throw this.toFileSystemProviderError(i)}}readFileStream(e,i,s){const n=sd(o=>Kt.concat(o.map(r=>Kt.wrap(r))).buffer,{highWaterMark:10});return(async()=>{try{const o=await this.getFileHandle(e);if(!o)throw this.createFileSystemProviderError(e,"No such file or directory, readFile",on.FileNotFound);const r=await o.getFile();if(typeof i.length=="number"||typeof i.position=="number"){let a=new Uint8Array(await r.arrayBuffer());typeof i?.position=="number"&&(a=a.slice(i.position)),typeof i?.length=="number"&&(a=a.slice(0,i.length)),n.end(a)}else{const a=r.stream().getReader();let l=await a.read();for(;!l.done&&!(s.isCancellationRequested||(await n.write(l.value),s.isCancellationRequested));)l=await a.read();n.end(void 0)}}catch(o){n.error(this.toFileSystemProviderError(o)),n.end()}})(),n}async readFile(e){try{const i=await this.getFileHandle(e);if(!i)throw this.createFileSystemProviderError(e,"No such file or directory, readFile",on.FileNotFound);const s=await i.getFile();return new Uint8Array(await s.arrayBuffer())}catch(i){throw this.toFileSystemProviderError(i)}}async writeFile(e,i,s){try{let n=await this.getFileHandle(e);if(!s.create||!s.overwrite){if(n){if(!s.overwrite)throw this.createFileSystemProviderError(e,"File already exists, writeFile",on.FileExists)}else if(!s.create)throw this.createFileSystemProviderError(e,"No such file, writeFile",on.FileNotFound)}if(!n){const r=await this.getDirectoryHandle(this.extUri.dirname(e));if(!r)throw this.createFileSystemProviderError(e,"No such parent directory, writeFile",on.FileNotFound);if(n=await r.getFileHandle(this.extUri.basename(e),{create:!0}),!n)throw this.createFileSystemProviderError(e,"Unable to create file , writeFile",on.Unknown)}const o=await n.createWritable();await o.write(i),await o.close()}catch(n){throw this.toFileSystemProviderError(n)}}async mkdir(e){try{const i=await this.getDirectoryHandle(this.extUri.dirname(e));if(!i)throw this.createFileSystemProviderError(e,"No such parent directory, mkdir",on.FileNotFound);await i.getDirectoryHandle(this.extUri.basename(e),{create:!0})}catch(i){throw this.toFileSystemProviderError(i)}}async delete(e,i){try{const s=await this.getDirectoryHandle(this.extUri.dirname(e));if(!s)throw this.createFileSystemProviderError(e,"No such parent directory, delete",on.FileNotFound);return s.removeEntry(this.extUri.basename(e),{recursive:i.recursive})}catch(s){throw this.toFileSystemProviderError(s)}}async rename(e,i,s){try{if(this.extUri.isEqual(e,i))return;const n=await this.getFileHandle(e);if(n){const o=await n.getFile(),r=new Uint8Array(await o.arrayBuffer());await this.writeFile(i,r,{create:!0,overwrite:s.overwrite,unlock:!1,atomic:!1}),await this.delete(e,{recursive:!1,useTrash:!1,atomic:!1})}else throw this.createFileSystemProviderError(e,c("fileSystemRenameError","Rename is only supported for files."),on.Unavailable)}catch(n){throw this.toFileSystemProviderError(n)}}watch(e,i){return q.None}_files=new Map;_directories=new Map;registerFileHandle(e){return this.registerHandle(e,this._files)}registerDirectoryHandle(e){return this.registerHandle(e,this._directories)}get directories(){return this._directories.values()}async registerHandle(e,i){let s=`/${e.name}`;if(i.has(s)&&!await i.get(s)?.isSameEntry(e)){const n=e1(e.name),o=zk(e.name,n);let r=1;do s=`/${o}-${r++}${n}`;while(i.has(s)&&!await i.get(s)?.isSameEntry(e))}i.set(s,e);try{await this.indexedDB?.runInTransaction(this.store,"readwrite",n=>n.put(e,s))}catch(n){this.logService.error(n)}return j.from({scheme:Ue.file,path:s})}async getHandle(e){let i=await this.doGetHandle(e);if(!i){const s=await this.getDirectoryHandle(this.extUri.dirname(e));if(s){const n=wt.basename(e);try{i=await s.getFileHandle(n)}catch{try{i=await s.getDirectoryHandle(n)}catch{}}}}return i}async getFileHandle(e){const i=await this.doGetHandle(e);if(i instanceof FileSystemFileHandle)return i;const s=await this.getDirectoryHandle(this.extUri.dirname(e));try{return await s?.getFileHandle(wt.basename(e))}catch{return}}async getDirectoryHandle(e){const i=await this.doGetHandle(e);if(i instanceof FileSystemDirectoryHandle)return i;const s=this.extUri.dirname(e);if(this.extUri.isEqual(s,e))return;const n=await this.getDirectoryHandle(s);try{return await n?.getDirectoryHandle(wt.basename(e))}catch{return}}async doGetHandle(e){if(this.extUri.dirname(e).path!=="/")return;const i=e.path.replace(/\/$/,""),s=this._files.get(i)??this._directories.get(i);if(s)return s;const n=await this.indexedDB?.runInTransaction(this.store,"readonly",o=>o.get(i));if(Zo.isFileSystemHandle(n)){let o=await n.queryPermission()==="granted";try{o||(o=await n.requestPermission()==="granted")}catch(r){this.logService.error(r)}if(o)return Zo.isFileSystemFileHandle(n)?this._files.set(i,n):Zo.isFileSystemDirectoryHandle(n)&&this._directories.set(i,n),n}throw this.createFileSystemProviderError(e,"No file system handle registered",on.Unavailable)}toFileSystemProviderError(e){if(e instanceof bm)return e;let i=on.Unknown;return e.name==="NotAllowedError"&&(e=new Error(c("fileSystemNotAllowedError","Insufficient permissions. Please retry and allow the operation.")),i=on.Unavailable),qv(e,i)}createFileSystemProviderError(e,i,s){return qv(new Error(`${i} (${fh(e.path)})`),s)}}var cJ=Object.defineProperty,dl=(t,e)=>cJ(t,"name",{value:e,configurable:!0});const Z0={EDITORS:"CodeEditors",FILES:"CodeFiles"};function QO(t){const e=[];if(t.dataTransfer&&t.dataTransfer.types.length>0){const n=t.dataTransfer.getData(Z0.EDITORS);if(n)try{e.push(...O1(n))}catch{}else try{const a=t.dataTransfer.getData(Ba.RESOURCES);e.push(...jA(a))}catch{}if(t.dataTransfer?.files)for(let a=0;a<t.dataTransfer.files.length;a++){const l=t.dataTransfer.files[a];if(l&&l.path)try{e.push({resource:j.file(l.path),isExternal:!0,allowWorkspaceOpen:!0})}catch{}}const o=t.dataTransfer.getData(Z0.FILES);if(o)try{const a=JSON.parse(o);for(const l of a)e.push({resource:j.file(l),isExternal:!0,allowWorkspaceOpen:!0})}catch{}const r=ui.as(qA.DragAndDropContribution).getAll();for(const a of r){const l=t.dataTransfer.getData(a.dataFormatKey);if(l)try{e.push(...a.getEditorInputs(l))}catch{}}}const i=[],s=new xs;for(const n of e)n.resource?s.has(n.resource)||(i.push(n),s.set(n.resource,!0)):i.push(n);return i}dl(QO,"extractEditorsDropData");async function JO(t,e){const i=QO(e);if(e.dataTransfer&&Qt&&sB(e,Ba.FILES)&&e.dataTransfer.items){const o=await t.get(rt).invokeFunction(r=>eB(r,e));for(const r of o)i.push({resource:r.resource,contents:r.contents?.toString(),isExternal:!0,allowWorkspaceOpen:r.isDirectory})}return i}dl(JO,"extractEditorsAndFilesDropData");function jA(t){const e=[];if(t){const i=JSON.parse(t);for(const s of i)if(s.indexOf(":")>0){const{selection:n,uri:o}=GD(j.parse(s));e.push({resource:o,options:{selection:n}})}}return e}dl(jA,"createDraggedEditorInputFromRawResourcesData");async function eB(t,e){if(Zo.supported(Q)){const s=e.dataTransfer?.items;if(s)return tB(t,s)}const i=e.dataTransfer?.files;return i?iB(t,i):[]}dl(eB,"extractFilesDropData");async function tB(t,e){const i=t.get(nd).getProvider(Ue.file);if(!(i instanceof lJ))return[];const s=[];for(let n=0;n<e.length;n++){const o=e[n];if(o){const r=new ic;s.push(r),(async()=>{try{const a=await o.getAsFileSystemHandle();if(!a){r.complete(void 0);return}Zo.isFileSystemFileHandle(a)?r.complete({resource:await i.registerFileHandle(a),isDirectory:!1}):Zo.isFileSystemDirectoryHandle(a)?r.complete({resource:await i.registerDirectoryHandle(a),isDirectory:!0}):r.complete(void 0)}catch{r.complete(void 0)}})()}}return Tn(await Promise.all(s.map(n=>n.p)))}dl(tB,"extractFileTransferData");async function iB(t,e){const i=t.get(rl),s=[];for(let n=0;n<e.length;n++){const o=e.item(n);if(o){if(o.size>100*ts.MB){i.warn(c("fileTooLarge","File is too large to open as untitled editor. Please upload it first into the file explorer and then try again."));continue}const r=new ic;s.push(r);const a=new FileReader;a.onerror=()=>r.complete(void 0),a.onabort=()=>r.complete(void 0),a.onload=async l=>{const h=o.name,d=l.target?.result??void 0;if(typeof h!="string"||typeof d>"u"){r.complete(void 0);return}r.complete({resource:j.from({scheme:Ue.untitled,path:h}),contents:typeof d=="string"?Kt.fromString(d):Kt.wrap(new Uint8Array(d))})},a.readAsArrayBuffer(o)}}return Tn(await Promise.all(s.map(n=>n.p)))}dl(iB,"extractFileListData");function sB(t,...e){if(!t.dataTransfer)return!1;const i=t.dataTransfer.types,s=[];for(let n=0;n<i.length;n++)s.push(i[n].toLowerCase());for(const n of e)if(s.indexOf(n.toLowerCase())>=0)return!0;return!1}dl(sB,"containsDragType");class hJ{static{dl(this,"DragAndDropContributionRegistry")}_contributions=new Map;register(e){if(this._contributions.has(e.dataFormatKey))throw new Error(`A drag and drop contributiont with key '${e.dataFormatKey}' was already registered.`);this._contributions.set(e.dataFormatKey,e)}getAll(){return this._contributions.values()}}const qA={DragAndDropContribution:"workbench.contributions.dragAndDrop"};ui.add(qA.DragAndDropContribution,new hJ);class vw{static{dl(this,"LocalSelectionTransfer")}static INSTANCE=new vw;data;proto;constructor(){}static getInstance(){return vw.INSTANCE}hasData(e){return e&&e===this.proto}clearData(e){this.hasData(e)&&(this.proto=void 0,this.data=void 0)}getData(e){if(this.hasData(e))return this.data}setData(e,i){i&&(this.data=e,this.proto=i)}}var dJ=Object.defineProperty,Fe=(t,e)=>dJ(t,"name",{value:e,configurable:!0}),nB=(t=>(t[t.None=0]="None",t[t.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=2]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",t[t.InvalidUnicode=4]="InvalidUnicode",t[t.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",t[t.InvalidCharacter=6]="InvalidCharacter",t))(nB||{}),It=(t=>(t[t.OpenBraceToken=1]="OpenBraceToken",t[t.CloseBraceToken=2]="CloseBraceToken",t[t.OpenBracketToken=3]="OpenBracketToken",t[t.CloseBracketToken=4]="CloseBracketToken",t[t.CommaToken=5]="CommaToken",t[t.ColonToken=6]="ColonToken",t[t.NullKeyword=7]="NullKeyword",t[t.TrueKeyword=8]="TrueKeyword",t[t.FalseKeyword=9]="FalseKeyword",t[t.StringLiteral=10]="StringLiteral",t[t.NumericLiteral=11]="NumericLiteral",t[t.LineCommentTrivia=12]="LineCommentTrivia",t[t.BlockCommentTrivia=13]="BlockCommentTrivia",t[t.LineBreakTrivia=14]="LineBreakTrivia",t[t.Trivia=15]="Trivia",t[t.Unknown=16]="Unknown",t[t.EOF=17]="EOF",t))(It||{}),Ap;(t=>{t.DEFAULT={allowTrailingComma:!0}})(Ap||(Ap={}));function YA(t,e=!1){let i=0;const s=t.length;let n="",o=0,r=16,a=0;function l(b){let C=0,x=0;for(;C<b;){const E=t.charCodeAt(i);if(E>=48&&E<=57)x=x*16+E-48;else if(E>=65&&E<=70)x=x*16+E-65+10;else if(E>=97&&E<=102)x=x*16+E-97+10;else break;i++,C++}return C<b&&(x=-1),x}Fe(l,"scanHexDigits");function h(b){i=b,n="",o=0,r=16,a=0}Fe(h,"setPosition");function d(){const b=i;if(t.charCodeAt(i)===48)i++;else for(i++;i<t.length&&Kc(t.charCodeAt(i));)i++;if(i<t.length&&t.charCodeAt(i)===46)if(i++,i<t.length&&Kc(t.charCodeAt(i)))for(i++;i<t.length&&Kc(t.charCodeAt(i));)i++;else return a=3,t.substring(b,i);let C=i;if(i<t.length&&(t.charCodeAt(i)===69||t.charCodeAt(i)===101))if(i++,(i<t.length&&t.charCodeAt(i)===43||t.charCodeAt(i)===45)&&i++,i<t.length&&Kc(t.charCodeAt(i))){for(i++;i<t.length&&Kc(t.charCodeAt(i));)i++;C=i}else a=3;return t.substring(b,C)}Fe(d,"scanNumber");function u(){let b="",C=i;for(;;){if(i>=s){b+=t.substring(C,i),a=2;break}const x=t.charCodeAt(i);if(x===34){b+=t.substring(C,i),i++;break}if(x===92){if(b+=t.substring(C,i),i++,i>=s){a=2;break}switch(t.charCodeAt(i++)){case 34:b+='"';break;case 92:b+="\\";break;case 47:b+="/";break;case 98:b+="\b";break;case 102:b+="\f";break;case 110:b+=`
`;break;case 114:b+="\r";break;case 116:b+="	";break;case 117:{const F=l(4);F>=0?b+=String.fromCharCode(F):a=4;break}default:a=5}C=i;continue}if(x>=0&&x<=31)if(lf(x)){b+=t.substring(C,i),a=2;break}else a=6;i++}return b}Fe(u,"scanString");function g(){if(n="",a=0,o=i,i>=s)return o=s,r=17;let b=t.charCodeAt(i);if(rv(b)){do i++,n+=String.fromCharCode(b),b=t.charCodeAt(i);while(rv(b));return r=15}if(lf(b))return i++,n+=String.fromCharCode(b),b===13&&t.charCodeAt(i)===10&&(i++,n+=`
`),r=14;switch(b){case 123:return i++,r=1;case 125:return i++,r=2;case 91:return i++,r=3;case 93:return i++,r=4;case 58:return i++,r=6;case 44:return i++,r=5;case 34:return i++,n=u(),r=10;case 47:{const C=i-1;if(t.charCodeAt(i+1)===47){for(i+=2;i<s&&!lf(t.charCodeAt(i));)i++;return n=t.substring(C,i),r=12}if(t.charCodeAt(i+1)===42){i+=2;const x=s-1;let E=!1;for(;i<x;){if(t.charCodeAt(i)===42&&t.charCodeAt(i+1)===47){i+=2,E=!0;break}i++}return E||(i++,a=1),n=t.substring(C,i),r=13}return n+=String.fromCharCode(b),i++,r=16}case 45:if(n+=String.fromCharCode(b),i++,i===s||!Kc(t.charCodeAt(i)))return r=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return n+=d(),r=11;default:for(;i<s&&p(b);)i++,b=t.charCodeAt(i);if(o!==i){switch(n=t.substring(o,i),n){case"true":return r=8;case"false":return r=9;case"null":return r=7}return r=16}return n+=String.fromCharCode(b),i++,r=16}}Fe(g,"scanNext");function p(b){if(rv(b)||lf(b))return!1;switch(b){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}Fe(p,"isUnknownContentCharacter");function m(){let b;do b=g();while(b>=12&&b<=15);return b}return Fe(m,"scanNextNonTrivia"),{setPosition:h,getPosition:Fe(()=>i,"getPosition"),scan:e?m:g,getToken:Fe(()=>r,"getToken"),getTokenValue:Fe(()=>n,"getTokenValue"),getTokenOffset:Fe(()=>o,"getTokenOffset"),getTokenLength:Fe(()=>i-o,"getTokenLength"),getTokenError:Fe(()=>a,"getTokenError")}}Fe(YA,"createScanner");function rv(t){return t===32||t===9||t===11||t===12||t===160||t===5760||t>=8192&&t<=8203||t===8239||t===8287||t===12288||t===65279}Fe(rv,"isWhitespace");function lf(t){return t===10||t===13||t===8232||t===8233}Fe(lf,"isLineBreak");function Kc(t){return t>=48&&t<=57}Fe(Kc,"isDigit");function uJ(t,e){const i=[],s=new Object;let n;const o={value:{},offset:0,length:0,type:"object",parent:void 0};let r=!1;function a(l,h,d,u){o.value=l,o.offset=h,o.length=d,o.type=u,o.colonOffset=void 0,n=o}Fe(a,"setPreviousNode");try{hy(t,{onObjectBegin:Fe((l,h)=>{if(e<=l)throw s;n=void 0,r=e>l,i.push("")},"onObjectBegin"),onObjectProperty:Fe((l,h,d)=>{if(e<h||(a(l,h,d,"property"),i[i.length-1]=l,e<=h+d))throw s},"onObjectProperty"),onObjectEnd:Fe((l,h)=>{if(e<=l)throw s;n=void 0,i.pop()},"onObjectEnd"),onArrayBegin:Fe((l,h)=>{if(e<=l)throw s;n=void 0,i.push(0)},"onArrayBegin"),onArrayEnd:Fe((l,h)=>{if(e<=l)throw s;n=void 0,i.pop()},"onArrayEnd"),onLiteralValue:Fe((l,h,d)=>{if(e<h||(a(l,h,d,XA(l)),e<=h+d))throw s},"onLiteralValue"),onSeparator:Fe((l,h,d)=>{if(e<=h)throw s;if(l===":"&&n&&n.type==="property")n.colonOffset=h,r=!1,n=void 0;else if(l===","){const u=i[i.length-1];typeof u=="number"?i[i.length-1]=u+1:(r=!0,i[i.length-1]=""),n=void 0}},"onSeparator")})}catch(l){if(l!==s)throw l}return{path:i,previousNode:n,isAtPropertyKey:r,matches:Fe(l=>{let h=0;for(let d=0;h<l.length&&d<i.length;d++)if(l[h]===i[d]||l[h]==="*")h++;else if(l[h]!=="**")return!1;return h===l.length},"matches")}}Fe(uJ,"getLocation");function oB(t,e=[],i=Ap.DEFAULT){let s=null,n=[];const o=[];function r(l){Array.isArray(n)?n.push(l):s!==null&&(n[s]=l)}return Fe(r,"onValue"),hy(t,{onObjectBegin:Fe(()=>{const l={};r(l),o.push(n),n=l,s=null},"onObjectBegin"),onObjectProperty:Fe(l=>{s=l},"onObjectProperty"),onObjectEnd:Fe(()=>{n=o.pop()},"onObjectEnd"),onArrayBegin:Fe(()=>{const l=[];r(l),o.push(n),n=l,s=null},"onArrayBegin"),onArrayEnd:Fe(()=>{n=o.pop()},"onArrayEnd"),onLiteralValue:r,onError:Fe((l,h,d)=>{e.push({error:l,offset:h,length:d})},"onError")},i),n[0]}Fe(oB,"parse");function rB(t,e=[],i=Ap.DEFAULT){let s={type:"array",offset:-1,length:-1,children:[],parent:void 0};function n(l){s.type==="property"&&(s.length=l-s.offset,s=s.parent)}Fe(n,"ensurePropertyComplete");function o(l){return s.children.push(l),l}Fe(o,"onValue"),hy(t,{onObjectBegin:Fe(l=>{s=o({type:"object",offset:l,length:-1,parent:s,children:[]})},"onObjectBegin"),onObjectProperty:Fe((l,h,d)=>{s=o({type:"property",offset:h,length:-1,parent:s,children:[]}),s.children.push({type:"string",value:l,offset:h,length:d,parent:s})},"onObjectProperty"),onObjectEnd:Fe((l,h)=>{s.length=l+h-s.offset,s=s.parent,n(l+h)},"onObjectEnd"),onArrayBegin:Fe((l,h)=>{s=o({type:"array",offset:l,length:-1,parent:s,children:[]})},"onArrayBegin"),onArrayEnd:Fe((l,h)=>{s.length=l+h-s.offset,s=s.parent,n(l+h)},"onArrayEnd"),onLiteralValue:Fe((l,h,d)=>{o({type:XA(l),offset:h,length:d,parent:s,value:l}),n(h+d)},"onLiteralValue"),onSeparator:Fe((l,h,d)=>{s.type==="property"&&(l===":"?s.colonOffset=h:l===","&&n(h))},"onSeparator"),onError:Fe((l,h,d)=>{e.push({error:l,offset:h,length:d})},"onError")},i);const a=s.children[0];return a&&delete a.parent,a}Fe(rB,"parseTree");function Q0(t,e){if(!t)return;let i=t;for(const s of e)if(typeof s=="string"){if(i.type!=="object"||!Array.isArray(i.children))return;let n=!1;for(const o of i.children)if(Array.isArray(o.children)&&o.children[0].value===s){i=o.children[1],n=!0;break}if(!n)return}else{const n=s;if(i.type!=="array"||n<0||!Array.isArray(i.children)||n>=i.children.length)return;i=i.children[n]}return i}Fe(Q0,"findNodeAtLocation");function aB(t){if(!t.parent||!t.parent.children)return[];const e=aB(t.parent);if(t.parent.type==="property"){const i=t.parent.children[0].value;e.push(i)}else if(t.parent.type==="array"){const i=t.parent.children.indexOf(t);i!==-1&&e.push(i)}return e}Fe(aB,"getNodePath");function J0(t){switch(t.type){case"array":return t.children.map(J0);case"object":{const e=Object.create(null);for(const i of t.children){const s=i.children[1];s&&(e[i.children[0].value]=J0(s))}return e}case"null":case"string":case"number":case"boolean":return t.value;default:return}}Fe(J0,"getNodeValue");function lB(t,e,i=!1){return e>=t.offset&&e<t.offset+t.length||i&&e===t.offset+t.length}Fe(lB,"contains");function cB(t,e,i=!1){if(lB(t,e,i)){const s=t.children;if(Array.isArray(s))for(let n=0;n<s.length&&s[n].offset<=e;n++){const o=cB(s[n],e,i);if(o)return o}return t}}Fe(cB,"findNodeAtOffset");function hy(t,e,i=Ap.DEFAULT){const s=YA(t,!1);function n(se){return se?()=>se(s.getTokenOffset(),s.getTokenLength()):()=>!0}Fe(n,"toNoArgVisit");function o(se){return se?Re=>se(Re,s.getTokenOffset(),s.getTokenLength()):()=>!0}Fe(o,"toOneArgVisit");const r=n(e.onObjectBegin),a=o(e.onObjectProperty),l=n(e.onObjectEnd),h=n(e.onArrayBegin),d=n(e.onArrayEnd),u=o(e.onLiteralValue),g=o(e.onSeparator),p=n(e.onComment),m=o(e.onError),b=i&&i.disallowComments,C=i&&i.allowTrailingComma;function x(){for(;;){const se=s.scan();switch(s.getTokenError()){case 4:E(14);break;case 5:E(15);break;case 3:E(13);break;case 1:b||E(11);break;case 2:E(12);break;case 6:E(16);break}switch(se){case 12:case 13:b?E(10):p();break;case 16:E(1);break;case 15:case 14:break;default:return se}}}Fe(x,"scanNext");function E(se,Re=[],oe=[]){if(m(se),Re.length+oe.length>0){let De=s.getToken();for(;De!==17;){if(Re.indexOf(De)!==-1){x();break}else if(oe.indexOf(De)!==-1)break;De=x()}}}Fe(E,"handleError");function F(se){const Re=s.getTokenValue();return se?u(Re):a(Re),x(),!0}Fe(F,"parseString");function B(){switch(s.getToken()){case 11:{let se=0;try{se=JSON.parse(s.getTokenValue()),typeof se!="number"&&(E(2),se=0)}catch{E(2)}u(se);break}case 7:u(null);break;case 8:u(!0);break;case 9:u(!1);break;default:return!1}return x(),!0}Fe(B,"parseLiteral");function M(){return s.getToken()!==10?(E(3,[],[2,5]),!1):(F(!1),s.getToken()===6?(g(":"),x(),z()||E(4,[],[2,5])):E(5,[],[2,5]),!0)}Fe(M,"parseProperty");function X(){r(),x();let se=!1;for(;s.getToken()!==2&&s.getToken()!==17;){if(s.getToken()===5){if(se||E(4,[],[]),g(","),x(),s.getToken()===2&&C)break}else se&&E(6,[],[]);M()||E(4,[],[2,5]),se=!0}return l(),s.getToken()!==2?E(7,[2],[]):x(),!0}Fe(X,"parseObject");function ee(){h(),x();let se=!1;for(;s.getToken()!==4&&s.getToken()!==17;){if(s.getToken()===5){if(se||E(4,[],[]),g(","),x(),s.getToken()===4&&C)break}else se&&E(6,[],[]);z()||E(4,[],[4,5]),se=!0}return d(),s.getToken()!==4?E(8,[4],[]):x(),!0}Fe(ee,"parseArray");function z(){switch(s.getToken()){case 3:return ee();case 1:return X();case 10:return F(!0);default:return B()}}return Fe(z,"parseValue"),x(),s.getToken()===17?i.allowEmptyContent?!0:(E(4,[],[]),!1):z()?(s.getToken()!==17&&E(9,[],[]),!0):(E(4,[],[]),!1)}Fe(hy,"visit");function XA(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(t){if(Array.isArray(t))return"array"}else return"null";return"object"}default:return"null"}}Fe(XA,"getNodeType");var gJ=Object.defineProperty,ja=(t,e)=>gJ(t,"name",{value:e,configurable:!0});function hB(t,e,i){let s,n,o,r,a;if(e){for(r=e.offset,a=r+e.length,o=r;o>0&&!Ep(t,o-1);)o--;let F=a;for(;F<t.length&&!Ep(t,F);)F++;n=t.substring(o,F),s=dB(n,i)}else n=t,s=0,o=0,r=0,a=t.length;const l=uB(i,t);let h=!1,d=0,u;i.insertSpaces?u=av(" ",i.tabSize||4):u="	";const g=YA(n,!1);let p=!1;function m(){return l+av(u,s+d)}ja(m,"newLineAndIndent");function b(){let F=g.scan();for(h=!1;F===It.Trivia||F===It.LineBreakTrivia;)h=h||F===It.LineBreakTrivia,F=g.scan();return p=F===It.Unknown||g.getTokenError()!==nB.None,F}ja(b,"scanNext");const C=[];function x(F,B,M){!p&&B<a&&M>r&&t.substring(B,M)!==F&&C.push({offset:B,length:M-B,content:F})}ja(x,"addEdit");let E=b();if(E!==It.EOF){const F=g.getTokenOffset()+o,B=av(u,s);x(B,o,F)}for(;E!==It.EOF;){let F=g.getTokenOffset()+g.getTokenLength()+o,B=b(),M="";for(;!h&&(B===It.LineCommentTrivia||B===It.BlockCommentTrivia);){const ee=g.getTokenOffset()+o;x(" ",F,ee),F=g.getTokenOffset()+g.getTokenLength()+o,M=B===It.LineCommentTrivia?m():"",B=b()}if(B===It.CloseBraceToken)E!==It.OpenBraceToken&&(d--,M=m());else if(B===It.CloseBracketToken)E!==It.OpenBracketToken&&(d--,M=m());else{switch(E){case It.OpenBracketToken:case It.OpenBraceToken:d++,M=m();break;case It.CommaToken:case It.LineCommentTrivia:M=m();break;case It.BlockCommentTrivia:h?M=m():M=" ";break;case It.ColonToken:M=" ";break;case It.StringLiteral:if(B===It.ColonToken){M="";break}case It.NullKeyword:case It.TrueKeyword:case It.FalseKeyword:case It.NumericLiteral:case It.CloseBraceToken:case It.CloseBracketToken:B===It.LineCommentTrivia||B===It.BlockCommentTrivia?M=" ":B!==It.CommaToken&&B!==It.EOF&&(p=!0);break;case It.Unknown:p=!0;break}h&&(B===It.LineCommentTrivia||B===It.BlockCommentTrivia)&&(M=m())}const X=g.getTokenOffset()+o;x(M,F,X),E=B}return C}ja(hB,"format");function fJ(t,e){const i=JSON.stringify(t,void 0,e.insertSpaces?e.tabSize||4:"	");return e.eol!==void 0?i.replace(/\r\n|\r|\n/g,e.eol):i}ja(fJ,"toFormattedString");function av(t,e){let i="";for(let s=0;s<e;s++)i+=t;return i}ja(av,"repeat");function dB(t,e){let i=0,s=0;const n=e.tabSize||4;for(;i<t.length;){const o=t.charAt(i);if(o===" ")s++;else if(o==="	")s+=n;else break;i++}return Math.floor(s/n)}ja(dB,"computeIndentLevel");function uB(t,e){for(let i=0;i<e.length;i++){const s=e.charAt(i);if(s==="\r")return i+1<e.length&&e.charAt(i+1)===`
`?`\r
`:"\r";if(s===`
`)return`
`}return t&&t.eol||`
`}ja(uB,"getEOL");function Ep(t,e){return`\r
`.indexOf(t.charAt(e))!==-1}ja(Ep,"isEOL");var pJ=Object.defineProperty,Rm=(t,e)=>pJ(t,"name",{value:e,configurable:!0});function gB(t,e,i){return ZA(t,e,void 0,i)}Rm(gB,"removeProperty");function ZA(t,e,i,s,n){const o=e.slice(),a=rB(t,[]);let l,h;for(;o.length>0&&(h=o.pop(),l=Q0(a,o),l===void 0&&i!==void 0);)typeof h=="string"?i={[h]:i}:i=[i];if(l)if(l.type==="object"&&typeof h=="string"&&Array.isArray(l.children)){const d=Q0(l,[h]);if(d!==void 0)if(i===void 0){if(!d.parent)throw new Error("Malformed AST");const u=l.children.indexOf(d.parent);let g,p=d.parent.offset+d.parent.length;if(u>0){const m=l.children[u-1];g=m.offset+m.length}else g=l.offset+1,l.children.length>1&&(p=l.children[1].offset);return Gc(t,{offset:g,length:p-g,content:""},s)}else return Gc(t,{offset:d.offset,length:d.length,content:JSON.stringify(i)},s);else{if(i===void 0)return[];const u=`${JSON.stringify(h)}: ${JSON.stringify(i)}`,g=n?n(l.children.map(m=>m.children[0].value)):l.children.length;let p;if(g>0){const m=l.children[g-1];p={offset:m.offset+m.length,length:0,content:","+u}}else l.children.length===0?p={offset:l.offset+1,length:0,content:u}:p={offset:l.offset+1,length:0,content:u+","};return Gc(t,p,s)}}else if(l.type==="array"&&typeof h=="number"&&Array.isArray(l.children))if(i!==void 0){const d=`${JSON.stringify(i)}`;let u;if(l.children.length===0||h===0)u={offset:l.offset+1,length:0,content:l.children.length===0?d:d+","};else{const g=h===-1||h>l.children.length?l.children.length:h,p=l.children[g-1];u={offset:p.offset+p.length,length:0,content:","+d}}return Gc(t,u,s)}else{const d=h,u=l.children[d];let g;if(l.children.length===1)g={offset:l.offset+1,length:l.length-2,content:""};else if(l.children.length-1===d){const p=l.children[d-1],m=p.offset+p.length,b=l.offset+l.length;g={offset:m,length:b-2-m,content:""}}else g={offset:u.offset,length:l.children[d+1].offset-u.offset,content:""};return Gc(t,g,s)}else throw new Error(`Can not add ${typeof h!="number"?"index":"property"} to parent of type ${l.type}`);else return i===void 0?[]:Gc(t,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(i)},s)}Rm(ZA,"setProperty");function Gc(t,e,i){let s=ww(t,e),n=e.offset,o=e.offset+e.content.length;if(e.length===0||e.content.length===0){for(;n>0&&!Ep(s,n-1);)n--;for(;o<s.length&&!Ep(s,o);)o++}const r=hB(s,{offset:n,length:o-n},i);for(let l=r.length-1;l>=0;l--){const h=r[l];s=ww(s,h),n=Math.min(n,h.offset),o=Math.max(o,h.offset+h.length),o+=h.content.length-h.length}const a=t.length-(s.length-o)-n;return[{offset:n,length:a,content:s.substring(n,o)}]}Rm(Gc,"withFormatting");function ww(t,e){return t.substring(0,e.offset)+e.content+t.substring(e.offset+e.length)}Rm(ww,"applyEdit");function eS(t,e){const i=e.slice(0).sort((n,o)=>{const r=n.offset-o.offset;return r===0?n.length-o.length:r});let s=t.length;for(let n=i.length-1;n>=0;n--){const o=i[n];if(o.offset+o.length<=s)t=ww(t,o);else throw new Error("Overlapping edit");s=o.offset}return t}Rm(eS,"applyEdits");var mJ=Object.defineProperty,Fs=(t,e)=>mJ(t,"name",{value:e,configurable:!0});const QA=Ce("workspacesService");function yw(t){return t.hasOwnProperty("workspace")}Fs(yw,"isRecentWorkspace");function du(t){return t.hasOwnProperty("folderUri")}Fs(du,"isRecentFolder");function bJ(t){return t.hasOwnProperty("fileUri")}Fs(bJ,"isRecentFile");function fB(t){return Ip(t)||JA(t)}Fs(fB,"isStoredWorkspaceFolder");function Ip(t){const e=t;return typeof e?.path=="string"&&(!e.name||typeof e.name=="string")}Fs(Ip,"isRawFileWorkspaceFolder");function JA(t){const e=t;return typeof e?.uri=="string"&&(!e.name||typeof e.name=="string")}Fs(JA,"isRawUriWorkspaceFolder");function pB(t,e,i,s,n){if(t.scheme!==s.scheme)return{name:i,uri:t.toString(!0)};let o=e?void 0:n.relativePath(s,t);if(o!==void 0)o.length===0?o=".":Lt&&(o=tS(o));else if(t.scheme===Ue.file)o=t.fsPath,Lt&&(o=tS(o));else if(n.isEqualAuthority(t.authority,s.authority))o=t.path;else return{name:i,uri:t.toString(!0)};return{name:i,path:o}}Fs(pB,"getStoredWorkspaceFolder");function tS(t){return t=lD(t),lx(t)||(t=Su(t)),t}Fs(tS,"massagePathForWindows");function vJ(t,e,i){const s=[],n=new Set,o=i.dirname(e);for(const r of t){let a;if(Ip(r))r.path&&(a=i.resolvePath(o,r.path));else if(JA(r))try{a=j.parse(r.uri),a.path[0]!==ot.sep&&(a=a.with({path:ot.sep+a.path}))}catch(l){console.warn(l)}if(a){const l=i.getComparisonKey(a);if(!n.has(l)){n.add(l);const h=r.name||i.basenameOrAuthority(a);s.push(new J4({uri:a,name:h,index:s.length},r))}}}return s}Fs(vJ,"toWorkspaceFolders");function wJ(t,e,i,s,n){const o=mB(e,t),r=n.dirname(e),a=n.dirname(s),l=[];for(const g of o.folders){const p=Ip(g)?n.resolvePath(r,g.path):j.parse(g.uri);let m;i?m=!1:m=!Ip(g)||Wk(g.path),l.push(pB(p,m,g.name,a,n))}const h={insertSpaces:!1,tabSize:4,eol:Ni||He?`
`:`\r
`},d=ZA(t,["folders"],l,h);let u=eS(t,d);return D_(o.remoteAuthority,DR(s))&&(u=eS(u,gB(u,["remoteAuthority"],h))),u}Fs(wJ,"rewriteWorkspaceFileForNewLocation");function mB(t,e){const i=oB(e);if(i&&Array.isArray(i.folders))i.folders=i.folders.filter(s=>fB(s));else throw new Error(`${t} looks like an invalid workspace file.`);return i}Fs(mB,"doParseStoredWorkspace");function bB(t){return t.workspace&&typeof t.workspace=="object"&&typeof t.workspace.id=="string"&&typeof t.workspace.configPath=="string"}Fs(bB,"isSerializedRecentWorkspace");function vB(t){return typeof t.folderUri=="string"}Fs(vB,"isSerializedRecentFolder");function wB(t){return typeof t.fileUri=="string"}Fs(wB,"isSerializedRecentFile");function yJ(t,e){const i={workspaces:[],files:[]};if(t){const s=Fs((o,r)=>{for(let a=0;a<o.length;a++)try{r(o[a],a)}catch(l){e.warn(`Error restoring recent entry ${JSON.stringify(o[a])}: ${l.toString()}. Skip entry.`)}},"restoreGracefully"),n=t;Array.isArray(n.entries)&&s(n.entries,o=>{const r=o.label,a=o.remoteAuthority;bB(o)?i.workspaces.push({label:r,remoteAuthority:a,workspace:{id:o.workspace.id,configPath:j.parse(o.workspace.configPath)}}):vB(o)?i.workspaces.push({label:r,remoteAuthority:a,folderUri:j.parse(o.folderUri)}):wB(o)&&i.files.push({label:r,remoteAuthority:a,fileUri:j.parse(o.fileUri)})})}return i}Fs(yJ,"restoreRecentlyOpened");function _J(t){const e={entries:[]};for(const i of t.workspaces)du(i)?e.entries.push({folderUri:i.folderUri.toString(),label:i.label,remoteAuthority:i.remoteAuthority}):e.entries.push({workspace:{id:i.workspace.id,configPath:i.workspace.configPath.toString()},label:i.label,remoteAuthority:i.remoteAuthority});for(const i of t.files)e.entries.push({fileUri:i.fileUri.toString(),label:i.label,remoteAuthority:i.remoteAuthority});return e}Fs(_J,"toStoreData");var SJ=Object.defineProperty,_g=(t,e)=>SJ(t,"name",{value:e,configurable:!0});const CJ=Ce("textFileService");class Noe extends B1{constructor(e,i,s){super(e,pD.FILE_OTHER_ERROR),this.textFileOperationResult=i,this.options=s}static{_g(this,"TextFileOperationError")}static isTextFileOperationError(e){return e instanceof Error&&!ji(e.textFileOperationResult)}options}function DJ(t){const e=t;return nx(e.setEncoding,e.getEncoding,e.save,e.revert,e.isDirty,e.getLanguageId)}_g(DJ,"isTextFileEditorModel");function AJ(t){const e=[];let i;for(;typeof(i=t.read())=="string";)e.push(i);return e.join("")}_g(AJ,"snapshotToString");function EJ(t){let e=!1;return{read(){return e?null:(e=!0,t)}}}_g(EJ,"stringToSnapshot");function IJ(t){if(!(typeof t>"u"))return typeof t=="string"?Kt.fromString(t):{read:_g(()=>{const e=t.read();return typeof e=="string"?Kt.fromString(e):null},"read")}}_g(IJ,"toBufferOrReadable");const TJ=Ce("workspaceEditingService");var yB=Object.defineProperty,kJ=Object.getOwnPropertyDescriptor,Pi=(t,e)=>yB(t,"name",{value:e,configurable:!0}),_B=(t,e,i,s)=>{for(var n=s>1?void 0:s?kJ(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&yB(e,i,n),n},_l=(t,e)=>(i,s)=>e(i,s,t);class Ooe{constructor(e){this.identifier=e}static{Pi(this,"DraggedEditorIdentifier")}}class Boe{constructor(e){this.identifier=e}static{Pi(this,"DraggedEditorGroupIdentifier")}}async function xJ(t){const e=[],i=gp.uriList.toLowerCase();if(t.has(i))try{const s=await t.get(i)?.asString(),n=JSON.stringify(bw.parse(s??""));e.push(...jA(n))}catch{}return e}Pi(xJ,"extractTreeDropData");let pT=class{constructor(t,e,i,s,n,o,r,a){this.options=t,this.fileService=e,this.workspacesService=i,this.editorService=s,this.workspaceEditingService=n,this.hostService=o,this.contextService=r,this.instantiationService=a}static{Pi(this,"ResourcesDropHandler")}async handleDrop(t,e,i,s,n){const o=await this.instantiationService.invokeFunction(l=>JO(l,t));if(!o.length)return;if(await this.hostService.focus(e),this.options.allowWorkspaceOpen){const l=Tn(o.filter(h=>h.allowWorkspaceOpen&&h.resource?.scheme===Ue.file).map(h=>h.resource));if(l.length>0&&await this.handleWorkspaceDrop(l))return}const r=Tn(o.filter(l=>l.isExternal&&l.resource?.scheme===Ue.file).map(l=>l.resource));r.length&&this.workspacesService.addRecentlyOpened(r.map(l=>({fileUri:l})));const a=i?.();await this.editorService.openEditors(o.map(l=>({...l,resource:l.resource,options:{...l.options,...n,pinned:!0}})),a,{validateTrust:!0}),s?.(a)}async handleWorkspaceDrop(t){const e=[],i=[];return await Promise.all(t.map(async s=>{if(iR(s)){e.push({workspaceUri:s});return}try{const n=await this.fileService.stat(s);n.isDirectory&&(e.push({folderUri:n.resource}),i.push({uri:n.resource}))}catch{}})),e.length===0?!1:(e.length>i.length||i.length===1?await this.hostService.openWindow(e):wm(this.contextService.getWorkspace())?await this.workspaceEditingService.addFolders(i):await this.workspaceEditingService.createAndEnterWorkspace(i),!0)}};pT=_B([_l(1,nd),_l(2,QA),_l(3,ld),_l(4,TJ),_l(5,ho),_l(6,dg),_l(7,rt)],pT);function SB(t,e,i,s){if(e.length===0||!i.dataTransfer)return;const n=t.get(CJ),o=t.get(ld),r=t.get(nd),a=t.get(z1),l=Tn(e.map(p=>j.isUri(p)?{resource:p}:v0(p)?j.isUri(p.editor.resource)?{resource:p.editor.resource}:void 0:p)),h=l.filter(({resource:p})=>r.hasProvider(p));if(!s?.disableStandardTransfer){const p=Lt?`\r
`:`
`;i.dataTransfer.setData(Ba.TEXT,h.map(({resource:b})=>a.getUriLabel(b,{noPrefix:!0})).join(p));const m=h.find(({isDirectory:b})=>!b);if(m){const b=Cu.uriToFileUri(m.resource);b.scheme===Ue.file&&i.dataTransfer.setData(Ba.DOWNLOAD_URL,[gp.binary,Qu(m.resource),b.toString()].join(":"))}}const d=h.filter(({isDirectory:p})=>!p);d.length&&i.dataTransfer.setData(Ba.RESOURCES,JSON.stringify(d.map(({resource:p})=>p.toString())));const u=ui.as(qA.DragAndDropContribution).getAll();for(const p of u)p.setData(l,i);const g=[];for(const p of e){let m;if(v0(p)){const b=p.editor.toUntyped({preserveViewState:p.groupId});b&&(m={...b,resource:Xv.getCanonicalUri(b)})}else if(j.isUri(p)){const{selection:b,uri:C}=GD(p);m={resource:C,options:b?{selection:b}:void 0}}else p.isDirectory||(m={resource:p.resource});if(m){{const b=m.resource;if(b){const C=n.files.get(b);C&&(typeof m.languageId!="string"&&(m.languageId=C.getLanguageId()),typeof m.encoding!="string"&&(m.encoding=C.getEncoding()),typeof m.contents!="string"&&C.isDirty()&&!C.textEditorModel.isTooLargeForHeapOperation()&&(m.contents=C.textEditorModel.getValue())),m.options?.viewState||(m.options={...m.options,viewState:(()=>{for(const x of o.visibleEditorPanes)if(qd(x.input.resource,b)){const E=x.getViewState();if(E)return E}})()})}}g.push(m)}}if(g.length){i.dataTransfer.setData(Z0.EDITORS,uD(g));const p=[];for(const m of g)m.resource?p.push(m.resource):tr(m)?m.modified.resource&&p.push(m.modified.resource):Ra(m)?m.primary.resource&&p.push(m.primary.resource):Na(m)&&p.push(m.result.resource);s?.disableStandardTransfer||i.dataTransfer.setData(gp.uriList,bw.create(p.slice(0,1))),i.dataTransfer.setData(Ba.INTERNAL_URI_LIST,bw.create(p))}}Pi(SB,"fillEditorsDragData");class LJ{constructor(e,i){this.type=e,this.id=i}static{Pi(this,"CompositeDragAndDropData")}update(e){}getData(){return{type:this.type,id:this.id}}}class Mg{constructor(e){this.compositeId=e}static{Pi(this,"DraggedCompositeIdentifier")}get id(){return this.compositeId}}class Fg{constructor(e){this.viewId=e}static{Pi(this,"DraggedViewIdentifier")}get id(){return this.viewId}}class jn extends q{static{Pi(this,"CompositeDragAndDropObserver")}static instance;static get INSTANCE(){return jn.instance||(jn.instance=new jn,yu(jn.instance)),jn.instance}transferData=vw.getInstance();onDragStart=this._register(new I);onDragEnd=this._register(new I);constructor(){super(),this._register(this.onDragEnd.event(e=>{const i=e.dragAndDropData.getData().id,s=e.dragAndDropData.getData().type;this.readDragData(s)?.getData().id===i&&this.transferData.clearData(s==="view"?Fg.prototype:Mg.prototype)}))}readDragData(e){if(this.transferData.hasData(e==="view"?Fg.prototype:Mg.prototype)){const i=this.transferData.getData(e==="view"?Fg.prototype:Mg.prototype);if(i&&i[0])return new LJ(e,i[0].id)}}writeDragData(e,i){this.transferData.setData([i==="view"?new Fg(e):new Mg(e)],i==="view"?Fg.prototype:Mg.prototype)}registerTarget(e,i){const s=new Z;return s.add(new B_(e,{onDragEnter:Pi(n=>{if(n.preventDefault(),i.onDragEnter){const o=this.readDragData("composite")||this.readDragData("view");o&&i.onDragEnter({eventData:n,dragAndDropData:o})}},"onDragEnter"),onDragLeave:Pi(n=>{const o=this.readDragData("composite")||this.readDragData("view");i.onDragLeave&&o&&i.onDragLeave({eventData:n,dragAndDropData:o})},"onDragLeave"),onDrop:Pi(n=>{if(i.onDrop){const o=this.readDragData("composite")||this.readDragData("view");if(!o)return;i.onDrop({eventData:n,dragAndDropData:o}),this.onDragEnd.fire({eventData:n,dragAndDropData:o})}},"onDrop"),onDragOver:Pi(n=>{if(n.preventDefault(),i.onDragOver){const o=this.readDragData("composite")||this.readDragData("view");if(!o)return;i.onDragOver({eventData:n,dragAndDropData:o})}},"onDragOver")})),i.onDragStart&&this.onDragStart.event(n=>{i.onDragStart(n)},this,s),i.onDragEnd&&this.onDragEnd.event(n=>{i.onDragEnd(n)},this,s),this._register(s)}registerDraggable(e,i,s){e.draggable=!0;const n=new Z;return n.add(new B_(e,{onDragStart:Pi(o=>{const{id:r,type:a}=i();this.writeDragData(r,a),o.dataTransfer?.setDragImage(e,0,0),this.onDragStart.fire({eventData:o,dragAndDropData:this.readDragData(a)})},"onDragStart"),onDragEnd:Pi(o=>{const{type:r}=i(),a=this.readDragData(r);a&&this.onDragEnd.fire({eventData:o,dragAndDropData:a})},"onDragEnd"),onDragEnter:Pi(o=>{if(s.onDragEnter){const r=this.readDragData("composite")||this.readDragData("view");if(!r)return;r&&s.onDragEnter({eventData:o,dragAndDropData:r})}},"onDragEnter"),onDragLeave:Pi(o=>{const r=this.readDragData("composite")||this.readDragData("view");r&&s.onDragLeave?.({eventData:o,dragAndDropData:r})},"onDragLeave"),onDrop:Pi(o=>{if(s.onDrop){const r=this.readDragData("composite")||this.readDragData("view");if(!r)return;s.onDrop({eventData:o,dragAndDropData:r}),this.onDragEnd.fire({eventData:o,dragAndDropData:r})}},"onDrop"),onDragOver:Pi(o=>{if(s.onDragOver){const r=this.readDragData("composite")||this.readDragData("view");if(!r)return;s.onDragOver({eventData:o,dragAndDropData:r})}},"onDragOver")})),s.onDragStart&&this.onDragStart.event(o=>{s.onDragStart(o)},this,n),s.onDragEnd&&this.onDragEnd.event(o=>{s.onDragEnd(o)},this,n),this._register(n)}}function Uu(t,e,i){t&&(t.dropEffect=i?e:"none")}Pi(Uu,"toggleDropEffect");let mT=class{constructor(t,e){this.toResource=t,this.instantiationService=e}static{Pi(this,"ResourceListDnDHandler")}getDragURI(t){const e=this.toResource(t);return e?e.toString():null}getDragLabel(t){const e=Tn(t.map(this.toResource));return e.length===1?Qu(e[0]):e.length>1?String(e.length):void 0}onDragStart(t,e){const i=[];for(const s of t.elements){const n=this.toResource(s);n&&i.push(n)}i.length&&this.instantiationService.invokeFunction(s=>SB(s,i,e))}onDragOver(t,e,i,s,n){return!1}drop(t,e,i,s,n){}dispose(){}};mT=_B([_l(1,rt)],mT);class eE extends q{static{Pi(this,"GlobalWindowDraggedOverTracker")}static CHANNEL_NAME="monaco-workbench-global-dragged-over";broadcaster=this._register(new tJ(eE.CHANNEL_NAME));constructor(){super(),this.registerListeners()}registerListeners(){this._register(R.runAndSubscribe(d1,({window:e,disposables:i})=>{i.add(N(e,U.DRAG_OVER,()=>this.markDraggedOver(!1),!0)),i.add(N(e,U.DRAG_LEAVE,()=>this.clearDraggedOver(!1),!0))},{window:Q,disposables:this._store})),this._register(this.broadcaster.onDidReceiveData(e=>{e===!0?this.markDraggedOver(!0):this.clearDraggedOver(!0)}))}draggedOver=!1;get isDraggedOver(){return this.draggedOver}markDraggedOver(e){this.draggedOver!==!0&&(this.draggedOver=!0,e||this.broadcaster.postData(!0))}clearDraggedOver(e){this.draggedOver!==!1&&(this.draggedOver=!1,e||this.broadcaster.postData(!1))}}const PJ=new eE;function RJ(){return PJ.isDraggedOver}Pi(RJ,"isWindowDraggedOver");var NJ=Object.defineProperty,tE=(t,e)=>NJ(t,"name",{value:e,configurable:!0});class OJ extends K1{constructor(e,i,s,n){super(e,s,n),this.telemetryService=i}static{tE(this,"Composite")}_onTitleAreaUpdate=this._register(new I);onTitleAreaUpdate=this._onTitleAreaUpdate.event;_onDidFocus;get onDidFocus(){return this._onDidFocus||(this._onDidFocus=this.registerFocusTrackEvents().onDidFocus),this._onDidFocus.event}_onDidBlur;get onDidBlur(){return this._onDidBlur||(this._onDidBlur=this.registerFocusTrackEvents().onDidBlur),this._onDidBlur.event}_hasFocus=!1;hasFocus(){return this._hasFocus}registerFocusTrackEvents(){const e=di(this.getContainer()),i=this._register(oa(e)),s=this._onDidFocus=this._register(new I);this._register(i.onDidFocus(()=>{this._hasFocus=!0,s.fire()}));const n=this._onDidBlur=this._register(new I);return this._register(i.onDidBlur(()=>{this._hasFocus=!1,n.fire()})),{onDidFocus:s,onDidBlur:n}}actionRunner;visible=!1;parent;getTitle(){}create(e){this.parent=e}getContainer(){return this.parent}setVisible(e){this.visible!==!!e&&(this.visible=e)}focus(){}getMenuIds(){return[]}getActions(){return[]}getSecondaryActions(){return[]}getContextMenuActions(){return[]}getActionViewItem(e,i){}getActionsContext(){return null}getActionRunner(){return this.actionRunner||(this.actionRunner=this._register(new Zr)),this.actionRunner}updateTitleArea(){this._onTitleAreaUpdate.fire()}isVisible(){return this.visible}getControl(){}}class BJ{constructor(e,i,s,n,o,r){this.ctor=e,this.id=i,this.name=s,this.cssClass=n,this.order=o,this.requestedIndex=r}static{tE(this,"CompositeDescriptor")}instantiate(e){return e.createInstance(this.ctor)}}class MJ extends q{static{tE(this,"CompositeRegistry")}_onDidRegister=this._register(new I);onDidRegister=this._onDidRegister.event;_onDidDeregister=this._register(new I);onDidDeregister=this._onDidDeregister.event;composites=[];registerComposite(e){this.compositeById(e.id)||(this.composites.push(e),this._onDidRegister.fire(e))}deregisterComposite(e){const i=this.compositeById(e);i&&(this.composites.splice(this.composites.indexOf(i),1),this._onDidDeregister.fire(i))}getComposite(e){return this.compositeById(e)}getComposites(){return this.composites.slice(0)}compositeById(e){return this.composites.find(i=>i.id===e)}}var FJ=Object.defineProperty,hh=(t,e)=>FJ(t,"name",{value:e,configurable:!0});k.white.toString(),k.white.toString();class Tp extends q{static{hh(this,"Button")}options;_element;_label="";_labelElement;_labelShortElement;_hover;_onDidClick=this._register(new I);get onDidClick(){return this._onDidClick.event}_onDidEscape=this._register(new I);get onDidEscape(){return this._onDidEscape.event}focusTracker;constructor(e,i){super(),this.options=i,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!i.secondary);const s=i.secondary?i.buttonSecondaryBackground:i.buttonBackground,n=i.secondary?i.buttonSecondaryForeground:i.buttonForeground;this._element.style.color=n||"",this._element.style.backgroundColor=s||"",i.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof i.title=="string"&&this.setTitle(i.title),typeof i.ariaLabel=="string"&&this._element.setAttribute("aria-label",i.ariaLabel),e.appendChild(this._element),this._register(us.addTarget(this._element)),[U.CLICK,kt.Tap].forEach(o=>{this._register(N(this._element,o,r=>{if(!this.enabled){xe.stop(r);return}this._onDidClick.fire(r)}))}),this._register(N(this._element,U.KEY_DOWN,o=>{const r=new mt(o);let a=!1;this.enabled&&(r.equals(D.Enter)||r.equals(D.Space))?(this._onDidClick.fire(o),a=!0):r.equals(D.Escape)&&(this._onDidEscape.fire(o),this._element.blur(),a=!0),a&&xe.stop(r,!0)})),this._register(N(this._element,U.MOUSE_OVER,o=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register(N(this._element,U.MOUSE_OUT,o=>{this.updateBackground(!1)})),this.focusTracker=this._register(oa(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(e){const i=[];for(let s of J1(e))if(typeof s=="string"){if(s=s.trim(),s==="")continue;const n=document.createElement("span");n.textContent=s,i.push(n)}else i.push(s);return i}updateBackground(e){let i;this.options.secondary?i=e?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:i=e?this.options.buttonHoverBackground:this.options.buttonBackground,i&&(this._element.style.backgroundColor=i)}get element(){return this._element}set label(e){if(this._label===e||xf(this._label)&&xf(e)&&z5(this._label,e))return;this._element.classList.add("monaco-text-button");const i=this.options.supportShortLabel?this._labelElement:this._element;if(xf(e)){const n=pA(e,{inline:!0});n.dispose();const o=n.element.querySelector("p")?.innerHTML;if(o){const r=bC(o,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});i.innerHTML=r}else Zl(i)}else this.options.supportIcons?Zl(i,...this.getContentElements(e)):i.textContent=e;let s="";typeof this.options.title=="string"?s=this.options.title:this.options.title&&(s=mA(e)),this.setTitle(s),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",s),this._label=e}get label(){return this._label}set labelShort(e){!this.options.supportShortLabel||!this._labelShortElement||(this.options.supportIcons?Zl(this._labelShortElement,...this.getContentElements(e)):this._labelShortElement.textContent=e)}set icon(e){this._element.classList.add(...Ae.asClassNameArray(e))}set enabled(e){e?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}set checked(e){e?(this._element.classList.add("checked"),this._element.setAttribute("aria-checked","true")):(this._element.classList.remove("checked"),this._element.setAttribute("aria-checked","false"))}get checked(){return this._element.classList.contains("checked")}setTitle(e){!this._hover&&e!==""?this._hover=this._register(ra().setupManagedHover(this.options.hoverDelegate??Ri("mouse"),this._element,e)):this._hover&&this._hover.update(e)}focus(){this._element.focus()}hasFocus(){return na(this._element)}}class VJ extends q{static{hh(this,"ButtonWithDropdown")}button;action;dropdownButton;separatorContainer;separator;element;_onDidClick=this._register(new I);onDidClick=this._onDidClick.event;constructor(e,i){super(),this.element=document.createElement("div"),this.element.classList.add("monaco-button-dropdown"),e.appendChild(this.element),this.button=this._register(new Tp(this.element,i)),this._register(this.button.onDidClick(o=>this._onDidClick.fire(o))),this.action=this._register(new Et("primaryAction",mA(this.button.label),void 0,!0,async()=>this._onDidClick.fire(void 0))),this.separatorContainer=document.createElement("div"),this.separatorContainer.classList.add("monaco-button-dropdown-separator"),this.separator=document.createElement("div"),this.separatorContainer.appendChild(this.separator),this.element.appendChild(this.separatorContainer);const s=i.buttonBorder;s&&(this.separatorContainer.style.borderTop="1px solid "+s,this.separatorContainer.style.borderBottom="1px solid "+s);const n=i.secondary?i.buttonSecondaryBackground:i.buttonBackground;this.separatorContainer.style.backgroundColor=n??"",this.separator.style.backgroundColor=i.buttonSeparator??"",this.dropdownButton=this._register(new Tp(this.element,{...i,title:!1,supportIcons:!0})),this._register(ra().setupManagedHover(Ri("mouse"),this.dropdownButton.element,c("button dropdown more actions","More Actions..."))),this.dropdownButton.element.setAttribute("aria-haspopup","true"),this.dropdownButton.element.setAttribute("aria-expanded","false"),this.dropdownButton.element.classList.add("monaco-dropdown-button"),this.dropdownButton.icon=he.dropDownButton,this._register(this.dropdownButton.onDidClick(o=>{const r=Array.isArray(i.actions)?i.actions:i.actions.getActions();i.contextMenuProvider.showContextMenu({getAnchor:hh(()=>this.dropdownButton.element,"getAnchor"),getActions:hh(()=>i.addPrimaryActionToDropdown===!1?[...r]:[this.action,...r],"getActions"),actionRunner:i.actionRunner,onHide:hh(()=>this.dropdownButton.element.setAttribute("aria-expanded","false"),"onHide")}),this.dropdownButton.element.setAttribute("aria-expanded","true")}))}dispose(){super.dispose(),this.element.remove()}set label(e){this.button.label=e,this.action.label=e}set icon(e){this.button.icon=e}set enabled(e){this.button.enabled=e,this.dropdownButton.enabled=e,this.element.classList.toggle("disabled",!e)}get enabled(){return this.button.enabled}set checked(e){this.button.checked=e}get checked(){return this.button.checked}focus(){this.button.focus()}hasFocus(){return this.button.hasFocus()||this.dropdownButton.hasFocus()}}class HJ{constructor(e,i){this.options=i,this._element=document.createElement("div"),this._element.classList.add("monaco-description-button"),this._button=new Tp(this._element,i),this._descriptionElement=document.createElement("div"),this._descriptionElement.classList.add("monaco-button-description"),this._element.appendChild(this._descriptionElement),e.appendChild(this._element)}static{hh(this,"ButtonWithDescription")}_button;_element;_descriptionElement;get onDidClick(){return this._button.onDidClick}get element(){return this._element}set label(e){this._button.label=e}set icon(e){this._button.icon=e}get enabled(){return this._button.enabled}set enabled(e){this._button.enabled=e}set checked(e){this._button.checked=e}get checked(){return this._button.checked}focus(){this._button.focus()}hasFocus(){return this._button.hasFocus()}dispose(){this._button.dispose()}set description(e){this.options.supportIcons?Zl(this._descriptionElement,...J1(e)):this._descriptionElement.textContent=e}}class WJ{constructor(e){this.container=e}static{hh(this,"ButtonBar")}_buttons=[];_buttonStore=new Z;dispose(){this._buttonStore.dispose()}get buttons(){return this._buttons}clear(){this._buttonStore.clear(),this._buttons.length=0}addButton(e){const i=this._buttonStore.add(new Tp(this.container,e));return this.pushButton(i),i}addButtonWithDescription(e){const i=this._buttonStore.add(new HJ(this.container,e));return this.pushButton(i),i}addButtonWithDropdown(e){const i=this._buttonStore.add(new VJ(this.container,e));return this.pushButton(i),i}pushButton(e){this._buttons.push(e);const i=this._buttons.length-1;this._buttonStore.add(N(e.element,U.KEY_DOWN,s=>{const n=new mt(s);let o=!0,r;n.equals(D.LeftArrow)?r=i>0?i-1:this._buttons.length-1:n.equals(D.RightArrow)?r=i===this._buttons.length-1?0:i+1:o=!1,o&&typeof r=="number"&&(this._buttons[r].focus(),xe.stop(s,!0))}))}}var UJ=Object.defineProperty,zJ=(t,e)=>UJ(t,"name",{value:e,configurable:!0});const i_="done",s_="active",mb="infinite",bb="infinite-long-running",n_="discrete";class zu extends q{static{zJ(this,"ProgressBar")}static LONG_RUNNING_INFINITE_THRESHOLD=1e4;static PROGRESS_SIGNAL_DEFAULT_DELAY=3e3;workedVal;element;bit;totalWork;showDelayedScheduler;longRunningScheduler;progressSignal=this._register(new fr);constructor(e,i){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new Ls(()=>Wr(this.element),0)),this.longRunningScheduler=this._register(new Ls(()=>this.infiniteLongRunning(),zu.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(e,i)}create(e,i){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),e.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=i?.progressBarBackground||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(s_,mb,bb,n_),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel(),this.progressSignal.clear()}done(){return this.doDone(!0)}stop(){return this.doDone(!1)}doDone(e){return this.element.classList.add(i_),this.element.classList.contains(mb)?(this.bit.style.opacity="0",e?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",e?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(n_,i_,bb),this.element.classList.add(s_,mb),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(bb)}total(e){return this.workedVal=0,this.totalWork=e,this.element.setAttribute("aria-valuemax",e.toString()),this}hasTotal(){return pc(this.totalWork)}worked(e){return e=Math.max(1,Number(e)),this.doSetWorked(this.workedVal+e)}setWorked(e){return e=Math.max(1,Number(e)),this.doSetWorked(e)}doSetWorked(e){const i=this.totalWork||100;return this.workedVal=e,this.workedVal=Math.min(i,this.workedVal),this.element.classList.remove(mb,bb,i_),this.element.classList.add(s_,n_),this.element.setAttribute("aria-valuenow",e.toString()),this.bit.style.width=100*(this.workedVal/i)+"%",this}getContainer(){return this.element}show(e){this.showDelayedScheduler.cancel(),this.progressSignal.value=fP(zu.PROGRESS_SIGNAL_DEFAULT_DELAY),typeof e=="number"?this.showDelayedScheduler.schedule(e):Wr(this.element)}hide(){Qa(this.element),this.showDelayedScheduler.cancel(),this.progressSignal.clear()}}var $J=Object.defineProperty,dy=(t,e)=>$J(t,"name",{value:e,configurable:!0});class _w extends q{static{dy(this,"Pane")}static HEADER_SIZE=22;element;header;body;_expanded;_orientation;expandedSize=void 0;_headerVisible=!0;_collapsible=!0;_bodyRendered=!1;_minimumBodySize;_maximumBodySize;_ariaHeaderLabel;styles={dropBackground:void 0,headerBackground:void 0,headerBorder:void 0,headerForeground:void 0,leftBorder:void 0};animationTimer=void 0;_onDidChange=this._register(new I);onDidChange=this._onDidChange.event;_onDidChangeExpansionState=this._register(new I);onDidChangeExpansionState=this._onDidChangeExpansionState.event;get ariaHeaderLabel(){return this._ariaHeaderLabel}set ariaHeaderLabel(e){this._ariaHeaderLabel=e,this.header.setAttribute("aria-label",this.ariaHeaderLabel)}get draggableElement(){return this.header}get dropTargetElement(){return this.element}get dropBackground(){return this.styles.dropBackground}get minimumBodySize(){return this._minimumBodySize}set minimumBodySize(e){this._minimumBodySize=e,this._onDidChange.fire(void 0)}get maximumBodySize(){return this._maximumBodySize}set maximumBodySize(e){this._maximumBodySize=e,this._onDidChange.fire(void 0)}get headerSize(){return this.headerVisible?_w.HEADER_SIZE:0}get minimumSize(){const e=this.headerSize,s=!this.headerVisible||this.isExpanded()?this.minimumBodySize:0;return e+s}get maximumSize(){const e=this.headerSize,s=!this.headerVisible||this.isExpanded()?this.maximumBodySize:0;return e+s}orthogonalSize=0;constructor(e){super(),this._expanded=typeof e.expanded>"u"?!0:!!e.expanded,this._orientation=typeof e.orientation>"u"?ge.VERTICAL:e.orientation,this._ariaHeaderLabel=c("viewSection","{0} Section",e.title),this._minimumBodySize=typeof e.minimumBodySize=="number"?e.minimumBodySize:this._orientation===ge.HORIZONTAL?200:120,this._maximumBodySize=typeof e.maximumBodySize=="number"?e.maximumBodySize:Number.POSITIVE_INFINITY,this.element=de(".pane")}isExpanded(){return this._expanded}setExpanded(e){return!e&&!this.collapsible||this._expanded===!!e?!1:(this.element?.classList.toggle("expanded",e),this._expanded=!!e,this.updateHeader(),e?(this._bodyRendered||(this.renderBody(this.body),this._bodyRendered=!0),typeof this.animationTimer=="number"&&be(this.element).clearTimeout(this.animationTimer),we(this.element,this.body)):this.animationTimer=be(this.element).setTimeout(()=>{this.body.remove()},200),this._onDidChangeExpansionState.fire(e),this._onDidChange.fire(e?this.expandedSize:void 0),!0)}get headerVisible(){return this._headerVisible}set headerVisible(e){this._headerVisible!==!!e&&(this._headerVisible=!!e,this.updateHeader(),this._onDidChange.fire(void 0))}get collapsible(){return this._collapsible}set collapsible(e){this._collapsible!==!!e&&(this._collapsible=!!e,this.updateHeader())}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this.element&&(this.element.classList.toggle("horizontal",this.orientation===ge.HORIZONTAL),this.element.classList.toggle("vertical",this.orientation===ge.VERTICAL)),this.header&&this.updateHeader())}render(){this.element.classList.toggle("expanded",this.isExpanded()),this.element.classList.toggle("horizontal",this.orientation===ge.HORIZONTAL),this.element.classList.toggle("vertical",this.orientation===ge.VERTICAL),this.header=de(".pane-header"),we(this.element,this.header),this.header.setAttribute("tabindex","0"),this.header.setAttribute("role","button"),this.header.setAttribute("aria-label",this.ariaHeaderLabel),this.renderHeader(this.header);const e=oa(this.header);this._register(e),this._register(e.onDidFocus(()=>this.header.classList.add("focused"),null)),this._register(e.onDidBlur(()=>this.header.classList.remove("focused"),null)),this.updateHeader();const i=this._register(new Z),s=this._register(new $e(this.header,"keydown")),n=R.map(s.event,o=>new mt(o),i);this._register(R.filter(n,o=>o.keyCode===D.Enter||o.keyCode===D.Space,i)(()=>this.setExpanded(!this.isExpanded()),null)),this._register(R.filter(n,o=>o.keyCode===D.LeftArrow,i)(()=>this.setExpanded(!1),null)),this._register(R.filter(n,o=>o.keyCode===D.RightArrow,i)(()=>this.setExpanded(!0),null)),this._register(us.addTarget(this.header)),[U.CLICK,kt.Tap].forEach(o=>{this._register(N(this.header,o,r=>{r.defaultPrevented||this.setExpanded(!this.isExpanded())}))}),this.body=we(this.element,de(".pane-body")),!this._bodyRendered&&this.isExpanded()&&(this.renderBody(this.body),this._bodyRendered=!0),this.isExpanded()||this.body.remove()}layout(e){const i=this.headerVisible?_w.HEADER_SIZE:0,s=this._orientation===ge.VERTICAL?this.orthogonalSize:e,n=this._orientation===ge.VERTICAL?e-i:this.orthogonalSize-i;this.isExpanded()&&(this.body.classList.toggle("wide",s>=600),this.layoutBody(n,s),this.expandedSize=e)}style(e){this.styles=e,this.header&&this.updateHeader()}updateHeader(){const e=!this.headerVisible||this.isExpanded();this.collapsible?(this.header.setAttribute("tabindex","0"),this.header.setAttribute("role","button")):(this.header.removeAttribute("tabindex"),this.header.removeAttribute("role")),this.header.style.lineHeight=`${this.headerSize}px`,this.header.classList.toggle("hidden",!this.headerVisible),this.header.classList.toggle("expanded",e),this.header.classList.toggle("not-collapsible",!this.collapsible),this.header.setAttribute("aria-expanded",String(e)),this.header.style.color=this.collapsible?this.styles.headerForeground??"":"",this.header.style.backgroundColor=(this.collapsible?this.styles.headerBackground:"transparent")??"",this.header.style.borderTop=this.styles.headerBorder&&this.orientation===ge.VERTICAL?`1px solid ${this.styles.headerBorder}`:"",this.element.style.borderLeft=this.styles.leftBorder&&this.orientation===ge.HORIZONTAL?`1px solid ${this.styles.leftBorder}`:""}}class iE extends q{constructor(e,i,s){super(),this.pane=e,this.dnd=i,this.context=s,e.draggableElement.draggable=!0,this._register(N(e.draggableElement,"dragstart",n=>this.onDragStart(n))),this._register(N(e.dropTargetElement,"dragenter",n=>this.onDragEnter(n))),this._register(N(e.dropTargetElement,"dragleave",n=>this.onDragLeave(n))),this._register(N(e.dropTargetElement,"dragend",n=>this.onDragEnd(n))),this._register(N(e.dropTargetElement,"drop",n=>this.onDrop(n)))}static{dy(this,"PaneDraggable")}static DefaultDragOverBackgroundColor=new k(new dt(128,128,128,.5));dragOverCounter=0;_onDidDrop=this._register(new I);onDidDrop=this._onDidDrop.event;onDragStart(e){if(!this.dnd.canDrag(this.pane)||!e.dataTransfer){e.preventDefault(),e.stopPropagation();return}e.dataTransfer.effectAllowed="move",Ah&&e.dataTransfer?.setData(Ba.TEXT,this.pane.draggableElement.textContent||"");const i=we(this.pane.element.ownerDocument.body,de(".monaco-drag-image",{},this.pane.draggableElement.textContent||""));e.dataTransfer.setDragImage(i,-10,-10),setTimeout(()=>i.remove(),0),this.context.draggable=this}onDragEnter(e){!this.context.draggable||this.context.draggable===this||this.dnd.canDrop(this.context.draggable.pane,this.pane)&&(this.dragOverCounter++,this.render())}onDragLeave(e){!this.context.draggable||this.context.draggable===this||this.dnd.canDrop(this.context.draggable.pane,this.pane)&&(this.dragOverCounter--,this.dragOverCounter===0&&this.render())}onDragEnd(e){this.context.draggable&&(this.dragOverCounter=0,this.render(),this.context.draggable=null)}onDrop(e){this.context.draggable&&(xe.stop(e),this.dragOverCounter=0,this.render(),this.dnd.canDrop(this.context.draggable.pane,this.pane)&&this.context.draggable!==this&&this._onDidDrop.fire({from:this.context.draggable.pane,to:this.pane}),this.context.draggable=null)}render(){let e=null;this.dragOverCounter>0&&(e=this.pane.dropBackground??iE.DefaultDragOverBackgroundColor.toString()),this.pane.dropTargetElement.style.backgroundColor=e||""}}class Moe{static{dy(this,"DefaultPaneDndController")}canDrag(e){return!0}canDrop(e,i){return!0}}class KJ extends q{static{dy(this,"PaneView")}dnd;dndContext={draggable:null};element;paneItems=[];orthogonalSize=0;size=0;splitview;animationTimer=void 0;_onDidDrop=this._register(new I);onDidDrop=this._onDidDrop.event;orientation;boundarySashes;onDidSashChange;onDidSashReset;onDidScroll;constructor(e,i={}){super(),this.dnd=i.dnd,this.orientation=i.orientation??ge.VERTICAL,this.element=we(e,de(".monaco-pane-view")),this.splitview=this._register(new dp(this.element,{orientation:this.orientation})),this.onDidSashReset=this.splitview.onDidSashReset,this.onDidSashChange=this.splitview.onDidSashChange,this.onDidScroll=this.splitview.onDidScroll;const s=this._register(new Z),n=this._register(new $e(this.element,"keydown")),o=R.map(R.filter(n.event,r=>ns(r.target)&&r.target.classList.contains("pane-header"),s),r=>new mt(r),s);this._register(R.filter(o,r=>r.keyCode===D.UpArrow,s)(()=>this.focusPrevious())),this._register(R.filter(o,r=>r.keyCode===D.DownArrow,s)(()=>this.focusNext()))}addPane(e,i,s=this.splitview.length){const n=new Z;e.onDidChangeExpansionState(this.setupAnimation,this,n);const o={pane:e,disposable:n};if(this.paneItems.splice(s,0,o),e.orientation=this.orientation,e.orthogonalSize=this.orthogonalSize,this.splitview.addView(e,i,s),this.dnd){const r=new iE(e,this.dnd,this.dndContext);n.add(r),n.add(r.onDidDrop(this._onDidDrop.fire,this._onDidDrop))}}removePane(e){const i=this.paneItems.findIndex(n=>n.pane===e);if(i===-1)return;this.splitview.removeView(i,e.isExpanded()?Kn.Distribute:void 0),this.paneItems.splice(i,1)[0].disposable.dispose()}movePane(e,i){const s=this.paneItems.findIndex(r=>r.pane===e),n=this.paneItems.findIndex(r=>r.pane===i);if(s===-1||n===-1)return;const[o]=this.paneItems.splice(s,1);this.paneItems.splice(n,0,o),this.splitview.moveView(s,n)}resizePane(e,i){const s=this.paneItems.findIndex(n=>n.pane===e);s!==-1&&this.splitview.resizeView(s,i)}getPaneSize(e){const i=this.paneItems.findIndex(s=>s.pane===e);return i===-1?-1:this.splitview.getViewSize(i)}layout(e,i){this.orthogonalSize=this.orientation===ge.VERTICAL?i:e,this.size=this.orientation===ge.HORIZONTAL?i:e;for(const s of this.paneItems)s.pane.orthogonalSize=this.orthogonalSize;this.splitview.layout(this.size)}setBoundarySashes(e){this.boundarySashes=e,this.updateSplitviewOrthogonalSashes(e)}updateSplitviewOrthogonalSashes(e){this.orientation===ge.VERTICAL?(this.splitview.orthogonalStartSash=e?.left,this.splitview.orthogonalEndSash=e?.right):this.splitview.orthogonalEndSash=e?.bottom}flipOrientation(e,i){this.orientation=this.orientation===ge.VERTICAL?ge.HORIZONTAL:ge.VERTICAL;const s=this.paneItems.map(r=>this.getPaneSize(r.pane));this.splitview.dispose(),ds(this.element),this.splitview=this._register(new dp(this.element,{orientation:this.orientation})),this.updateSplitviewOrthogonalSashes(this.boundarySashes);const n=this.orientation===ge.VERTICAL?i:e,o=this.orientation===ge.HORIZONTAL?i:e;this.paneItems.forEach((r,a)=>{r.pane.orthogonalSize=n,r.pane.orientation=this.orientation;const l=this.size===0?0:o*s[a]/this.size;this.splitview.addView(r.pane,l,a)}),this.size=o,this.orthogonalSize=n,this.splitview.layout(this.size)}setupAnimation(){typeof this.animationTimer=="number"&&be(this.element).clearTimeout(this.animationTimer),this.element.classList.add("animated"),this.animationTimer=be(this.element).setTimeout(()=>{this.animationTimer=void 0,this.element.classList.remove("animated")},200)}getPaneHeaderElements(){return[...this.element.querySelectorAll(".pane-header")]}focusPrevious(){const e=this.getPaneHeaderElements(),i=e.indexOf(this.element.ownerDocument.activeElement);i!==-1&&e[Math.max(i-1,0)].focus()}focusNext(){const e=this.getPaneHeaderElements(),i=e.indexOf(this.element.ownerDocument.activeElement);i!==-1&&e[Math.min(i+1,e.length-1)].focus()}dispose(){super.dispose(),this.paneItems.forEach(e=>e.disposable.dispose())}}var CB=Object.defineProperty,GJ=Object.getOwnPropertyDescriptor,DB=(t,e)=>CB(t,"name",{value:e,configurable:!0}),jJ=(t,e,i,s)=>{for(var n=GJ(e,i),o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=r(e,i,n)||n);return n&&CB(e,i,n),n};class AB{constructor(e){this.nodes=e}static{DB(this,"LinkedText")}toString(){return this.nodes.map(e=>typeof e=="string"?e:e.label).join("")}}jJ([ie],AB.prototype,"toString");const qJ=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function sE(t){const e=[];let i=0,s;for(;s=qJ.exec(t);){s.index-i>0&&e.push(t.substring(i,s.index));const[,n,o,,r]=s;r?e.push({label:n,href:o,title:r}):e.push({label:n,href:o}),i=s.index+s[0].length}return i<t.length&&e.push(t.substring(i)),new AB(e)}DB(sE,"parseLinkedText");var EB=Object.defineProperty,YJ=Object.getOwnPropertyDescriptor,XJ=(t,e)=>EB(t,"name",{value:e,configurable:!0}),ZJ=(t,e,i,s)=>{for(var n=s>1?void 0:s?YJ(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&EB(e,i,n),n},bT=(t,e)=>(i,s)=>e(i,s,t);let iS=class extends q{constructor(t,e,i={},s,n){super(),this._link=e,this._hoverService=s,this.el=we(t,de("a.monaco-link",{tabIndex:e.tabIndex??0,href:e.href},e.label)),this.hoverDelegate=i.hoverDelegate??Ri("mouse"),this.setTooltip(e.title),this.el.setAttribute("role","button");const o=this._register(new $e(this.el,"click")),r=this._register(new $e(this.el,"keypress")),a=R.chain(r.event,d=>d.map(u=>new mt(u)).filter(u=>u.keyCode===D.Enter)),l=this._register(new $e(this.el,kt.Tap)).event;this._register(us.addTarget(this.el));const h=R.any(o.event,a,l);this._register(h(d=>{this.enabled&&(xe.stop(d,!0),i?.opener?i.opener(this._link.href):n.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}static{XJ(this,"Link")}el;hover;hoverDelegate;_enabled=!0;get enabled(){return this._enabled}set enabled(t){t?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=t}set link(t){typeof t.label=="string"?this.el.textContent=t.label:(ds(this.el),this.el.appendChild(t.label)),this.el.href=t.href,typeof t.tabIndex<"u"&&(this.el.tabIndex=t.tabIndex),this.setTooltip(t.title),this._link=t}setTooltip(t){this.hoverDelegate.showNativeHover?this.el.title=t??"":!this.hover&&t?this.hover=this._register(this._hoverService.setupManagedHover(this.hoverDelegate,this.el,t)):this.hover&&this.hover.update(t)}};iS=ZJ([bT(3,Ss),bT(4,pg)],iS);var IB=Object.defineProperty,QJ=Object.getOwnPropertyDescriptor,uu=(t,e)=>IB(t,"name",{value:e,configurable:!0}),JJ=(t,e,i,s)=>{for(var n=s>1?void 0:s?QJ(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&IB(e,i,n),n},eee=(t,e)=>(i,s)=>e(i,s,t);const tee=Ce("progressService"),iee=Object.freeze({total(){},worked(){},done(){}});class Foe{constructor(e){this.callback=e}static{uu(this,"Progress")}static None=Object.freeze({report(){}});_value;get value(){return this._value}report(e){this._value=e,this.callback(this._value)}}class Voe{constructor(e){this.callback=e}static{uu(this,"AsyncProgress")}_value;get value(){return this._value}_asyncQueue;_processingAsyncQueue;_drainListener;report(e){this._asyncQueue?this._asyncQueue.push(e):this._asyncQueue=[e],this._processAsyncQueue()}async _processAsyncQueue(){if(!this._processingAsyncQueue)try{for(this._processingAsyncQueue=!0;this._asyncQueue&&this._asyncQueue.length;){const e=this._asyncQueue.shift();this._value=e,await this.callback(this._value)}}finally{this._processingAsyncQueue=!1;const e=this._drainListener;this._drainListener=void 0,e?.()}}drain(){return this._processingAsyncQueue?new Promise(e=>{const i=this._drainListener;this._drainListener=()=>{i?.(),e()}}):Promise.resolve()}}let vT=class extends q{static{uu(this,"UnmanagedProgress")}deferred=new ic;reporter;lastStep;constructor(t,e){super(),e.withProgress(t,i=>(this.reporter=i,this.lastStep&&i.report(this.lastStep),this.deferred.p)),this._register(Se(()=>this.deferred.complete()))}report(t){this.reporter?this.reporter.report(t):this.lastStep=t}};vT=JJ([eee(1,tee)],vT);class Hoe extends q{constructor(e){super(),this.progressIndicator=e}static{uu(this,"LongRunningOperation")}currentOperationId=0;currentOperationDisposables=this._register(new Z);currentProgressRunner;currentProgressTimeout;start(e){this.stop();const i=++this.currentOperationId,s=new Yh;return this.currentProgressTimeout=setTimeout(()=>{i===this.currentOperationId&&(this.currentProgressRunner=this.progressIndicator.show(!0))},e),this.currentOperationDisposables.add(Se(()=>clearTimeout(this.currentProgressTimeout))),this.currentOperationDisposables.add(Se(()=>s.cancel())),this.currentOperationDisposables.add(Se(()=>this.currentProgressRunner?this.currentProgressRunner.done():void 0)),{id:i,token:s.token,stop:uu(()=>this.doStop(i),"stop"),isCurrent:uu(()=>this.currentOperationId===i,"isCurrent")}}stop(){this.doStop(this.currentOperationId)}doStop(e){this.currentOperationId===e&&this.currentOperationDisposables.clear()}}const see=Ce("editorProgressService");var nee=Object.defineProperty,ir=(t,e)=>nee(t,"name",{value:e,configurable:!0});class Woe extends q{constructor(e,i){super(),this.progressBar=e,this.group=i,this.registerListeners()}static{ir(this,"EditorProgressIndicator")}registerListeners(){this._register(this.group.onDidModelChange(e=>{(e.kind===w0.EDITOR_ACTIVE||e.kind===w0.EDITOR_CLOSE&&this.group.isEmpty)&&this.progressBar.stop().hide()}))}show(e,i){return this.group.isEmpty?iee:e===!0?this.doShow(!0,i):this.doShow(e,i)}doShow(e,i){return typeof e=="boolean"?this.progressBar.infinite().show(i):this.progressBar.total(e).show(i),{total:ir(s=>{this.progressBar.total(s)},"total"),worked:ir(s=>{this.progressBar.hasTotal()?this.progressBar.worked(s):this.progressBar.infinite().show()},"worked"),done:ir(()=>{this.progressBar.stop().hide()},"done")}}async showWhile(e,i){if(this.group.isEmpty)try{await e}catch{}return this.doShowWhile(e,i)}async doShowWhile(e,i){try{this.progressBar.infinite().show(i),await e}catch{}finally{this.progressBar.stop().hide()}}}var So;(t=>{(s=>{s[s.None=0]="None",s[s.Done=1]="Done",s[s.Infinite=2]="Infinite",s[s.While=3]="While",s[s.Work=4]="Work"})(t.Type||(t.Type={})),t.None={type:0},t.Done={type:1},t.Infinite={type:2};class e{constructor(n,o,r){this.whilePromise=n,this.whileStart=o,this.whileDelay=r}static{ir(this,"While")}type=3}t.While=e;class i{constructor(n,o){this.total=n,this.worked=o}static{ir(this,"Work")}type=4}t.Work=i})(So||(So={}));class TB extends q{constructor(e,i){super(),this.progressBar=e,this.scope=i,this.registerListeners()}static{ir(this,"ScopedProgressIndicator")}progressState=So.None;registerListeners(){this._register(this.scope.onDidChangeActive(()=>{this.scope.isActive?this.onDidScopeActivate():this.onDidScopeDeactivate()}))}onDidScopeActivate(){if(this.progressState.type!==So.Done.type)if(this.progressState.type===3){let e;if(this.progressState.whileDelay>0){const i=this.progressState.whileDelay-(Date.now()-this.progressState.whileStart);i>0&&(e=i)}this.doShowWhile(e)}else this.progressState.type===2?this.progressBar.infinite().show():this.progressState.type===4&&(this.progressState.total&&this.progressBar.total(this.progressState.total).show(),this.progressState.worked&&this.progressBar.worked(this.progressState.worked).show())}onDidScopeDeactivate(){this.progressBar.stop().hide()}show(e,i){return typeof e=="boolean"?this.progressState=So.Infinite:this.progressState=new So.Work(e,void 0),this.scope.isActive&&(this.progressState.type===2?this.progressBar.infinite().show(i):this.progressState.type===4&&typeof this.progressState.total=="number"&&this.progressBar.total(this.progressState.total).show(i)),{total:ir(s=>{this.progressState=new So.Work(s,this.progressState.type===4?this.progressState.worked:void 0),this.scope.isActive&&this.progressBar.total(s)},"total"),worked:ir(s=>{!this.scope.isActive||this.progressBar.hasTotal()?(this.progressState=new So.Work(this.progressState.type===4?this.progressState.total:void 0,this.progressState.type===4&&typeof this.progressState.worked=="number"?this.progressState.worked+s:s),this.scope.isActive&&this.progressBar.worked(s)):(this.progressState=So.Infinite,this.progressBar.infinite().show())},"worked"),done:ir(()=>{this.progressState=So.Done,this.scope.isActive&&this.progressBar.stop().hide()},"done")}}async showWhile(e,i){this.progressState.type===3&&(e=Promise.all([e,this.progressState.whilePromise])),this.progressState=new So.While(e,i||0,Date.now());try{this.doShowWhile(i),await e}catch{}finally{(this.progressState.type!==3||this.progressState.whilePromise===e)&&(this.progressState=So.None,this.scope.isActive&&this.progressBar.stop().hide())}}doShowWhile(e){this.scope.isActive&&this.progressBar.infinite().show(e)}}class kB extends q{constructor(e,i){super(),this.scopeId=e,this._isActive=i}static{ir(this,"AbstractProgressScope")}_onDidChangeActive=this._register(new I);onDidChangeActive=this._onDidChangeActive.event;get isActive(){return this._isActive}onScopeOpened(e){e===this.scopeId&&(this._isActive||(this._isActive=!0,this._onDidChangeActive.fire()))}onScopeClosed(e){e===this.scopeId&&this._isActive&&(this._isActive=!1,this._onDidChangeActive.fire())}}var oee=Object.defineProperty,ree=(t,e)=>oee(t,"name",{value:e,configurable:!0});class aee{constructor(e,i=0,s=e.length,n=i-1){this.items=e,this.start=i,this.end=s,this.index=n}static{ree(this,"ArrayNavigator")}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}var lee=Object.defineProperty,xB=(t,e)=>lee(t,"name",{value:e,configurable:!0});class cee{static{xB(this,"HistoryNavigator")}_history;_limit;_navigator;constructor(e=[],i=10){this._initialize(e),this._limit=i,this._onChange()}getHistory(){return this._elements}add(e){this._history.delete(e),this._history.add(e),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isFirst(){return this._currentPosition()===0}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(e){return this._history.has(e)}clear(){this._initialize([]),this._onChange()}_onChange(){this._reduceToLimit();const e=this._elements;this._navigator=new aee(e,0,e.length,e.length)}_reduceToLimit(){const e=this._elements;e.length>this._limit&&this._initialize(e.slice(e.length-this._limit))}_currentPosition(){const e=this._navigator.current();return e?this._elements.indexOf(e):-1}_initialize(e){this._history=new Set;for(const i of e)this._history.add(i)}get _elements(){const e=[];return this._history.forEach(i=>e.push(i)),e}}class Uoe{constructor(e,i=10,s=n=>n){if(this.capacity=i,this.identityFn=s,e.length<1)throw new Error("not supported");this._size=1,this.head=this.tail=this.cursor={value:e[0],previous:void 0,next:void 0},this.valueSet=new E7([e[0]],s);for(let n=1;n<e.length;n++)this.add(e[n])}static{xB(this,"HistoryNavigator2")}valueSet;head;tail;cursor;_size;get size(){return this._size}add(e){const i={value:e,previous:this.tail,next:void 0};for(this.tail.next=i,this.tail=i,this.cursor=this.tail,this._size++,this.valueSet.has(e)?this._deleteFromList(e):this.valueSet.add(e);this._size>this.capacity;)this.valueSet.delete(this.head.value),this.head=this.head.next,this.head.previous=void 0,this._size--}replaceLast(e){if(this.identityFn(this.tail.value)===this.identityFn(e))return e;const i=this.tail.value;return this.valueSet.delete(i),this.tail.value=e,this.valueSet.has(e)?this._deleteFromList(e):this.valueSet.add(e),i}prepend(e){if(this._size===this.capacity||this.valueSet.has(e))return;const i={value:e,previous:void 0,next:this.head};this.head.previous=i,this.head=i,this._size++,this.valueSet.add(e)}isAtEnd(){return this.cursor===this.tail}current(){return this.cursor.value}previous(){return this.cursor.previous&&(this.cursor=this.cursor.previous),this.cursor.value}next(){return this.cursor.next&&(this.cursor=this.cursor.next),this.cursor.value}has(e){return this.valueSet.has(e)}resetCursor(){return this.cursor=this.tail,this.cursor.value}*[Symbol.iterator](){let e=this.head;for(;e;)yield e.value,e=e.next}_deleteFromList(e){let i=this.head;const s=this.identityFn(e);for(;i!==this.tail;)this.identityFn(i.value)===s&&(i===this.head?(this.head=this.head.next,this.head.previous=void 0):(i.previous.next=i.next,i.next.previous=i.previous),this._size--),i=i.next}}var hee=Object.defineProperty,Rl=(t,e)=>hee(t,"name",{value:e,configurable:!0});const Vg=de;var sS=(t=>(t[t.INFO=1]="INFO",t[t.WARNING=2]="WARNING",t[t.ERROR=3]="ERROR",t))(sS||{});const dee={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class uee extends wr{static{Rl(this,"InputBox")}contextViewProvider;element;input;actionbar;options;message;placeholder;tooltip;ariaLabel;validation;state="idle";mirror;cachedHeight;cachedContentHeight;maxHeight=Number.POSITIVE_INFINITY;scrollableElement;hover;_onDidChange=this._register(new I);onDidChange=this._onDidChange.event;_onDidHeightChange=this._register(new I);onDidHeightChange=this._onDidHeightChange.event;constructor(e,i,s){super(),this.contextViewProvider=i,this.options=s,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=this.options.tooltip??(this.placeholder||""),this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=we(e,Vg(".monaco-inputbox.idle"));const n=this.options.flexibleHeight?"textarea":"input",o=we(this.element,Vg(".ibwrapper"));if(this.input=we(o,Vg(n+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=we(o,Vg("div.mirror")),this.mirror.innerText="",this.scrollableElement=new Rj(this.element,{vertical:Jt.Auto}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),we(e,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(l=>this.input.scrollTop=l.scrollTop));const r=this._register(new $e(e.ownerDocument,"selectionchange")),a=R.filter(r.event,()=>e.ownerDocument.getSelection()?.anchorNode===o);this._register(a(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new Sc(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(e){this.placeholder=e,this.input.setAttribute("placeholder",e)}setTooltip(e){this.tooltip=e,this.hover?this.hover.update(e):this.hover=this._register(ra().setupManagedHover(Ri("mouse"),this.input,e))}setAriaLabel(e){this.ariaLabel=e,e?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get mirrorElement(){return this.mirror}get inputElement(){return this.input}get value(){return this.input.value}set value(e){this.input.value!==e&&(this.input.value=e,this.onValueChange())}get step(){return this.input.step}set step(e){this.input.step=e}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:xv(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return na(this.input)}select(e=null){this.input.select(),e&&(this.input.setSelectionRange(e.start,e.end),e.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}getSelection(){const e=this.input.selectionStart;if(e===null)return null;const i=this.input.selectionEnd??e;return{start:e,end:i}}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}setEnabled(e){e?this.enable():this.disable()}get width(){return Iu(this.input)}set width(e){if(this.options.flexibleHeight&&this.options.flexibleWidth){let i=0;if(this.mirror){const s=Number.parseFloat(this.mirror.style.paddingLeft||"")||0,n=Number.parseFloat(this.mirror.style.paddingRight||"")||0;i=s+n}this.input.style.width=e-i+"px"}else this.input.style.width=e+"px";this.mirror&&(this.mirror.style.width=e+"px")}set paddingRight(e){this.input.style.width=`calc(100% - ${e}px)`,this.mirror&&(this.mirror.style.paddingRight=e+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const e=this.cachedContentHeight,i=this.cachedHeight,s=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:e,height:i}),this.scrollableElement.setScrollPosition({scrollTop:s})}showMessage(e,i){if(this.state==="open"&&Ua(this.message,e))return;this.message=e,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(e.type));const s=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${or(s.border,"transparent")}`,this.message.content&&(this.hasFocus()||i)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}isInputValid(){return!!this.validation&&!this.validation(this.value)}validate(){let e=null;return this.validation&&(e=this.validation(this.value),e?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(e)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),e?.type}stylesForType(e){const i=this.options.inputBoxStyles;switch(e){case 1:return{border:i.inputValidationInfoBorder,background:i.inputValidationInfoBackground,foreground:i.inputValidationInfoForeground};case 2:return{border:i.inputValidationWarningBorder,background:i.inputValidationWarningBackground,foreground:i.inputValidationWarningForeground};default:return{border:i.inputValidationErrorBorder,background:i.inputValidationErrorBackground,foreground:i.inputValidationErrorForeground}}}classForType(e){switch(e){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let e;const i=Rl(()=>e.style.width=Iu(this.element)+"px","layout");this.contextViewProvider.showContextView({getAnchor:Rl(()=>this.element,"getAnchor"),anchorAlignment:cc.RIGHT,render:Rl(n=>{if(!this.message)return null;e=we(n,Vg(".monaco-inputbox-container")),i();const o={inline:!0,className:"monaco-inputbox-message"},r=this.message.formatContent?X5(this.message.content,o):Y5(this.message.content,o);r.classList.add(this.classForType(this.message.type));const a=this.stylesForType(this.message.type);return r.style.backgroundColor=a.background??"",r.style.color=a.foreground??"",r.style.border=a.border?`1px solid ${a.border}`:"",we(e,r),null},"render"),onHide:Rl(()=>{this.state="closed"},"onHide"),layout:i});let s;this.message.type===3?s=c("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?s=c("alertWarningMessage","Warning: {0}",this.message.content):s=c("alertInfoMessage","Info: {0}",this.message.content),Bh(s),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const e=this.value,s=e.charCodeAt(e.length-1)===10?" ":"";(e+s).replace(/\u000c/g,"")?this.mirror.textContent=e+s:this.mirror.innerText="",this.layout()}applyStyles(){const e=this.options.inputBoxStyles,i=e.inputBackground??"",s=e.inputForeground??"",n=e.inputBorder??"";this.element.style.backgroundColor=i,this.element.style.color=s,this.input.style.backgroundColor="inherit",this.input.style.color=s,this.element.style.border=`1px solid ${or(n,"transparent")}`}layout(){if(!this.mirror)return;const e=this.cachedContentHeight;this.cachedContentHeight=xv(this.mirror),e!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(e){const i=this.inputElement,s=i.selectionStart,n=i.selectionEnd,o=i.value;s!==null&&n!==null&&(this.value=o.substr(0,s)+e+o.substr(n),i.setSelectionRange(s+1,s+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar?.dispose(),super.dispose()}}class nE extends uee{static{Rl(this,"HistoryInputBox")}history;observer;_onDidFocus=this._register(new I);onDidFocus=this._onDidFocus.event;_onDidBlur=this._register(new I);onDidBlur=this._onDidBlur.event;constructor(e,i,s){const n=c({key:"history.inputbox.hint.suffix.noparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field ends in a closing parenthesis ")", for example "Filter (e.g. text, !exclude)". The character inserted into the final string is  to represent the up and down arrow keys.']}," or {0} for history",""),o=c({key:"history.inputbox.hint.suffix.inparens",comment:['Text is the suffix of an input field placeholder coming after the action the input field performs, this will be used when the input field does NOT end in a closing parenthesis (eg. "Find"). The character inserted into the final string is  to represent the up and down arrow keys.']}," ({0} for history)","");super(e,i,s),this.history=new cee(s.history,100);const r=Rl(()=>{if(s.showHistoryHint&&s.showHistoryHint()&&!this.placeholder.endsWith(n)&&!this.placeholder.endsWith(o)&&this.history.getHistory().length){const a=this.placeholder.endsWith(")")?n:o,l=this.placeholder+a;s.showPlaceholderOnFocus&&!na(this.input)?this.placeholder=l:this.setPlaceHolder(l)}},"addSuffix");this.observer=new MutationObserver((a,l)=>{a.forEach(h=>{h.target.textContent||r()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>r()),this.onblur(this.input,()=>{const a=Rl(l=>{if(this.placeholder.endsWith(l)){const h=this.placeholder.slice(0,this.placeholder.length-l.length);return s.showPlaceholderOnFocus?this.placeholder=h:this.setPlaceHolder(h),!0}else return!1},"resetPlaceholder");a(o)||a(n)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(e){this.value&&(e||this.value!==this.getCurrentValue())&&this.history.add(this.value)}prependHistory(e){const i=this.getHistory();this.clearHistory(),e.forEach(s=>{this.history.add(s)}),i.forEach(s=>{this.history.add(s)})}getHistory(){return this.history.getHistory()}isAtFirstInHistory(){return this.history.isFirst()}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let e=this.getNextValue();e&&(e=e===this.value?this.getNextValue():e),this.value=e??"",Z_(this.value?this.value:c("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let e=this.getPreviousValue();e&&(e=e===this.value?this.getPreviousValue():e),e&&(this.value=e,Z_(this.value))}clearHistory(){this.history.clear()}setPlaceHolder(e){super.setPlaceHolder(e),this.setTooltip(e)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let e=this.history.current();return e||(e=this.history.last(),this.history.next()),e}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}var gee=Object.defineProperty,uy=(t,e)=>gee(t,"name",{value:e,configurable:!0});const LB={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class zoe extends cn{static{uy(this,"ToggleActionViewItem")}toggle;constructor(e,i,s){super(e,i,s),this.toggle=this._register(new Dc({actionClassName:this._action.class,isChecked:!!this._action.checked,title:this.options.keybinding?`${this._action.label} (${this.options.keybinding})`:this._action.label,notFocusable:!0,inputActiveOptionBackground:s.toggleStyles?.inputActiveOptionBackground,inputActiveOptionBorder:s.toggleStyles?.inputActiveOptionBorder,inputActiveOptionForeground:s.toggleStyles?.inputActiveOptionForeground,hoverDelegate:s.hoverDelegate})),this._register(this.toggle.onChange(()=>this._action.checked=!!this.toggle&&this.toggle.checked))}render(e){this.element=e,this.element.appendChild(this.toggle.domNode)}updateEnabled(){this.toggle&&(this.isEnabled()?this.toggle.enable():this.toggle.disable())}updateChecked(){this.toggle.checked=!!this._action.checked}focus(){this.toggle.domNode.tabIndex=0,this.toggle.focus()}blur(){this.toggle.domNode.tabIndex=-1,this.toggle.domNode.blur()}setFocusable(e){this.toggle.domNode.tabIndex=e?0:-1}}class Dc extends wr{static{uy(this,"Toggle")}_onChange=this._register(new I);onChange=this._onChange.event;_onKeyDown=this._register(new I);onKeyDown=this._onKeyDown.event;_opts;_icon;domNode;_checked;_hover;constructor(e){super(),this._opts=e,this._checked=this._opts.isChecked;const i=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,i.push(...Ae.asClassNameArray(this._icon))),this._opts.actionClassName&&i.push(...this._opts.actionClassName.split(" ")),this._checked&&i.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register(ra().setupManagedHover(e.hoverDelegate??Ri("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...i),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,s=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),s.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,s=>{if(s.keyCode===D.Space||s.keyCode===D.Enter){this.checked=!this._checked,this._onChange.fire(!0),s.preventDefault(),s.stopPropagation();return}this._onKeyDown.fire(s)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}setIcon(e){this._icon&&this.domNode.classList.remove(...Ae.asClassNameArray(this._icon)),this._icon=e,this._icon&&this.domNode.classList.add(...Ae.asClassNameArray(this._icon))}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}setTitle(e){this._hover.update(e),this.domNode.setAttribute("aria-label",e)}set visible(e){this.domNode.style.display=e?"":"none"}get visible(){return this.domNode.style.display!=="none"}}class oE extends wr{constructor(e,i,s){super(),this.title=e,this.isChecked=i,this.checkbox=this._register(new Dc({title:this.title,isChecked:this.isChecked,icon:he.check,actionClassName:oE.CLASS_NAME,...LB})),this.domNode=this.checkbox.domNode,this.styles=s,this.applyStyles(),this._register(this.checkbox.onChange(n=>{this.applyStyles(),this._onChange.fire(n)}))}static{uy(this,"Checkbox")}static CLASS_NAME="monaco-checkbox";_onChange=this._register(new I);onChange=this._onChange.event;checkbox;styles;domNode;get checked(){return this.checkbox.checked}set checked(e){this.checkbox.checked=e,this.applyStyles()}focus(){this.domNode.focus()}hasFocus(){return na(this.domNode)}enable(){this.checkbox.enable()}disable(){this.checkbox.disable()}applyStyles(){this.domNode.style.color=this.styles.checkboxForeground||"",this.domNode.style.backgroundColor=this.styles.checkboxBackground||"",this.domNode.style.borderColor=this.styles.checkboxBorder||""}}class $oe extends cn{static{uy(this,"CheckboxActionViewItem")}toggle;cssClass;constructor(e,i,s){super(e,i,s),this.toggle=this._register(new oE(this._action.label,!!this._action.checked,s.checkboxStyles)),this._register(this.toggle.onChange(()=>this.onChange()))}render(e){if(this.element=e,this.element.classList.add("checkbox-action-item"),this.element.appendChild(this.toggle.domNode),this.options.label&&this._action.label){const i=this.element.appendChild(de("span.checkbox-label",void 0,this._action.label));this._register(N(i,U.CLICK,s=>{this.toggle.checked=!this.toggle.checked,s.stopPropagation(),s.preventDefault(),this.onChange()}))}this.updateEnabled(),this.updateClass(),this.updateChecked()}onChange(){this._action.checked=!!this.toggle&&this.toggle.checked,this.actionRunner.run(this._action,this._context)}updateEnabled(){this.isEnabled()?this.toggle.enable():this.toggle.disable(),this.action.enabled?this.element?.classList.remove("disabled"):this.element?.classList.add("disabled")}updateChecked(){this.toggle.checked=!!this._action.checked}updateClass(){this.cssClass&&this.toggle.domNode.classList.remove(...this.cssClass.split(" ")),this.cssClass=this.getClass(),this.cssClass&&this.toggle.domNode.classList.add(...this.cssClass.split(" "))}focus(){this.toggle.domNode.tabIndex=0,this.toggle.focus()}blur(){this.toggle.domNode.tabIndex=-1,this.toggle.domNode.blur()}setFocusable(e){this.toggle.domNode.tabIndex=e?0:-1}}var fee=Object.defineProperty,rE=(t,e)=>fee(t,"name",{value:e,configurable:!0});const pee=c("caseDescription","Match Case"),mee=c("wordsDescription","Match Whole Word"),bee=c("regexDescription","Use Regular Expression");class vee extends Dc{static{rE(this,"CaseSensitiveToggle")}constructor(e){super({icon:he.caseSensitive,title:pee+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??Ri("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class wee extends Dc{static{rE(this,"WholeWordsToggle")}constructor(e){super({icon:he.wholeWord,title:mee+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??Ri("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class yee extends Dc{static{rE(this,"RegexToggle")}constructor(e){super({icon:he.regex,title:bee+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??Ri("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}var _ee=Object.defineProperty,See=(t,e)=>_ee(t,"name",{value:e,configurable:!0});const Cee=c("defaultLabel","input");class PB extends wr{static{See(this,"FindInput")}static OPTION_CHANGE="optionChange";placeholder;validation;label;showCommonFindToggles;fixFocusOnOptionClickEnabled=!0;imeSessionInProgress=!1;additionalTogglesDisposables=this._register(new fr);controls;regex;wholeWords;caseSensitive;additionalToggles=[];domNode;inputBox;_onDidOptionChange=this._register(new I);onDidOptionChange=this._onDidOptionChange.event;_onKeyDown=this._register(new I);onKeyDown=this._onKeyDown.event;_onMouseDown=this._register(new I);onMouseDown=this._onMouseDown.event;_onInput=this._register(new I);onInput=this._onInput.event;_onKeyUp=this._register(new I);onKeyUp=this._onKeyUp.event;_onCaseSensitiveKeyDown=this._register(new I);onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event;_onRegexKeyDown=this._register(new I);onRegexKeyDown=this._onRegexKeyDown.event;constructor(e,i,s){super(),this.placeholder=s.placeholder||"",this.validation=s.validation,this.label=s.label||Cee,this.showCommonFindToggles=!!s.showCommonFindToggles;const n=s.appendCaseSensitiveLabel||"",o=s.appendWholeWordsLabel||"",r=s.appendRegexLabel||"",a=s.history||[],l=!!s.flexibleHeight,h=!!s.flexibleWidth,d=s.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new nE(this.domNode,i,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:a,showHistoryHint:s.showHistoryHint,flexibleHeight:l,flexibleWidth:h,flexibleMaxHeight:d,inputBoxStyles:s.inputBoxStyles}));const u=this._register(og());if(this.showCommonFindToggles){this.regex=this._register(new yee({appendTitle:r,isChecked:!1,hoverDelegate:u,...s.toggleStyles})),this._register(this.regex.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(p=>{this._onRegexKeyDown.fire(p)})),this.wholeWords=this._register(new wee({appendTitle:o,isChecked:!1,hoverDelegate:u,...s.toggleStyles})),this._register(this.wholeWords.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new vee({appendTitle:n,isChecked:!1,hoverDelegate:u,...s.toggleStyles})),this._register(this.caseSensitive.onChange(p=>{this._onDidOptionChange.fire(p),!p&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(p=>{this._onCaseSensitiveKeyDown.fire(p)}));const g=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,p=>{if(p.equals(D.LeftArrow)||p.equals(D.RightArrow)||p.equals(D.Escape)){const m=g.indexOf(this.domNode.ownerDocument.activeElement);if(m>=0){let b=-1;p.equals(D.RightArrow)?b=(m+1)%g.length:p.equals(D.LeftArrow)&&(m===0?b=g.length-1:b=m-1),p.equals(D.Escape)?(g[m].blur(),this.inputBox.focus()):b>=0&&g[b].focus(),xe.stop(p,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(s?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),e?.appendChild(this.domNode),this._register(N(this.inputBox.inputElement,"compositionstart",g=>{this.imeSessionInProgress=!0})),this._register(N(this.inputBox.inputElement,"compositionend",g=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,g=>this._onKeyDown.fire(g)),this.onkeyup(this.inputBox.inputElement,g=>this._onKeyUp.fire(g)),this.oninput(this.inputBox.inputElement,g=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,g=>this._onMouseDown.fire(g))}get isImeSessionInProgress(){return this.imeSessionInProgress}get onDidChange(){return this.inputBox.onDidChange}layout(e){this.inputBox.layout(),this.updateInputBoxPadding(e.collapsedFindWidget)}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex?.enable(),this.wholeWords?.enable(),this.caseSensitive?.enable();for(const e of this.additionalToggles)e.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex?.disable(),this.wholeWords?.disable(),this.caseSensitive?.disable();for(const e of this.additionalToggles)e.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}setAdditionalToggles(e){for(const i of this.additionalToggles)i.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new Z;for(const i of e??[])this.additionalTogglesDisposables.value.add(i),this.controls.appendChild(i.domNode),this.additionalTogglesDisposables.value.add(i.onChange(s=>{this._onDidOptionChange.fire(s),!s&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(i);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(e=!1){e?this.inputBox.paddingRight=0:this.inputBox.paddingRight=(this.caseSensitive?.width()??0)+(this.wholeWords?.width()??0)+(this.regex?.width()??0)+this.additionalToggles.reduce((i,s)=>i+s.width(),0)}clear(){this.clearValidation(),this.setValue(""),this.focus()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}onSearchSubmit(){this.inputBox.addToHistory()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive?.checked??!1}setCaseSensitive(e){this.caseSensitive&&(this.caseSensitive.checked=e)}getWholeWords(){return this.wholeWords?.checked??!1}setWholeWords(e){this.wholeWords&&(this.wholeWords.checked=e)}getRegex(){return this.regex?.checked??!1}setRegex(e){this.regex&&(this.regex.checked=e,this.validate())}focusOnCaseSensitive(){this.caseSensitive?.focus()}focusOnRegex(){this.regex?.focus()}_lastHighlightFindOptions=0;highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(e){this.inputBox.showMessage(e)}clearMessage(){this.inputBox.hideMessage()}clearValidation(){this.inputBox.hideMessage()}}var Dee=Object.defineProperty,RB=(t,e)=>Dee(t,"name",{value:e,configurable:!0});const Aee=c("defaultLabel","input"),Eee=c("label.preserveCaseToggle","Preserve Case");class Iee extends Dc{static{RB(this,"PreserveCaseToggle")}constructor(e){super({icon:he.preserveCase,title:Eee+e.appendTitle,isChecked:e.isChecked,hoverDelegate:e.hoverDelegate??Ri("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Tee extends wr{constructor(e,i,s,n){super(),this._showOptionButtons=s,this.contextViewProvider=i,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||Aee;const o=n.appendPreserveCaseLabel||"",r=n.history||[],a=!!n.flexibleHeight,l=!!n.flexibleWidth,h=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new nE(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:r,showHistoryHint:n.showHistoryHint,flexibleHeight:a,flexibleWidth:l,flexibleMaxHeight:h,inputBoxStyles:n.inputBoxStyles})),this.preserveCase=this._register(new Iee({appendTitle:o,isChecked:!1,...n.toggleStyles})),this._register(this.preserveCase.onChange(g=>{this._onDidOptionChange.fire(g),!g&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(g=>{this._onPreserveCaseKeyDown.fire(g)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const d=[this.preserveCase.domNode];this.onkeydown(this.domNode,g=>{if(g.equals(D.LeftArrow)||g.equals(D.RightArrow)||g.equals(D.Escape)){const p=d.indexOf(this.domNode.ownerDocument.activeElement);if(p>=0){let m=-1;g.equals(D.RightArrow)?m=(p+1)%d.length:g.equals(D.LeftArrow)&&(p===0?m=d.length-1:m=p-1),g.equals(D.Escape)?(d[p].blur(),this.inputBox.focus()):m>=0&&d[m].focus(),xe.stop(g,!0)}}});const u=document.createElement("div");u.className="controls",u.style.display=this._showOptionButtons?"block":"none",u.appendChild(this.preserveCase.domNode),this.domNode.appendChild(u),e?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,g=>this._onKeyDown.fire(g)),this.onkeyup(this.inputBox.inputElement,g=>this._onKeyUp.fire(g)),this.oninput(this.inputBox.inputElement,g=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,g=>this._onMouseDown.fire(g))}static{RB(this,"ReplaceInput")}static OPTION_CHANGE="optionChange";contextViewProvider;placeholder;validation;label;fixFocusOnOptionClickEnabled=!0;preserveCase;cachedOptionsWidth=0;domNode;inputBox;_onDidOptionChange=this._register(new I);onDidOptionChange=this._onDidOptionChange.event;_onKeyDown=this._register(new I);onKeyDown=this._onKeyDown.event;_onMouseDown=this._register(new I);onMouseDown=this._onMouseDown.event;_onInput=this._register(new I);onInput=this._onInput.event;_onKeyUp=this._register(new I);onKeyUp=this._onKeyUp.event;_onPreserveCaseKeyDown=this._register(new I);onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event;enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}clear(){this.clearValidation(),this.setValue(""),this.focus()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}onSearchSubmit(){this.inputBox.addToHistory()}applyStyles(){}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}_lastHighlightFindOptions=0;highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox?.validate()}showMessage(e){this.inputBox?.showMessage(e)}clearMessage(){this.inputBox?.hideMessage()}clearValidation(){this.inputBox?.hideMessage()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var NB=Object.defineProperty,kee=Object.getOwnPropertyDescriptor,hc=(t,e)=>NB(t,"name",{value:e,configurable:!0}),aE=(t,e,i,s)=>{for(var n=s>1?void 0:s?kee(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&NB(e,i,n),n},lE=(t,e)=>(i,s)=>e(i,s,t);const OB=new J("suggestWidgetVisible",!1,c("suggestWidgetVisible","Whether suggestion are visible")),cE="historyNavigationWidgetFocus",BB="historyNavigationForwardsEnabled",MB="historyNavigationBackwardsEnabled";let Lf;const vb=[];function gy(t,e){if(vb.includes(e))throw new Error("Cannot register the same widget multiple times");vb.push(e);const i=new Z,s=new J(cE,!1).bindTo(t),n=new J(BB,!0).bindTo(t),o=new J(MB,!0).bindTo(t),r=hc(()=>{s.set(!0),Lf=e},"onDidFocus"),a=hc(()=>{s.set(!1),Lf===e&&(Lf=void 0)},"onDidBlur");return na(e.element)&&r(),i.add(e.onDidFocus(()=>r())),i.add(e.onDidBlur(()=>a())),i.add(Se(()=>{vb.splice(vb.indexOf(e),1),a()})),{historyNavigationForwardsEnablement:n,historyNavigationBackwardsEnablement:o,dispose(){i.dispose()}}}hc(gy,"registerAndCreateHistoryNavigationContext");let nS=class extends nE{static{hc(this,"ContextScopedHistoryInputBox")}constructor(t,e,i,s){super(t,e,i);const n=this._register(s.createScoped(this.element));this._register(gy(n,this))}};nS=aE([lE(3,Qe)],nS);let wT=class extends PB{static{hc(this,"ContextScopedFindInput")}constructor(t,e,i,s){super(t,e,i);const n=this._register(s.createScoped(this.inputBox.element));this._register(gy(n,this.inputBox))}};wT=aE([lE(3,Qe)],wT);let yT=class extends Tee{static{hc(this,"ContextScopedReplaceInput")}constructor(t,e,i,s,n=!1){super(t,e,n,i);const o=this._register(s.createScoped(this.inputBox.element));this._register(gy(o,this.inputBox))}};yT=aE([lE(3,Qe)],yT);Gi.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:Ft.WorkbenchContrib,when:H.and(H.has(cE),H.equals(MB,!0),H.not("isComposing"),OB.isEqualTo(!1)),primary:D.UpArrow,secondary:[Ze.Alt|D.UpArrow],handler:hc(t=>{Lf?.showPreviousValue()},"handler")});Gi.registerCommandAndKeybindingRule({id:"history.showNext",weight:Ft.WorkbenchContrib,when:H.and(H.has(cE),H.equals(BB,!0),H.not("isComposing"),OB.isEqualTo(!1)),primary:D.DownArrow,secondary:[Ze.Alt|D.DownArrow],handler:hc(t=>{Lf?.showNextValue()},"handler")});var xee=Object.defineProperty,Lee=(t,e)=>xee(t,"name",{value:e,configurable:!0});function FB(t){return t.lookupKeybinding("history.showPrevious")?.getElectronAccelerator()==="Up"&&t.lookupKeybinding("history.showNext")?.getElectronAccelerator()==="Down"}Lee(FB,"showHistoryKeybindingHint");var VB=Object.defineProperty,Pee=Object.getOwnPropertyDescriptor,lv=(t,e)=>VB(t,"name",{value:e,configurable:!0}),Ree=(t,e,i,s)=>{for(var n=s>1?void 0:s?Pee(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&VB(e,i,n),n},wb=(t,e)=>(i,s)=>e(i,s,t);const HB=new _("menu.view.filter"),WB=new _("submenu.view.filter");it.appendMenuItem(HB,{submenu:WB,title:c("more filters","More Filters..."),group:"navigation",icon:he.filter});class Nee extends gw{static{lv(this,"MoreFiltersActionViewItem")}_checked=!1;set checked(e){this._checked!==e&&(this._checked=e,this.updateChecked())}updateChecked(){this.element&&this.element.classList.toggle("checked",this._checked)}render(e){super.render(e),this.updateChecked()}}let oS=class extends wr{constructor(t,e,i,s,n){super(),this.options=t,this.instantiationService=e,this.contextViewService=i,this.keybindingService=n,this.delayedFilterUpdate=new Ju(400),this._register(Se(()=>this.delayedFilterUpdate.cancel())),t.focusContextKey&&(this.focusContextKey=new J(t.focusContextKey,!1).bindTo(s)),this.element=de(".viewpane-filter"),[this.filterInputBox,this.focusTracker]=this.createInput(this.element),this._register(this.filterInputBox),this._register(this.focusTracker);const o=we(this.element,de(".viewpane-filter-controls"));this.filterBadge=this.createBadge(o),this.toolbar=this._register(this.createToolBar(o)),this.adjustInputBox()}static{lv(this,"FilterWidget")}element;delayedFilterUpdate;filterInputBox;filterBadge;toolbar;focusContextKey;_onDidChangeFilterText=this._register(new I);onDidChangeFilterText=this._onDidChangeFilterText.event;moreFiltersActionViewItem;isMoreFiltersChecked=!1;lastWidth;focusTracker;get onDidFocus(){return this.focusTracker.onDidFocus}get onDidBlur(){return this.focusTracker.onDidBlur}hasFocus(){return this.filterInputBox.hasFocus()}focus(){this.filterInputBox.focus()}blur(){this.filterInputBox.blur()}updateBadge(t){this.filterBadge.classList.toggle("hidden",!t),this.filterBadge.textContent=t||"",this.adjustInputBox()}setFilterText(t){this.filterInputBox.value=t}getFilterText(){return this.filterInputBox.value}getHistory(){return this.filterInputBox.getHistory()}layout(t){this.element.parentElement?.classList.toggle("grow",t>700),this.element.classList.toggle("small",t<400),this.adjustInputBox(),this.lastWidth=t}relayout(){this.lastWidth&&this.layout(this.lastWidth)}checkMoreFilters(t){this.isMoreFiltersChecked=t,this.moreFiltersActionViewItem&&(this.moreFiltersActionViewItem.checked=t)}createInput(t){const e=this._register(this.instantiationService.createInstance(nS,t,this.contextViewService,{placeholder:this.options.placeholder,ariaLabel:this.options.ariaLabel,history:this.options.history||[],showHistoryHint:lv(()=>FB(this.keybindingService),"showHistoryHint"),inputBoxStyles:DA}));this.options.text&&(e.value=this.options.text),this._register(e.onDidChange(s=>this.delayedFilterUpdate.trigger(()=>this.onDidInputChange(e)))),this._register(Dn(e.inputElement,U.KEY_DOWN,s=>this.onInputKeyDown(s,e))),this._register(Dn(t,U.KEY_DOWN,this.handleKeyboardEvent)),this._register(Dn(t,U.KEY_UP,this.handleKeyboardEvent)),this._register(Dn(e.inputElement,U.CLICK,s=>{s.stopPropagation(),s.preventDefault()}));const i=this._register(oa(e.inputElement));return this.focusContextKey&&(this._register(i.onDidFocus(()=>this.focusContextKey.set(!0))),this._register(i.onDidBlur(()=>this.focusContextKey.set(!1))),this._register(Se(()=>this.focusContextKey.reset()))),[e,i]}createBadge(t){const e=we(t,de(".viewpane-filter-badge.hidden"));return e.style.backgroundColor=Y(mh),e.style.color=Y(b1),e.style.border=`1px solid ${Y(ce)}`,e}createToolBar(t){return this.instantiationService.createInstance(Y0,t,HB,{hiddenItemStrategy:oy.NoHide,actionViewItemProvider:lv((e,i)=>{if(e instanceof Po&&e.item.submenu.id===WB.id)return this.moreFiltersActionViewItem=this.instantiationService.createInstance(Nee,e,i),this.moreFiltersActionViewItem.checked=this.isMoreFiltersChecked,this.moreFiltersActionViewItem},"actionViewItemProvider")})}onDidInputChange(t){t.addToHistory(),this._onDidChangeFilterText.fire(t.value)}adjustInputBox(){this.filterInputBox.inputElement.style.paddingRight=this.element.classList.contains("small")||this.filterBadge.classList.contains("hidden")?"25px":"150px"}handleKeyboardEvent(t){(t.equals(D.Space)||t.equals(D.LeftArrow)||t.equals(D.RightArrow)||t.equals(D.Home)||t.equals(D.End))&&t.stopPropagation()}onInputKeyDown(t,e){let i=!1;t.equals(D.Tab)&&!this.toolbar.isEmpty()&&(this.toolbar.focus(),i=!0),i&&(t.stopPropagation(),t.preventDefault())}};oS=Ree([wb(1,rt),wb(2,SA),wb(3,Qe),wb(4,qt)],oS);var UB=Object.defineProperty,Oee=Object.getOwnPropertyDescriptor,qa=(t,e)=>UB(t,"name",{value:e,configurable:!0}),hE=(t,e,i,s)=>{for(var n=s>1?void 0:s?Oee(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&UB(e,i,n),n},Si=(t,e)=>(i,s)=>e(i,s,t);const rS=new Et("viewpane.action.filter"),Bee=ct("view-pane-container-expanded",he.chevronDown,c("viewPaneContainerExpandedIcon","Icon for an expanded view pane container.")),Mee=ct("view-pane-container-collapsed",he.chevronRight,c("viewPaneContainerCollapsedIcon","Icon for a collapsed view pane container.")),_T=ui.as(pp.ViewsRegistry);let aS=class{constructor(t,e,i,s,n,o,r){this.container=t,this.delegate=e,this.instantiationService=i,this.openerService=s,this.telemetryService=n,this.contextKeyService=o,this.disposables.add(R.runAndSubscribe(this.delegate.onDidChangeViewWelcomeState,()=>this.onDidChangeViewWelcomeState())),this.disposables.add(r.onWillShutdown(()=>this.dispose()))}static{qa(this,"ViewWelcomeController")}defaultItem;items=[];get enabled(){return this._enabled}_enabled=!1;element;scrollableElement;disposables=new Z;enabledDisposables=this.disposables.add(new Z);renderDisposables=this.disposables.add(new Z);layout(t,e){this._enabled&&(this.element.style.height=`${t}px`,this.element.style.width=`${e}px`,this.element.classList.toggle("wide",e>640),this.scrollableElement.scanDomNode())}focus(){this._enabled&&this.element.focus()}onDidChangeViewWelcomeState(){const t=this.delegate.shouldShowWelcome();if(this._enabled===t)return;if(this._enabled=t,!t){this.enabledDisposables.clear();return}this.container.classList.add("welcome");const e=we(this.container,de(".welcome-view"));this.element=de(".welcome-view-content",{tabIndex:0}),this.scrollableElement=new RD(this.element,{alwaysConsumeMouseWheel:!0,horizontal:Jt.Hidden,vertical:Jt.Visible}),we(e,this.scrollableElement.getDomNode()),this.enabledDisposables.add(Se(()=>{this.container.classList.remove("welcome"),this.scrollableElement.dispose(),e.remove(),this.scrollableElement=void 0,this.element=void 0})),this.contextKeyService.onDidChangeContext(this.onDidChangeContext,this,this.enabledDisposables),R.chain(_T.onDidChangeViewWelcomeContent,i=>i.filter(s=>s===this.delegate.id))(this.onDidChangeViewWelcomeContent,this,this.enabledDisposables),this.onDidChangeViewWelcomeContent()}onDidChangeViewWelcomeContent(){const t=_T.getViewWelcomeContent(this.delegate.id);this.items=[];for(const e of t)if(e.when==="default")this.defaultItem={descriptor:e,visible:!0};else{const i=e.when?this.contextKeyService.contextMatchesRules(e.when):!0;this.items.push({descriptor:e,visible:i})}this.render()}onDidChangeContext(){let t=!1;for(const e of this.items){if(!e.descriptor.when||e.descriptor.when==="default")continue;const i=this.contextKeyService.contextMatchesRules(e.descriptor.when);e.visible!==i&&(e.visible=i,t=!0)}t&&this.render()}render(){this.renderDisposables.clear(),this.element.innerText="";const t=this.getContentDescriptors();if(t.length===0){this.container.classList.remove("welcome"),this.scrollableElement.scanDomNode();return}for(const{content:e,precondition:i}of t){const s=e.split(`
`);for(let n of s){if(n=n.trim(),!n)continue;const o=sE(n);if(o.nodes.length===1&&typeof o.nodes[0]!="string"){const r=o.nodes[0],a=we(this.element,de(".button-container")),l=new Tp(a,{title:r.title,supportIcons:!0,...CA});if(l.label=r.label,l.onDidClick(h=>{this.telemetryService.publicLog2("views.welcomeAction",{viewId:this.delegate.id,uri:r.href}),this.openerService.open(r.href,{allowCommands:!0})},null,this.renderDisposables),this.renderDisposables.add(l),i){const h=qa(()=>l.enabled=this.contextKeyService.contextMatchesRules(i),"updateEnablement");h();const d=new Set(i.keys());R.filter(this.contextKeyService.onDidChangeContext,g=>g.affectsSome(d))(h,null,this.renderDisposables)}}else{const r=we(this.element,de("p"));for(const a of o.nodes)if(typeof a=="string")we(r,document.createTextNode(a));else{const l=this.renderDisposables.add(this.instantiationService.createInstance(iS,r,a,{}));if(i&&a.href.startsWith("command:")){const h=qa(()=>l.enabled=this.contextKeyService.contextMatchesRules(i),"updateEnablement");h();const d=new Set(i.keys());R.filter(this.contextKeyService.onDidChangeContext,g=>g.affectsSome(d))(h,null,this.renderDisposables)}}}}}this.container.classList.add("welcome"),this.scrollableElement.scanDomNode()}getContentDescriptors(){const t=this.items.filter(e=>e.visible);return t.length===0&&this.defaultItem?[this.defaultItem.descriptor]:t.map(e=>e.descriptor)}dispose(){this.disposables.dispose()}};aS=hE([Si(2,rt),Si(3,pg),Si(4,Zs),Si(5,Qe),Si(6,Xr)],aS);let Sw=class extends _w{constructor(t,e,i,s,n,o,r,a,l,h,d,u){super({...t,orientation:o.getViewLocationById(t.id)===ne.Panel?ge.HORIZONTAL:ge.VERTICAL}),this.keybindingService=e,this.contextMenuService=i,this.configurationService=s,this.contextKeyService=n,this.viewDescriptorService=o,this.instantiationService=r,this.openerService=a,this.themeService=l,this.telemetryService=h,this.hoverService=d,this.accessibleViewInformationService=u,this.id=t.id,this._title=t.title,this._titleDescription=t.titleDescription,this._singleViewPaneContainerTitle=t.singleViewPaneContainerTitle,this.showActions=t.showActions??0,this.scopedContextKeyService=this._register(n.createScoped(this.element)),this.scopedContextKeyService.createKey("view",this.id);const g=this.scopedContextKeyService.createKey("viewLocation",Ts(o.getViewLocationById(this.id)));this._register(R.filter(o.onDidChangeLocation,m=>m.views.some(b=>b.id===this.id))(()=>g.set(Ts(o.getViewLocationById(this.id)))));const p=this._register(this.instantiationService.createChild(new P1([Qe,this.scopedContextKeyService])));this.menuActions=this._register(p.createInstance(Wu,t.titleMenuId??_.ViewTitle,_.ViewTitleContext,{shouldForwardArgs:!t.donotForwardArgs,renderShortTitle:!0})),this._register(this.menuActions.onDidChange(()=>this.updateActions()))}static{qa(this,"ViewPane")}static AlwaysShowActionsConfig="workbench.view.alwaysShowHeaderActions";_onDidFocus=this._register(new I);onDidFocus=this._onDidFocus.event;_onDidBlur=this._register(new I);onDidBlur=this._onDidBlur.event;_onDidChangeBodyVisibility=this._register(new I);onDidChangeBodyVisibility=this._onDidChangeBodyVisibility.event;_onDidChangeTitleArea=this._register(new I);onDidChangeTitleArea=this._onDidChangeTitleArea.event;_onDidChangeViewWelcomeState=this._register(new I);onDidChangeViewWelcomeState=this._onDidChangeViewWelcomeState.event;_isVisible=!1;id;_title;get title(){return this._title}_titleDescription;get titleDescription(){return this._titleDescription}_singleViewPaneContainerTitle;get singleViewPaneContainerTitle(){return this._singleViewPaneContainerTitle}menuActions;progressBar;progressIndicator;toolbar;showActions;headerContainer;titleContainer;titleContainerHover;titleDescriptionContainer;titleDescriptionContainerHover;iconContainer;iconContainerHover;twistiesContainer;viewWelcomeController;scopedContextKeyService;get headerVisible(){return super.headerVisible}set headerVisible(t){super.headerVisible=t,this.element.classList.toggle("merged-header",!t)}setVisible(t){this._isVisible!==t&&(this._isVisible=t,this.isExpanded()&&this._onDidChangeBodyVisibility.fire(t))}isVisible(){return this._isVisible}isBodyVisible(){return this._isVisible&&this.isExpanded()}setExpanded(t){const e=super.setExpanded(t);return e&&this._onDidChangeBodyVisibility.fire(t),this.updateTwistyIcon(),e}render(){super.render();const t=oa(this.element);this._register(t),this._register(t.onDidFocus(()=>this._onDidFocus.fire())),this._register(t.onDidBlur(()=>this._onDidBlur.fire()))}renderHeader(t){this.headerContainer=t,this.twistiesContainer=we(t,de(`.twisty-container${Ae.asCSSSelector(this.getTwistyIcon(this.isExpanded()))}`)),this.renderHeaderTitle(t,this.title);const e=we(t,de(".actions"));e.classList.toggle("show-always",this.showActions===2),e.classList.toggle("show-expanded",this.showActions===1),this.toolbar=this.instantiationService.createInstance($h,e,{orientation:os.HORIZONTAL,actionViewItemProvider:qa((n,o)=>this.getActionViewItem(n,o),"actionViewItemProvider"),ariaLabel:c("viewToolbarAriaLabel","{0} actions",this.title),getKeyBinding:qa(n=>this.keybindingService.lookupKeybinding(n.id),"getKeyBinding"),renderDropdownAsChildElement:!0,actionRunner:this.getActionRunner(),resetMenu:this.menuActions.menuId}),this._register(this.toolbar),this.setActions(),this._register(N(e,U.CLICK,n=>n.preventDefault()));const i=this.viewDescriptorService.getViewContainerByViewId(this.id);i?this._register(this.viewDescriptorService.getViewContainerModel(i).onDidChangeContainerInfo(({title:n})=>this.updateTitle(this.title))):console.error(`View container model not found for view ${this.id}`);const s=R.filter(this.configurationService.onDidChangeConfiguration,n=>n.affectsConfiguration(Sw.AlwaysShowActionsConfig));this._register(s(this.updateActionsVisibility,this)),this.updateActionsVisibility()}updateHeader(){super.updateHeader(),this.updateTwistyIcon()}updateTwistyIcon(){this.twistiesContainer&&(this.twistiesContainer.classList.remove(...Ae.asClassNameArray(this.getTwistyIcon(!this._expanded))),this.twistiesContainer.classList.add(...Ae.asClassNameArray(this.getTwistyIcon(this._expanded))))}getTwistyIcon(t){return t?Bee:Mee}style(t){super.style(t);const e=this.getIcon();if(this.iconContainer){const i=or(t.headerForeground,Y(Ct));j.isUri(e)?(this.iconContainer.style.backgroundColor=i,this.iconContainer.style.color=""):(this.iconContainer.style.color=i,this.iconContainer.style.backgroundColor="")}}getIcon(){return this.viewDescriptorService.getViewDescriptorById(this.id)?.containerIcon||Vq}renderHeaderTitle(t,e){this.iconContainer=we(t,de(".icon",void 0));const i=this.getIcon();let s;if(j.isUri(i)){s=`view-${this.id.replace(/[.:]/g,"-")}`;const o=`.pane-header .icon.${s}`;g1(o,`
				mask: ${nc(i)} no-repeat 50% 50%;
				mask-size: 24px;
				-webkit-mask: ${nc(i)} no-repeat 50% 50%;
				-webkit-mask-size: 16px;
			`)}else Ae.isThemeIcon(i)&&(s=Ae.asClassName(i));s&&this.iconContainer.classList.add(...s.split(" "));const n=this.calculateTitle(e);this.titleContainer=we(t,de("h3.title",{},n)),this.titleContainerHover=this._register(this.hoverService.setupManagedHover(Ri("mouse"),this.titleContainer,n)),this._titleDescription&&this.setTitleDescription(this._titleDescription),this.iconContainerHover=this._register(this.hoverService.setupManagedHover(Ri("mouse"),this.iconContainer,n)),this.iconContainer.setAttribute("aria-label",this._getAriaLabel(n))}_getAriaLabel(t){const e=this.viewDescriptorService.getViewDescriptorById(this.id)?.accessibilityHelpContent,i=this.accessibleViewInformationService?.hasShownAccessibleView(this.id);return!e||i?t:c("viewAccessibilityHelp","Use Alt+F1 for accessibility help {0}",t)}updateTitle(t){const e=this.calculateTitle(t);this.titleContainer&&(this.titleContainer.textContent=e,this.titleContainerHover?.update(e)),this.iconContainer&&(this.iconContainerHover?.update(e),this.iconContainer.setAttribute("aria-label",this._getAriaLabel(e))),this._title=t,this._onDidChangeTitleArea.fire()}setTitleDescription(t){this.titleDescriptionContainer?(this.titleDescriptionContainer.textContent=t??"",this.titleDescriptionContainerHover?.update(t??"")):t&&this.titleContainer&&(this.titleDescriptionContainer=hL(this.titleContainer,de("span.description",{},t)),this.titleDescriptionContainerHover=this._register(this.hoverService.setupManagedHover(Ri("mouse"),this.titleDescriptionContainer,t)))}updateTitleDescription(t){this.setTitleDescription(t),this._titleDescription=t,this._onDidChangeTitleArea.fire()}calculateTitle(t){const e=this.viewDescriptorService.getViewContainerByViewId(this.id),i=this.viewDescriptorService.getViewContainerModel(e),s=this.viewDescriptorService.getViewDescriptorById(this.id);return!(this.viewDescriptorService.getDefaultContainerById(this.id)===e)&&s?.containerTitle&&i.title!==s.containerTitle?`${s.containerTitle}: ${t}`:t}renderBody(t){this.viewWelcomeController=this._register(this.instantiationService.createInstance(aS,t,this))}layoutBody(t,e){this.viewWelcomeController.layout(t,e)}onDidScrollRoot(){}getProgressIndicator(){if(this.progressBar===void 0&&(this.progressBar=this._register(new zu(this.element,ty)),this.progressBar.hide()),this.progressIndicator===void 0){const t=this;this.progressIndicator=this._register(new TB(di(this.progressBar),new class extends kB{constructor(){super(t.id,t.isBodyVisible()),this._register(t.onDidChangeBodyVisibility(e=>e?this.onScopeOpened(t.id):this.onScopeClosed(t.id)))}}))}return this.progressIndicator}getProgressLocation(){return this.viewDescriptorService.getViewContainerByViewId(this.id).id}getLocationBasedColors(){return zB(this.viewDescriptorService.getViewLocationById(this.id))}focus(){this.viewWelcomeController.enabled?this.viewWelcomeController.focus():this.element&&(this.element.focus(),this._onDidFocus.fire())}setActions(){if(this.toolbar){const t=[...this.menuActions.getPrimaryActions()];this.shouldShowFilterInHeader()&&t.unshift(rS),this.toolbar.setActions(el(t),el(this.menuActions.getSecondaryActions())),this.toolbar.context=this.getActionsContext()}}updateActionsVisibility(){if(!this.headerContainer)return;const t=this.configurationService.getValue("workbench.view.alwaysShowHeaderActions");this.headerContainer.classList.toggle("actions-always-visible",t)}updateActions(){this.setActions(),this._onDidChangeTitleArea.fire()}getActionViewItem(t,e){if(t.id===rS.id){const i=this;return new class extends cn{constructor(){super(null,t)}setFocusable(){}get trapsArrowNavigation(){return!0}render(s){s.classList.add("viewpane-filter-container");const n=i.getFilterWidget();we(s,n.element),n.relayout()}}}return sy(this.instantiationService,t,{...e,menuAsChild:t instanceof Po})}getActionsContext(){}getActionRunner(){}getOptimalWidth(){return 0}saveState(){}shouldShowWelcome(){return!1}getFilterWidget(){}shouldShowFilterInHeader(){return!1}};Sw=hE([Si(1,qt),Si(2,Di),Si(3,Ke),Si(4,Qe),Si(5,fs),Si(6,rt),Si(7,pg),Si(8,Vi),Si(9,Zs),Si(10,Ss)],Sw);let ST=class extends Sw{static{qa(this,"FilterViewPane")}filterWidget;dimension;filterContainer;constructor(t,e,i,s,n,o,r,a,l,h,d,u){super(t,e,i,s,n,o,r,a,l,h,d,u);const g=this._register(r.createChild(new P1([Qe,this.scopedContextKeyService])));this.filterWidget=this._register(g.createInstance(oS,t.filterOptions))}getFilterWidget(){return this.filterWidget}renderBody(t){super.renderBody(t),this.filterContainer=we(t,de(".viewpane-filter-container"))}layoutBody(t,e){super.layoutBody(t,e),this.dimension=new Vt(e,t);const i=!this.filterContainer?.hasChildNodes(),s=this.shouldShowFilterInHeader();i!==s&&(s&&Zl(this.filterContainer),this.updateActions(),s||we(this.filterContainer,this.filterWidget.element)),s||(t=t-44),this.filterWidget.layout(e),this.layoutBodyContent(t,e)}shouldShowFilterInHeader(){return!(this.dimension&&this.dimension.width<600&&this.dimension.height>100)}};ST=hE([Si(1,qt),Si(2,Di),Si(3,Ke),Si(4,Qe),Si(5,fs),Si(6,rt),Si(7,pg),Si(8,Vi),Si(9,Zs),Si(10,Ss)],ST);function zB(t){let e,i,s,n;switch(t){case ne.Panel:e=vf,i=QV,s=JV,n=eH;break;case ne.Sidebar:case ne.AuxiliaryBar:default:e=Wa,i=uH,s=gH,n=fH}return{background:e,listOverrideStyles:{listBackground:e,treeStickyScrollBackground:i,treeStickyScrollBorder:s,treeStickyScrollShadow:n}}}qa(zB,"getLocationBasedViewColors");class Koe extends je{static{qa(this,"ViewAction")}desc;constructor(e){super(e),this.desc=e}run(e,...i){const s=e.get(Cc).getActiveViewWithId(this.desc.viewId);if(s)return this.runInView(e,s,...i)}}var $B=Object.defineProperty,Fee=Object.getOwnPropertyDescriptor,hi=(t,e)=>$B(t,"name",{value:e,configurable:!0}),KB=(t,e,i,s)=>{for(var n=s>1?void 0:s?Fee(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&$B(e,i,n),n},Hn=(t,e)=>(i,s)=>e(i,s,t);const dE=new _("Views");it.appendMenuItem(_.ViewContainerTitle,{submenu:dE,title:c("views","Views"),order:1});class Hd extends w1{constructor(e,i,s,n,o){super(o),this.paneElement=e,this.orientation=i,this.bounds=s,this.location=n,this.cleanupOverlayScheduler=this._register(new Ls(()=>this.dispose(),300)),this.create()}static{hi(this,"ViewPaneDropOverlay")}static OVERLAY_ID="monaco-pane-drop-overlay";container;overlay;_currentDropOperation;_disposed;cleanupOverlayScheduler;get currentDropOperation(){return this._currentDropOperation}get disposed(){return!!this._disposed}create(){this.container=document.createElement("div"),this.container.id=Hd.OVERLAY_ID,this.container.style.top="0px",this.paneElement.appendChild(this.container),this.paneElement.classList.add("dragged-over"),this._register(Se(()=>{this.container.remove(),this.paneElement.classList.remove("dragged-over")})),this.overlay=document.createElement("div"),this.overlay.classList.add("pane-overlay-indicator"),this.container.appendChild(this.overlay),this.registerListeners(),this.updateStyles()}updateStyles(){this.overlay.style.backgroundColor=this.getColor(this.location===ne.Panel?JL:$C)||"";const e=this.getColor(yi);this.overlay.style.outlineColor=e||"",this.overlay.style.outlineOffset=e?"-2px":"",this.overlay.style.outlineStyle=e?"dashed":"",this.overlay.style.outlineWidth=e?"2px":"",this.overlay.style.borderColor=e||"",this.overlay.style.borderStyle="solid",this.overlay.style.borderWidth="0px"}registerListeners(){this._register(new B_(this.container,{onDragOver:hi(e=>{this.positionOverlay(e.offsetX,e.offsetY),this.cleanupOverlayScheduler.isScheduled()&&this.cleanupOverlayScheduler.cancel()},"onDragOver"),onDragLeave:hi(e=>this.dispose(),"onDragLeave"),onDragEnd:hi(e=>this.dispose(),"onDragEnd"),onDrop:hi(e=>{this.dispose()},"onDrop")})),this._register(N(this.container,U.MOUSE_OVER,()=>{this.cleanupOverlayScheduler.isScheduled()||this.cleanupOverlayScheduler.schedule()}))}positionOverlay(e,i){const s=this.paneElement.clientWidth,n=this.paneElement.clientHeight,o=s/2,r=n/2;let a;switch(this.orientation===ge.VERTICAL?i<r?a=0:i>=r&&(a=1):this.orientation===ge.HORIZONTAL&&(e<o?a=2:e>=o&&(a=3)),a){case 0:this.doPositionOverlay({top:"0",left:"0",width:"100%",height:"50%"});break;case 1:this.doPositionOverlay({bottom:"0",left:"0",width:"100%",height:"50%"});break;case 2:this.doPositionOverlay({top:"0",left:"0",width:"50%",height:"100%"});break;case 3:this.doPositionOverlay({top:"0",right:"0",width:"50%",height:"100%"});break;default:{let l="0",h="0",d="100%",u="100%";if(this.bounds){const g=this.container.getBoundingClientRect();l=`${this.bounds.top-g.top}px`,h=`${this.bounds.left-g.left}px`,u=`${this.bounds.bottom-this.bounds.top}px`,d=`${this.bounds.right-this.bounds.left}px`}this.doPositionOverlay({top:l,left:h,width:d,height:u})}}this.orientation===ge.VERTICAL&&n<=25||this.orientation===ge.HORIZONTAL&&s<=25?this.doUpdateOverlayBorder(a):this.doUpdateOverlayBorder(void 0),this.overlay.style.opacity="1",setTimeout(()=>this.overlay.classList.add("overlay-move-transition"),0),this._currentDropOperation=a}doUpdateOverlayBorder(e){this.overlay.style.borderTopWidth=e===0?"2px":"0px",this.overlay.style.borderLeftWidth=e===2?"2px":"0px",this.overlay.style.borderBottomWidth=e===1?"2px":"0px",this.overlay.style.borderRightWidth=e===3?"2px":"0px"}doPositionOverlay(e){this.container.style.height="100%",this.overlay.style.top=e.top||"",this.overlay.style.left=e.left||"",this.overlay.style.bottom=e.bottom||"",this.overlay.style.right=e.right||"",this.overlay.style.width=e.width,this.overlay.style.height=e.height}contains(e){return e===this.container||e===this.overlay}dispose(){super.dispose(),this._disposed=!0}}let lS=class extends Wu{static{hi(this,"ViewContainerMenuActions")}constructor(t,e,i,s,n){const o=s.createScoped(t);o.createKey("viewContainer",e.id);const r=o.createKey("viewContainerLocation",Ts(i.getViewContainerLocation(e)));super(_.ViewContainerTitle,_.ViewContainerTitleContext,{shouldForwardArgs:!0,renderShortTitle:!0},o,n),this._register(o),this._register(R.filter(i.onDidChangeContainerLocation,a=>a.viewContainer===e)(()=>r.set(Ts(i.getViewContainerLocation(e)))))}};lS=KB([Hn(2,fs),Hn(3,Qe),Hn(4,Qs)],lS);let CT=class extends K1{constructor(t,e,i,s,n,o,r,a,l,h,d,u){super(t,l,h),this.options=e,this.instantiationService=i,this.configurationService=s,this.layoutService=n,this.contextMenuService=o,this.telemetryService=r,this.extensionService=a,this.storageService=h,this.contextService=d,this.viewDescriptorService=u;const g=this.viewDescriptorService.getViewContainerById(t);if(!g)throw new Error("Could not find container");this.viewContainer=g,this.visibleViewsStorageId=`${t}.numberOfVisibleViews`,this.visibleViewsCountFromCache=this.storageService.getNumber(this.visibleViewsStorageId,_e.WORKSPACE,void 0),this.viewContainerModel=this.viewDescriptorService.getViewContainerModel(g)}static{hi(this,"ViewPaneContainer")}viewContainer;lastFocusedPane;lastMergedCollapsedPane;paneItems=[];paneview;visible=!1;areExtensionsReady=!1;didLayout=!1;dimension;_boundarySashes;visibleViewsCountFromCache;visibleViewsStorageId;viewContainerModel;_onTitleAreaUpdate=this._register(new I);onTitleAreaUpdate=this._onTitleAreaUpdate.event;_onDidChangeVisibility=this._register(new I);onDidChangeVisibility=this._onDidChangeVisibility.event;_onDidAddViews=this._register(new I);onDidAddViews=this._onDidAddViews.event;_onDidRemoveViews=this._register(new I);onDidRemoveViews=this._onDidRemoveViews.event;_onDidChangeViewVisibility=this._register(new I);onDidChangeViewVisibility=this._onDidChangeViewVisibility.event;_onDidFocusView=this._register(new I);onDidFocusView=this._onDidFocusView.event;_onDidBlurView=this._register(new I);onDidBlurView=this._onDidBlurView.event;get onDidSashChange(){return di(this.paneview).onDidSashChange}get panes(){return this.paneItems.map(t=>t.pane)}get views(){return this.panes}get length(){return this.paneItems.length}_menuActions;get menuActions(){return this._menuActions}create(t){const e=this.options;e.orientation=this.orientation,this.paneview=this._register(new KJ(t,this.options)),this._boundarySashes&&this.paneview.setBoundarySashes(this._boundarySashes),this._register(this.paneview.onDidDrop(({from:a,to:l})=>this.movePane(a,l))),this._register(this.paneview.onDidScroll(a=>this.onDidScrollPane())),this._register(this.paneview.onDidSashReset(a=>this.onDidSashReset(a))),this._register(N(t,U.CONTEXT_MENU,a=>this.showContextMenu(new qi(be(t),a)))),this._register(us.addTarget(t)),this._register(N(t,kt.Contextmenu,a=>this.showContextMenu(new qi(be(t),a)))),this._menuActions=this._register(this.instantiationService.createInstance(lS,this.paneview.element,this.viewContainer)),this._register(this._menuActions.onDidChange(()=>this.updateTitleArea()));let i;const s=hi(()=>{const a=t.getBoundingClientRect(),l=this.panes[this.panes.length-1].element.getBoundingClientRect(),h=this.orientation===ge.VERTICAL?l.bottom:a.top,d=this.orientation===ge.HORIZONTAL?l.right:a.left;return{top:h,bottom:a.bottom,left:d,right:a.right}},"getOverlayBounds"),n=hi((a,l)=>l.x>=a.left&&l.x<=a.right&&l.y>=a.top&&l.y<=a.bottom,"inBounds");let o;this._register(jn.INSTANCE.registerTarget(t,{onDragEnter:hi(a=>{if(o=s(),i&&i.disposed&&(i=void 0),!i&&n(o,a.eventData)){const l=a.dragAndDropData.getData();if(l.type==="view"){const h=this.viewDescriptorService.getViewContainerByViewId(l.id),d=this.viewDescriptorService.getViewDescriptorById(l.id);if(h!==this.viewContainer&&(!d||!d.canMoveView||this.viewContainer.rejectAddedViews))return;i=new Hd(t,void 0,o,this.viewDescriptorService.getViewContainerLocation(this.viewContainer),this.themeService)}if(l.type==="composite"&&l.id!==this.viewContainer.id){const h=this.viewDescriptorService.getViewContainerById(l.id),d=this.viewDescriptorService.getViewContainerModel(h).allViewDescriptors;!d.some(u=>!u.canMoveView)&&d.length>0&&(i=new Hd(t,void 0,o,this.viewDescriptorService.getViewContainerLocation(this.viewContainer),this.themeService))}}},"onDragEnter"),onDragOver:hi(a=>{i&&i.disposed&&(i=void 0),i&&!n(o,a.eventData)&&(i.dispose(),i=void 0),n(o,a.eventData)&&Uu(a.eventData.dataTransfer,"move",i!==void 0)},"onDragOver"),onDragLeave:hi(a=>{i?.dispose(),i=void 0},"onDragLeave"),onDrop:hi(a=>{if(i){const l=a.dragAndDropData.getData(),h=[];if(l.type==="composite"&&l.id!==this.viewContainer.id){const u=this.viewDescriptorService.getViewContainerById(l.id),g=this.viewDescriptorService.getViewContainerModel(u).allViewDescriptors;g.some(p=>!p.canMoveView)||h.push(...g)}else if(l.type==="view"){const u=this.viewDescriptorService.getViewContainerByViewId(l.id),g=this.viewDescriptorService.getViewDescriptorById(l.id);u!==this.viewContainer&&g&&g.canMoveView&&this.viewDescriptorService.moveViewsToContainer([g],this.viewContainer,void 0,"dnd")}const d=this.panes.length;if(h.length>0&&this.viewDescriptorService.moveViewsToContainer(h,this.viewContainer,void 0,"dnd"),d>0)for(const u of h){const g=this.panes.find(p=>p.id===u.id);g&&this.movePane(g,this.panes[this.panes.length-1])}}i?.dispose(),i=void 0},"onDrop")})),this._register(this.onDidSashChange(()=>this.saveViewSizes())),this._register(this.viewContainerModel.onDidAddVisibleViewDescriptors(a=>this.onDidAddViewDescriptors(a))),this._register(this.viewContainerModel.onDidRemoveVisibleViewDescriptors(a=>this.onDidRemoveViewDescriptors(a)));const r=this.viewContainerModel.visibleViewDescriptors.map((a,l)=>{const h=this.viewContainerModel.getSize(a.id),d=this.viewContainerModel.isCollapsed(a.id);return{viewDescriptor:a,index:l,size:h,collapsed:d}});r.length&&this.onDidAddViewDescriptors(r),this.extensionService.whenInstalledExtensionsRegistered().then(()=>{this.areExtensionsReady=!0,this.panes.length&&(this.updateTitleArea(),this.updateViewHeaders()),this._register(this.configurationService.onDidChangeConfiguration(a=>{a.affectsConfiguration(We.ACTIVITY_BAR_LOCATION)&&this.updateViewHeaders()}))}),this._register(this.viewContainerModel.onDidChangeActiveViewDescriptors(()=>this._onTitleAreaUpdate.fire()))}getTitle(){const t=this.viewContainerModel.title;if(this.isViewMergedWithContainer()){const e=this.paneItems[0].pane.singleViewPaneContainerTitle;if(e)return e;const i=this.paneItems[0].pane.title;return t===i?i:i?`${t}: ${i}`:t}return t}showContextMenu(t){for(const e of this.paneItems)if(hs(t.target,e.pane.element))return;t.stopPropagation(),t.preventDefault(),this.contextMenuService.showContextMenu({getAnchor:hi(()=>t,"getAnchor"),getActions:hi(()=>this.menuActions?.getContextMenuActions()??[],"getActions")})}getActionsContext(){if(this.isViewMergedWithContainer())return this.panes[0].getActionsContext()}getActionViewItem(t,e){return this.isViewMergedWithContainer()?this.paneItems[0].pane.getActionViewItem(t,e):sy(this.instantiationService,t,e)}focus(){let t;if(this.lastFocusedPane)t=this.lastFocusedPane;else if(this.paneItems.length>0){for(const{pane:e}of this.paneItems)if(e.isExpanded()){t=e;break}}t&&t.focus()}get orientation(){switch(this.viewDescriptorService.getViewContainerLocation(this.viewContainer)){case ne.Sidebar:case ne.AuxiliaryBar:return ge.VERTICAL;case ne.Panel:return es(this.layoutService.getPanelPosition())?ge.HORIZONTAL:ge.VERTICAL}return ge.VERTICAL}layout(t){this.paneview&&(this.paneview.orientation!==this.orientation&&this.paneview.flipOrientation(t.height,t.width),this.paneview.layout(t.height,t.width)),this.dimension=t,this.didLayout?this.saveViewSizes():(this.didLayout=!0,this.restoreViewSizes())}setBoundarySashes(t){this._boundarySashes=t,this.paneview?.setBoundarySashes(t)}getOptimalWidth(){return Math.max(...this.panes.map(i=>i.getOptimalWidth()||0))+16}addPanes(t){const e=this.isViewMergedWithContainer();for(const{pane:i,size:s,index:n,disposable:o}of t)this.addPane(i,s,o,n);this.updateViewHeaders(),this.isViewMergedWithContainer()!==e&&this.updateTitleArea(),this._onDidAddViews.fire(t.map(({pane:i})=>i))}setVisible(t){this.visible!==!!t&&(this.visible=t,this._onDidChangeVisibility.fire(t)),this.panes.filter(e=>e.isVisible()!==t).map(e=>e.setVisible(t))}isVisible(){return this.visible}updateTitleArea(){this._onTitleAreaUpdate.fire()}createView(t,e){return this.instantiationService.createInstance(t.ctorDescriptor.ctor,...t.ctorDescriptor.staticArguments||[],e)}getView(t){return this.panes.filter(e=>e.id===t)[0]}saveViewSizes(){this.didLayout&&this.viewContainerModel.setSizes(this.panes.map(t=>({id:t.id,size:this.getPaneSize(t)})))}restoreViewSizes(){if(this.didLayout){let t;for(let e=0;e<this.viewContainerModel.visibleViewDescriptors.length;e++){const i=this.panes[e],s=this.viewContainerModel.visibleViewDescriptors[e],n=this.viewContainerModel.getSize(s.id);typeof n=="number"?this.resizePane(i,n):(t=t||this.computeInitialSizes(),this.resizePane(i,t.get(i.id)||200))}}}computeInitialSizes(){const t=new Map;if(this.dimension){const e=this.viewContainerModel.visibleViewDescriptors.reduce((i,{weight:s})=>i+(s||20),0);for(const i of this.viewContainerModel.visibleViewDescriptors)this.orientation===ge.VERTICAL?t.set(i.id,this.dimension.height*(i.weight||20)/e):t.set(i.id,this.dimension.width*(i.weight||20)/e)}return t}saveState(){this.panes.forEach(t=>t.saveState()),this.storageService.store(this.visibleViewsStorageId,this.length,_e.WORKSPACE,Pt.MACHINE)}onContextMenu(t,e){t.stopPropagation(),t.preventDefault();const i=e.menuActions.getContextMenuActions();this.contextMenuService.showContextMenu({getAnchor:hi(()=>t,"getAnchor"),getActions:hi(()=>i,"getActions")})}openView(t,e){let i=this.getView(t);return i||this.toggleViewVisibility(t),i=this.getView(t),i&&(i.setExpanded(!0),e&&i.focus()),i}onDidAddViewDescriptors(t){const e=[];for(const{viewDescriptor:s,collapsed:n,index:o,size:r}of t){const a=this.createView(s,{id:s.id,title:s.name.value,fromExtensionId:s.extensionId,expanded:!n,singleViewPaneContainerTitle:s.singleViewPaneContainerTitle});a.render();const l=N(a.draggableElement,"contextmenu",d=>{d.stopPropagation(),d.preventDefault(),this.onContextMenu(new qi(be(a.draggableElement),d),a)}),h=R.latch(R.map(a.onDidChange,()=>!a.isExpanded()))(d=>{this.viewContainerModel.setCollapsed(s.id,d)});e.push({pane:a,size:r||a.minimumSize,index:o,disposable:Hr(l,h)})}this.addPanes(e),this.restoreViewSizes();const i=[];for(const{pane:s}of e)s.setVisible(this.isVisible()),i.push(s);return i}onDidRemoveViewDescriptors(t){t=t.sort((i,s)=>s.index-i.index);const e=[];for(const{index:i}of t)this.paneItems[i]&&e.push(this.paneItems[i].pane);if(e.length){this.removePanes(e);for(const i of e)i.setVisible(!1)}}toggleViewVisibility(t){if(this.viewContainerModel.activeViewDescriptors.some(e=>e.id===t)){const e=!this.viewContainerModel.isVisible(t);this.viewContainerModel.setVisible(t,e)}}addPane(t,e,i,s=this.paneItems.length-1){const n=t.onDidFocus(()=>{this._onDidFocusView.fire(t),this.lastFocusedPane=t}),o=t.onDidBlur(()=>this._onDidBlurView.fire(t)),r=t.onDidChangeTitleArea(()=>{this.isViewMergedWithContainer()&&this.updateTitleArea()}),a=t.onDidChangeBodyVisibility(()=>this._onDidChangeViewVisibility.fire(t)),l=t.onDidChange(()=>{t===this.lastFocusedPane&&!t.isExpanded()&&(this.lastFocusedPane=void 0)}),h=this.viewDescriptorService.getViewContainerLocation(this.viewContainer)===ne.Panel;t.style({headerForeground:Y(h?YV:dH),headerBackground:Y(h?qV:hH),headerBorder:Y(h?XV:oP),dropBackground:Y(h?JL:$C),leftBorder:h?Y(ZV):void 0});const d=new Z;d.add(i),d.add(Hr(t,n,o,r,l,a));const u={pane:t,disposable:d};this.paneItems.splice(s,0,u),di(this.paneview).addPane(t,e,s);let g;d.add(jn.INSTANCE.registerDraggable(t.draggableElement,()=>({type:"view",id:t.id}),{})),d.add(jn.INSTANCE.registerTarget(t.dropTargetElement,{onDragEnter:hi(p=>{if(!g){const m=p.dragAndDropData.getData();if(m.type==="view"&&m.id!==t.id){const b=this.viewDescriptorService.getViewContainerByViewId(m.id),C=this.viewDescriptorService.getViewDescriptorById(m.id);if(b!==this.viewContainer&&(!C||!C.canMoveView||this.viewContainer.rejectAddedViews))return;g=new Hd(t.dropTargetElement,this.orientation??ge.VERTICAL,void 0,this.viewDescriptorService.getViewContainerLocation(this.viewContainer),this.themeService)}if(m.type==="composite"&&m.id!==this.viewContainer.id&&!this.viewContainer.rejectAddedViews){const b=this.viewDescriptorService.getViewContainerById(m.id),C=this.viewDescriptorService.getViewContainerModel(b).allViewDescriptors;!C.some(x=>!x.canMoveView)&&C.length>0&&(g=new Hd(t.dropTargetElement,this.orientation??ge.VERTICAL,void 0,this.viewDescriptorService.getViewContainerLocation(this.viewContainer),this.themeService))}}},"onDragEnter"),onDragOver:hi(p=>{Uu(p.eventData.dataTransfer,"move",g!==void 0)},"onDragOver"),onDragLeave:hi(p=>{g?.dispose(),g=void 0},"onDragLeave"),onDrop:hi(p=>{if(g){const m=p.dragAndDropData.getData(),b=[];let C;if(m.type==="composite"&&m.id!==this.viewContainer.id&&!this.viewContainer.rejectAddedViews){const x=this.viewDescriptorService.getViewContainerById(m.id),E=this.viewDescriptorService.getViewContainerModel(x).allViewDescriptors;E.length>0&&!E.some(F=>!F.canMoveView)&&(b.push(...E),C=E[0])}else if(m.type==="view"){const x=this.viewDescriptorService.getViewContainerByViewId(m.id),E=this.viewDescriptorService.getViewDescriptorById(m.id);x!==this.viewContainer&&E&&E.canMoveView&&!this.viewContainer.rejectAddedViews&&b.push(E),E&&(C=E)}if(b&&this.viewDescriptorService.moveViewsToContainer(b,this.viewContainer,void 0,"dnd"),C){if(g.currentDropOperation===1||g.currentDropOperation===3){const x=this.panes.findIndex(F=>F.id===C.id);let E=this.panes.findIndex(F=>F.id===t.id);x>=0&&E>=0&&(x>E&&E++,E<this.panes.length&&E!==x&&this.movePane(this.panes[x],this.panes[E]))}if(g.currentDropOperation===0||g.currentDropOperation===2){const x=this.panes.findIndex(F=>F.id===C.id);let E=this.panes.findIndex(F=>F.id===t.id);x>=0&&E>=0&&(x<E&&E--,E>=0&&E!==x&&this.movePane(this.panes[x],this.panes[E]))}b.length>1&&b.slice(1).forEach(x=>{let E=this.panes.findIndex(B=>B.id===C.id);const F=this.panes.findIndex(B=>B.id===x.id);F>=0&&E>=0&&(F>E&&E++,E<this.panes.length&&E!==F&&(this.movePane(this.panes[F],this.panes[E]),C=x))})}}g?.dispose(),g=void 0},"onDrop")}))}removePanes(t){const e=this.isViewMergedWithContainer();t.forEach(i=>this.removePane(i)),this.updateViewHeaders(),e!==this.isViewMergedWithContainer()&&this.updateTitleArea(),this._onDidRemoveViews.fire(t)}removePane(t){const e=this.paneItems.findIndex(s=>s.pane===t);if(e===-1)return;this.lastFocusedPane===t&&(this.lastFocusedPane=void 0),di(this.paneview).removePane(t);const[i]=this.paneItems.splice(e,1);i.disposable.dispose()}movePane(t,e){const i=this.paneItems.findIndex(a=>a.pane===t),s=this.paneItems.findIndex(a=>a.pane===e),n=this.viewContainerModel.visibleViewDescriptors[i],o=this.viewContainerModel.visibleViewDescriptors[s];if(i<0||i>=this.paneItems.length||s<0||s>=this.paneItems.length)return;const[r]=this.paneItems.splice(i,1);this.paneItems.splice(s,0,r),di(this.paneview).movePane(t,e),this.viewContainerModel.move(n.id,o.id),this.updateTitleArea()}resizePane(t,e){di(this.paneview).resizePane(t,e)}getPaneSize(t){return di(this.paneview).getPaneSize(t)}updateViewHeaders(){this.isViewMergedWithContainer()?(this.paneItems[0].pane.isExpanded()?this.lastMergedCollapsedPane=void 0:(this.lastMergedCollapsedPane=this.paneItems[0].pane,this.paneItems[0].pane.setExpanded(!0)),this.paneItems[0].pane.headerVisible=!1,this.paneItems[0].pane.collapsible=!0):(this.paneItems.length===1?(this.paneItems[0].pane.headerVisible=!0,this.paneItems[0].pane===this.lastMergedCollapsedPane&&this.paneItems[0].pane.setExpanded(!1),this.paneItems[0].pane.collapsible=!1):this.paneItems.forEach(t=>{t.pane.headerVisible=!0,t.pane.collapsible=!0,t.pane===this.lastMergedCollapsedPane&&t.pane.setExpanded(!1)}),this.lastMergedCollapsedPane=void 0)}isViewMergedWithContainer(){return this.options.mergeViewWithContainerWhenSingleView&&this.paneItems.length===1?this.areExtensionsReady?!0:this.visibleViewsCountFromCache===void 0?this.paneItems[0].pane.isExpanded():this.visibleViewsCountFromCache===1:!1}onDidScrollPane(){for(const t of this.panes)t.onDidScrollRoot()}onDidSashReset(t){let e,i;for(let s=t;s>=0;s--)if(this.paneItems[s].pane?.isVisible()&&this.paneItems[s]?.pane.isExpanded()){e=this.paneItems[s].pane;break}for(let s=t+1;s<this.paneItems.length;s++)if(this.paneItems[s].pane?.isVisible()&&this.paneItems[s]?.pane.isExpanded()){i=this.paneItems[s].pane;break}if(e&&i){const s=this.getPaneSize(e),n=this.getPaneSize(i),o=Math.ceil((s+n)/2),r=Math.floor((s+n)/2);s>n?(this.resizePane(e,o),this.resizePane(i,r)):(this.resizePane(i,r),this.resizePane(e,o))}}dispose(){super.dispose(),this.paneItems.forEach(t=>t.disposable.dispose()),this.paneview&&this.paneview.dispose()}};CT=KB([Hn(2,rt),Hn(3,Ke),Hn(4,lt),Hn(5,Di),Hn(6,Zs),Hn(7,yr),Hn(8,Vi),Hn(9,as),Hn(10,dg),Hn(11,fs)],CT);class Goe extends je{static{hi(this,"ViewPaneContainerAction")}desc;constructor(e){super(e),this.desc=e}run(e,...i){const s=e.get(Cc).getActiveViewPaneContainerWithId(this.desc.viewPaneContainerId);if(s)return this.runInViewPaneContainer(e,s,...i)}}class fy extends je{constructor(e,i){super(e),this.offset=i}static{hi(this,"MoveViewPosition")}async run(e){const i=e.get(fs),s=e.get(Qe),n=Jr.getValue(s);if(n===void 0)return;const o=i.getViewContainerByViewId(n),r=i.getViewContainerModel(o),a=r.visibleViewDescriptors.find(d=>d.id===n),l=r.visibleViewDescriptors.indexOf(a);if(l+this.offset<0||l+this.offset>=r.visibleViewDescriptors.length)return;const h=r.visibleViewDescriptors[l+this.offset];r.move(a.id,h.id)}}Ie(class extends fy{static{hi(this,"MoveViewUp")}constructor(){super({id:"views.moveViewUp",title:c("viewMoveUp","Move View Up"),keybinding:{primary:ol(Ze.CtrlCmd+D.KeyK,D.UpArrow),weight:Ft.WorkbenchContrib+1,when:Jr.notEqualsTo("")}},-1)}});Ie(class extends fy{static{hi(this,"MoveViewLeft")}constructor(){super({id:"views.moveViewLeft",title:c("viewMoveLeft","Move View Left"),keybinding:{primary:ol(Ze.CtrlCmd+D.KeyK,D.LeftArrow),weight:Ft.WorkbenchContrib+1,when:Jr.notEqualsTo("")}},-1)}});Ie(class extends fy{static{hi(this,"MoveViewDown")}constructor(){super({id:"views.moveViewDown",title:c("viewMoveDown","Move View Down"),keybinding:{primary:ol(Ze.CtrlCmd+D.KeyK,D.DownArrow),weight:Ft.WorkbenchContrib+1,when:Jr.notEqualsTo("")}},1)}});Ie(class extends fy{static{hi(this,"MoveViewRight")}constructor(){super({id:"views.moveViewRight",title:c("viewMoveRight","Move View Right"),keybinding:{primary:ol(Ze.CtrlCmd+D.KeyK,D.RightArrow),weight:Ft.WorkbenchContrib+1,when:Jr.notEqualsTo("")}},1)}});Ie(class extends je{static{hi(this,"MoveViews")}constructor(){super({id:"vscode.moveViews",title:c("viewsMove","Move Views")})}async run(e,i){if(!Array.isArray(i?.viewIds)||typeof i?.destinationId!="string")return Promise.reject("Invalid arguments");const s=e.get(fs),n=s.getViewContainerById(i.destinationId);if(n){for(const o of i.viewIds){const r=s.getViewDescriptorById(o);r?.canMoveView&&s.moveViewsToContainer([r],n,DN.Default,this.desc.id)}await e.get(Cc).openViewContainer(n.id,!0)}}});var GB=Object.defineProperty,Vee=Object.getOwnPropertyDescriptor,uE=(t,e)=>GB(t,"name",{value:e,configurable:!0}),Hee=(t,e,i,s)=>{for(var n=s>1?void 0:s?Vee(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&GB(e,i,n),n},Bc=(t,e)=>(i,s)=>e(i,s,t);let DT=class extends OJ{constructor(t,e,i,s,n,o,r,a){super(t,e,n,i),this.storageService=i,this.instantiationService=s,this.contextMenuService=o,this.extensionService=r,this.contextService=a}static{uE(this,"PaneComposite")}viewPaneContainer;create(t){super.create(t),this.viewPaneContainer=this._register(this.createViewPaneContainer(t)),this._register(this.viewPaneContainer.onTitleAreaUpdate(()=>this.updateTitleArea())),this.viewPaneContainer.create(t)}setVisible(t){super.setVisible(t),this.viewPaneContainer?.setVisible(t)}layout(t){this.viewPaneContainer?.layout(t)}setBoundarySashes(t){this.viewPaneContainer?.setBoundarySashes(t)}getOptimalWidth(){return this.viewPaneContainer?.getOptimalWidth()??0}openView(t,e){return this.viewPaneContainer?.openView(t,e)}getViewPaneContainer(){return this.viewPaneContainer}getActionsContext(){return this.getViewPaneContainer()?.getActionsContext()}getContextMenuActions(){return this.viewPaneContainer?.menuActions?.getContextMenuActions()??[]}getMenuIds(){const t=[];return this.viewPaneContainer?.menuActions&&(t.push(this.viewPaneContainer.menuActions.menuId),this.viewPaneContainer.isViewMergedWithContainer()&&t.push(this.viewPaneContainer.panes[0].menuActions.menuId)),t}getActions(){const t=[];if(this.viewPaneContainer?.menuActions&&(t.push(...this.viewPaneContainer.menuActions.getPrimaryActions()),this.viewPaneContainer.isViewMergedWithContainer())){const e=this.viewPaneContainer.panes[0];e.shouldShowFilterInHeader()&&t.push(rS),t.push(...e.menuActions.getPrimaryActions())}return t}getSecondaryActions(){if(!this.viewPaneContainer?.menuActions)return[];const t=this.viewPaneContainer.isViewMergedWithContainer()?this.viewPaneContainer.panes[0].menuActions.getSecondaryActions():[];let e=this.viewPaneContainer.menuActions.getSecondaryActions();const i=e.findIndex(s=>s instanceof Po&&s.item.submenu===dE);if(i!==-1){const s=e[i];s.actions.some(({enabled:n})=>n)?e.length===1&&t.length===0?e=s.actions.slice():i!==0&&(e=[s,...e.slice(0,i),...e.slice(i+1)]):e.splice(i,1)}return e.length&&t.length?[...e,new st,...t]:e.length?e:t}getActionViewItem(t,e){return this.viewPaneContainer?.getActionViewItem(t,e)}getTitle(){return this.viewPaneContainer?.getTitle()??""}focus(){super.focus(),this.viewPaneContainer?.focus()}};DT=Hee([Bc(1,Zs),Bc(2,as),Bc(3,rt),Bc(4,Vi),Bc(5,Di),Bc(6,yr),Bc(7,dg)],DT);class jB extends BJ{constructor(e,i,s,n,o,r,a){super(e,i,s,n,o,r),this.iconUrl=a}static{uE(this,"PaneCompositeDescriptor")}static create(e,i,s,n,o,r,a){return new jB(e,i,s,n,o,r,a)}}const gu={Viewlets:"workbench.contributions.viewlets",Panels:"workbench.contributions.panels",Auxiliary:"workbench.contributions.auxiliary"};class gE extends MJ{static{uE(this,"PaneCompositeRegistry")}registerPaneComposite(e){super.registerComposite(e)}deregisterPaneComposite(e){super.deregisterComposite(e)}getPaneComposite(e){return this.getComposite(e)}getPaneComposites(){return this.getComposites()}}ui.add(gu.Viewlets,new gE);ui.add(gu.Panels,new gE);ui.add(gu.Auxiliary,new gE);var Wee=Object.defineProperty,vd=(t,e)=>Wee(t,"name",{value:e,configurable:!0});class Uee extends eA{constructor(e,i,s,n,o,r,a,l,h,d,u,g,p,m,b,C){super(b,C,l,i,n),this.notificationService=e,this.storageService=i,this.contextMenuService=s,this.keybindingService=o,this.hoverService=r,this.instantiationService=a,this.registry=h,this.activeCompositeSettingsKey=d,this.defaultCompositeId=u,this.nameForTelemetry=g,this.compositeCSSClass=p,this.titleForegroundColor=m,this.lastActiveCompositeId=i.get(d,_e.WORKSPACE,this.defaultCompositeId),this.toolbarHoverDelegate=this._register(og())}static{vd(this,"CompositePart")}onDidCompositeOpen=this._register(new I);onDidCompositeClose=this._register(new I);toolBar;titleLabelElement;toolbarHoverDelegate;mapCompositeToCompositeContainer=new Map;mapActionsBindingToComposite=new Map;activeComposite;lastActiveCompositeId;instantiatedCompositeItems=new Map;titleLabel;progressBar;contentAreaSize;actionsListener=this._register(new fr);currentCompositeOpenToken;boundarySashes;openComposite(e,i){if(this.activeComposite?.getId()===e)return i&&this.activeComposite.focus(),this.activeComposite;if(this.element)return this.doOpenComposite(e,i)}doOpenComposite(e,i=!1){const s=W0.nextId();this.currentCompositeOpenToken=s,this.activeComposite&&this.hideActiveComposite(),this.updateTitle(e);const n=this.createComposite(e,!0);if(!(this.currentCompositeOpenToken!==s||this.activeComposite&&this.activeComposite.getId()!==n.getId()))return this.activeComposite?.getId()===n.getId()?(i&&n.focus(),this.onDidCompositeOpen.fire({composite:n,focus:i}),n):(this.showComposite(n),i&&n.focus(),n&&this.onDidCompositeOpen.fire({composite:n,focus:i}),n)}createComposite(e,i){const s=this.instantiatedCompositeItems.get(e);if(s)return s.composite;const n=this.registry.getComposite(e);if(n){const o=this,r=new TB(di(this.progressBar),new class extends kB{constructor(){super(n.id,!!i),this._register(o.onDidCompositeOpen.event(d=>this.onScopeOpened(d.composite.getId()))),this._register(o.onDidCompositeClose.event(d=>this.onScopeClosed(d.getId())))}}),a=this._register(this.instantiationService.createChild(new P1([see,r]))),l=n.instantiate(a),h=new Z;return this.instantiatedCompositeItems.set(e,{composite:l,disposable:h,progress:r}),h.add(l.onTitleAreaUpdate(()=>this.onTitleAreaUpdate(l.getId()),this)),h.add(a),l}throw new Error(`Unable to find composite with id ${e}`)}showComposite(e){this.activeComposite=e;const i=this.activeComposite.getId();i!==this.defaultCompositeId?this.storageService.store(this.activeCompositeSettingsKey,i,_e.WORKSPACE,Pt.MACHINE):this.storageService.remove(this.activeCompositeSettingsKey,_e.WORKSPACE),this.lastActiveCompositeId=this.activeComposite.getId();let s=this.mapCompositeToCompositeContainer.get(e.getId());if(s||(s=de(".composite"),s.classList.add(...this.compositeCSSClass.split(" ")),s.id=e.getId(),e.create(s),e.updateStyles(),this.mapCompositeToCompositeContainer.set(e.getId(),s)),!this.activeComposite||e.getId()!==this.activeComposite.getId())return;this.getContentArea()?.appendChild(s),Wr(s);const o=di(this.toolBar);o.actionRunner=e.getActionRunner();const r=this.registry.getComposite(e.getId());r&&r.name!==e.getTitle()&&this.updateTitle(e.getId(),e.getTitle());let a=this.mapActionsBindingToComposite.get(e.getId());a||(a=this.collectCompositeActions(e),this.mapActionsBindingToComposite.set(e.getId(),a)),a(),this.actionsListener.value=o.actionRunner.onDidRun(l=>{l.error&&!qh(l.error)&&this.notificationService.error(l.error)}),e.setVisible(!0),!(!this.activeComposite||e.getId()!==this.activeComposite.getId())&&(this.contentAreaSize&&e.layout(this.contentAreaSize),this.boundarySashes&&e.setBoundarySashes(this.boundarySashes))}onTitleAreaUpdate(e){const i=this.instantiatedCompositeItems.get(e);if(i&&this.updateTitle(e,i.composite.getTitle()),this.activeComposite?.getId()===e){const s=this.collectCompositeActions(this.activeComposite);this.mapActionsBindingToComposite.set(this.activeComposite.getId(),s),s()}else this.mapActionsBindingToComposite.delete(e)}updateTitle(e,i){const s=this.registry.getComposite(e);if(!s||!this.titleLabel)return;i||(i=s.name);const n=this.keybindingService.lookupKeybinding(e);this.titleLabel.updateTitle(e,i,n?.getLabel()??void 0),di(this.toolBar).setAriaLabel(c("ariaCompositeToolbarLabel","{0} actions",i))}collectCompositeActions(e){const i=e?.getMenuIds(),s=e?.getActions().slice(0)||[],n=e?.getSecondaryActions().slice(0)||[],o=di(this.toolBar);return o.context=this.actionsContextProvider(),()=>o.setActions(el(s),el(n),i)}getActiveComposite(){return this.activeComposite}getLastActiveCompositeId(){return this.lastActiveCompositeId}hideActiveComposite(){if(!this.activeComposite)return;const e=this.activeComposite;this.activeComposite=void 0;const i=this.mapCompositeToCompositeContainer.get(e.getId());return e.setVisible(!1),i&&(i.remove(),Qa(i)),this.progressBar?.stop().hide(),this.toolBar&&this.collectCompositeActions()(),this.onDidCompositeClose.fire(e),e}createTitleArea(e){const i=we(e,de(".composite"));i.classList.add("title"),this.titleLabel=this.createTitleLabel(i);const s=we(i,de(".title-actions"));return this.toolBar=this._register(this.instantiationService.createInstance($h,s,{actionViewItemProvider:vd((n,o)=>this.actionViewItemProvider(n,o),"actionViewItemProvider"),orientation:os.HORIZONTAL,getKeyBinding:vd(n=>this.keybindingService.lookupKeybinding(n.id),"getKeyBinding"),anchorAlignmentProvider:vd(()=>this.getTitleAreaDropDownAnchorAlignment(),"anchorAlignmentProvider"),toggleMenuTitle:c("viewsAndMoreActions","Views and More Actions..."),telemetrySource:this.nameForTelemetry,hoverDelegate:this.toolbarHoverDelegate})),this.collectCompositeActions()(),i}createTitleLabel(e){const i=we(e,de(".title-label")),s=we(i,de("h2"));this.titleLabelElement=s;const n=this._register(this.hoverService.setupManagedHover(Ri("mouse"),s,""));return{updateTitle:vd((o,r,a)=>{(!this.activeComposite||this.activeComposite.getId()===o)&&(s.innerText=r,n.update(a?c("titleTooltip","{0} ({1})",r,a):r))},"updateTitle"),updateStyles:vd(()=>{s.style.color=this.titleForegroundColor&&this.getColor(this.titleForegroundColor)||""},"updateStyles")}}createHeaderArea(){return de(".composite")}createFooterArea(){return de(".composite")}updateStyles(){super.updateStyles(),di(this.titleLabel).updateStyles()}actionViewItemProvider(e,i){return this.activeComposite?this.activeComposite.getActionViewItem(e,i):sy(this.instantiationService,e,i)}actionsContextProvider(){return this.activeComposite?this.activeComposite.getActionsContext():null}createContentArea(e){const i=we(e,de(".content"));return this.progressBar=this._register(new zu(i,ty)),this.progressBar.hide(),i}getProgressIndicator(e){const i=this.instantiatedCompositeItems.get(e);return i?i.progress:void 0}getTitleAreaDropDownAnchorAlignment(){return cc.RIGHT}layout(e,i,s,n){super.layout(e,i,s,n),this.contentAreaSize=Vt.lift(super.layoutContents(e,i).contentSize),this.activeComposite?.layout(this.contentAreaSize)}setBoundarySashes(e){this.boundarySashes=e,this.activeComposite?.setBoundarySashes(e)}removeComposite(e){if(this.activeComposite?.getId()===e)return!1;this.mapCompositeToCompositeContainer.delete(e),this.mapActionsBindingToComposite.delete(e);const i=this.instantiatedCompositeItems.get(e);return i&&(i.composite.dispose(),ai(i.disposable),this.instantiatedCompositeItems.delete(e)),!0}dispose(){this.mapCompositeToCompositeContainer.clear(),this.mapActionsBindingToComposite.clear(),this.instantiatedCompositeItems.forEach(e=>{e.composite.dispose(),ai(e.disposable)}),this.instantiatedCompositeItems.clear(),super.dispose()}}var zee=Object.defineProperty,Sg=(t,e)=>zee(t,"name",{value:e,configurable:!0});const Cg=Ce("activityService");class fE{constructor(e,i){this.descriptorFn=e,this.stylesFn=i}static{Sg(this,"BaseBadge")}getDescription(){return this.descriptorFn(null)}getColors(e){return this.stylesFn?.(e)}}class Pf extends fE{constructor(e,i){super(i,void 0),this.number=e,this.number=e}static{Sg(this,"NumberBadge")}getDescription(){return this.descriptorFn(this.number)}}class pE extends fE{constructor(e,i,s){super(i,s),this.icon=e}static{Sg(this,"IconBadge")}}class $ee extends fE{static{Sg(this,"ProgressBadge")}constructor(e){super(e,void 0)}}class Qoe extends pE{static{Sg(this,"WarningBadge")}constructor(e){super(he.warning,e,i=>({badgeBackground:i.getColor(Gee),badgeForeground:i.getColor(Kee),badgeBorder:void 0}))}}class Joe extends pE{static{Sg(this,"ErrorBadge")}constructor(e){super(he.error,e,i=>({badgeBackground:i.getColor(qee),badgeForeground:i.getColor(jee),badgeBorder:void 0}))}}const Kee=v("activityWarningBadge.foreground",{dark:k.black.lighten(.2),light:k.white,hcDark:null,hcLight:k.black.lighten(.2)},c("activityWarningBadge.foreground","Foreground color of the warning activity badge")),Gee=v("activityWarningBadge.background",{dark:"#CCA700",light:"#BF8803",hcDark:null,hcLight:"#CCA700"},c("activityWarningBadge.background","Background color of the warning activity badge")),jee=v("activityErrorBadge.foreground",{dark:k.black.lighten(.2),light:k.white,hcDark:null,hcLight:k.black.lighten(.2)},c("activityErrorBadge.foreground","Foreground color of the error activity badge")),qee=v("activityErrorBadge.background",{dark:"#F14C4C",light:"#E51400",hcDark:null,hcLight:"#F14C4C"},c("activityErrorBadge.background","Background color of the error activity badge"));var qB=Object.defineProperty,Yee=Object.getOwnPropertyDescriptor,ls=(t,e)=>qB(t,"name",{value:e,configurable:!0}),py=(t,e,i,s)=>{for(var n=s>1?void 0:s?Yee(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&qB(e,i,n),n},js=(t,e)=>(i,s)=>e(i,s,t);class $u extends Et{constructor(e){super(e.id,e.name,e.classNames?.join(" "),!0),this.item=e}static{ls(this,"CompositeBarAction")}_onDidChangeCompositeBarActionItem=this._register(new I);onDidChangeCompositeBarActionItem=this._onDidChangeCompositeBarActionItem.event;_onDidChangeActivity=this._register(new I);onDidChangeActivity=this._onDidChangeActivity.event;_activity;get compositeBarActionItem(){return this.item}set compositeBarActionItem(e){this._label=e.name,this.item=e,this._onDidChangeCompositeBarActionItem.fire(this)}get activity(){return this._activity}set activity(e){this._activity=e,this._onDidChangeActivity.fire(e)}activate(){this.checked||this._setChecked(!0)}deactivate(){this.checked&&this._setChecked(!1)}}let Kh=class extends cn{constructor(t,e,i,s,n,o,r){super(null,t,e),this.badgesEnabled=i,this.themeService=s,this.hoverService=n,this.configurationService=o,this.keybindingService=r,this.options=e,this._register(this.themeService.onDidColorThemeChange(this.onThemeChange,this)),this._register(t.onDidChangeCompositeBarActionItem(()=>this.update())),this._register(R.filter(r.onDidUpdateKeybindings,()=>this.keybindingLabel!==this.computeKeybindingLabel())(()=>this.updateTitle())),this._register(t.onDidChangeActivity(()=>this.updateActivity())),this._register(Se(()=>this.showHoverScheduler.cancel()))}static{ls(this,"CompositeBarActionViewItem")}static hoverLeaveTime=0;container;label;badge;options;badgeContent;badgeDisposable=this._register(new fr);mouseUpTimeout;keybindingLabel;hoverDisposables=this._register(new Z);lastHover;showHoverScheduler=new Ls(()=>this.showHover(),0);get compositeBarActionItem(){return this._action.compositeBarActionItem}updateStyles(){const t=this.themeService.getColorTheme(),e=this.options.colors(t);if(this.label){if(this.options.icon){const i=this._action.checked?e.activeForegroundColor:e.inactiveForegroundColor;this.compositeBarActionItem.iconUrl?(this.label.style.backgroundColor=i?i.toString():"",this.label.style.color=""):(this.label.style.color=i?i.toString():"",this.label.style.backgroundColor="")}else{const i=this._action.checked?e.activeForegroundColor:e.inactiveForegroundColor,s=this._action.checked?e.activeBorderBottomColor:null;this.label.style.color=i?i.toString():"",this.label.style.borderBottomColor=s?s.toString():""}this.container.style.setProperty("--insert-border-color",e.dragAndDropBorder?e.dragAndDropBorder.toString():"")}if(this.badgeContent){const i=this.getActivity()?.badge.getColors(t),s=i?.badgeForeground??e.badgeForeground??t.getColor(b1),n=i?.badgeBackground??e.badgeBackground??t.getColor(mh),o=i?.badgeBorder??t.getColor(ce);this.badgeContent.style.color=s?s.toString():"",this.badgeContent.style.backgroundColor=n?n.toString():"",this.badgeContent.style.borderStyle=o&&!this.options.compact?"solid":"",this.badgeContent.style.borderWidth=o?"1px":"",this.badgeContent.style.borderColor=o?o.toString():""}}render(t){super.render(t),this.container=t,this.options.icon&&this.container.classList.add("icon"),this.options.hasPopup?(this.container.setAttribute("role","button"),this.container.setAttribute("aria-haspopup","true")):this.container.setAttribute("role","tab"),this._register(N(this.container,U.MOUSE_DOWN,()=>{this.container.classList.add("clicked")})),this._register(N(this.container,U.MOUSE_UP,()=>{this.mouseUpTimeout&&clearTimeout(this.mouseUpTimeout),this.mouseUpTimeout=setTimeout(()=>{this.container.classList.remove("clicked")},800)})),this.label=we(t,de("a")),this.badge=we(t,de(".badge")),this.badgeContent=we(this.badge,de(".badge-content")),we(t,de(".active-item-indicator")),Qa(this.badge),this.update(),this.updateStyles(),this.updateHover()}onThemeChange(t){this.updateStyles()}update(){this.updateLabel(),this.updateActivity(),this.updateTitle(),this.updateStyles()}getActivity(){if(this._action instanceof $u)return this._action.activity}updateActivity(){if(!this.badge||!this.badgeContent||!(this._action instanceof $u))return;const t=this.getActivity();this.badgeDisposable.value=new Z,ds(this.badgeContent),Qa(this.badge);const e=this.badgesEnabled(this.compositeBarActionItem.id);if(t&&e){const{badge:i}=t,s=[];if(this.options.compact&&s.push("compact"),i instanceof $ee)Wr(this.badge),s.push("progress-badge");else if(i instanceof Pf){if(i.number){let n=i.number.toString();if(i.number>999){const o=i.number/1e3,r=Math.floor(o);o>r?n=`${r}K+`:n=`${o}K`}this.options.compact&&n.length>=3&&s.push("compact-content"),this.badgeContent.textContent=n,Wr(this.badge)}}else if(i instanceof pE){s.push("icon-badge");const n=["icon-overlay",...Ae.asClassNameArray(i.icon)];this.badgeContent.classList.add(...n),this.badgeDisposable.value.add(Se(()=>this.badgeContent?.classList.remove(...n))),Wr(this.badge)}s.length&&(this.badge.classList.add(...s),this.badgeDisposable.value.add(Se(()=>this.badge.classList.remove(...s))))}this.updateTitle(),this.updateStyles()}updateLabel(){this.label.className="action-label",this.compositeBarActionItem.classNames&&this.label.classList.add(...this.compositeBarActionItem.classNames),this.options.icon||(this.label.textContent=this.action.label)}updateTitle(){const t=this.computeTitle();[this.label,this.badge,this.container].forEach(e=>{e&&(e.setAttribute("aria-label",t),e.setAttribute("title",""),e.removeAttribute("title"))})}computeTitle(){this.keybindingLabel=this.computeKeybindingLabel();let t=this.keybindingLabel?c("titleKeybinding","{0} ({1})",this.compositeBarActionItem.name,this.keybindingLabel):this.compositeBarActionItem.name;const e=this.action.activity?.badge;return e?.getDescription()&&(t=c("badgeTitle","{0} - {1}",t,e.getDescription())),t}computeKeybindingLabel(){return(this.compositeBarActionItem.keybindingId?this.keybindingService.lookupKeybinding(this.compositeBarActionItem.keybindingId):null)?.getLabel()}updateHover(){this.hoverDisposables.clear(),this.updateTitle(),this.hoverDisposables.add(N(this.container,U.MOUSE_OVER,()=>{this.showHoverScheduler.isScheduled()||(Date.now()-Kh.hoverLeaveTime<200?this.showHover(!0):this.showHoverScheduler.schedule(this.configurationService.getValue("workbench.hover.delay")))},!0)),this.hoverDisposables.add(N(this.container,U.MOUSE_LEAVE,t=>{t.target===this.container&&(Kh.hoverLeaveTime=Date.now(),this.hoverService.hideHover(),this.showHoverScheduler.cancel())},!0)),this.hoverDisposables.add(Se(()=>{this.hoverService.hideHover(),this.showHoverScheduler.cancel()}))}showHover(t=!1){if(this.lastHover&&!this.lastHover.isDisposed)return;const e=this.options.hoverOptions.position();this.lastHover=this.hoverService.showHover({target:this.container,content:this.computeTitle(),position:{hoverPosition:e},persistence:{hideOnKeyDown:!0},appearance:{showPointer:!0,compact:!0,skipFadeInAnimation:t}})}dispose(){super.dispose(),this.mouseUpTimeout&&clearTimeout(this.mouseUpTimeout),this.badge.remove()}};Kh=py([js(3,Vi),js(4,Ss),js(5,Ke),js(6,qt)],Kh);class AT extends $u{constructor(e){super({id:"additionalComposites.action",name:c("additionalViews","Additional Views"),classNames:Ae.asClassNameArray(he.more)}),this.showMenu=e}static{ls(this,"CompositeOverflowActivityAction")}async run(){this.showMenu()}}let cS=class extends Kh{constructor(t,e,i,s,n,o,r,a,l,h,d,u){super(t,{icon:!0,colors:o,hasPopup:!0,hoverOptions:r},()=>!0,l,h,d,u),this.getOverflowingComposites=e,this.getActiveCompositeId=i,this.getBadge=s,this.getCompositeOpenAction=n,this.contextMenuService=a}static{ls(this,"CompositeOverflowActivityActionViewItem")}showMenu(){this.contextMenuService.showContextMenu({getAnchor:ls(()=>this.container,"getAnchor"),getActions:ls(()=>this.getActions(),"getActions"),getCheckedActionsRepresentation:ls(()=>"radio","getCheckedActionsRepresentation")})}getActions(){return this.getOverflowingComposites().map(t=>{const e=this.getCompositeOpenAction(t.id);e.checked=this.getActiveCompositeId()===e.id;const i=this.getBadge(t.id);let s;return i instanceof Pf&&(s=i.number),s?e.label=c("numberBadge","{0} ({1})",t.name,s):e.label=t.name||"",e})}};cS=py([js(7,Di),js(8,Vi),js(9,Ss),js(10,Ke),js(11,qt)],cS);let hS=class extends Et{constructor(t){super("activitybar.manage.extension",c("manageExtension","Manage Extension")),this.commandService=t}static{ls(this,"ManageExtensionAction")}run(t){return this.commandService.executeCommand("_extensions.manage",t)}};hS=py([js(0,Hi)],hS);let fu=class extends Kh{constructor(t,e,i,s,n,o,r,a,l,h,d,u,g,p){super(e,t,a.areBadgesEnabled.bind(a),u,g,p,h),this.compositeActivityAction=e,this.toggleCompositePinnedAction=i,this.toggleCompositeBadgeAction=s,this.compositeContextMenuActionsProvider=n,this.contextMenuActionsProvider=o,this.dndHandler=r,this.compositeBar=a,this.contextMenuService=l,fu.manageExtensionAction||(fu.manageExtensionAction=d.createInstance(hS))}static{ls(this,"CompositeActionViewItem")}static manageExtensionAction;render(t){super.render(t),this.updateChecked(),this.updateEnabled(),this._register(N(this.container,U.CONTEXT_MENU,i=>{xe.stop(i,!0),this.showContextMenu(t)}));let e;this._register(jn.INSTANCE.registerDraggable(this.container,()=>({type:"composite",id:this.compositeBarActionItem.id}),{onDragOver:ls(i=>{const s=i.dragAndDropData.getData().id!==this.compositeBarActionItem.id&&this.dndHandler.onDragOver(i.dragAndDropData,this.compositeBarActionItem.id,i.eventData);Uu(i.eventData.dataTransfer,"move",s),e=this.updateFromDragging(t,s,i.eventData)},"onDragOver"),onDragLeave:ls(i=>{e=this.updateFromDragging(t,!1,i.eventData)},"onDragLeave"),onDragEnd:ls(i=>{e=this.updateFromDragging(t,!1,i.eventData)},"onDragEnd"),onDrop:ls(i=>{xe.stop(i.eventData,!0),this.dndHandler.drop(i.dragAndDropData,this.compositeBarActionItem.id,i.eventData,e),e=this.updateFromDragging(t,!1,i.eventData)},"onDrop"),onDragStart:ls(i=>{i.dragAndDropData.getData().id===this.compositeBarActionItem.id&&(i.eventData.dataTransfer&&(i.eventData.dataTransfer.effectAllowed="move"),this.blur())},"onDragStart")})),[this.badge,this.label].forEach(i=>this._register(new sX(i,()=>{this.action.checked||this.action.run()}))),this.updateStyles()}updateFromDragging(t,e,i){const s=t.getBoundingClientRect(),n=i.clientX,o=i.clientY,r=s.bottom-s.top,a=s.right-s.left,l=o<=s.top+r*.4,h=o>s.bottom-r*.4,d=o<=s.top+r*.5,u=n<=s.left+a*.4,g=n>s.right-a*.4,p=n<=s.left+a*.5,m=t.classList,b={vertical:m.contains("top")?"top":m.contains("bottom")?"bottom":void 0,horizontal:m.contains("left")?"left":m.contains("right")?"right":void 0},C=l||d&&!b.vertical||!h&&b.vertical==="top",x=h||!d&&!b.vertical||!l&&b.vertical==="bottom",E=u||p&&!b.horizontal||!g&&b.horizontal==="left",F=g||!p&&!b.horizontal||!u&&b.horizontal==="right";if(t.classList.toggle("top",e&&C),t.classList.toggle("bottom",e&&x),t.classList.toggle("left",e&&E),t.classList.toggle("right",e&&F),!!e)return{verticallyBefore:C,horizontallyBefore:E}}showContextMenu(t){const e=[this.toggleCompositePinnedAction,this.toggleCompositeBadgeAction],i=this.compositeContextMenuActionsProvider(this.compositeBarActionItem.id);i.length&&e.push(...i),this.compositeActivityAction.compositeBarActionItem.extensionId&&(e.push(new st),e.push(fu.manageExtensionAction)),this.compositeBar.isPinned(this.compositeBarActionItem.id)?(this.toggleCompositePinnedAction.label=c("hide","Hide '{0}'",this.compositeBarActionItem.name),this.toggleCompositePinnedAction.checked=!1):this.toggleCompositePinnedAction.label=c("keep","Keep '{0}'",this.compositeBarActionItem.name),this.compositeBar.areBadgesEnabled(this.compositeBarActionItem.id)?this.toggleCompositeBadgeAction.label=c("hideBadge","Hide Badge"):this.toggleCompositeBadgeAction.label=c("showBadge","Show Badge");const o=this.contextMenuActionsProvider();o.length&&(e.push(new st),e.push(...o));const r=Ul(t),a={x:Math.floor(r.left+r.width/2),y:r.top+r.height};this.contextMenuService.showContextMenu({getAnchor:ls(()=>a,"getAnchor"),getActions:ls(()=>e,"getActions"),getActionsContext:ls(()=>this.compositeBarActionItem.id,"getActionsContext")})}updateChecked(){this.action.checked?(this.container.classList.add("checked"),this.container.setAttribute("aria-label",this.getTooltip()??this.container.title),this.container.setAttribute("aria-expanded","true"),this.container.setAttribute("aria-selected","true")):(this.container.classList.remove("checked"),this.container.setAttribute("aria-label",this.getTooltip()??this.container.title),this.container.setAttribute("aria-expanded","false"),this.container.setAttribute("aria-selected","false")),this.updateStyles()}updateEnabled(){this.element&&(this.action.enabled?this.element.classList.remove("disabled"):this.element.classList.add("disabled"))}dispose(){super.dispose(),this.label.remove()}};fu=py([js(8,Di),js(9,qt),js(10,rt),js(11,Vi),js(12,Ss),js(13,Ke)],fu);class YB extends Et{constructor(e,i){super("show.toggleCompositePinned",e?e.name:c("toggle","Toggle View Pinned")),this.activity=e,this.compositeBar=i,this.checked=!!this.activity&&this.compositeBar.isPinned(this.activity.id)}static{ls(this,"ToggleCompositePinnedAction")}async run(e){const i=this.activity?this.activity.id:e;this.compositeBar.isPinned(i)?this.compositeBar.unpin(i):this.compositeBar.pin(i)}}class XB extends Et{constructor(e,i){super("show.toggleCompositeBadge",e?e.name:c("toggleBadge","Toggle View Badge")),this.compositeBarActionItem=e,this.compositeBar=i,this.checked=!1}static{ls(this,"ToggleCompositeBadgeAction")}async run(e){const i=this.compositeBarActionItem?this.compositeBarActionItem.id:e;this.compositeBar.toggleBadgeEnablement(i)}}var ZB=Object.defineProperty,Xee=Object.getOwnPropertyDescriptor,Nl=(t,e)=>ZB(t,"name",{value:e,configurable:!0}),Zee=(t,e,i,s)=>{for(var n=s>1?void 0:s?Xee(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&ZB(e,i,n),n},o_=(t,e)=>(i,s)=>e(i,s,t);class Qee{constructor(e,i,s,n,o,r){this.viewDescriptorService=e,this.targetContainerLocation=i,this.orientation=s,this.openComposite=n,this.moveComposite=o,this.getItems=r}static{Nl(this,"CompositeDragAndDrop")}drop(e,i,s,n){const o=e.getData();if(o.type==="composite"){const r=this.viewDescriptorService.getViewContainerById(o.id);this.viewDescriptorService.getViewContainerLocation(r)===this.targetContainerLocation?i&&this.moveComposite(o.id,i,n):this.viewDescriptorService.moveViewContainerToLocation(r,this.targetContainerLocation,this.getTargetIndex(i,n),"dnd")}if(o.type==="view"){const r=this.viewDescriptorService.getViewDescriptorById(o.id);if(r&&r.canMoveView){this.viewDescriptorService.moveViewToLocation(r,this.targetContainerLocation,"dnd");const a=this.viewDescriptorService.getViewContainerByViewId(r.id);i&&this.moveComposite(a.id,i,n),this.openComposite(a.id,!0).then(l=>{l?.openView(r.id,!0)})}}}onDragEnter(e,i,s){return this.canDrop(e,i)}onDragOver(e,i,s){return this.canDrop(e,i)}getTargetIndex(e,i){if(!e)return;const s=this.getItems(),n=this.orientation===os.HORIZONTAL?i?.horizontallyBefore:i?.verticallyBefore;return s.filter(o=>o.visible).findIndex(o=>o.id===e)+(n?0:1)}canDrop(e,i){const s=e.getData();if(s.type==="composite"){const n=this.viewDescriptorService.getViewContainerById(s.id);return this.viewDescriptorService.getViewContainerLocation(n)===this.targetContainerLocation?s.id!==i:!0}else{const n=this.viewDescriptorService.getViewDescriptorById(s.id);return!(!n||!n.canMoveView)}}}class Jee{constructor(e,i,s,n,o){this.compositeBarContainer=e,this.actionBarContainer=i,this.compositeBarModel=s,this.dndHandler=n,this.orientation=o}static{Nl(this,"CompositeBarDndCallbacks")}insertDropBefore=void 0;onDragOver(e){const i=this.compositeBarModel.visibleItems;if(!i.length||e.eventData.target&&hs(e.eventData.target,this.actionBarContainer)){this.insertDropBefore=this.updateFromDragging(this.compositeBarContainer,!1,!1,!0);return}const s=this.insertAtFront(this.actionBarContainer,e.eventData),n=s?i[0]:i[i.length-1],o=this.dndHandler.onDragOver(e.dragAndDropData,n.id,e.eventData);Uu(e.eventData.dataTransfer,"move",o),this.insertDropBefore=this.updateFromDragging(this.compositeBarContainer,o,s,!0)}onDragLeave(e){this.insertDropBefore=this.updateFromDragging(this.compositeBarContainer,!1,!1,!1)}onDragEnd(e){this.insertDropBefore=this.updateFromDragging(this.compositeBarContainer,!1,!1,!1)}onDrop(e){const i=this.compositeBarModel.visibleItems;let s;i.length&&(s=this.insertAtFront(this.actionBarContainer,e.eventData)?i[0].id:i[i.length-1].id),this.dndHandler.drop(e.dragAndDropData,s,e.eventData,this.insertDropBefore),this.insertDropBefore=this.updateFromDragging(this.compositeBarContainer,!1,!1,!1)}insertAtFront(e,i){const s=e.getBoundingClientRect(),n=i.clientX,o=i.clientY;switch(this.orientation){case os.HORIZONTAL:return n<s.left;case os.VERTICAL:return o<s.top}}updateFromDragging(e,i,s,n){if(e.classList.toggle("dragged-over",n),e.classList.toggle("dragged-over-head",i&&s),e.classList.toggle("dragged-over-tail",i&&!s),!!i)return{verticallyBefore:s,horizontallyBefore:s}}}let dS=class extends wr{constructor(t,e,i,s,n){super(),this.options=e,this.instantiationService=i,this.contextMenuService=s,this.viewDescriptorService=n,this.model=new ete(t,e),this.visibleComposites=[],this.compositeSizeInBar=new Map,this.computeSizes(this.model.visibleItems)}static{Nl(this,"CompositeBar")}_onDidChange=this._register(new I);onDidChange=this._onDidChange.event;dimension;compositeSwitcherBar;compositeOverflowAction;compositeOverflowActionViewItem;model;visibleComposites;compositeSizeInBar;getCompositeBarItems(){return[...this.model.items]}setCompositeBarItems(t){this.model.setItems(t),this.updateCompositeSwitcher()}getPinnedComposites(){return this.model.pinnedItems}getVisibleComposites(){return this.model.visibleItems}create(t){const e=t.appendChild(de(".composite-bar"));this.compositeSwitcherBar=this._register(new Sc(e,{actionViewItemProvider:Nl((s,n)=>{if(s instanceof AT)return this.compositeOverflowActionViewItem;const o=this.model.findItem(s.id);return o&&this.instantiationService.createInstance(fu,{...n,draggable:!0,colors:this.options.colors,icon:this.options.icon,hoverOptions:this.options.activityHoverOptions,compact:this.options.compact},s,o.pinnedAction,o.toggleBadgeAction,r=>this.options.getContextMenuActionsForComposite(r),()=>this.getContextMenuActions(),this.options.dndHandler,this)},"actionViewItemProvider"),orientation:this.options.orientation,ariaLabel:c("activityBarAriaLabel","Active View Switcher"),ariaRole:"tablist",preventLoopNavigation:this.options.preventLoopNavigation,triggerKeys:{keyDown:!0}})),this._register(N(t,U.CONTEXT_MENU,s=>this.showContextMenu(be(t),s))),this._register(us.addTarget(t)),this._register(N(t,kt.Contextmenu,s=>this.showContextMenu(be(t),s)));const i=new Jee(t,e,this.model,this.options.dndHandler,this.options.orientation);return this._register(jn.INSTANCE.registerTarget(t,i)),e}focus(t){this.compositeSwitcherBar?.focus(t)}recomputeSizes(){this.computeSizes(this.model.visibleItems),this.updateCompositeSwitcher()}layout(t){this.dimension=t,!(t.height===0||t.width===0)&&(this.compositeSizeInBar.size===0&&this.computeSizes(this.model.visibleItems),this.updateCompositeSwitcher())}addComposite({id:t,name:e,order:i,requestedIndex:s}){this.model.add(t,e,i,s)&&(this.computeSizes([this.model.findItem(t)]),this.updateCompositeSwitcher())}removeComposite(t){this.isPinned(t)&&this.unpin(t),this.model.remove(t)&&this.updateCompositeSwitcher()}hideComposite(t){this.model.hide(t)&&(this.resetActiveComposite(t),this.updateCompositeSwitcher())}activateComposite(t){const e=this.model.activeItem;this.model.activate(t)&&(this.visibleComposites.indexOf(t)===-1||this.model.activeItem&&!this.model.activeItem.pinned||e&&!e.pinned)&&this.updateCompositeSwitcher()}deactivateComposite(t){const e=this.model.activeItem;this.model.deactivate()&&e&&!e.pinned&&this.updateCompositeSwitcher()}async pin(t,e){this.model.setPinned(t,!0)&&(this.updateCompositeSwitcher(),e&&(await this.options.openComposite(t),this.activateComposite(t)))}unpin(t){this.model.setPinned(t,!1)&&(this.updateCompositeSwitcher(),this.resetActiveComposite(t))}areBadgesEnabled(t){return this.viewDescriptorService.getViewContainerBadgeEnablementState(t)}toggleBadgeEnablement(t){this.viewDescriptorService.setViewContainerBadgeEnablementState(t,!this.areBadgesEnabled(t)),this.updateCompositeSwitcher();const e=this.model.findItem(t);e&&(e.activityAction.activity=e.activityAction.activity)}resetActiveComposite(t){const e=this.options.getDefaultCompositeId();!this.model.activeItem||this.model.activeItem.id!==t||(this.deactivateComposite(t),e&&e!==t&&this.isPinned(e)?this.options.openComposite(e,!0):this.options.openComposite(this.visibleComposites.filter(i=>i!==t)[0]))}isPinned(t){return this.model.findItem(t)?.pinned}move(t,e,i){if(i!==void 0){const s=this.model.items.findIndex(o=>o.id===t);let n=this.model.items.findIndex(o=>o.id===e);s>=0&&n>=0&&(!i&&s>n&&n++,i&&s<n&&n--,n<this.model.items.length&&n>=0&&n!==s&&this.model.move(this.model.items[s].id,this.model.items[n].id)&&setTimeout(()=>this.updateCompositeSwitcher(),0))}else this.model.move(t,e)&&setTimeout(()=>this.updateCompositeSwitcher(),0)}getAction(t){return this.model.findItem(t)?.activityAction}computeSizes(t){const e=this.options.compositeSize;if(e)t.forEach(i=>this.compositeSizeInBar.set(i.id,e));else{const i=this.compositeSwitcherBar;if(i&&this.dimension&&this.dimension.height!==0&&this.dimension.width!==0){const s=i.viewItems.length;i.push(t.map(n=>n.activityAction)),t.map((n,o)=>this.compositeSizeInBar.set(n.id,this.options.orientation===os.VERTICAL?i.getHeight(s+o):i.getWidth(s+o))),t.forEach(()=>i.pull(i.viewItems.length-1))}}}updateCompositeSwitcher(){const t=this.compositeSwitcherBar;if(!t||!this.dimension)return;let e=this.model.visibleItems.filter(a=>a.pinned||this.model.activeItem&&this.model.activeItem.id===a.id).map(a=>a.id),i=e.length;const s=e.length;let n=0;const o=this.options.orientation===os.VERTICAL?this.dimension.height:this.dimension.width;for(let a=0;a<e.length;a++){const l=this.compositeSizeInBar.get(e[a]);if(n+l>o){i=a;break}n+=l}for(s>i&&(e=e.slice(0,i)),this.model.activeItem&&e.every(a=>!!this.model.activeItem&&a!==this.model.activeItem.id)&&(n+=this.compositeSizeInBar.get(this.model.activeItem.id),e.push(this.model.activeItem.id));n>o&&e.length;){const a=e.length>1?e.splice(e.length-2,1)[0]:e.pop();n-=this.compositeSizeInBar.get(a)}for(s>e.length&&(n+=this.options.overflowActionSize);n>o&&e.length;){const a=e.length>1&&e[e.length-1]===this.model.activeItem?.id?e.splice(e.length-2,1)[0]:e.pop();n-=this.compositeSizeInBar.get(a)}s===e.length&&this.compositeOverflowAction&&(t.pull(t.length()-1),this.compositeOverflowAction.dispose(),this.compositeOverflowAction=void 0,this.compositeOverflowActionViewItem?.dispose(),this.compositeOverflowActionViewItem=void 0);const r=[];this.visibleComposites.forEach((a,l)=>{e.includes(a)||r.push(l)}),r.reverse().forEach(a=>{t.pull(a),this.visibleComposites.splice(a,1)}),e.forEach((a,l)=>{const h=this.visibleComposites.indexOf(a);l!==h&&(h!==-1&&(t.pull(h),this.visibleComposites.splice(h,1)),t.push(this.model.findItem(a).activityAction,{label:!0,icon:this.options.icon,index:l}),this.visibleComposites.splice(l,0,a))}),s>e.length&&!this.compositeOverflowAction&&(this.compositeOverflowAction=this._register(this.instantiationService.createInstance(AT,()=>{this.compositeOverflowActionViewItem?.showMenu()})),this.compositeOverflowActionViewItem=this._register(this.instantiationService.createInstance(cS,this.compositeOverflowAction,()=>this.getOverflowingComposites(),()=>this.model.activeItem?this.model.activeItem.id:void 0,a=>this.model.findItem(a)?.activity[0]?.badge,this.options.getOnCompositeClickAction,this.options.colors,this.options.activityHoverOptions)),t.push(this.compositeOverflowAction,{label:!1,icon:!0})),this._onDidChange.fire()}getOverflowingComposites(){let t=this.model.visibleItems.filter(e=>e.pinned).map(e=>e.id);return this.model.activeItem&&!this.model.activeItem.pinned&&t.push(this.model.activeItem.id),t=t.filter(e=>!this.visibleComposites.includes(e)),this.model.visibleItems.filter(e=>t.includes(e.id)).map(e=>({id:e.id,name:this.getAction(e.id)?.label||e.name}))}showContextMenu(t,e){xe.stop(e,!0);const i=new qi(t,e);this.contextMenuService.showContextMenu({getAnchor:Nl(()=>i,"getAnchor"),getActions:Nl(()=>this.getContextMenuActions(e),"getActions")})}getContextMenuActions(t){const e=this.model.visibleItems.map(({id:i,name:s,activityAction:n})=>li({id:i,label:this.getAction(i).label||s||i,checked:this.isPinned(i),enabled:n.enabled,run:Nl(()=>{this.isPinned(i)?this.unpin(i):this.pin(i,!0)},"run")}));return this.options.fillExtraContextMenuActions(e,t),e}};dS=Zee([o_(2,rt),o_(3,Di),o_(4,fs)],dS);class ete{static{Nl(this,"CompositeBarModel")}_items=[];get items(){return this._items}options;activeItem;constructor(e,i){this.options=i,this.setItems(e)}setItems(e){this._items=[],this._items=e.map(i=>this.createCompositeBarItem(i.id,i.name,i.order,i.pinned,i.visible))}get visibleItems(){return this.items.filter(e=>e.visible)}get pinnedItems(){return this.items.filter(e=>e.visible&&e.pinned)}createCompositeBarItem(e,i,s,n,o){const r=this.options;return{id:e,name:i,pinned:n,order:s,visible:o,activity:[],get activityAction(){return r.getActivityAction(e)},get pinnedAction(){return r.getCompositePinnedAction(e)},get toggleBadgeAction(){return r.getCompositeBadgeAction(e)}}}add(e,i,s,n){const o=this.findItem(e);if(o){let r=!1;return o.name=i,ji(s)||(r=o.order!==s,o.order=s),o.visible||(o.visible=!0,r=!0),r}else{const r=this.createCompositeBarItem(e,i,s,!0,!0);if(ji(n))if(ji(s))this.items.push(r);else{let a=0;for(;a<this.items.length&&typeof this.items[a].order=="number"&&this.items[a].order<s;)a++;this.items.splice(a,0,r)}else{let a=0,l=n;for(;l>0&&a<this.items.length;)this.items[a++].visible&&l--;this.items.splice(a,0,r)}return!0}}remove(e){for(let i=0;i<this.items.length;i++)if(this.items[i].id===e)return this.items.splice(i,1),!0;return!1}hide(e){for(const i of this.items)if(i.id===e)return i.visible?(i.visible=!1,!0):!1;return!1}move(e,i){const s=this.findIndex(e),n=this.findIndex(i);if(s===-1||n===-1)return!1;const o=this.items.splice(s,1)[0];return this.items.splice(n,0,o),o.pinned=!0,!0}setPinned(e,i){for(const s of this.items)if(s.id===e)return s.pinned!==i?(s.pinned=i,!0):!1;return!1}activate(e){if(!this.activeItem||this.activeItem.id!==e){this.activeItem&&this.deactivate();for(const i of this.items)if(i.id===e)return this.activeItem=i,this.activeItem.activityAction.activate(),!0}return!1}deactivate(){return this.activeItem?(this.activeItem.activityAction.deactivate(),this.activeItem=void 0,!0):!1}findItem(e){return this.items.filter(i=>i.id===e)[0]}findIndex(e){for(let i=0;i<this.items.length;i++)if(this.items[i].id===e)return i;return-1}}var QB=Object.defineProperty,tte=Object.getOwnPropertyDescriptor,zs=(t,e)=>QB(t,"name",{value:e,configurable:!0}),JB=(t,e,i,s)=>{for(var n=s>1?void 0:s?tte(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&QB(e,i,n),n},Io=(t,e)=>(i,s)=>e(i,s,t);let Cw=class extends q{constructor(t,e,i,s,n,o,r,a,l,h,d){super(),this.options=t,this.part=e,this.paneCompositePart=i,this.instantiationService=s,this.storageService=n,this.extensionService=o,this.viewDescriptorService=r,this.viewService=a,this.contextKeyService=l,this.environmentService=h,this.layoutService=d,this.location=i.partId===P.PANEL_PART?ne.Panel:i.partId===P.AUXILIARYBAR_PART?ne.AuxiliaryBar:ne.Sidebar,this.dndHandler=new Qee(this.viewDescriptorService,this.location,this.options.orientation,async(g,p)=>await this.paneCompositePart.openPaneComposite(g,p)??null,(g,p,m)=>this.compositeBar.move(g,p,this.options.orientation===os.VERTICAL?m?.verticallyBefore:m?.horizontallyBefore),()=>this.compositeBar.getCompositeBarItems());const u=this.cachedViewContainers.map(g=>({id:g.id,name:g.name,visible:!this.shouldBeHidden(g.id,g),order:g.order,pinned:g.pinned}));this.compositeBar=this.createCompositeBar(u),this.onDidRegisterViewContainers(this.getViewContainers()),this.registerListeners()}static{zs(this,"PaneCompositeBar")}viewContainerDisposables=this._register(new fc);location;compositeBar;dndHandler;compositeActions=new Map;hasExtensionsRegistered=!1;createCompositeBar(t){return this._register(this.instantiationService.createInstance(dS,t,{icon:this.options.icon,compact:this.options.compact,orientation:this.options.orientation,activityHoverOptions:this.options.activityHoverOptions,preventLoopNavigation:this.options.preventLoopNavigation,openComposite:zs(async(e,i)=>await this.paneCompositePart.openPaneComposite(e,!i)??null,"openComposite"),getActivityAction:zs(e=>this.getCompositeActions(e).activityAction,"getActivityAction"),getCompositePinnedAction:zs(e=>this.getCompositeActions(e).pinnedAction,"getCompositePinnedAction"),getCompositeBadgeAction:zs(e=>this.getCompositeActions(e).badgeAction,"getCompositeBadgeAction"),getOnCompositeClickAction:zs(e=>this.getCompositeActions(e).activityAction,"getOnCompositeClickAction"),fillExtraContextMenuActions:zs((e,i)=>this.options.fillExtraContextMenuActions(e,i),"fillExtraContextMenuActions"),getContextMenuActionsForComposite:zs(e=>this.getContextMenuActionsForComposite(e),"getContextMenuActionsForComposite"),getDefaultCompositeId:zs(()=>this.viewDescriptorService.getDefaultViewContainer(this.location)?.id,"getDefaultCompositeId"),dndHandler:this.dndHandler,compositeSize:this.options.compositeSize,overflowActionSize:this.options.overflowActionSize,colors:zs(e=>this.options.colors(e),"colors")}))}getContextMenuActionsForComposite(t){const e=[],i=this.viewDescriptorService.getViewContainerById(t),s=this.viewDescriptorService.getDefaultViewContainerLocation(i);if(s!==this.viewDescriptorService.getViewContainerLocation(i))e.push(li({id:"resetLocationAction",label:c("resetLocation","Reset Location"),run:zs(()=>this.viewDescriptorService.moveViewContainerToLocation(i,s,void 0,"resetLocationAction"),"run")}));else{const n=this.viewDescriptorService.getViewContainerModel(i);if(n.allViewDescriptors.length===1){const o=n.allViewDescriptors[0],r=this.viewDescriptorService.getDefaultContainerById(o.id);r!==i&&e.push(li({id:"resetLocationAction",label:c("resetLocation","Reset Location"),run:zs(()=>this.viewDescriptorService.moveViewsToContainer([o],r,void 0,"resetLocationAction"),"run")}))}}return e}registerListeners(){this._register(this.viewDescriptorService.onDidChangeViewContainers(({added:t,removed:e})=>this.onDidChangeViewContainers(t,e))),this._register(this.viewDescriptorService.onDidChangeContainerLocation(({viewContainer:t,from:e,to:i})=>this.onDidChangeViewContainerLocation(t,e,i))),this._register(this.paneCompositePart.onDidPaneCompositeOpen(t=>this.onDidChangeViewContainerVisibility(t.getId(),!0))),this._register(this.paneCompositePart.onDidPaneCompositeClose(t=>this.onDidChangeViewContainerVisibility(t.getId(),!1))),this.extensionService.whenInstalledExtensionsRegistered().then(()=>{this._store.isDisposed||(this.onDidRegisterExtensions(),this._register(this.compositeBar.onDidChange(()=>this.saveCachedViewContainers())),this._register(this.storageService.onDidChangeValue(_e.PROFILE,this.options.pinnedViewContainersKey,this._store)(t=>this.onDidPinnedViewContainersStorageValueChange(t))))})}onDidChangeViewContainers(t,e){e.filter(({location:i})=>i===this.location).forEach(({container:i})=>this.onDidDeregisterViewContainer(i)),this.onDidRegisterViewContainers(t.filter(({location:i})=>i===this.location).map(({container:i})=>i))}onDidChangeViewContainerLocation(t,e,i){e===this.location&&this.onDidDeregisterViewContainer(t),i===this.location&&this.onDidRegisterViewContainers([t])}onDidChangeViewContainerVisibility(t,e){e?this.onDidViewContainerVisible(t):this.compositeBar.deactivateComposite(t)}onDidRegisterExtensions(){this.hasExtensionsRegistered=!0;for(const{id:t}of this.cachedViewContainers){const e=this.getViewContainer(t);e?this.showOrHideViewContainer(e):this.viewDescriptorService.isViewContainerRemovedPermanently(t)?this.removeComposite(t):this.hideComposite(t)}this.saveCachedViewContainers()}onDidViewContainerVisible(t){const e=this.getViewContainer(t);e&&(this.addComposite(e),this.compositeBar.activateComposite(e.id),this.shouldBeHidden(e)&&this.viewDescriptorService.getViewContainerModel(e).activeViewDescriptors.length===0&&this.hideComposite(e.id))}create(t){return this.compositeBar.create(t)}getCompositeActions(t){let e=this.compositeActions.get(t);if(!e){const i=this.getViewContainer(t);if(i){const s=this.viewDescriptorService.getViewContainerModel(i);e={activityAction:this._register(this.instantiationService.createInstance(kp,this.toCompositeBarActionItemFrom(s),this.part,this.paneCompositePart)),pinnedAction:this._register(new YB(this.toCompositeBarActionItemFrom(s),this.compositeBar)),badgeAction:this._register(new XB(this.toCompositeBarActionItemFrom(s),this.compositeBar))}}else{const s=this.cachedViewContainers.filter(n=>n.id===t)[0];e={activityAction:this._register(this.instantiationService.createInstance(ite,this.toCompositeBarActionItem(t,s?.name??t,s?.icon,void 0),this.part,this.paneCompositePart)),pinnedAction:this._register(new ET(t,this.compositeBar)),badgeAction:this._register(new ste(t,this.compositeBar))}}this.compositeActions.set(t,e)}return e}onDidRegisterViewContainers(t){for(const e of t){this.addComposite(e),this.cachedViewContainers.filter(({id:r})=>r===e.id)[0]||this.compositeBar.pin(e.id),this.paneCompositePart.getActivePaneComposite()?.getId()===e.id&&this.compositeBar.activateComposite(e.id);const n=this.viewDescriptorService.getViewContainerModel(e);this.updateCompositeBarActionItem(e,n),this.showOrHideViewContainer(e);const o=new Z;o.add(n.onDidChangeContainerInfo(()=>this.updateCompositeBarActionItem(e,n))),o.add(n.onDidChangeActiveViewDescriptors(()=>this.showOrHideViewContainer(e))),this.viewContainerDisposables.set(e.id,o)}}onDidDeregisterViewContainer(t){this.viewContainerDisposables.deleteAndDispose(t.id),this.removeComposite(t.id)}updateCompositeBarActionItem(t,e){const i=this.toCompositeBarActionItemFrom(e),{activityAction:s,pinnedAction:n}=this.getCompositeActions(t.id);s.updateCompositeBarActionItem(i),n instanceof ET&&n.setActivity(i),this.options.recomputeSizes&&this.compositeBar.recomputeSizes(),this.saveCachedViewContainers()}toCompositeBarActionItemFrom(t){return this.toCompositeBarActionItem(t.viewContainer.id,t.title,t.icon,t.keybindingId)}toCompositeBarActionItem(t,e,i,s){let n,o;if(this.options.icon)if(j.isUri(i)){o=i;const r=nc(i),a=new fC;a.update(r);const l=`activity-${t.replace(/\./g,"-")}-${a.digest()}`,h=`.monaco-workbench .${this.options.partContainerClass} .monaco-action-bar .action-label.${l}`;n=[l,"uri-icon"],g1(h,`
				mask: ${r} no-repeat 50% 50%;
				mask-size: ${this.options.iconSize}px;
				-webkit-mask: ${r} no-repeat 50% 50%;
				-webkit-mask-size: ${this.options.iconSize}px;
				mask-origin: padding;
				-webkit-mask-origin: padding;
			`)}else Ae.isThemeIcon(i)&&(n=Ae.asClassNameArray(i));return{id:t,name:e,classNames:n,iconUrl:o,keybindingId:s}}showOrHideViewContainer(t){this.shouldBeHidden(t)?this.hideComposite(t.id):this.addComposite(t)}shouldBeHidden(t,e){const i=Yi(t)?this.getViewContainer(t):t,s=Yi(t)?t:t.id;if(i)if(i.hideIfEmpty){if(this.viewService.isViewContainerActive(s))return!1}else return!1;if(!this.hasExtensionsRegistered&&!(this.part===P.SIDEBAR_PART&&this.environmentService.remoteAuthority&&dn)){if(e=e||this.cachedViewContainers.find(({id:n})=>n===s),!i&&e?.isBuiltin&&e?.visible)return!1;if(e?.views?.length)return e.views.every(({when:n})=>!!n&&!this.contextKeyService.contextMatchesRules(H.deserialize(n)))}return!0}addComposite(t){this.compositeBar.addComposite({id:t.id,name:typeof t.title=="string"?t.title:t.title.value,order:t.order,requestedIndex:t.requestedIndex})}hideComposite(t){this.compositeBar.hideComposite(t);const e=this.compositeActions.get(t);e&&(e.activityAction.dispose(),e.pinnedAction.dispose(),this.compositeActions.delete(t))}removeComposite(t){this.compositeBar.removeComposite(t);const e=this.compositeActions.get(t);e&&(e.activityAction.dispose(),e.pinnedAction.dispose(),this.compositeActions.delete(t))}getPinnedPaneCompositeIds(){const t=this.compositeBar.getPinnedComposites().map(e=>e.id);return this.getViewContainers().filter(e=>this.compositeBar.isPinned(e.id)).sort((e,i)=>t.indexOf(e.id)-t.indexOf(i.id)).map(e=>e.id)}getVisiblePaneCompositeIds(){return this.compositeBar.getVisibleComposites().filter(t=>this.paneCompositePart.getActivePaneComposite()?.getId()===t.id||this.compositeBar.isPinned(t.id)).map(t=>t.id)}getContextMenuActions(){return this.compositeBar.getContextMenuActions()}focus(t){this.compositeBar.focus(t)}layout(t,e){this.compositeBar.layout(new Vt(t,e))}getViewContainer(t){const e=this.viewDescriptorService.getViewContainerById(t);return e&&this.viewDescriptorService.getViewContainerLocation(e)===this.location?e:void 0}getViewContainers(){return this.viewDescriptorService.getViewContainersByLocation(this.location)}onDidPinnedViewContainersStorageValueChange(t){if(this.pinnedViewContainersValue!==this.getStoredPinnedViewContainersValue()){this._placeholderViewContainersValue=void 0,this._pinnedViewContainersValue=void 0,this._cachedViewContainers=void 0;const e=[],i=this.compositeBar.getCompositeBarItems();for(const s of this.cachedViewContainers)e.push({id:s.id,name:s.name,order:s.order,pinned:s.pinned,visible:s.visible&&!!this.getViewContainer(s.id)});for(const s of this.getViewContainers())if(!e.some(({id:n})=>n===s.id)){const n=i.findIndex(({id:o})=>o===s.id);if(n!==-1){const o=i[n];e.splice(n,0,{id:s.id,name:typeof s.title=="string"?s.title:s.title.value,order:o.order,pinned:o.pinned,visible:o.visible})}else e.push({id:s.id,name:typeof s.title=="string"?s.title:s.title.value,order:s.order,pinned:!0,visible:!this.shouldBeHidden(s)})}this.compositeBar.setCompositeBarItems(e)}}saveCachedViewContainers(){const t=[],e=this.compositeBar.getCompositeBarItems();for(const i of e){const s=this.getViewContainer(i.id);if(s){const n=this.viewDescriptorService.getViewContainerModel(s),o=[];for(const{when:r}of n.allViewDescriptors)o.push({when:r?r.serialize():void 0});t.push({id:i.id,name:n.title,icon:j.isUri(n.icon)&&this.environmentService.remoteAuthority?void 0:n.icon,views:o,pinned:i.pinned,order:i.order,visible:i.visible,isBuiltin:!s.extensionId})}else t.push({id:i.id,name:i.name,pinned:i.pinned,order:i.order,visible:!1,isBuiltin:!1})}this.storeCachedViewContainersState(t)}_cachedViewContainers=void 0;get cachedViewContainers(){if(this._cachedViewContainers===void 0){this._cachedViewContainers=this.getPinnedViewContainers();for(const t of this.getPlaceholderViewContainers()){const e=this._cachedViewContainers.find(i=>i.id===t.id);e&&(e.visible=t.visible??e.visible,e.name=t.name,e.icon=t.themeIcon?t.themeIcon:t.iconUrl?j.revive(t.iconUrl):void 0,j.isUri(e.icon)&&this.environmentService.remoteAuthority&&(e.icon=void 0),e.views=t.views,e.isBuiltin=t.isBuiltin)}for(const t of this.getViewContainersWorkspaceState()){const e=this._cachedViewContainers.find(i=>i.id===t.id);e&&(e.visible=t.visible??e.visible)}}return this._cachedViewContainers}storeCachedViewContainersState(t){const e=this.getPinnedViewContainers();this.setPinnedViewContainers(t.map(({id:i,pinned:s,order:n})=>({id:i,pinned:s,visible:!!e.find(({id:o})=>o===i)?.visible,order:n}))),this.setPlaceholderViewContainers(t.map(({id:i,icon:s,name:n,views:o,isBuiltin:r})=>({id:i,iconUrl:j.isUri(s)?s:void 0,themeIcon:Ae.isThemeIcon(s)?s:void 0,name:n,isBuiltin:r,views:o}))),this.setViewContainersWorkspaceState(t.map(({id:i,visible:s})=>({id:i,visible:s})))}getPinnedViewContainers(){return JSON.parse(this.pinnedViewContainersValue)}setPinnedViewContainers(t){this.pinnedViewContainersValue=JSON.stringify(t)}_pinnedViewContainersValue;get pinnedViewContainersValue(){return this._pinnedViewContainersValue||(this._pinnedViewContainersValue=this.getStoredPinnedViewContainersValue()),this._pinnedViewContainersValue}set pinnedViewContainersValue(t){this.pinnedViewContainersValue!==t&&(this._pinnedViewContainersValue=t,this.setStoredPinnedViewContainersValue(t))}getStoredPinnedViewContainersValue(){return this.storageService.get(this.options.pinnedViewContainersKey,_e.PROFILE,"[]")}setStoredPinnedViewContainersValue(t){this.storageService.store(this.options.pinnedViewContainersKey,t,_e.PROFILE,Pt.USER)}getPlaceholderViewContainers(){return JSON.parse(this.placeholderViewContainersValue)}setPlaceholderViewContainers(t){this.placeholderViewContainersValue=JSON.stringify(t)}_placeholderViewContainersValue;get placeholderViewContainersValue(){return this._placeholderViewContainersValue||(this._placeholderViewContainersValue=this.getStoredPlaceholderViewContainersValue()),this._placeholderViewContainersValue}set placeholderViewContainersValue(t){this.placeholderViewContainersValue!==t&&(this._placeholderViewContainersValue=t,this.setStoredPlaceholderViewContainersValue(t))}getStoredPlaceholderViewContainersValue(){return this.storageService.get(this.options.placeholderViewContainersKey,_e.PROFILE,"[]")}setStoredPlaceholderViewContainersValue(t){this.storageService.store(this.options.placeholderViewContainersKey,t,_e.PROFILE,Pt.MACHINE)}getViewContainersWorkspaceState(){return JSON.parse(this.viewContainersWorkspaceStateValue)}setViewContainersWorkspaceState(t){this.viewContainersWorkspaceStateValue=JSON.stringify(t)}_viewContainersWorkspaceStateValue;get viewContainersWorkspaceStateValue(){return this._viewContainersWorkspaceStateValue||(this._viewContainersWorkspaceStateValue=this.getStoredViewContainersWorkspaceStateValue()),this._viewContainersWorkspaceStateValue}set viewContainersWorkspaceStateValue(t){this.viewContainersWorkspaceStateValue!==t&&(this._viewContainersWorkspaceStateValue=t,this.setStoredViewContainersWorkspaceStateValue(t))}getStoredViewContainersWorkspaceStateValue(){return this.storageService.get(this.options.viewContainersWorkspaceStateKey,_e.WORKSPACE,"[]")}setStoredViewContainersWorkspaceStateValue(t){this.storageService.store(this.options.viewContainersWorkspaceStateKey,t,_e.WORKSPACE,Pt.MACHINE)}};Cw=JB([Io(3,rt),Io(4,as),Io(5,yr),Io(6,fs),Io(7,Cc),Io(8,Qe),Io(9,vr),Io(10,lt)],Cw);let kp=class extends $u{constructor(t,e,i,s,n,o,r){super(t),this.part=e,this.paneCompositePart=i,this.layoutService=s,this.telemetryService=n,this.configurationService=o,this.activityService=r,this.updateActivity(),this._register(this.activityService.onDidChangeActivity(a=>{!Yi(a)&&a.id===this.compositeBarActionItem.id&&this.updateActivity()}))}static{zs(this,"ViewContainerActivityAction")}static preventDoubleClickDelay=300;lastRun=0;updateCompositeBarActionItem(t){this.compositeBarActionItem=t}updateActivity(){const t=this.activityService.getViewContainerActivities(this.compositeBarActionItem.id);this.activity=t[0]}async run(t){if(f1(t)&&t.button===2)return;const e=Date.now();if(e>this.lastRun&&e-this.lastRun<kp.preventDoubleClickDelay)return;this.lastRun=e;const i=t&&"preserveFocus"in t?!t.preserveFocus:!0;if(this.part===P.ACTIVITYBAR_PART){const s=this.layoutService.isVisible(P.SIDEBAR_PART),n=this.paneCompositePart.getActivePaneComposite(),o=this.configurationService.getValue("workbench.activityBar.iconClickBehavior");if(s&&n?.getId()===this.compositeBarActionItem.id){switch(o){case"focus":this.logAction("refocus"),this.paneCompositePart.openPaneComposite(this.compositeBarActionItem.id,i);break;case"toggle":default:this.logAction("hide"),this.layoutService.setPartHidden(!0,P.SIDEBAR_PART);break}return}this.logAction("show")}return await this.paneCompositePart.openPaneComposite(this.compositeBarActionItem.id,i),this.activate()}logAction(t){this.telemetryService.publicLog2("activityBarAction",{viewletId:this.compositeBarActionItem.id,action:t})}};kp=JB([Io(3,lt),Io(4,Zs),Io(5,Ke),Io(6,Cg)],kp);class ite extends kp{static{zs(this,"PlaceHolderViewContainerActivityAction")}}class ET extends YB{static{zs(this,"PlaceHolderToggleCompositePinnedAction")}constructor(e,i){super({id:e,name:e,classNames:void 0},i)}setActivity(e){this.label=e.name}}class ste extends XB{static{zs(this,"PlaceHolderToggleCompositeBadgeAction")}constructor(e,i){super({id:e,name:e,classNames:void 0},i)}setCompositeBarActionItem(e){this.label=e.name}}var eM=Object.defineProperty,nte=Object.getOwnPropertyDescriptor,tn=(t,e)=>eM(t,"name",{value:e,configurable:!0}),ote=(t,e,i,s)=>{for(var n=s>1?void 0:s?nte(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&eM(e,i,n),n},vo=(t,e)=>(i,s)=>e(i,s,t),Es=(t=>(t[t.TOP=0]="TOP",t[t.TITLE=1]="TITLE",t[t.BOTTOM=2]="BOTTOM",t))(Es||{});let Ku=class extends Uee{constructor(t,e,i,s,n,o,r,a,l,h,d,u,g,p,m,b,C,x,E,F){let B=ne.Sidebar,M=gu.Viewlets,X=_.SidebarTitle;t===P.PANEL_PART?(B=ne.Panel,M=gu.Panels,X=_.PanelTitle):t===P.AUXILIARYBAR_PART&&(B=ne.AuxiliaryBar,M=gu.Auxiliary,X=_.AuxiliaryBarTitle),super(l,h,d,u,g,p,m,b,ui.as(M),i,C.getDefaultViewContainer(B)?.id||"",o,r,a,t,e),this.partId=t,this.activePaneContextKey=s,this.paneFocusContextKey=n,this.viewDescriptorService=C,this.contextKeyService=x,this.extensionService=E,this.menuService=F,this.location=B,this.globalActions=this._register(this.instantiationService.createInstance(Wu,X,void 0,void 0)),this.registerListeners()}static{tn(this,"AbstractPaneCompositePart")}static MIN_COMPOSITE_BAR_WIDTH=50;get snap(){return this.layoutService.isVisible(this.partId)||!!this.paneCompositeBar.value?.getVisiblePaneCompositeIds().length}get onDidPaneCompositeOpen(){return R.map(this.onDidCompositeOpen.event,t=>t.composite)}onDidPaneCompositeClose=this.onDidCompositeClose.event;location;titleContainer;headerFooterCompositeBarContainer;headerFooterCompositeBarDispoables=this._register(new Z);paneCompositeBarContainer;paneCompositeBar=this._register(new fr);compositeBarPosition=void 0;emptyPaneMessageElement;globalToolBar;globalActions;blockOpening=!1;contentDimension;registerListeners(){this._register(this.onDidPaneCompositeOpen(t=>this.onDidOpen(t))),this._register(this.onDidPaneCompositeClose(this.onDidClose,this)),this._register(this.globalActions.onDidChange(()=>this.updateGlobalToolbarActions())),this._register(this.registry.onDidDeregister(t=>{const e=this.viewDescriptorService.getViewContainersByLocation(this.location).filter(i=>this.viewDescriptorService.getViewContainerModel(i).activeViewDescriptors.length>0);if(e.length){if(this.getActiveComposite()?.getId()===t.id){const i=this.viewDescriptorService.getDefaultViewContainer(this.location)?.id,s=e.filter(n=>n.id===i)[0]||e[0];this.doOpenPaneComposite(s.id)}}else this.layoutService.setPartHidden(!0,this.partId);this.removeComposite(t.id)})),this._register(this.extensionService.onDidRegisterExtensions(()=>{this.layoutCompositeBar()}))}onDidOpen(t){this.activePaneContextKey.set(t.getId())}onDidClose(t){const e=t.getId();this.activePaneContextKey.get()===e&&this.activePaneContextKey.reset()}showComposite(t){super.showComposite(t),this.layoutCompositeBar(),this.layoutEmptyMessage()}hideActiveComposite(){const t=super.hideActiveComposite();return this.layoutCompositeBar(),this.layoutEmptyMessage(),t}create(t){this.element=t,this.element.classList.add("pane-composite-part"),super.create(t);const e=this.getContentArea();e&&this.createEmptyPaneMessage(e),this.updateCompositeBar();const i=this._register(oa(t));this._register(i.onDidFocus(()=>this.paneFocusContextKey.set(!0))),this._register(i.onDidBlur(()=>this.paneFocusContextKey.set(!1)))}createEmptyPaneMessage(t){this.emptyPaneMessageElement=document.createElement("div"),this.emptyPaneMessageElement.classList.add("empty-pane-message-area");const e=document.createElement("div");e.classList.add("empty-pane-message"),e.innerText=c("pane.emptyMessage","Drag a view here to display."),this.emptyPaneMessageElement.appendChild(e),t.appendChild(this.emptyPaneMessageElement),this._register(jn.INSTANCE.registerTarget(this.element,{onDragOver:tn(i=>{if(xe.stop(i.eventData,!0),this.paneCompositeBar.value){const s=this.paneCompositeBar.value.dndHandler.onDragEnter(i.dragAndDropData,void 0,i.eventData);Uu(i.eventData.dataTransfer,"move",s)}},"onDragOver"),onDragEnter:tn(i=>{if(xe.stop(i.eventData,!0),this.paneCompositeBar.value){const s=this.paneCompositeBar.value.dndHandler.onDragEnter(i.dragAndDropData,void 0,i.eventData);this.emptyPaneMessageElement.style.backgroundColor=s&&this.theme.getColor(zC)?.toString()||""}},"onDragEnter"),onDragLeave:tn(i=>{xe.stop(i.eventData,!0),this.emptyPaneMessageElement.style.backgroundColor=""},"onDragLeave"),onDragEnd:tn(i=>{xe.stop(i.eventData,!0),this.emptyPaneMessageElement.style.backgroundColor=""},"onDragEnd"),onDrop:tn(i=>{if(xe.stop(i.eventData,!0),this.emptyPaneMessageElement.style.backgroundColor="",this.paneCompositeBar.value)this.paneCompositeBar.value.dndHandler.drop(i.dragAndDropData,void 0,i.eventData);else{const s=i.dragAndDropData.getData();if(s.type==="composite"){const n=this.viewDescriptorService.getViewContainerById(s.id);this.viewDescriptorService.moveViewContainerToLocation(n,this.location,void 0,"dnd"),this.openPaneComposite(n.id,!0)}else if(s.type==="view"){const n=this.viewDescriptorService.getViewDescriptorById(s.id);if(n&&n.canMoveView){this.viewDescriptorService.moveViewToLocation(n,this.location,"dnd");const o=this.viewDescriptorService.getViewContainerByViewId(n.id);this.openPaneComposite(o.id,!0).then(r=>{r?.openView(n.id,!0)})}}}},"onDrop")}))}createTitleArea(t){const e=super.createTitleArea(t);this._register(N(e,U.CONTEXT_MENU,s=>{this.onTitleAreaContextMenu(new qi(be(e),s))})),this._register(us.addTarget(e)),this._register(N(e,kt.Contextmenu,s=>{this.onTitleAreaContextMenu(new qi(be(e),s))}));const i=e.appendChild(de(".global-actions"));return this.globalToolBar=this._register(this.instantiationService.createInstance($h,i,{actionViewItemProvider:tn((s,n)=>this.actionViewItemProvider(s,n),"actionViewItemProvider"),orientation:os.HORIZONTAL,getKeyBinding:tn(s=>this.keybindingService.lookupKeybinding(s.id),"getKeyBinding"),anchorAlignmentProvider:tn(()=>this.getTitleAreaDropDownAnchorAlignment(),"anchorAlignmentProvider"),toggleMenuTitle:c("moreActions","More Actions..."),hoverDelegate:this.toolbarHoverDelegate,hiddenItemStrategy:oy.NoHide})),this.updateGlobalToolbarActions(),e}createTitleLabel(t){this.titleContainer=t;const e=super.createTitleLabel(t);this.titleLabelElement.draggable=!0;const i=tn(()=>({type:"composite",id:this.getActivePaneComposite().getId()}),"draggedItemProvider");return this._register(jn.INSTANCE.registerDraggable(this.titleLabelElement,i,{})),e}updateCompositeBar(t=!1){const e=this.compositeBarPosition!==void 0,i=this.shouldShowCompositeBar(),s=this.compositeBarPosition,n=i?this.getCompositeBarPosition():void 0;if(!t&&s===n)return;if(e){const r=s===1?this.titleContainer:this.headerFooterCompositeBarContainer;if(!this.paneCompositeBarContainer||!this.paneCompositeBar.value||!r)throw new Error("Composite bar containers should exist when removing the previous composite bar");this.paneCompositeBarContainer.remove(),this.paneCompositeBarContainer=void 0,this.paneCompositeBar.value=void 0,r.classList.remove("has-composite-bar"),s===0?this.removeFooterHeaderArea(!0):s===2&&this.removeFooterHeaderArea(!1)}let o;switch(n){case 0:o=this.createHeaderArea();break;case 1:o=this.titleContainer;break;case 2:o=this.createFooterArea();break}if(i){if(this.paneCompositeBarContainer||this.paneCompositeBar.value||!o)throw new Error("Invalid composite bar state when creating the new composite bar");o.classList.add("has-composite-bar"),this.paneCompositeBarContainer=p1(o,de(".composite-bar-container")),this.paneCompositeBar.value=this.createCompositeBar(),this.paneCompositeBar.value.create(this.paneCompositeBarContainer),n===0?this.setHeaderArea(o):n===2&&this.setFooterArea(o)}this.compositeBarPosition=n,t&&this.layoutCompositeBar()}createHeaderArea(){const t=super.createHeaderArea();return this.createHeaderFooterCompositeBarArea(t)}createFooterArea(){const t=super.createFooterArea();return this.createHeaderFooterCompositeBarArea(t)}createHeaderFooterCompositeBarArea(t){if(this.headerFooterCompositeBarContainer)throw new Error("Header or Footer composite bar already exists");return this.headerFooterCompositeBarContainer=t,this.headerFooterCompositeBarDispoables.add(N(t,U.CONTEXT_MENU,e=>{this.onCompositeBarAreaContextMenu(new qi(be(t),e))})),this.headerFooterCompositeBarDispoables.add(us.addTarget(t)),this.headerFooterCompositeBarDispoables.add(N(t,kt.Contextmenu,e=>{this.onCompositeBarAreaContextMenu(new qi(be(t),e))})),t}removeFooterHeaderArea(t){this.headerFooterCompositeBarContainer=void 0,this.headerFooterCompositeBarDispoables.clear(),t?this.removeHeaderArea():this.removeFooterArea()}createCompositeBar(){return this.instantiationService.createInstance(Cw,this.getCompositeBarOptions(),this.partId,this)}onTitleAreaUpdate(t){super.onTitleAreaUpdate(t),this.layoutCompositeBar()}async openPaneComposite(t,e){if(typeof t=="string"&&this.getPaneComposite(t))return this.doOpenPaneComposite(t,e);if(await this.extensionService.whenInstalledExtensionsRegistered(),typeof t=="string"&&this.getPaneComposite(t))return this.doOpenPaneComposite(t,e)}doOpenPaneComposite(t,e){if(!this.blockOpening){if(!this.layoutService.isVisible(this.partId))try{this.blockOpening=!0,this.layoutService.setPartHidden(!1,this.partId)}finally{this.blockOpening=!1}return this.openComposite(t,e)}}getPaneComposite(t){return this.registry.getPaneComposite(t)}getPaneComposites(){return this.registry.getPaneComposites().sort((t,e)=>typeof t.order!="number"?1:typeof e.order!="number"?-1:t.order-e.order)}getPinnedPaneCompositeIds(){return this.paneCompositeBar.value?.getPinnedPaneCompositeIds()??[]}getVisiblePaneCompositeIds(){return this.paneCompositeBar.value?.getVisiblePaneCompositeIds()??[]}getActivePaneComposite(){return this.getActiveComposite()}getLastActivePaneCompositeId(){return this.getLastActiveCompositeId()}hideActivePaneComposite(){this.layoutService.isVisible(this.partId)&&this.layoutService.setPartHidden(!0,this.partId),this.hideActiveComposite()}focusCompositeBar(){this.paneCompositeBar.value?.focus()}layout(t,e,i,s){this.layoutService.isVisible(this.partId)&&(this.contentDimension=new Vt(t,e),super.layout(this.contentDimension.width,this.contentDimension.height,i,s),this.layoutCompositeBar(),this.layoutEmptyMessage())}layoutCompositeBar(){if(this.contentDimension&&this.dimension&&this.paneCompositeBar.value){const t=this.compositeBarPosition===1?16:8,e=this.partId===P.PANEL_PART?0:1;let i=this.contentDimension.width-t-e;i=Math.max(Ku.MIN_COMPOSITE_BAR_WIDTH,i-this.getToolbarWidth()),this.paneCompositeBar.value.layout(i,this.dimension.height)}}layoutEmptyMessage(){const t=!this.getActiveComposite();this.emptyPaneMessageElement?.classList.toggle("visible",t),t&&this.titleLabel?.updateTitle("","")}updateGlobalToolbarActions(){const t=this.globalActions.getPrimaryActions(),e=this.globalActions.getSecondaryActions();this.globalToolBar?.setActions(el(t),el(e))}getToolbarWidth(){if(!this.toolBar||this.compositeBarPosition!==1||!this.getActivePaneComposite())return 0;const e=this.toolBar.getItemsWidth()+this.toolBar.getItemsLength()*4,i=this.globalToolBar?this.globalToolBar.getItemsWidth()+this.globalToolBar.getItemsLength()*4:0;return e+i+5}onTitleAreaContextMenu(t){if(this.shouldShowCompositeBar()&&this.getCompositeBarPosition()===1)return this.onCompositeBarContextMenu(t);{const e=this.getActivePaneComposite(),i=e?e.getContextMenuActions():[];i.length&&this.contextMenuService.showContextMenu({getAnchor:tn(()=>t,"getAnchor"),getActions:tn(()=>i,"getActions"),getActionViewItem:tn((s,n)=>this.actionViewItemProvider(s,n),"getActionViewItem"),actionRunner:e.getActionRunner(),skipTelemetry:!0})}}onCompositeBarAreaContextMenu(t){return this.onCompositeBarContextMenu(t)}onCompositeBarContextMenu(t){if(this.paneCompositeBar.value){const e=[...this.paneCompositeBar.value.getContextMenuActions()];e.length&&this.contextMenuService.showContextMenu({getAnchor:tn(()=>t,"getAnchor"),getActions:tn(()=>e,"getActions"),skipTelemetry:!0})}}getViewsSubmenuAction(){const t=this.getActivePaneComposite()?.getViewPaneContainer();if(t){const e=new Z,i=[],s=e.add(this.contextKeyService.createScoped(this.element));s.createKey("viewContainer",t.viewContainer.id);const n=this.menuService.getMenuActions(dE,s,{shouldForwardArgs:!0,renderShortTitle:!0});return vg(n,{primary:i,secondary:[]},()=>!0),e.dispose(),i.length>1&&i.some(o=>o.enabled)?new ro("views",c("views","Views"),i):void 0}}};Ku=ote([vo(8,Ns),vo(9,as),vo(10,Di),vo(11,lt),vo(12,qt),vo(13,Ss),vo(14,rt),vo(15,Vi),vo(16,fs),vo(17,Qe),vo(18,yr),vo(19,Qs)],Ku);var tM=Object.defineProperty,rte=Object.getOwnPropertyDescriptor,ba=(t,e)=>tM(t,"name",{value:e,configurable:!0}),ate=(t,e,i,s)=>{for(var n=s>1?void 0:s?rte(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&tM(e,i,n),n},bn=(t,e)=>(i,s)=>e(i,s,t);let dh=class extends Ku{constructor(t,e,i,s,n,o,r,a,l,h,d,u,g,p){super(P.AUXILIARYBAR_PART,{hasTitle:!0,borderWidth:ba(()=>this.getColor(Mv)||this.getColor(ce)?1:0,"borderWidth")},dh.activePanelSettingsKey,BG.bindTo(h),MG.bindTo(h),"auxiliarybar","auxiliarybar",void 0,t,e,i,s,n,o,r,a,l,h,d,g),this.commandService=u,this.configurationService=p,this._register(p.onDidChangeConfiguration(m=>{m.affectsConfiguration(We.ACTIVITY_BAR_LOCATION)&&this.onDidChangeActivityBarLocation()}))}static{ba(this,"AuxiliaryBarPart")}static activePanelSettingsKey="workbench.auxiliarybar.activepanelid";static pinnedPanelsKey="workbench.auxiliarybar.pinnedPanels";static placeholdeViewContainersKey="workbench.auxiliarybar.placeholderPanels";static viewContainersWorkspaceStateKey="workbench.auxiliarybar.viewContainersWorkspaceState";minimumWidth=170;maximumWidth=Number.POSITIVE_INFINITY;minimumHeight=0;maximumHeight=Number.POSITIVE_INFINITY;get preferredHeight(){return this.layoutService.mainContainerDimension.height*.4}get preferredWidth(){const t=this.getActivePaneComposite();if(!t)return;const e=t.getOptimalWidth();if(typeof e=="number")return Math.max(e,300)}priority=Lr.Low;onDidChangeActivityBarLocation(){this.updateCompositeBar();const t=this.getActiveComposite()?.getId();t&&this.onTitleAreaUpdate(t)}updateStyles(){super.updateStyles();const t=di(this.getContainer());t.style.backgroundColor=this.getColor(Wa)||"";const e=this.getColor(Mv)||this.getColor(ce),i=this.layoutService.getSideBarPosition()===Je.RIGHT;t.style.color=this.getColor(y1)||"",t.style.borderLeftColor=e??"",t.style.borderRightColor=e??"",t.style.borderLeftStyle=e&&!i?"solid":"none",t.style.borderRightStyle=e&&i?"solid":"none",t.style.borderLeftWidth=e&&!i?"1px":"0px",t.style.borderRightWidth=e&&i?"1px":"0px"}getCompositeBarOptions(){const t=this;return{partContainerClass:"auxiliarybar",pinnedViewContainersKey:dh.pinnedPanelsKey,placeholderViewContainersKey:dh.placeholdeViewContainersKey,viewContainersWorkspaceStateKey:dh.viewContainersWorkspaceStateKey,icon:!0,orientation:os.HORIZONTAL,recomputeSizes:!0,activityHoverOptions:{position:ba(()=>this.getCompositeBarPosition()===Es.BOTTOM?tl.ABOVE:tl.BELOW,"position")},fillExtraContextMenuActions:ba(e=>this.fillExtraContextMenuActions(e),"fillExtraContextMenuActions"),compositeSize:0,iconSize:16,get overflowActionSize(){return t.getCompositeBarPosition()===Es.TITLE?40:30},colors:ba(e=>({activeBackgroundColor:e.getColor(Wa),inactiveBackgroundColor:e.getColor(Wa),get activeBorderBottomColor(){return t.getCompositeBarPosition()===Es.TITLE?e.getColor(ZL):e.getColor(iP)},get activeForegroundColor(){return t.getCompositeBarPosition()===Es.TITLE?e.getColor(Rh):e.getColor(Oh)},get inactiveForegroundColor(){return t.getCompositeBarPosition()===Es.TITLE?e.getColor(XL):e.getColor(sP)},badgeBackground:e.getColor(Qh),badgeForeground:e.getColor(Jh),get dragAndDropBorder(){return t.getCompositeBarPosition()===Es.TITLE?e.getColor(QL):e.getColor(nP)}}),"colors"),compact:!0}}fillExtraContextMenuActions(t){const e=this.layoutService.getSideBarPosition()===Je.LEFT,i=this.getViewsSubmenuAction();i&&(t.push(new st),t.push(i));const s=this.menuService.getMenuActions(_.ActivityBarPositionMenu,this.contextKeyService,{shouldForwardArgs:!0,renderShortTitle:!0}),n=[];Vu(s,{primary:[],secondary:n}),t.push(new st,new ro("workbench.action.panel.position",c("activity bar position","Activity Bar Position"),n),li({id:Gs.ID,label:e?c("move second side bar left","Move Secondary Side Bar Left"):c("move second side bar right","Move Secondary Side Bar Right"),run:ba(()=>this.commandService.executeCommand(Gs.ID),"run")}),li({id:ar.ID,label:c("hide second side bar","Hide Secondary Side Bar"),run:ba(()=>this.commandService.executeCommand(ar.ID),"run")}))}shouldShowCompositeBar(){return this.configurationService.getValue(We.ACTIVITY_BAR_LOCATION)!==pt.HIDDEN}getCompositeBarPosition(){switch(this.configurationService.getValue(We.ACTIVITY_BAR_LOCATION)){case pt.TOP:return Es.TOP;case pt.BOTTOM:return Es.BOTTOM;case pt.HIDDEN:return Es.TITLE;case pt.DEFAULT:return Es.TITLE;default:return Es.TITLE}}createHeaderArea(){const t=super.createHeaderArea(),e=de(".auxiliary-bar-global-header"),i=this.headerFooterCompositeBarDispoables.add(this.instantiationService.createInstance(Wu,_.AuxiliaryBarHeader,void 0,void 0)),s=this.headerFooterCompositeBarDispoables.add(this.instantiationService.createInstance($h,e,{actionViewItemProvider:ba((n,o)=>this.headerActionViewItemProvider(n,o),"actionViewItemProvider"),orientation:os.HORIZONTAL,hiddenItemStrategy:oy.NoHide,getKeyBinding:ba(n=>this.keybindingService.lookupKeybinding(n.id),"getKeyBinding")}));return s.setActions(el(i.getPrimaryActions())),this.headerFooterCompositeBarDispoables.add(i.onDidChange(()=>s.setActions(el(i.getPrimaryActions())))),t.appendChild(e),t}headerActionViewItemProvider(t,e){if(t.id===ar.ID)return this.instantiationService.createInstance(xm,void 0,t,e)}toJSON(){return{type:P.AUXILIARYBAR_PART}}};dh=ate([bn(0,Ns),bn(1,as),bn(2,Di),bn(3,lt),bn(4,qt),bn(5,Ss),bn(6,rt),bn(7,Vi),bn(8,fs),bn(9,Qe),bn(10,yr),bn(11,Hi),bn(12,Qs),bn(13,Ke)],dh);var iM=Object.defineProperty,lte=Object.getOwnPropertyDescriptor,Hg=(t,e)=>iM(t,"name",{value:e,configurable:!0}),cte=(t,e,i,s)=>{for(var n=s>1?void 0:s?lte(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&iM(e,i,n),n},vn=(t,e)=>(i,s)=>e(i,s,t);let Dw=class extends Ku{constructor(t,e,i,s,n,o,r,a,l,h,d,u,g,p){super(P.PANEL_PART,{hasTitle:!0},Dw.activePanelSettingsKey,FG.bindTo(h),VG.bindTo(h),"panel","panel",void 0,t,e,i,s,n,o,r,a,l,h,d,g),this.commandService=u,this.configurationService=p,this._register(this.configurationService.onDidChangeConfiguration(m=>{m.affectsConfiguration("workbench.panel.showLabel")&&this.updateCompositeBar(!0)}))}static{Hg(this,"PanelPart")}minimumWidth=300;maximumWidth=Number.POSITIVE_INFINITY;minimumHeight=77;maximumHeight=Number.POSITIVE_INFINITY;get preferredHeight(){return this.layoutService.mainContainerDimension.height*.4}get preferredWidth(){const t=this.getActivePaneComposite();if(!t)return;const e=t.getOptimalWidth();if(typeof e=="number")return Math.max(e,300)}static activePanelSettingsKey="workbench.panelpart.activepanelid";updateStyles(){super.updateStyles();const t=di(this.getContainer());t.style.backgroundColor=this.getColor(vf)||"";const e=this.getColor(G_)||this.getColor(ce)||"";t.style.borderLeftColor=e,t.style.borderRightColor=e,t.style.borderBottomColor=e;const i=this.getTitleArea();i&&(i.style.borderTopColor=this.getColor(G_)||this.getColor(ce)||"")}getCompositeBarOptions(){return{partContainerClass:"panel",pinnedViewContainersKey:"workbench.panel.pinnedPanels",placeholderViewContainersKey:"workbench.panel.placeholderPanels",viewContainersWorkspaceStateKey:"workbench.panel.viewContainersWorkspaceState",icon:!this.configurationService.getValue("workbench.panel.showLabel"),orientation:os.HORIZONTAL,recomputeSizes:!0,activityHoverOptions:{position:Hg(()=>this.layoutService.getPanelPosition()===Je.BOTTOM&&!this.layoutService.isPanelMaximized()?tl.ABOVE:tl.BELOW,"position")},fillExtraContextMenuActions:Hg(t=>this.fillExtraContextMenuActions(t),"fillExtraContextMenuActions"),compositeSize:0,iconSize:16,overflowActionSize:44,colors:Hg(t=>({activeBackgroundColor:t.getColor(vf),inactiveBackgroundColor:t.getColor(vf),activeBorderBottomColor:t.getColor(ZL),activeForegroundColor:t.getColor(Rh),inactiveForegroundColor:t.getColor(XL),badgeBackground:t.getColor(mh),badgeForeground:t.getColor(b1),dragAndDropBorder:t.getColor(QL)}),"colors")}}fillExtraContextMenuActions(t){const e=this.menuService.getMenuActions(_.PanelPositionMenu,this.contextKeyService,{shouldForwardArgs:!0}),i=this.menuService.getMenuActions(_.PanelAlignmentMenu,this.contextKeyService,{shouldForwardArgs:!0}),s=[],n=[];Vu(e,{primary:[],secondary:s}),Vu(i,{primary:[],secondary:n}),t.push(new st,new ro("workbench.action.panel.position",c("panel position","Panel Position"),s),new ro("workbench.action.panel.align",c("align panel","Align Panel"),n),li({id:il.ID,label:c("hidePanel","Hide Panel"),run:Hg(()=>this.commandService.executeCommand(il.ID),"run")}))}layout(t,e,i,s){let n;switch(this.layoutService.getPanelPosition()){case Je.RIGHT:n=new Vt(t-1,e);break;case Je.TOP:n=new Vt(t,e-1);break;default:n=new Vt(t,e);break}super.layout(n.width,n.height,i,s)}shouldShowCompositeBar(){return!0}getCompositeBarPosition(){return Es.TITLE}toJSON(){return{type:P.PANEL_PART}}};Dw=cte([vn(0,Ns),vn(1,as),vn(2,Di),vn(3,lt),vn(4,qt),vn(5,Ss),vn(6,rt),vn(7,Vi),vn(8,fs),vn(9,Qe),vn(10,yr),vn(11,Hi),vn(12,Qs),vn(13,Ke)],Dw);var hte=Object.defineProperty,dte=(t,e)=>hte(t,"name",{value:e,configurable:!0});class ute extends je{static{dte(this,"FocusSideBarAction")}constructor(){super({id:"workbench.action.focusSideBar",title:te("focusSideBar","Focus into Primary Side Bar"),category:et.View,f1:!0,keybinding:{weight:Ft.WorkbenchContrib,when:null,primary:Ze.CtrlCmd|D.Digit0}})}async run(e){const i=e.get(lt),s=e.get(al);i.isVisible(P.SIDEBAR_PART)||i.setPartHidden(!1,P.SIDEBAR_PART),s.getActivePaneComposite(ne.Sidebar)?.focus()}}Ie(ute);var gte=Object.defineProperty,sM=(t,e)=>gte(t,"name",{value:e,configurable:!0});const fte=Ce("encryptionService");Ce("encryptionMainService");function pte(t){return t==="kwallet"||t==="kwallet5"||t==="kwallet6"}sM(pte,"isKwallet");function mte(t){return t==="gnome_any"||t==="gnome_libsecret"||t==="gnome_keyring"}sM(mte,"isGnome");var nM=Object.defineProperty,bte=Object.getOwnPropertyDescriptor,vte=(t,e)=>nM(t,"name",{value:e,configurable:!0}),wte=(t,e,i,s)=>{for(var n=s>1?void 0:s?bte(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&nM(e,i,n),n},r_=(t,e)=>(i,s)=>e(i,s,t);const oM=Ce("secretStorageService");let IT=class extends q{constructor(t,e,i,s){super(),this._useInMemoryStorage=t,this._storageService=e,this._encryptionService=i,this._logService=s}static{vte(this,"BaseSecretStorageService")}_storagePrefix="secret://";onDidChangeSecretEmitter=this._register(new I);onDidChangeSecret=this.onDidChangeSecretEmitter.event;_sequencer=new oF;_type="unknown";_onDidChangeValueDisposable=this._register(new Z);get type(){return this._type}_lazyStorageService=new kn(()=>this.initialize());get resolvedStorageService(){return this._lazyStorageService.value}get(t){return this._sequencer.queue(t,async()=>{const e=await this.resolvedStorageService,i=this.getKey(t);this._logService.trace("[secrets] getting secret for key:",i);const s=e.get(i,_e.APPLICATION);if(!s){this._logService.trace("[secrets] no secret found for key:",i);return}try{this._logService.trace("[secrets] decrypting gotten secret for key:",i);const n=this._type==="in-memory"?s:await this._encryptionService.decrypt(s);return this._logService.trace("[secrets] decrypted secret for key:",i),n}catch(n){this._logService.error(n),this.delete(t);return}})}set(t,e){return this._sequencer.queue(t,async()=>{const i=await this.resolvedStorageService;this._logService.trace("[secrets] encrypting secret for key:",t);let s;try{s=this._type==="in-memory"?e:await this._encryptionService.encrypt(e)}catch(o){throw this._logService.error(o),o}const n=this.getKey(t);this._logService.trace("[secrets] storing encrypted secret for key:",n),i.store(n,s,_e.APPLICATION,Pt.MACHINE),this._logService.trace("[secrets] stored encrypted secret for key:",n)})}delete(t){return this._sequencer.queue(t,async()=>{const e=await this.resolvedStorageService,i=this.getKey(t);this._logService.trace("[secrets] deleting secret for key:",i),e.remove(i,_e.APPLICATION),this._logService.trace("[secrets] deleted secret for key:",i)})}async initialize(){let t;if(!this._useInMemoryStorage&&await this._encryptionService.isEncryptionAvailable())this._logService.trace("[SecretStorageService] Encryption is available, using persisted storage"),this._type="persisted",t=this._storageService;else{if(this._type==="in-memory")return this._storageService;this._logService.trace("[SecretStorageService] Encryption is not available, falling back to in-memory storage"),this._type="in-memory",t=this._register(new SK)}return this._onDidChangeValueDisposable.clear(),this._onDidChangeValueDisposable.add(t.onDidChangeValue(_e.APPLICATION,void 0,this._onDidChangeValueDisposable)(e=>{this.onDidChangeValue(e.key)})),t}reinitialize(){this._lazyStorageService=new kn(()=>this.initialize())}onDidChangeValue(t){if(!t.startsWith(this._storagePrefix))return;const e=t.slice(this._storagePrefix.length);this._logService.trace(`[SecretStorageService] Notifying change in value for secret: ${e}`),this.onDidChangeSecretEmitter.fire(e)}getKey(t){return`${this._storagePrefix}${t}`}};IT=wte([r_(1,as),r_(2,fte),r_(3,od)],IT);const uS="workbench.actions.manage",gS="workbench.actions.accounts",mE=Ce("IAuthenticationService");Ce("IAuthenticationExtensionsService");var rM=Object.defineProperty,yte=Object.getOwnPropertyDescriptor,_te=(t,e)=>rM(t,"name",{value:e,configurable:!0}),Ste=(t,e,i,s)=>{for(var n=s>1?void 0:s?yte(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&rM(e,i,n),n},TT=(t,e)=>(i,s)=>e(i,s,t);const aM=Ce("IAuthenticationAccessService");let fS=class extends q{constructor(t,e){super(),this._storageService=t,this._productService=e}static{_te(this,"AuthenticationAccessService")}_serviceBrand;_onDidChangeExtensionSessionAccess=this._register(new I);onDidChangeExtensionSessionAccess=this._onDidChangeExtensionSessionAccess.event;isAccessAllowed(t,e,i){const s=this._productService.trustedExtensionAuthAccess;if(Array.isArray(s)){if(s.includes(i))return!0}else if(s?.[t]?.includes(i))return!0;const o=this.readAllowedExtensions(t,e).find(r=>r.id===i);if(o)return o.allowed!==void 0?o.allowed:!0}readAllowedExtensions(t,e){let i=[];try{const s=this._storageService.get(`${t}-${e}`,_e.APPLICATION);s&&(i=JSON.parse(s))}catch{}return i}updateAllowedExtensions(t,e,i){const s=this.readAllowedExtensions(t,e);for(const n of i){const o=s.findIndex(r=>r.id===n.id);o===-1?s.push(n):s[o].allowed=n.allowed}this._storageService.store(`${t}-${e}`,JSON.stringify(s),_e.APPLICATION,Pt.USER),this._onDidChangeExtensionSessionAccess.fire({providerId:t,accountName:e})}removeAllowedExtensions(t,e){this._storageService.remove(`${t}-${e}`,_e.APPLICATION),this._onDidChangeExtensionSessionAccess.fire({providerId:t,accountName:e})}};fS=Ste([TT(0,as),TT(1,_m)],fS);pm(aM,fS,fm.Delayed);var lM=Object.defineProperty,Cte=Object.getOwnPropertyDescriptor,bE=(t,e)=>lM(t,"name",{value:e,configurable:!0}),Dte=(t,e,i,s)=>{for(var n=s>1?void 0:s?Cte(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&lM(e,i,n),n},a_=(t,e)=>(i,s)=>e(i,s,t);function cM(t){return`onAuthenticationRequest:${t}`}bE(cM,"getAuthenticationProviderActivationEvent");async function hM(t,e){const i=await t.get(`${e.urlProtocol}.loginAccount`);if(i)try{const s=JSON.parse(i);if(s&&Yi(s.id)&&Yi(s.accessToken)&&Yi(s.providerId))return s}catch(s){console.error(`Failed parsing current auth session value: ${s}`)}}bE(hM,"getCurrentAuthenticationSessionInfo");let pS=class extends q{constructor(t,e,i){super(),this._extensionService=t,this._environmentService=i,this._register(e.onDidChangeExtensionSessionAccess(s=>{this._onDidChangeSessions.fire({providerId:s.providerId,label:s.accountName,event:{added:[],changed:[],removed:[]}})})),this._registerEnvContributedAuthenticationProviders()}static{bE(this,"AuthenticationService")}_onDidRegisterAuthenticationProvider=this._register(new I);onDidRegisterAuthenticationProvider=this._onDidRegisterAuthenticationProvider.event;_onDidUnregisterAuthenticationProvider=this._register(new I);onDidUnregisterAuthenticationProvider=this._onDidUnregisterAuthenticationProvider.event;_onDidChangeSessions=this._register(new I);onDidChangeSessions=this._onDidChangeSessions.event;_onDidChangeDeclaredProviders=this._register(new I);onDidChangeDeclaredProviders=this._onDidChangeDeclaredProviders.event;_authenticationProviders=new Map;_authenticationProviderDisposables=this._register(new fc);_declaredProviders=[];get declaredProviders(){return this._declaredProviders}_registerEnvContributedAuthenticationProviders(){if(this._environmentService.options?.authenticationProviders?.length)for(const t of this._environmentService.options.authenticationProviders)this.registerAuthenticationProvider(t.id,t)}registerDeclaredAuthenticationProvider(t){if(Dv(t.id))throw new Error(c("authentication.missingId","An authentication contribution must specify an id."));if(Dv(t.label))throw new Error(c("authentication.missingLabel","An authentication contribution must specify a label."));if(this.declaredProviders.some(e=>e.id===t.id))throw new Error(c("authentication.idConflict","This authentication id '{0}' has already been registered",t.id));this._declaredProviders.push(t),this._onDidChangeDeclaredProviders.fire()}unregisterDeclaredAuthenticationProvider(t){const e=this.declaredProviders.findIndex(i=>i.id===t);e>-1&&this.declaredProviders.splice(e,1),this._onDidChangeDeclaredProviders.fire()}isAuthenticationProviderRegistered(t){return this._authenticationProviders.has(t)}registerAuthenticationProvider(t,e){this._authenticationProviders.set(t,e);const i=new Z;i.add(e.onDidChangeSessions(s=>this._onDidChangeSessions.fire({providerId:t,label:e.label,event:s}))),zp(e)&&i.add(e),this._authenticationProviderDisposables.set(t,i),this._onDidRegisterAuthenticationProvider.fire({id:t,label:e.label})}unregisterAuthenticationProvider(t){const e=this._authenticationProviders.get(t);e&&(this._authenticationProviders.delete(t),this._onDidUnregisterAuthenticationProvider.fire({id:t,label:e.label})),this._authenticationProviderDisposables.deleteAndDispose(t)}getProviderIds(){const t=[];return this._authenticationProviders.forEach(e=>{t.push(e.id)}),t}getProvider(t){if(this._authenticationProviders.has(t))return this._authenticationProviders.get(t);throw new Error(`No authentication provider '${t}' is currently registered.`)}async getAccounts(t){const e=await this.getSessions(t),i=new Array,s=new Set;for(const n of e)s.has(n.account.label)||(s.add(n.account.label),i.push(n.account));return i}async getSessions(t,e,i,s=!1){const n=this._authenticationProviders.get(t)||await this.tryActivateProvider(t,s);if(n)return await n.getSessions(e,{account:i});throw new Error(`No authentication provider '${t}' is currently registered.`)}async createSession(t,e,i){const s=this._authenticationProviders.get(t)||await this.tryActivateProvider(t,!!i?.activateImmediate);if(s)return await s.createSession(e,{account:i?.account});throw new Error(`No authentication provider '${t}' is currently registered.`)}async removeSession(t,e){const i=this._authenticationProviders.get(t);if(i)return i.removeSession(e);throw new Error(`No authentication provider '${t}' is currently registered.`)}async tryActivateProvider(t,e){await this._extensionService.activateByEvent(cM(t),e?R0.Immediate:R0.Normal);let i=this._authenticationProviders.get(t);if(i)return i;const s=new Z,n=new Promise((r,a)=>{s.add(R.once(this.onDidRegisterAuthenticationProvider)(l=>{if(l.id===t)if(i=this._authenticationProviders.get(t),i)r(i);else throw new Error(`No authentication provider '${t}' is currently registered.`)}))}),o=new Promise((r,a)=>{const l=setTimeout(()=>{a("Timed out waiting for authentication provider to register")},5e3);s.add(Se(()=>clearTimeout(l)))});return Promise.race([n,o]).finally(()=>s.dispose())}};pS=Dte([a_(0,yr),a_(1,aM),a_(2,XD)],pS);pm(mE,pS,fm.Delayed);var Ate=Object.defineProperty,vE=(t,e)=>Ate(t,"name",{value:e,configurable:!0});const dM=Ce("IUserDataProfileService");Ce("IUserDataProfileManagementService");function Ete(t){const e=t;return!!(e&&typeof e=="object"&&(xo(e.settings)||typeof e.settings=="string")&&(xo(e.globalState)||typeof e.globalState=="string")&&(xo(e.extensions)||typeof e.extensions=="string"))}vE(Ete,"isUserDataProfileTemplate");const uM="profile";function Ite(t,e){return j.from({scheme:e.urlProtocol,authority:uM,path:t.startsWith("/")?t:`/${t}`})}vE(Ite,"toUserDataProfileUri");const Tte="profile-";function kte(t){return t.authority===uM||new RegExp(`^${Tte}`).test(t.authority)}vE(kte,"isProfileURL");Ce("IUserDataProfileImportExportService");ct("defaultProfile-icon",he.settings,c("defaultProfileIcon","Icon for Default Profile."));const xte=te("profiles","Profiles");({...xte});const Lte="code-profile";c("profile","Profile");new J("profiles.enabled",!0);new J("currentProfile","");new J("isCurrentProfileTransient",!1);new J("hasProfiles",!1);const l_=ct("settings-view-bar-icon",he.settingsGear,c("settingsViewBarIcon","Settings icon in the view bar."));var gM=Object.defineProperty,Pte=Object.getOwnPropertyDescriptor,mi=(t,e)=>gM(t,"name",{value:e,configurable:!0}),Dg=(t,e,i,s)=>{for(var n=s>1?void 0:s?Pte(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&gM(e,i,n),n},Pe=(t,e)=>(i,s)=>e(i,s,t);let _h=class extends q{constructor(t,e,i,s,n,o,r){super(),this.contextMenuActionsProvider=t,this.colors=e,this.activityHoverOptions=i,this.instantiationService=n,this.storageService=o,this.extensionService=r,this.element=document.createElement("div");const a=mi(()=>({anchorAlignment:s.getValue("workbench.sideBar.location")==="left"?cc.RIGHT:cc.LEFT,anchorAxisAlignment:vO.HORIZONTAL}),"contextMenuAlignmentOptions");this.globalActivityActionBar=this._register(new Sc(this.element,{actionViewItemProvider:mi((l,h)=>{if(l.id===uS)return this.instantiationService.createInstance(Ew,this.contextMenuActionsProvider,{...h,colors:this.colors,hoverOptions:this.activityHoverOptions},a);if(l.id===gS)return this.instantiationService.createInstance(Gh,this.contextMenuActionsProvider,{...h,colors:this.colors,hoverOptions:this.activityHoverOptions},a,d=>{d.unshift(li({id:"hideAccounts",label:c("hideAccounts","Hide Accounts"),run:mi(()=>xp(o,!1),"run")}),new st)});throw new Error(`No view item for action '${l.id}'`)},"actionViewItemProvider"),orientation:os.VERTICAL,ariaLabel:c("manage","Manage"),preventLoopNavigation:!0})),this.accountsVisibilityPreference&&this.globalActivityActionBar.push(this.accountAction,{index:_h.ACCOUNTS_ACTION_INDEX}),this.globalActivityActionBar.push(this.globalActivityAction),this.registerListeners()}static{mi(this,"GlobalCompositeBar")}static ACCOUNTS_ACTION_INDEX=0;static ACCOUNTS_ICON=ct("accounts-view-bar-icon",he.account,c("accountsViewBarIcon","Accounts icon in the view bar."));element;globalActivityAction=this._register(new Et(uS));accountAction=this._register(new Et(gS));globalActivityActionBar;registerListeners(){this.extensionService.whenInstalledExtensionsRegistered().then(()=>{this._store.isDisposed||this._register(this.storageService.onDidChangeValue(_e.PROFILE,Gh.ACCOUNTS_VISIBILITY_PREFERENCE_KEY,this._store)(()=>this.toggleAccountsActivity()))})}create(t){t.appendChild(this.element)}focus(){this.globalActivityActionBar.focus(!0)}size(){return this.globalActivityActionBar.viewItems.length}getContextMenuActions(){return[li({id:"toggleAccountsVisibility",label:c("accounts","Accounts"),checked:this.accountsVisibilityPreference,run:mi(()=>this.accountsVisibilityPreference=!this.accountsVisibilityPreference,"run")})]}toggleAccountsActivity(){this.globalActivityActionBar.length()===2&&this.accountsVisibilityPreference||(this.globalActivityActionBar.length()===2?this.globalActivityActionBar.pull(_h.ACCOUNTS_ACTION_INDEX):this.globalActivityActionBar.push(this.accountAction,{index:_h.ACCOUNTS_ACTION_INDEX}))}get accountsVisibilityPreference(){return Iw(this.storageService)}set accountsVisibilityPreference(t){xp(this.storageService,t)}};_h=Dg([Pe(3,Ke),Pe(4,rt),Pe(5,as),Pe(6,yr)],_h);let Aw=class extends Kh{constructor(t,e,i,s,n,o,r,a,l,h,d,u,g){super(e,{draggable:!1,icon:!0,hasPopup:!0,...i},()=>!0,o,r,d,u),this.menuId=t,this.contextMenuActionsProvider=s,this.contextMenuAlignmentOptions=n,this.menuService=a,this.contextMenuService=l,this.contextKeyService=h,this.activityService=g,this.updateItemActivity(),this._register(this.activityService.onDidChangeActivity(p=>{Yi(p)&&p===this.compositeBarActionItem.id&&this.updateItemActivity()}))}static{mi(this,"AbstractGlobalActivityActionViewItem")}updateItemActivity(){const t=this.activityService.getActivity(this.compositeBarActionItem.id);let e=t[0];if(e){const{badge:i,priority:s}=e;i instanceof Pf&&t.length>1&&(e={badge:this.getCumulativeNumberBadge(t,s??0)})}this.action.activity=e}getCumulativeNumberBadge(t,e){const i=t.filter(o=>o.badge instanceof Pf&&(o.priority??0)===e),s=i.reduce((o,r)=>o+r.badge.number,0),n=mi(()=>i.reduce((o,r,a)=>(o=o+r.badge.getDescription(),a<i.length-1&&(o=`${o}
`),o),""),"descriptorFn");return new Pf(s,n)}render(t){super.render(t),this._register(N(this.container,U.MOUSE_DOWN,async e=>{xe.stop(e,!0),e?.button!==2&&this.run()})),this._register(N(this.container,U.CONTEXT_MENU,async e=>{e.stopPropagation();const i=new Z,s=await this.resolveContextMenuActions(i),n=new qi(be(this.container),e);this.contextMenuService.showContextMenu({getAnchor:mi(()=>n,"getAnchor"),getActions:mi(()=>s,"getActions"),onHide:mi(()=>i.dispose(),"onHide")})})),this._register(N(this.container,U.KEY_UP,e=>{const i=new mt(e);(i.equals(D.Enter)||i.equals(D.Space))&&(xe.stop(e,!0),this.run())})),this._register(N(this.container,kt.Tap,e=>{xe.stop(e,!0),this.run()}))}async resolveContextMenuActions(t){return this.contextMenuActionsProvider()}async run(){const t=new Z,e=t.add(this.menuService.createMenu(this.menuId,this.contextKeyService)),i=await this.resolveMainMenuActions(e,t),{anchorAlignment:s,anchorAxisAlignment:n}=this.contextMenuAlignmentOptions()??{anchorAlignment:void 0,anchorAxisAlignment:void 0};this.contextMenuService.showContextMenu({getAnchor:mi(()=>this.label,"getAnchor"),anchorAlignment:s,anchorAxisAlignment:n,getActions:mi(()=>i,"getActions"),onHide:mi(()=>t.dispose(),"onHide"),menuActionOptions:{renderShortTitle:!0}})}async resolveMainMenuActions(t,e){const i=[];return vg(t,{renderShortTitle:!0},{primary:[],secondary:i}),i}};Aw=Dg([Pe(5,Vi),Pe(6,Ss),Pe(7,Qs),Pe(8,Di),Pe(9,Qe),Pe(10,Ke),Pe(11,qt),Pe(12,Cg)],Aw);let Gh=class extends Aw{constructor(t,e,i,s,n,o,r,a,l,h,d,u,g,p,m,b,C,x,E,F){const B=E.createInstance($u,{id:gS,name:c("accounts","Accounts"),classNames:Ae.asClassNameArray(_h.ACCOUNTS_ICON)});super(_.AccountsContext,B,e,t,i,n,r,l,a,h,p,m,x),this.fillContextMenuActions=s,this.lifecycleService=o,this.authenticationService=d,this.productService=g,this.secretStorageService=b,this.logService=C,this.commandService=F,this._register(B),this.registerListeners(),this.initialize()}static{mi(this,"AccountsActivityActionViewItem")}static ACCOUNTS_VISIBILITY_PREFERENCE_KEY="workbench.activity.showAccounts";groupedAccounts=new Map;problematicProviders=new Set;initialized=!1;sessionFromEmbedder=new kn(()=>hM(this.secretStorageService,this.productService));registerListeners(){this._register(this.authenticationService.onDidRegisterAuthenticationProvider(async t=>{await this.addAccountsFromProvider(t.id)})),this._register(this.authenticationService.onDidUnregisterAuthenticationProvider(t=>{this.groupedAccounts.delete(t.id),this.problematicProviders.delete(t.id)})),this._register(this.authenticationService.onDidChangeSessions(async t=>{if(t.event.removed)for(const e of t.event.removed)this.removeAccount(t.providerId,e.account);for(const e of[...t.event.changed??[],...t.event.added??[]])try{await this.addOrUpdateAccount(t.providerId,e.account)}catch(i){this.logService.error(i)}}))}async initialize(){if(await this.lifecycleService.when(Xt.Restored),this._store.isDisposed)return;const t=this._register(wC(be(this.element),async()=>{await this.doInitialize(),t.dispose()}))}async doInitialize(){const t=this.authenticationService.getProviderIds(),e=await Promise.allSettled(t.map(i=>this.addAccountsFromProvider(i)));for(const i of e)i.status==="rejected"&&this.logService.error(i.reason);this.initialized=!0}async resolveMainMenuActions(t,e){await super.resolveMainMenuActions(t,e);const i=this.authenticationService.getProviderIds(),s=t.getActions();let n=[];for(const o of i){if(!this.initialized){const l=e.add(new Et("noAccountsAvailable",c("loading","Loading..."),void 0,!1));n.push(l);break}const r=this.authenticationService.getProvider(o).label,a=this.groupedAccounts.get(o);if(!a){if(this.problematicProviders.has(o)){const l=e.add(new Et("providerUnavailable",c("authProviderUnavailable","{0} is currently unavailable",r),void 0,!1));n.push(l);try{await this.addAccountsFromProvider(o)}catch(h){this.logService.error(h)}}continue}for(const l of a){const d=[li({id:`configureSessions${l.label}`,label:c("manageTrustedExtensions","Manage Trusted Extensions"),enabled:!0,run:mi(()=>this.commandService.executeCommand("_manageTrustedExtensionsForAccount",{providerId:o,accountLabel:l.label}),"run")})];l.canSignOut&&d.push(li({id:"signOut",label:c("signOut","Sign Out"),enabled:!0,run:mi(()=>this.commandService.executeCommand("_signOutOfAccount",{providerId:o,accountLabel:l.label}),"run")}));const u=new ro("activitybar.submenu",`${l.label} (${r})`,d);n.push(u)}}if(i.length&&!n.length){const o=e.add(new Et("noAccountsAvailable",c("noAccounts","You are not signed in to any accounts"),void 0,!1));n.push(o)}return n.length&&s.length&&n.push(new st),s.forEach((o,r)=>{const a=o[1];n=n.concat(a),r!==s.length-1&&n.push(new st)}),n}async resolveContextMenuActions(t){const e=await super.resolveContextMenuActions(t);return this.fillContextMenuActions(e),e}async addOrUpdateAccount(t,e){let i=this.groupedAccounts.get(t);i||(i=[],this.groupedAccounts.set(t,i));const s=await this.sessionFromEmbedder.value;let n=!0;s&&!s.canSignOut&&(await this.authenticationService.getSessions(t)).some(r=>r.id===s.id&&r.account.id===e.id)&&(n=!1);const o=i.find(r=>r.label===e.label);o?n||(o.canSignOut=n):i.push({...e,canSignOut:n})}removeAccount(t,e){const i=this.groupedAccounts.get(t);if(!i)return;const s=i.findIndex(n=>n.id===e.id);s!==-1&&(i.splice(s,1),i.length===0&&this.groupedAccounts.delete(t))}async addAccountsFromProvider(t){try{const e=await this.authenticationService.getSessions(t);this.problematicProviders.delete(t);for(const i of e)try{await this.addOrUpdateAccount(t,i.account)}catch(s){this.logService.error(s)}}catch(e){this.logService.error(e),this.problematicProviders.add(t)}}};Gh=Dg([Pe(4,Vi),Pe(5,Xr),Pe(6,Ss),Pe(7,Di),Pe(8,Qs),Pe(9,Qe),Pe(10,mE),Pe(11,vr),Pe(12,_m),Pe(13,Ke),Pe(14,qt),Pe(15,oM),Pe(16,od),Pe(17,Cg),Pe(18,rt),Pe(19,Hi)],Gh);let Ew=class extends Aw{constructor(t,e,i,s,n,o,r,a,l,h,d,u,g,p){const m=g.createInstance($u,{id:uS,name:c("manage","Manage"),classNames:Ae.asClassNameArray(s.currentProfile.icon?Ae.fromId(s.currentProfile.icon):l_)});super(_.GlobalActivity,m,e,t,i,n,o,r,a,l,h,u,p),this.userDataProfileService=s,this._register(m),this._register(this.userDataProfileService.onDidChangeCurrentProfile(b=>{m.compositeBarActionItem={...m.compositeBarActionItem,classNames:Ae.asClassNameArray(s.currentProfile.icon?Ae.fromId(s.currentProfile.icon):l_)}}))}static{mi(this,"GlobalActivityActionViewItem")}profileBadge;profileBadgeContent;render(t){super.render(t),this.profileBadge=we(t,de(".profile-badge")),this.profileBadgeContent=we(this.profileBadge,de(".profile-badge-content")),this.updateProfileBadge()}updateProfileBadge(){!this.profileBadge||!this.profileBadgeContent||(ds(this.profileBadgeContent),Qa(this.profileBadge),!this.userDataProfileService.currentProfile.isDefault&&(this.userDataProfileService.currentProfile.icon&&this.userDataProfileService.currentProfile.icon!==l_.id||this.action.activity||(Wr(this.profileBadge),this.profileBadgeContent.classList.add("profile-text-overlay"),this.profileBadgeContent.textContent=this.userDataProfileService.currentProfile.name.substring(0,2).toUpperCase())))}updateActivity(){super.updateActivity(),this.updateProfileBadge()}computeTitle(){return this.userDataProfileService.currentProfile.isDefault?super.computeTitle():c("manage profile","Manage {0} (Profile)",this.userDataProfileService.currentProfile.name)}};Ew=Dg([Pe(3,dM),Pe(4,Vi),Pe(5,Ss),Pe(6,Qs),Pe(7,Di),Pe(8,Qe),Pe(9,Ke),Pe(10,vr),Pe(11,qt),Pe(12,rt),Pe(13,Cg)],Ew);let kT=class extends Gh{static{mi(this,"SimpleAccountActivityActionViewItem")}constructor(t,e,i,s,n,o,r,a,l,h,d,u,g,p,m,b,C,x,E){super(()=>wE(m,!0),{...e,colors:mi(F=>({badgeBackground:F.getColor(Qh),badgeForeground:F.getColor(Jh)}),"colors"),hoverOptions:t,compact:!0},()=>{},F=>F,i,s,n,o,r,a,l,h,d,u,g,p,b,C,x,E)}};kT=Dg([Pe(2,Vi),Pe(3,Xr),Pe(4,Ss),Pe(5,Di),Pe(6,Qs),Pe(7,Qe),Pe(8,mE),Pe(9,vr),Pe(10,_m),Pe(11,Ke),Pe(12,qt),Pe(13,oM),Pe(14,as),Pe(15,od),Pe(16,Cg),Pe(17,rt),Pe(18,Hi)],kT);let xT=class extends Ew{static{mi(this,"SimpleGlobalActivityActionViewItem")}constructor(t,e,i,s,n,o,r,a,l,h,d,u,g,p){super(()=>wE(p,!1),{...e,colors:mi(m=>({badgeBackground:m.getColor(Qh),badgeForeground:m.getColor(Jh)}),"colors"),hoverOptions:t,compact:!0},()=>{},i,s,n,o,r,a,l,h,d,u,g)}};xT=Dg([Pe(2,dM),Pe(3,Vi),Pe(4,Ss),Pe(5,Qs),Pe(6,Di),Pe(7,Qe),Pe(8,Ke),Pe(9,vr),Pe(10,qt),Pe(11,rt),Pe(12,Cg),Pe(13,as)],xT);function wE(t,e){const i=[];return e&&i.push(li({id:"hideAccounts",label:c("hideAccounts","Hide Accounts"),run:mi(()=>xp(t,!1),"run")}),new st),[...i,li({id:"toggle.hideAccounts",label:c("accounts","Accounts"),checked:Iw(t),run:mi(()=>xp(t,!Iw(t)),"run")}),li({id:"toggle.hideManage",label:c("manage","Manage"),checked:!0,enabled:!1,run:mi(()=>{throw new Error('"Manage" can not be hidden')},"run")})]}mi(wE,"simpleActivityContextMenuActions");function Iw(t){return t.getBoolean(Gh.ACCOUNTS_VISIBILITY_PREFERENCE_KEY,_e.PROFILE,!0)}mi(Iw,"isAccountsActionVisible");function xp(t,e){t.store(Gh.ACCOUNTS_VISIBILITY_PREFERENCE_KEY,e,_e.PROFILE,Pt.USER)}mi(xp,"setAccountsActionVisible");var Rte=Object.defineProperty,sl=(t,e)=>Rte(t,"name",{value:e,configurable:!0});const Lp=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,pu=/(&amp;)?(&amp;)([^\s&])/g;var Ol=(t=>(t[t.Right=0]="Right",t[t.Left=1]="Left",t))(Ol||{}),mu=(t=>(t[t.Above=0]="Above",t[t.Below=1]="Below",t))(mu||{});class bu extends Sc{constructor(e,i,s,n){e.classList.add("monaco-menu-container"),e.setAttribute("role","presentation");const o=document.createElement("div");o.classList.add("monaco-menu"),o.setAttribute("role","presentation"),super(o,{orientation:os.VERTICAL,actionViewItemProvider:sl(h=>this.doGetActionViewItem(h,s,r),"actionViewItemProvider"),context:s.context,actionRunner:s.actionRunner,ariaLabel:s.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[D.Enter,...He||Ni?[D.Space]:[]],keyDown:!0}}),this.menuStyles=n,this.menuElement=o,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(e,n),this._register(us.addTarget(o)),this._register(N(o,U.KEY_DOWN,h=>{new mt(h).equals(D.Tab)&&h.preventDefault()})),s.enableMnemonics&&this._register(N(o,U.KEY_DOWN,h=>{const d=h.key.toLocaleLowerCase();if(this.mnemonics.has(d)){xe.stop(h,!0);const u=this.mnemonics.get(d);if(u.length===1&&(u[0]instanceof c_&&u[0].container&&this.focusItemByElement(u[0].container),u[0].onClick(h)),u.length>1){const g=u.shift();g&&g.container&&(this.focusItemByElement(g.container),u.push(g)),this.mnemonics.set(d,u)}}})),Ni&&this._register(N(o,U.KEY_DOWN,h=>{const d=new mt(h);d.equals(D.Home)||d.equals(D.PageUp)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),xe.stop(h,!0)):(d.equals(D.End)||d.equals(D.PageDown))&&(this.focusedItem=0,this.focusPrevious(),xe.stop(h,!0))})),this._register(N(this.domNode,U.MOUSE_OUT,h=>{const d=h.relatedTarget;hs(d,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),h.stopPropagation())})),this._register(N(this.actionsList,U.MOUSE_OVER,h=>{let d=h.target;if(!(!d||!hs(d,this.actionsList)||d===this.actionsList)){for(;d.parentElement!==this.actionsList&&d.parentElement!==null;)d=d.parentElement;if(d.classList.contains("action-item")){const u=this.focusedItem;this.setFocusedItem(d),u!==this.focusedItem&&this.updateFocus()}}})),this._register(us.addTarget(this.actionsList)),this._register(N(this.actionsList,kt.Tap,h=>{let d=h.initialTarget;if(!(!d||!hs(d,this.actionsList)||d===this.actionsList)){for(;d.parentElement!==this.actionsList&&d.parentElement!==null;)d=d.parentElement;if(d.classList.contains("action-item")){const u=this.focusedItem;this.setFocusedItem(d),u!==this.focusedItem&&this.updateFocus()}}}));const r={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new RD(o,{alwaysConsumeMouseWheel:!0,horizontal:Jt.Hidden,vertical:Jt.Visible,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const a=this.scrollableElement.getDomNode();a.style.position="",this.styleScrollElement(a,n),this._register(N(o,kt.Change,h=>{xe.stop(h,!0);const d=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:d-h.translationY})})),this._register(N(a,U.MOUSE_UP,h=>{h.preventDefault()}));const l=be(e);o.style.maxHeight=`${Math.max(10,l.innerHeight-e.getBoundingClientRect().top-35)}px`,i=i.filter((h,d)=>s.submenuIds?.has(h.id)?(console.warn(`Found submenu cycle: ${h.id}`),!1):!(h instanceof st&&(d===i.length-1||d===0||i[d-1]instanceof st))),this.push(i,{icon:!0,label:!0,isMenu:!0}),e.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(h=>!(h instanceof LT)).forEach((h,d,u)=>{h.updatePositionInSet(d+1,u.length)})}static{sl(this,"Menu")}mnemonics;scrollableElement;menuElement;static globalStyleSheet;styleSheet;initializeOrUpdateStyleSheet(e,i){this.styleSheet||(P_(e)?this.styleSheet=cr(e):(bu.globalStyleSheet||(bu.globalStyleSheet=cr()),this.styleSheet=bu.globalStyleSheet)),this.styleSheet.textContent=fM(i,P_(e))}styleScrollElement(e,i){const s=i.foregroundColor??"",n=i.backgroundColor??"",o=i.borderColor?`1px solid ${i.borderColor}`:"",r="5px",a=i.shadowColor?`0 2px 8px ${i.shadowColor}`:"";e.style.outline=o,e.style.borderRadius=r,e.style.color=s,e.style.backgroundColor=n,e.style.boxShadow=a}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}get scrollOffset(){return this.menuElement.scrollTop}trigger(e){if(e<=this.viewItems.length&&e>=0){const i=this.viewItems[e];if(i instanceof c_)super.focus(e),i.open(!0);else if(i instanceof mS)super.run(i._action,i._context);else return}}focusItemByElement(e){const i=this.focusedItem;this.setFocusedItem(e),i!==this.focusedItem&&this.updateFocus()}setFocusedItem(e){for(let i=0;i<this.actionsList.children.length;i++){const s=this.actionsList.children[i];if(e===s){this.focusedItem=i;break}}}updateFocus(e){super.updateFocus(e,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(e,i,s){if(e instanceof st)return new LT(i.context,e,{icon:!0},this.menuStyles);if(e instanceof ro){const n=new c_(e,e.actions,s,{...i,submenuIds:new Set([...i.submenuIds||[],e.id])},this.menuStyles);if(i.enableMnemonics){const o=n.getMnemonic();if(o&&n.isEnabled()){let r=[];this.mnemonics.has(o)&&(r=this.mnemonics.get(o)),r.push(n),this.mnemonics.set(o,r)}}return n}else{const n={enableMnemonics:i.enableMnemonics,useEventAsContext:i.useEventAsContext};if(i.getKeyBinding){const r=i.getKeyBinding(e);if(r){const a=r.getLabel();a&&(n.keybinding=a)}}const o=new mS(i.context,e,n,this.menuStyles);if(i.enableMnemonics){const r=o.getMnemonic();if(r&&o.isEnabled()){let a=[];this.mnemonics.has(r)&&(a=this.mnemonics.get(r)),a.push(o),this.mnemonics.set(r,a)}}return o}}}class mS extends cn{constructor(e,i,s,n){if(s.isMenu=!0,super(i,i,s),this.menuStyle=n,this.options=s,this.options.icon=s.icon!==void 0?s.icon:!1,this.options.label=s.label!==void 0?s.label:!0,this.cssClass="",this.options.label&&s.enableMnemonics){const o=this.action.label;if(o){const r=Lp.exec(o);r&&(this.mnemonic=(r[1]?r[1]:r[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Ls(()=>{this.element&&(this._register(N(this.element,U.MOUSE_UP,o=>{if(xe.stop(o,!0),Ah){if(new qi(be(this.element),o).rightButton)return;this.onClick(o)}else setTimeout(()=>{this.onClick(o)},0)})),this._register(N(this.element,U.CONTEXT_MENU,o=>{xe.stop(o,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}static{sl(this,"BaseMenuActionViewItem")}container;options;item;runOnceToEnableMouseUp;label;check;mnemonic;cssClass;render(e){super.render(e),this.element&&(this.container=e,this.item=we(this.element,de("a.action-menu-item")),this._action.id===st.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=we(this.item,de("span.menu-item-check"+Ae.asCSSSelector(he.menuSelection))),this.check.setAttribute("role","none"),this.label=we(this.item,de("span.action-label")),this.options.label&&this.options.keybinding&&(we(this.item,de("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item?.focus(),this.applyStyle()}updatePositionInSet(e,i){this.item&&(this.item.setAttribute("aria-posinset",`${e}`),this.item.setAttribute("aria-setsize",`${i}`))}updateLabel(){if(this.label&&this.options.label){ds(this.label);let e=W5(this.action.label);if(e){const i=Tw(e);this.options.enableMnemonics||(e=i),this.label.setAttribute("aria-label",i.replace(/&&/g,"&"));const s=Lp.exec(e);if(s){e=Kd(e),pu.lastIndex=0;let n=pu.exec(e);for(;n&&n[1];)n=pu.exec(e);const o=sl(r=>r.replace(/&amp;&amp;/g,"&amp;"),"replaceDoubleEscapes");n?this.label.append(Kp(o(e.substr(0,n.index))," "),de("u",{"aria-hidden":"true"},n[3]),Eh(o(e.substr(n.index+n[0].length))," ")):this.label.innerText=o(e).trim(),this.item?.setAttribute("aria-keyshortcuts",(s[1]?s[1]:s[3]).toLocaleLowerCase())}else this.label.innerText=e.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const e=this.action.checked;this.item.classList.toggle("checked",!!e),e!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",e?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const e=this.element&&this.element.classList.contains("focused"),i=e&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,s=e&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,n=e&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",o=e&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=i??"",this.item.style.backgroundColor=s??"",this.item.style.outline=n,this.item.style.outlineOffset=o),this.check&&(this.check.style.color=i??"")}}class c_ extends mS{constructor(e,i,s,n,o){super(e,e,n,o),this.submenuActions=i,this.parentData=s,this.submenuOptions=n,this.expandDirection=n&&n.expandDirection!==void 0?n.expandDirection:{horizontal:0,vertical:1},this.showScheduler=new Ls(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new Ls(()=>{this.element&&!hs(Lo(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}static{sl(this,"SubmenuMenuActionViewItem")}mysubmenu=null;submenuContainer;submenuIndicator;submenuDisposables=this._register(new Z);mouseOver=!1;showScheduler;hideScheduler;expandDirection;render(e){super.render(e),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=we(this.item,de("span.submenu-indicator"+Ae.asCSSSelector(he.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register(N(this.element,U.KEY_UP,i=>{const s=new mt(i);(s.equals(D.RightArrow)||s.equals(D.Enter))&&(xe.stop(i,!0),this.createSubmenu(!0))})),this._register(N(this.element,U.KEY_DOWN,i=>{const s=new mt(i);Lo()===this.item&&(s.equals(D.RightArrow)||s.equals(D.Enter))&&xe.stop(i,!0)})),this._register(N(this.element,U.MOUSE_OVER,i=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register(N(this.element,U.MOUSE_LEAVE,i=>{this.mouseOver=!1})),this._register(N(this.element,U.FOCUS_OUT,i=>{this.element&&!hs(Lo(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}open(e){this.cleanupExistingSubmenu(!1),this.createSubmenu(e)}onClick(e){xe.stop(e,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(e){if(this.parentData.submenu&&(e||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(e,i,s,n){const o={top:0,left:0};return o.left=ah(e.width,i.width,{position:n.horizontal===0?ov.Before:ov.After,offset:s.left,size:s.width}),o.left>=s.left&&o.left<s.left+s.width&&(s.left+10+i.width<=e.width&&(o.left=s.left+10),s.top+=10,s.height=0),o.top=ah(e.height,i.height,{position:ov.Before,offset:s.top,size:0}),o.top+i.height===s.top&&o.top+s.height+i.height<=e.height&&(o.top+=s.height),o}createSubmenu(e=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=we(this.element,de("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const i=be(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),s=Number.parseFloat(i.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new bu(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new bD],this.submenuOptions,this.menuStyle);const n=this.element.getBoundingClientRect(),o={top:n.top-s,left:n.left,height:n.height+2*s,width:n.width},r=this.submenuContainer.getBoundingClientRect(),a=be(this.element),{top:l,left:h}=this.calculateSubmenuMenuLayout(new Vt(a.innerWidth,a.innerHeight),Vt.lift(r),o,this.expandDirection);this.submenuContainer.style.left=`${h-r.left}px`,this.submenuContainer.style.top=`${l-r.top}px`,this.submenuDisposables.add(N(this.submenuContainer,U.KEY_UP,d=>{new mt(d).equals(D.LeftArrow)&&(xe.stop(d,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add(N(this.submenuContainer,U.KEY_DOWN,d=>{new mt(d).equals(D.LeftArrow)&&xe.stop(d,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(e),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(e){this.item&&this.item?.setAttribute("aria-expanded",e)}applyStyle(){super.applyStyle();const i=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=i??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class LT extends xm{constructor(e,i,s,n){super(e,i,s),this.menuStyles=n}static{sl(this,"MenuSeparatorActionViewItem")}render(e){super.render(e),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function Tw(t){const e=Lp,i=e.exec(t);if(!i)return t;const s=!i[1];return t.replace(e,s?"$2$3":"").trim()}sl(Tw,"cleanMnemonic");function bS(t){const e=HC()[t.id];return`.codicon-${t.id}:before { content: '\\${e.toString(16)}'; }`}sl(bS,"formatRule");function fM(t,e){let i=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${bS(he.menuSelection)}
${bS(he.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
	max-height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(e){i+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const s=t.scrollbarShadow;s&&(i+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${s} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${s} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${s} 6px 6px 6px -6px inset;
				}
			`);const n=t.scrollbarSliderBackground;n&&(i+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${n};
				}
			`);const o=t.scrollbarSliderHoverBackground;o&&(i+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${o};
				}
			`);const r=t.scrollbarSliderActiveBackground;r&&(i+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${r};
				}
			`)}return i}sl(fM,"getMenuWidgetCSS");var Nte=Object.defineProperty,PT=(t,e)=>Nte(t,"name",{value:e,configurable:!0});const wd=de;class Mi extends q{constructor(e,i,s){super(),this.container=e,this.options=i,this.menuStyle=s,this.container.setAttribute("role","menubar"),this.isCompact&&this.container.classList.add("compact"),this.menus=[],this.mnemonics=new Map,this._focusState=1,this._onVisibilityChange=this._register(new I),this._onFocusStateChange=this._register(new I),this.createOverflowMenu(),this.menuUpdater=this._register(new Ls(()=>this.update(),200)),this.actionRunner=this.options.actionRunner??this._register(new Zr),this._register(this.actionRunner.onWillRun(()=>{this.setUnfocusedState()})),this._register(La.getInstance().event(this.onModifierKeyToggled,this)),this._register(N(this.container,U.KEY_DOWN,o=>{const r=new mt(o);let a=!0;const l=o.key?o.key.toLocaleLowerCase():"",h=He&&!this.isCompact;if(r.equals(D.LeftArrow)||h&&r.equals(D.Tab|Ze.Shift))this.focusPrevious();else if(r.equals(D.RightArrow)||h&&r.equals(D.Tab))this.focusNext();else if(r.equals(D.Escape)&&this.isFocused&&!this.isOpen)this.setUnfocusedState();else if(!this.isOpen&&!r.ctrlKey&&this.options.enableMnemonics&&this.mnemonicsInUse&&this.mnemonics.has(l)){const d=this.mnemonics.get(l);this.onMenuTriggered(d,!1)}else a=!1;!this.isCompact&&(r.equals(D.Tab|Ze.Shift)||r.equals(D.Tab))&&r.preventDefault(),a&&(r.preventDefault(),r.stopPropagation())}));const n=be(this.container);this._register(N(n,U.MOUSE_DOWN,()=>{this.isFocused&&this.setUnfocusedState()})),this._register(N(this.container,U.FOCUS_IN,o=>{const r=o;r.relatedTarget&&(this.container.contains(r.relatedTarget)||(this.focusToReturn=r.relatedTarget))})),this._register(N(this.container,U.FOCUS_OUT,o=>{const r=o;r.relatedTarget?r.relatedTarget&&!this.container.contains(r.relatedTarget)&&(this.focusToReturn=void 0,this.setUnfocusedState()):this.setUnfocusedState()})),this._register(N(n,U.KEY_DOWN,o=>{if(!this.options.enableMnemonics||!o.altKey||o.ctrlKey||o.defaultPrevented)return;const r=o.key.toLocaleLowerCase();if(!this.mnemonics.has(r))return;this.mnemonicsInUse=!0,this.updateMnemonicVisibility(!0);const a=this.mnemonics.get(r);this.onMenuTriggered(a,!1)})),this.setUnfocusedState()}static{PT(this,"MenuBar")}static OVERFLOW_INDEX=-1;menus;overflowMenu;focusedMenu;focusToReturn;menuUpdater;_mnemonicsInUse=!1;openedViaKeyboard=!1;awaitingAltRelease=!1;ignoreNextMouseUp=!1;mnemonics;updatePending=!1;_focusState;actionRunner;_onVisibilityChange;_onFocusStateChange;numMenusShown=0;overflowLayoutScheduled=void 0;menuDisposables=this._register(new Z);push(e){gk(e).forEach(s=>{const n=this.menus.length,o=Tw(s.label),r=Lp.exec(s.label);if(r){const a=r[1]?r[1]:r[3];this.registerMnemonic(this.menus.length,a)}if(this.isCompact)this.menus.push(s);else{const a=wd("div.menubar-menu-button",{role:"menuitem",tabindex:-1,"aria-label":o,"aria-haspopup":!0}),l=wd("div.menubar-menu-title",{role:"none","aria-hidden":!0});a.appendChild(l),this.container.insertBefore(a,this.overflowMenu.buttonElement),this.updateLabels(l,a,s.label),this._register(N(a,U.KEY_UP,h=>{const d=new mt(h);let u=!0;(d.equals(D.DownArrow)||d.equals(D.Enter))&&!this.isOpen?(this.focusedMenu={index:n},this.openedViaKeyboard=!0,this.focusState=3):u=!1,u&&(d.preventDefault(),d.stopPropagation())})),this._register(us.addTarget(a)),this._register(N(a,kt.Tap,h=>{this.isOpen&&this.focusedMenu&&this.focusedMenu.holder&&hs(h.initialTarget,this.focusedMenu.holder)||(this.ignoreNextMouseUp=!1,this.onMenuTriggered(n,!0),h.preventDefault(),h.stopPropagation())})),this._register(N(a,U.MOUSE_DOWN,h=>{if(!new qi(be(a),h).leftButton){h.preventDefault();return}this.isOpen?this.ignoreNextMouseUp=!1:(this.ignoreNextMouseUp=!0,this.onMenuTriggered(n,!0)),h.preventDefault(),h.stopPropagation()})),this._register(N(a,U.MOUSE_UP,h=>{h.defaultPrevented||(this.ignoreNextMouseUp?this.ignoreNextMouseUp=!1:this.isFocused&&this.onMenuTriggered(n,!0))})),this._register(N(a,U.MOUSE_ENTER,()=>{this.isOpen&&!this.isCurrentMenu(n)?(a.focus(),this.cleanupCustomMenu(),this.showCustomMenu(n,!1)):this.isFocused&&!this.isOpen&&(this.focusedMenu={index:n},a.focus())})),this.menus.push({label:s.label,actions:s.actions,buttonElement:a,titleElement:l})}})}createOverflowMenu(){const e=this.isCompact?c("mAppMenu","Application Menu"):c("mMore","More"),i=wd("div.menubar-menu-button",{role:"menuitem",tabindex:this.isCompact?0:-1,"aria-label":e,"aria-haspopup":!0}),s=wd("div.menubar-menu-title.toolbar-toggle-more"+Ae.asCSSSelector(he.menuBarMore),{role:"none","aria-hidden":!0});i.appendChild(s),this.container.appendChild(i),i.style.visibility="hidden",this._register(N(i,U.KEY_UP,n=>{const o=new mt(n);let r=!0;const a=[D.Enter];this.isCompact?(a.push(D.Space),this.options.compactMode?.horizontal===Ol.Right?a.push(D.RightArrow):this.options.compactMode?.horizontal===Ol.Left&&a.push(D.LeftArrow)):a.push(D.DownArrow),a.some(l=>o.equals(l))&&!this.isOpen?(this.focusedMenu={index:Mi.OVERFLOW_INDEX},this.openedViaKeyboard=!0,this.focusState=3):r=!1,r&&(o.preventDefault(),o.stopPropagation())})),this._register(us.addTarget(i)),this._register(N(i,kt.Tap,n=>{this.isOpen&&this.focusedMenu&&this.focusedMenu.holder&&hs(n.initialTarget,this.focusedMenu.holder)||(this.ignoreNextMouseUp=!1,this.onMenuTriggered(Mi.OVERFLOW_INDEX,!0),n.preventDefault(),n.stopPropagation())})),this._register(N(i,U.MOUSE_DOWN,n=>{if(!new qi(be(i),n).leftButton){n.preventDefault();return}this.isOpen?this.ignoreNextMouseUp=!1:(this.ignoreNextMouseUp=!0,this.onMenuTriggered(Mi.OVERFLOW_INDEX,!0)),n.preventDefault(),n.stopPropagation()})),this._register(N(i,U.MOUSE_UP,n=>{n.defaultPrevented||(this.ignoreNextMouseUp?this.ignoreNextMouseUp=!1:this.isFocused&&this.onMenuTriggered(Mi.OVERFLOW_INDEX,!0))})),this._register(N(i,U.MOUSE_ENTER,()=>{this.isOpen&&!this.isCurrentMenu(Mi.OVERFLOW_INDEX)?(this.overflowMenu.buttonElement.focus(),this.cleanupCustomMenu(),this.showCustomMenu(Mi.OVERFLOW_INDEX,!1)):this.isFocused&&!this.isOpen&&(this.focusedMenu={index:Mi.OVERFLOW_INDEX},i.focus())})),this.overflowMenu={buttonElement:i,titleElement:s,label:"More",actions:[]}}updateMenu(e){const i=this.menus.filter(s=>s.label===e.label);i&&i.length&&(i[0].actions=e.actions)}dispose(){super.dispose(),this.menus.forEach(e=>{e.titleElement?.remove(),e.buttonElement?.remove()}),this.overflowMenu.titleElement.remove(),this.overflowMenu.buttonElement.remove(),ai(this.overflowLayoutScheduled),this.overflowLayoutScheduled=void 0}blur(){this.setUnfocusedState()}getWidth(){if(!this.isCompact&&this.menus){const e=this.menus[0].buttonElement.getBoundingClientRect().left;return(this.hasOverflow?this.overflowMenu.buttonElement.getBoundingClientRect().right:this.menus[this.menus.length-1].buttonElement.getBoundingClientRect().right)-e}return 0}getHeight(){return this.container.clientHeight}toggleFocus(){!this.isFocused&&this.options.visibility!=="hidden"?(this.mnemonicsInUse=!0,this.focusedMenu={index:this.numMenusShown>0?0:Mi.OVERFLOW_INDEX},this.focusState=2):this.isOpen||this.setUnfocusedState()}updateOverflowAction(){if(!this.menus||!this.menus.length)return;const e="overflow-menu-only";this.container.classList.toggle(e,!1);const i=this.container.offsetWidth;let s=0,n=this.isCompact;const o=this.numMenusShown;this.numMenusShown=0;const r=this.menus.filter(a=>a.buttonElement!==void 0&&a.titleElement!==void 0);for(const a of r){if(!n){const l=a.buttonElement.offsetWidth;s+l>i?n=!0:(s+=l,this.numMenusShown++,this.numMenusShown>o&&(a.buttonElement.style.visibility="visible"))}n&&(a.buttonElement.style.visibility="hidden")}if(this.numMenusShown-1<=r.length/4){for(const a of r)a.buttonElement.style.visibility="hidden";n=!0,this.numMenusShown=0,s=0}if(this.isCompact){this.overflowMenu.actions=[];for(let l=this.numMenusShown;l<this.menus.length;l++)this.overflowMenu.actions.push(new ro(`menubar.submenu.${this.menus[l].label}`,this.menus[l].label,this.menus[l].actions||[]));const a=this.options.getCompactMenuActions?.();a&&a.length&&(this.overflowMenu.actions.push(new st),this.overflowMenu.actions.push(...a)),this.overflowMenu.buttonElement.style.visibility="visible"}else if(n){for(;s+this.overflowMenu.buttonElement.offsetWidth>i&&this.numMenusShown>0;){this.numMenusShown--;const a=r[this.numMenusShown].buttonElement.offsetWidth;r[this.numMenusShown].buttonElement.style.visibility="hidden",s-=a}this.overflowMenu.actions=[];for(let a=this.numMenusShown;a<r.length;a++)this.overflowMenu.actions.push(new ro(`menubar.submenu.${r[a].label}`,r[a].label,r[a].actions||[]));this.overflowMenu.buttonElement.nextElementSibling!==r[this.numMenusShown].buttonElement&&(this.overflowMenu.buttonElement.remove(),this.container.insertBefore(this.overflowMenu.buttonElement,r[this.numMenusShown].buttonElement)),this.overflowMenu.buttonElement.style.visibility="visible"}else this.overflowMenu.buttonElement.remove(),this.container.appendChild(this.overflowMenu.buttonElement),this.overflowMenu.buttonElement.style.visibility="hidden";this.container.classList.toggle(e,this.numMenusShown===0)}updateLabels(e,i,s){const n=Tw(s);if(this.options.enableMnemonics){const r=Kd(s);pu.lastIndex=0;let a=pu.exec(r);for(;a&&a[1];)a=pu.exec(r);const l=PT(h=>h.replace(/&amp;&amp;/g,"&amp;"),"replaceDoubleEscapes");a?(e.innerText="",e.append(Kp(l(r.substr(0,a.index))," "),wd("mnemonic",{"aria-hidden":"true"},a[3]),Eh(l(r.substr(a.index+a[0].length))," "))):e.innerText=l(r).trim()}else e.innerText=n.replace(/&&/g,"&");const o=Lp.exec(s);if(o){const r=o[1]?o[1]:o[3];this.options.enableMnemonics?i.setAttribute("aria-keyshortcuts","Alt+"+r.toLocaleLowerCase()):i.removeAttribute("aria-keyshortcuts")}}update(e){if(e&&(this.options=e),this.isFocused){this.updatePending=!0;return}this.menus.forEach(i=>{!i.buttonElement||!i.titleElement||this.updateLabels(i.titleElement,i.buttonElement,i.label)}),this.overflowLayoutScheduled||(this.overflowLayoutScheduled=no(be(this.container),()=>{this.updateOverflowAction(),this.overflowLayoutScheduled=void 0})),this.setUnfocusedState()}registerMnemonic(e,i){this.mnemonics.set(i.toLocaleLowerCase(),e)}hideMenubar(){this.container.style.display!=="none"&&(this.container.style.display="none",this._onVisibilityChange.fire(!1))}showMenubar(){this.container.style.display!=="flex"&&(this.container.style.display="flex",this._onVisibilityChange.fire(!0),this.updateOverflowAction())}get focusState(){return this._focusState}set focusState(e){if(this._focusState>=2&&e<2&&this.updatePending&&(this.menuUpdater.schedule(),this.updatePending=!1),e===this._focusState)return;const i=this.isVisible,s=this.isOpen,n=this.isFocused;switch(this._focusState=e,e){case 0:i&&this.hideMenubar(),s&&this.cleanupCustomMenu(),n&&(this.focusedMenu=void 0,this.focusToReturn&&(this.focusToReturn.focus(),this.focusToReturn=void 0));break;case 1:i||this.showMenubar(),s&&this.cleanupCustomMenu(),n&&(this.focusedMenu&&(this.focusedMenu.index===Mi.OVERFLOW_INDEX?this.overflowMenu.buttonElement.blur():this.menus[this.focusedMenu.index].buttonElement?.blur()),this.focusedMenu=void 0,this.focusToReturn&&(this.focusToReturn.focus(),this.focusToReturn=void 0));break;case 2:i||this.showMenubar(),s&&this.cleanupCustomMenu(),this.focusedMenu&&(this.focusedMenu.index===Mi.OVERFLOW_INDEX?this.overflowMenu.buttonElement.focus():this.menus[this.focusedMenu.index].buttonElement?.focus());break;case 3:i||this.showMenubar(),this.focusedMenu&&(this.cleanupCustomMenu(),this.showCustomMenu(this.focusedMenu.index,this.openedViaKeyboard));break}this._focusState=e,this._onFocusStateChange.fire(this.focusState>=2)}get isVisible(){return this.focusState>=1}get isFocused(){return this.focusState>=2}get isOpen(){return this.focusState>=3}get hasOverflow(){return this.isCompact||this.numMenusShown<this.menus.length}get isCompact(){return this.options.compactMode!==void 0}setUnfocusedState(){this.options.visibility==="toggle"||this.options.visibility==="hidden"?this.focusState=0:this.options.visibility==="classic"&&Dh(Q)?this.focusState=0:this.focusState=1,this.ignoreNextMouseUp=!1,this.mnemonicsInUse=!1,this.updateMnemonicVisibility(!1)}focusPrevious(){if(!this.focusedMenu||this.numMenusShown===0)return;let e=(this.focusedMenu.index-1+this.numMenusShown)%this.numMenusShown;this.focusedMenu.index===Mi.OVERFLOW_INDEX?e=this.numMenusShown-1:this.focusedMenu.index===0&&this.hasOverflow&&(e=Mi.OVERFLOW_INDEX),e!==this.focusedMenu.index&&(this.isOpen?(this.cleanupCustomMenu(),this.showCustomMenu(e)):this.isFocused&&(this.focusedMenu.index=e,e===Mi.OVERFLOW_INDEX?this.overflowMenu.buttonElement.focus():this.menus[e].buttonElement?.focus()))}focusNext(){if(!this.focusedMenu||this.numMenusShown===0)return;let e=(this.focusedMenu.index+1)%this.numMenusShown;this.focusedMenu.index===Mi.OVERFLOW_INDEX?e=0:this.focusedMenu.index===this.numMenusShown-1&&(e=Mi.OVERFLOW_INDEX),e!==this.focusedMenu.index&&(this.isOpen?(this.cleanupCustomMenu(),this.showCustomMenu(e)):this.isFocused&&(this.focusedMenu.index=e,e===Mi.OVERFLOW_INDEX?this.overflowMenu.buttonElement.focus():this.menus[e].buttonElement?.focus()))}updateMnemonicVisibility(e){this.menus&&this.menus.forEach(i=>{if(i.titleElement&&i.titleElement.children.length){const s=i.titleElement.children.item(0);s&&(s.style.textDecoration=this.options.alwaysOnMnemonics||e?"underline":"")}})}get mnemonicsInUse(){return this._mnemonicsInUse}set mnemonicsInUse(e){this._mnemonicsInUse=e}get shouldAltKeyFocus(){return He?!1:!this.options.disableAltFocus||this.options.visibility==="toggle"}get onVisibilityChange(){return this._onVisibilityChange.event}get onFocusStateChange(){return this._onFocusStateChange.event}onMenuTriggered(e,i){this.isOpen?this.isCurrentMenu(e)?this.setUnfocusedState():(this.cleanupCustomMenu(),this.showCustomMenu(e,this.openedViaKeyboard)):(this.focusedMenu={index:e},this.openedViaKeyboard=!i,this.focusState=3)}onModifierKeyToggled(e){const i=!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey;this.options.visibility!=="hidden"&&(e.event&&this.shouldAltKeyFocus&&CF.toEnum(e.event.code)===kr.AltLeft&&e.event.preventDefault(),this.isFocused&&e.lastKeyPressed==="alt"&&e.altKey&&(this.setUnfocusedState(),this.mnemonicsInUse=!1,this.awaitingAltRelease=!0),i&&e.lastKeyPressed==="alt"&&e.lastKeyReleased==="alt"&&(this.awaitingAltRelease||(!this.isFocused&&this.shouldAltKeyFocus?(this.mnemonicsInUse=!0,this.focusedMenu={index:this.numMenusShown>0?0:Mi.OVERFLOW_INDEX},this.focusState=2):this.isOpen||this.setUnfocusedState())),!e.altKey&&e.lastKeyReleased==="alt"&&(this.awaitingAltRelease=!1),this.options.enableMnemonics&&this.menus&&!this.isOpen&&this.updateMnemonicVisibility(!this.awaitingAltRelease&&e.altKey||this.mnemonicsInUse))}isCurrentMenu(e){return this.focusedMenu?this.focusedMenu.index===e:!1}cleanupCustomMenu(){this.focusedMenu&&(this.focusedMenu.index===Mi.OVERFLOW_INDEX?this.overflowMenu.buttonElement.focus():this.menus[this.focusedMenu.index].buttonElement?.focus(),this.focusedMenu.holder&&(this.focusedMenu.holder.parentElement?.classList.remove("open"),this.focusedMenu.holder.remove()),this.focusedMenu.widget?.dispose(),this.focusedMenu={index:this.focusedMenu.index}),this.menuDisposables.clear()}showCustomMenu(e,i=!0){const s=e>=this.numMenusShown?Mi.OVERFLOW_INDEX:e,n=s===Mi.OVERFLOW_INDEX?this.overflowMenu:this.menus[s];if(!n.actions||!n.buttonElement||!n.titleElement)return;const o=wd("div.menubar-menu-items-holder",{title:""});n.buttonElement.classList.add("open");const r=n.titleElement.getBoundingClientRect(),a=SC(n.titleElement);if(this.options.compactMode?.horizontal===Ol.Right)o.style.left=`${r.left+this.container.clientWidth}px`;else if(this.options.compactMode?.horizontal===Ol.Left){const d=be(this.container).innerWidth;o.style.right=`${d-r.left}px`,o.style.left="auto"}else o.style.left=`${r.left*a}px`;this.options.compactMode?.vertical===mu.Above?o.style.top=`${r.top-this.menus.length*30+this.container.clientHeight}px`:this.options.compactMode?.vertical===mu.Below?o.style.top=`${r.top}px`:o.style.top=`${r.bottom*a}px`,n.buttonElement.appendChild(o);const l={getKeyBinding:this.options.getKeybinding,actionRunner:this.actionRunner,enableMnemonics:this.options.alwaysOnMnemonics||this.mnemonicsInUse&&this.options.enableMnemonics,ariaLabel:n.buttonElement.getAttribute("aria-label")??void 0,expandDirection:this.isCompact?this.options.compactMode:{horizontal:Ol.Right,vertical:mu.Below},useEventAsContext:!0},h=this.menuDisposables.add(new bu(o,n.actions,l,this.menuStyle));this.menuDisposables.add(h.onDidCancel(()=>{this.focusState=2})),s!==e?h.trigger(e-this.numMenusShown):h.focus(i),this.focusedMenu={index:s,holder:o,widget:h}}}var Sl=(t=>(t.Uninitialized="uninitialized",t.Idle="idle",t.Disabled="disabled",t.CheckingForUpdates="checking for updates",t.AvailableForDownload="available for download",t.Downloading="downloading",t.Downloaded="downloaded",t.Updating="updating",t.Ready="ready",t))(Sl||{});const Ote=Ce("updateService");var Bte=Object.defineProperty,my=(t,e)=>Bte(t,"name",{value:e,configurable:!0});const Mte=/(?:\/|^)(?:([^/]+)\/)?([^/]+)$/;function cv(t,e,i,s,n){if(Ae.isThemeIcon(n))return[`codicon-${n.id}`,"predefined-file-icon"];if(j.isUri(n))return[];const o=s===Kl.ROOT_FOLDER?["rootfolder-icon"]:s===Kl.FOLDER?["folder-icon"]:["file-icon"];if(i){let r;if(i.scheme===Ue.data)r=Du.parseMetaData(i).get(Du.META_DATA_LABEL);else{const a=i.path.match(Mte);a?(r=Wd(a[2].toLowerCase()),a[1]&&o.push(`${Wd(a[1].toLowerCase())}-name-dir-icon`)):r=Wd(i.authority.toLowerCase())}if(s===Kl.ROOT_FOLDER)o.push(`${r}-root-name-folder-icon`);else if(s===Kl.FOLDER)o.push(`${r}-name-folder-icon`);else{if(r){if(o.push(`${r}-name-file-icon`),o.push("name-file-icon"),r.length<=255){const l=r.split(".");for(let h=1;h<l.length;h++)o.push(`${l.slice(h).join(".")}-ext-file-icon`)}o.push("ext-file-icon")}const a=pM(t,e,i);a&&o.push(`${Wd(a)}-lang-file-icon`)}}return o}my(cv,"getIconClasses");function Fte(t){return["file-icon",`${Wd(t)}-lang-file-icon`]}my(Fte,"getIconClassesForLanguageId");function pM(t,e,i){if(!i)return null;let s=null;if(i.scheme===Ue.data){const o=Du.parseMetaData(i).get(Du.META_DATA_MIME);o&&(s=e.getLanguageIdByMimeType(o))}else{const n=t.getModel(i);n&&(s=n.getLanguageId())}return s&&s!==If?s:e.guessLanguageIdByFilepathOrFirstLine(i)}my(pM,"detectLanguageId");function Wd(t){return t.replace(/[\s]/g,"/")}my(Wd,"cssEscape");var Vte=Object.defineProperty,mM=(t,e)=>Vte(t,"name",{value:e,configurable:!0});function vS(t){return t&&t.hasOwnProperty("folderUri")}mM(vS,"isFolderBackupInfo");function bM(t){return t&&t.hasOwnProperty("workspace")}mM(bM,"isWorkspaceBackupInfo");var vM=Object.defineProperty,Hte=Object.getOwnPropertyDescriptor,wM=(t,e)=>vM(t,"name",{value:e,configurable:!0}),Wte=(t,e,i,s)=>{for(var n=s>1?void 0:s?Hte(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&vM(e,i,n),n},RT=(t,e)=>(i,s)=>e(i,s,t);const yM="inQuickOpen";new J(yM,!1,c("inQuickOpen","Whether keyboard focus is inside the quick open control"));const _M=H.has(yM),Ute="inFilesPicker";H.and(_M,H.has(Ute));function yE(t,e){return i=>{const s=i.get(qt),n=i.get(wg),r={keybindings:s.lookupKeybindings(t)};n.navigate(!!e,r)}}wM(yE,"getQuickNavigateHandler");let NT=class extends q{constructor(t,e){super(),this.editorService=t,this.editorGroupsService=e}static{wM(this,"PickerEditorState")}_editorViewState=void 0;openedTransientEditors=new Set;set(){if(this._editorViewState)return;const t=this.editorService.activeEditorPane;t&&(this._editorViewState={group:t.group,editor:t.input,state:oN(t.getControl())?.saveViewState()??void 0})}async openTransientEditor(t,e){t.options={...t.options,transient:!0};const i=await this.editorService.openEditor(t,e);return i?.input&&i.input!==this._editorViewState?.editor&&i.group.isTransient(i.input)&&this.openedTransientEditors.add(i.input),i}async restore(){if(this._editorViewState){for(const t of this.openedTransientEditors)if(!t.isDirty())for(const e of this.editorGroupsService.groups)e.isTransient(t)&&await e.closeEditor(t,{preserveFocus:!0});await this._editorViewState.group.openEditor(this._editorViewState.editor,{viewState:this._editorViewState.state,preserveFocus:!0}),this.reset()}}reset(){this._editorViewState=void 0,this.openedTransientEditors.clear()}dispose(){super.dispose(),this.reset()}};NT=Wte([RT(0,ld),RT(1,Dm)],NT);var zte=Object.defineProperty,jr=(t,e)=>zte(t,"name",{value:e,configurable:!0});const SM="inRecentFilesPicker";class CM extends je{static{jr(this,"BaseOpenRecentAction")}removeFromRecentlyOpened={iconClass:Ae.asClassName(he.removeClose),tooltip:c("remove","Remove from Recently Opened")};dirtyRecentlyOpenedFolder={iconClass:"dirty-workspace "+Ae.asClassName(he.closeDirty),tooltip:c("dirtyRecentlyOpenedFolder","Folder With Unsaved Files"),alwaysVisible:!0};dirtyRecentlyOpenedWorkspace={...this.dirtyRecentlyOpenedFolder,tooltip:c("dirtyRecentlyOpenedWorkspace","Workspace With Unsaved Files")};constructor(e){super(e)}async run(e){const i=e.get(QA),s=e.get(wg),n=e.get(dg),o=e.get(z1),r=e.get(qt),a=e.get(DD),l=e.get(CD),h=e.get(ho),d=e.get(rl),u=await i.getRecentlyOpened(),g=await i.getDirtyWorkspaces();let p=!1;const m=new xs,b=new xs;for(const oe of g)vS(oe)?m.set(oe.folderUri,!0):(b.set(oe.workspace.configPath,oe.workspace),p=!0);const C=new xs,x=new xs;for(const oe of u.workspaces)du(oe)?C.set(oe.folderUri,!0):(x.set(oe.workspace.configPath,oe.workspace),p=!0);const E=[];for(const oe of u.workspaces){const De=du(oe)?m.has(oe.folderUri):b.has(oe.workspace.configPath);E.push(this.toQuickPick(a,l,o,oe,De))}for(const oe of g)vS(oe)&&!C.has(oe.folderUri)?E.push(this.toQuickPick(a,l,o,oe,!0)):bM(oe)&&!x.has(oe.workspace.configPath)&&E.push(this.toQuickPick(a,l,o,oe,!0));const F=u.files.map(oe=>this.toQuickPick(a,l,o,oe,!1)),B=u.workspaces[0],M=B&&n.isCurrentWorkspace(yw(B)?B.workspace:B.folderUri);let X;const ee={type:"separator",label:p?c("workspacesAndFolders","folders & workspaces"):c("folders","folders")},z={type:"separator",label:c("files","files")},se=[ee,...E,z,...F],Re=await s.pick(se,{contextKey:SM,activeItem:[...E,...F][M?1:0],placeHolder:He?c("openRecentPlaceholderMac","Select to open (hold Cmd-key to force new window or Option-key for same window)"):c("openRecentPlaceholder","Select to open (hold Ctrl-key to force new window or Alt-key for same window)"),matchOnDescription:!0,onKeyMods:jr(oe=>X=oe,"onKeyMods"),quickNavigate:this.isQuickNavigate()?{keybindings:r.lookupKeybindings(this.desc.id)}:void 0,hideInput:this.isQuickNavigate(),onDidTriggerItemButton:jr(async oe=>{if(oe.button===this.removeFromRecentlyOpened)await i.removeRecentlyOpened([oe.item.resource]),oe.removeItem();else if(oe.button===this.dirtyRecentlyOpenedFolder||oe.button===this.dirtyRecentlyOpenedWorkspace){const De=oe.button===this.dirtyRecentlyOpenedWorkspace,{confirmed:Wt}=await d.confirm({title:De?c("dirtyWorkspace","Workspace with Unsaved Files"):c("dirtyFolder","Folder with Unsaved Files"),message:De?c("dirtyWorkspaceConfirm","Do you want to open the workspace to review the unsaved files?"):c("dirtyFolderConfirm","Do you want to open the folder to review the unsaved files?"),detail:De?c("dirtyWorkspaceConfirmDetail","Workspaces with unsaved files cannot be removed until all unsaved files have been saved or reverted."):c("dirtyFolderConfirmDetail","Folders with unsaved files cannot be removed until all unsaved files have been saved or reverted.")});Wt&&(h.openWindow([oe.item.openable],{remoteAuthority:oe.item.remoteAuthority||null}),s.cancel())}},"onDidTriggerItemButton")});if(Re)return h.openWindow([Re.openable],{forceNewWindow:X?.ctrlCmd,forceReuseWindow:X?.alt,remoteAuthority:Re.remoteAuthority||null})}toQuickPick(e,i,s,n,o){let r,a,l,h,d=!1;du(n)?(h=n.folderUri,a=cv(e,i,h,Kl.FOLDER),r={folderUri:h},l=n.label||s.getWorkspaceLabel(h,{verbose:mp.LONG})):yw(n)?(h=n.workspace.configPath,a=cv(e,i,h,Kl.ROOT_FOLDER),r={workspaceUri:h},l=n.label||s.getWorkspaceLabel(n.workspace,{verbose:mp.LONG}),d=!0):(h=n.fileUri,a=cv(e,i,h,Kl.FILE),r={fileUri:h},l=n.label||s.getUriLabel(h));const{name:u,parentPath:g}=A4(l);return{iconClasses:a,label:u,ariaLabel:o?d?c("recentDirtyWorkspaceAriaLabel","{0}, workspace with unsaved changes",u):c("recentDirtyFolderAriaLabel","{0}, folder with unsaved changes",u):u,description:g,buttons:o?[d?this.dirtyRecentlyOpenedWorkspace:this.dirtyRecentlyOpenedFolder]:[this.removeFromRecentlyOpened],openable:r,resource:h,remoteAuthority:n.remoteAuthority}}}class by extends CM{static{jr(this,"OpenRecentAction")}static ID="workbench.action.openRecent";constructor(){super({id:by.ID,title:{...te("openRecent","Open Recent..."),mnemonicTitle:c({key:"miMore",comment:["&& denotes a mnemonic"]},"&&More...")},category:et.File,f1:!0,keybinding:{weight:Ft.WorkbenchContrib,primary:Ze.CtrlCmd|D.KeyR,mac:{primary:Ze.WinCtrl|D.KeyR}},menu:{id:_.MenubarRecentMenu,group:"y_more",order:1}})}isQuickNavigate(){return!1}}class $te extends CM{static{jr(this,"QuickPickRecentAction")}constructor(){super({id:"workbench.action.quickOpenRecent",title:te("quickOpenRecent","Quick Open Recent..."),category:et.File,f1:!1})}isQuickNavigate(){return!0}}class Kte extends je{static{jr(this,"ToggleFullScreenAction")}constructor(){super({id:"workbench.action.toggleFullScreen",title:{...te("toggleFullScreen","Toggle Full Screen"),mnemonicTitle:c({key:"miToggleFullScreen",comment:["&& denotes a mnemonic"]},"&&Full Screen")},category:et.View,f1:!0,keybinding:{weight:Ft.WorkbenchContrib,primary:D.F11,mac:{primary:Ze.CtrlCmd|Ze.WinCtrl|D.KeyF}},precondition:SR.toNegated(),toggled:V1,menu:[{id:_.MenubarAppearanceMenu,group:"1_toggle_view",order:1}]})}run(e){return e.get(ho).toggleFullScreen(nr())}}class _E extends je{static{jr(this,"ReloadWindowAction")}static ID="workbench.action.reloadWindow";constructor(){super({id:_E.ID,title:te("reloadWindow","Reload Window"),category:et.Developer,f1:!0,keybinding:{weight:Ft.WorkbenchContrib+50,when:_0,primary:Ze.CtrlCmd|D.KeyR}})}async run(e){return e.get(ho).reload()}}class Gte extends je{static{jr(this,"ShowAboutDialogAction")}constructor(){super({id:"workbench.action.showAboutDialog",title:{...te("about","About"),mnemonicTitle:c({key:"miAbout",comment:["&& denotes a mnemonic"]},"&&About")},category:et.Help,f1:!0,menu:{id:_.MenubarHelpMenu,group:"z_about",order:1,when:Ru.toNegated()}})}run(e){return e.get(rl).about()}}class jte extends je{static{jr(this,"NewWindowAction")}constructor(){super({id:"workbench.action.newWindow",title:{...te("newWindow","New Window"),mnemonicTitle:c({key:"miNewWindow",comment:["&& denotes a mnemonic"]},"New &&Window")},f1:!0,keybinding:{weight:Ft.WorkbenchContrib,primary:Qt?Lt?ol(Ze.CtrlCmd|D.KeyK,Ze.Shift|D.KeyN):Ze.CtrlCmd|Ze.Alt|Ze.Shift|D.KeyN:Ze.CtrlCmd|Ze.Shift|D.KeyN,secondary:Qt?[Ze.CtrlCmd|Ze.Shift|D.KeyN]:void 0},menu:{id:_.MenubarFileMenu,group:"1_new",order:3}})}run(e){return e.get(ho).openWindow({remoteAuthority:null})}}class qte extends je{static{jr(this,"BlurAction")}constructor(){super({id:"workbench.action.blur",title:te("blur","Remove keyboard focus from focused element")})}run(){const e=Lo();ns(e)&&e.blur()}}Ie(jte);Ie(Kte);Ie($te);Ie(by);Ie(_E);Ie(Gte);Ie(qte);const DM=H.and(_M,H.has(SM)),OT="workbench.action.quickOpenNavigateNextInRecentFilesPicker";Gi.registerCommandAndKeybindingRule({id:OT,weight:Ft.WorkbenchContrib+50,handler:yE(OT,!0),when:DM,primary:Ze.CtrlCmd|D.KeyR,mac:{primary:Ze.WinCtrl|D.KeyR}});const BT="workbench.action.quickOpenNavigatePreviousInRecentFilesPicker";Gi.registerCommandAndKeybindingRule({id:BT,weight:Ft.WorkbenchContrib+50,handler:yE(BT,!1),when:DM,primary:Ze.CtrlCmd|Ze.Shift|D.KeyR,mac:{primary:Ze.WinCtrl|Ze.Shift|D.KeyR}});ln.registerCommand("workbench.action.toggleConfirmBeforeClose",t=>{const e=t.get(Ke),i=e.inspect("window.confirmBeforeClose").userValue;return e.updateValue("window.confirmBeforeClose",i==="never"?"keyboardOnly":"never")});it.appendMenuItem(_.MenubarFileMenu,{group:"z_ConfirmClose",command:{id:"workbench.action.toggleConfirmBeforeClose",title:c("miConfirmClose","Confirm Before Close"),toggled:H.notEquals("config.window.confirmBeforeClose","never")},order:1,when:_D});it.appendMenuItem(_.MenubarFileMenu,{title:c({key:"miOpenRecent",comment:["&& denotes a mnemonic"]},"Open &&Recent"),submenu:_.MenubarRecentMenu,group:"2_open",order:4});var AM=Object.defineProperty,Yte=Object.getOwnPropertyDescriptor,Yl=(t,e)=>AM(t,"name",{value:e,configurable:!0}),Xte=(t,e,i,s)=>{for(var n=s>1?void 0:s?Yte(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&AM(e,i,n),n},sn=(t,e)=>(i,s)=>e(i,s,t);it.appendMenuItem(_.MenubarMainMenu,{submenu:_.MenubarFileMenu,title:{value:"File",original:"File",mnemonicTitle:c({key:"mFile",comment:["&& denotes a mnemonic"]},"&&File")},order:1});it.appendMenuItem(_.MenubarMainMenu,{submenu:_.MenubarEditMenu,title:{value:"Edit",original:"Edit",mnemonicTitle:c({key:"mEdit",comment:["&& denotes a mnemonic"]},"&&Edit")},order:2});it.appendMenuItem(_.MenubarMainMenu,{submenu:_.MenubarSelectionMenu,title:{value:"Selection",original:"Selection",mnemonicTitle:c({key:"mSelection",comment:["&& denotes a mnemonic"]},"&&Selection")},order:3});it.appendMenuItem(_.MenubarMainMenu,{submenu:_.MenubarViewMenu,title:{value:"View",original:"View",mnemonicTitle:c({key:"mView",comment:["&& denotes a mnemonic"]},"&&View")},order:4});it.appendMenuItem(_.MenubarMainMenu,{submenu:_.MenubarGoMenu,title:{value:"Go",original:"Go",mnemonicTitle:c({key:"mGoto",comment:["&& denotes a mnemonic"]},"&&Go")},order:5});it.appendMenuItem(_.MenubarMainMenu,{submenu:_.MenubarTerminalMenu,title:{value:"Terminal",original:"Terminal",mnemonicTitle:c({key:"mTerminal",comment:["&& denotes a mnemonic"]},"&&Terminal")},order:7});it.appendMenuItem(_.MenubarMainMenu,{submenu:_.MenubarHelpMenu,title:{value:"Help",original:"Help",mnemonicTitle:c({key:"mHelp",comment:["&& denotes a mnemonic"]},"&&Help")},order:8});it.appendMenuItem(_.MenubarMainMenu,{submenu:_.MenubarPreferencesMenu,title:{value:"Preferences",original:"Preferences",mnemonicTitle:c({key:"mPreferences",comment:["&& denotes a mnemonic"]},"Preferences")},when:Ru,order:9});class kw extends q{constructor(e,i,s,n,o,r,a,l,h,d,u,g,p,m){super(),this.menuService=e,this.workspacesService=i,this.contextKeyService=s,this.keybindingService=n,this.configurationService=o,this.labelService=r,this.updateService=a,this.storageService=l,this.notificationService=h,this.preferencesService=d,this.environmentService=u,this.accessibilityService=g,this.hostService=p,this.commandService=m,this.mainMenu=this._register(this.menuService.createMenu(_.MenubarMainMenu,this.contextKeyService)),this.mainMenuDisposables=this._register(new Z),this.setupMainMenu(),this.menuUpdater=this._register(new Ls(()=>this.doUpdateMenubar(!1),200)),this.notifyUserOfCustomMenubarAccessibility()}static{Yl(this,"MenubarControl")}keys=["window.menuBarVisibility","window.enableMenuBarMnemonics","window.customMenuBarAltFocus","workbench.sideBar.location","window.nativeTabs"];mainMenu;menus={};topLevelTitles={};mainMenuDisposables;recentlyOpened={files:[],workspaces:[]};menuUpdater;static MAX_MENU_RECENT_ENTRIES=10;registerListeners(){this._register(this.hostService.onDidChangeFocus(e=>this.onDidChangeWindowFocus(e))),this._register(this.configurationService.onDidChangeConfiguration(e=>this.onConfigurationUpdated(e))),this._register(this.updateService.onStateChange(()=>this.onUpdateStateChange())),this._register(this.workspacesService.onDidChangeRecentlyOpened(()=>{this.onDidChangeRecentlyOpened()})),this._register(this.keybindingService.onDidUpdateKeybindings(()=>this.updateMenubar())),this._register(this.labelService.onDidChangeFormatters(()=>{this.onDidChangeRecentlyOpened()})),this._register(this.mainMenu.onDidChange(()=>{this.setupMainMenu(),this.doUpdateMenubar(!0)}))}setupMainMenu(){this.mainMenuDisposables.clear(),this.menus={},this.topLevelTitles={};const[,e]=this.mainMenu.getActions()[0];for(const i of e)i instanceof Po&&typeof i.item.title!="string"&&(this.menus[i.item.title.original]=this.mainMenuDisposables.add(this.menuService.createMenu(i.item.submenu,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.topLevelTitles[i.item.title.original]=i.item.title.mnemonicTitle??i.item.title.value)}updateMenubar(){this.menuUpdater.schedule()}calculateActionLabel(e){const i=e.label;switch(e.id){}return i}onUpdateStateChange(){this.updateMenubar()}onUpdateKeybindings(){this.updateMenubar()}getOpenRecentActions(){if(!this.recentlyOpened)return[];const{workspaces:e,files:i}=this.recentlyOpened,s=[];if(e.length>0){for(let n=0;n<kw.MAX_MENU_RECENT_ENTRIES&&n<e.length;n++)s.push(this.createOpenRecentMenuAction(e[n]));s.push(new st)}if(i.length>0){for(let n=0;n<kw.MAX_MENU_RECENT_ENTRIES&&n<i.length;n++)s.push(this.createOpenRecentMenuAction(i[n]));s.push(new st)}return s}onDidChangeWindowFocus(e){e&&this.onDidChangeRecentlyOpened()}onConfigurationUpdated(e){this.keys.some(i=>e.affectsConfiguration(i))&&this.updateMenubar(),e.affectsConfiguration("editor.accessibilitySupport")&&this.notifyUserOfCustomMenubarAccessibility(),e.affectsConfiguration("window.menuBarVisibility")&&this.onDidChangeRecentlyOpened()}get menubarHidden(){return He&&dn?!1:Ka(this.configurationService)==="hidden"}onDidChangeRecentlyOpened(){this.menubarHidden||this.workspacesService.getRecentlyOpened().then(e=>{this.recentlyOpened=e,this.updateMenubar()})}createOpenRecentMenuAction(e){let i,s,n,o;const r=e.remoteAuthority;du(e)?(s=e.folderUri,i=e.label||this.labelService.getWorkspaceLabel(s,{verbose:mp.LONG}),n="openRecentFolder",o={folderUri:s}):yw(e)?(s=e.workspace.configPath,i=e.label||this.labelService.getWorkspaceLabel(e.workspace,{verbose:mp.LONG}),n="openRecentWorkspace",o={workspaceUri:s}):(s=e.fileUri,i=e.label||this.labelService.getUriLabel(s),n="openRecentFile",o={fileUri:s});const a=li({id:n,label:D4(i),run:Yl(l=>{const h=l&&(!He&&(l.ctrlKey||l.shiftKey)||He&&(l.metaKey||l.altKey));return this.hostService.openWindow([o],{forceNewWindow:!!h,remoteAuthority:r||null})},"run")});return Object.assign(a,{uri:s,remoteAuthority:r})}notifyUserOfCustomMenubarAccessibility(){if(Qt||He)return;const e=this.storageService.getBoolean("menubar/accessibleMenubarNotified",_e.APPLICATION,!1),i=!ec(this.configurationService);if(e||i||!this.accessibilityService.isScreenReaderOptimized())return;const s=c("menubar.customTitlebarAccessibilityNotification","Accessibility support is enabled for you. For the most accessible experience, we recommend the custom title bar style.");this.notificationService.prompt(qs.Info,s,[{label:c("goToSetting","Open Settings"),run:Yl(()=>this.preferencesService.openUserSettings({query:Wh.TITLE_BAR_STYLE}),"run")}]),this.storageService.store("menubar/accessibleMenubarNotified",!0,_e.APPLICATION,Pt.USER)}}let yb;function EM(){return yb||(yb=new I,Ie(class extends je{constructor(){super({id:"workbench.actions.menubar.focus",title:te("focusMenu","Focus Application Menu"),keybinding:{primary:Ze.Alt|D.F10,weight:Ft.WorkbenchContrib,when:_D},f1:!0})}async run(){yb?.fire()}})),yb}Yl(EM,"enableFocusMenuBarAction");let wS=class extends kw{constructor(t,e,i,s,n,o,r,a,l,h,d,u,g,p,m){super(t,e,i,s,n,o,r,a,l,h,d,u,p,m),this.telemetryService=g,this._onVisibilityChange=this._register(new I),this._onFocusStateChange=this._register(new I),this.actionRunner=this._register(new Zr),this.actionRunner.onDidRun(b=>{this.telemetryService.publicLog2("workbenchActionExecuted",{id:b.action.id,from:"menu"})}),this.workspacesService.getRecentlyOpened().then(b=>{this.recentlyOpened=b}),this.registerListeners()}static{Yl(this,"CustomMenubarControl")}menubar;container;alwaysOnMnemonics=!1;focusInsideMenubar=!1;pendingFirstTimeUpdate=!1;visible=!0;actionRunner;webNavigationMenu=this._register(this.menuService.createMenu(_.MenubarHomeMenu,this.contextKeyService));_onVisibilityChange;_onFocusStateChange;doUpdateMenubar(t){this.focusInsideMenubar||this.setupCustomMenubar(t),t&&(this.pendingFirstTimeUpdate=!0)}getUpdateAction(){switch(this.updateService.state.type){case Sl.Idle:return new Et("update.check",c({key:"checkForUpdates",comment:["&& denotes a mnemonic"]},"Check for &&Updates..."),void 0,!0,()=>this.updateService.checkForUpdates(!0));case Sl.CheckingForUpdates:return new Et("update.checking",c("checkingForUpdates","Checking for Updates..."),void 0,!1);case Sl.AvailableForDownload:return new Et("update.downloadNow",c({key:"download now",comment:["&& denotes a mnemonic"]},"D&&ownload Update"),void 0,!0,()=>this.updateService.downloadUpdate());case Sl.Downloading:return new Et("update.downloading",c("DownloadingUpdate","Downloading Update..."),void 0,!1);case Sl.Downloaded:return He?null:new Et("update.install",c({key:"installUpdate...",comment:["&& denotes a mnemonic"]},"Install &&Update..."),void 0,!0,()=>this.updateService.applyUpdate());case Sl.Updating:return new Et("update.updating",c("installingUpdate","Installing Update..."),void 0,!1);case Sl.Ready:return new Et("update.restart",c({key:"restartToUpdate",comment:["&& denotes a mnemonic"]},"Restart to &&Update"),void 0,!0,()=>this.updateService.quitAndInstall());default:return null}}get currentMenubarVisibility(){return Ka(this.configurationService)}get currentDisableMenuBarAltFocus(){const t=this.configurationService.getValue("window.customMenuBarAltFocus");let e=!1;return typeof t=="boolean"&&(e=!t),e}insertActionsBefore(t,e){switch(t.id){case by.ID:e.push(...this.getOpenRecentActions());break;case"workbench.action.showAboutDialog":if(!He&&!Qt){const i=this.getUpdateAction();i&&(i.label=Ca(i.label),e.push(i),e.push(new st))}break}}get currentEnableMenuBarMnemonics(){let t=this.configurationService.getValue("window.enableMenuBarMnemonics");return typeof t!="boolean"&&(t=!0),t&&(!Qt||Dh(Q))}get currentCompactMenuMode(){if(this.currentMenubarVisibility!=="compact")return;const e=this.configurationService.getValue("workbench.sideBar.location")==="right"?Ol.Left:Ol.Right,s=this.configurationService.getValue("workbench.activityBar.location")===pt.BOTTOM?mu.Above:mu.Below;return{horizontal:e,vertical:s}}onDidVisibilityChange(t){this.visible=t,this.onDidChangeRecentlyOpened(),this._onVisibilityChange.fire(t)}toActionsArray(t){const e=[];return Vu(t,{shouldForwardArgs:!0},e),e}reinstallDisposables=this._register(new Z);setupCustomMenubar(t){if(!this.container)return;t?(this.menubar&&this.reinstallDisposables.clear(),this.menubar=this.reinstallDisposables.add(new Mi(this.container,this.getMenuBarOptions(),EO)),this.accessibilityService.alwaysUnderlineAccessKeys().then(i=>{this.alwaysOnMnemonics=i,this.menubar?.update(this.getMenuBarOptions())}),this.reinstallDisposables.add(this.menubar.onFocusStateChange(i=>{this._onFocusStateChange.fire(i),i||(this.pendingFirstTimeUpdate?(this.setupCustomMenubar(!0),this.pendingFirstTimeUpdate=!1):this.updateMenubar(),this.focusInsideMenubar=!1)})),this.reinstallDisposables.add(this.menubar.onVisibilityChange(i=>this.onDidVisibilityChange(i))),this.reinstallDisposables.add(N(this.container,U.FOCUS_IN,()=>{this.focusInsideMenubar=!0})),this.reinstallDisposables.add(N(this.container,U.FOCUS_OUT,()=>{this.focusInsideMenubar=!1})),this.menubar.isVisible&&this.onDidVisibilityChange(!0)):this.menubar?.update(this.getMenuBarOptions());const e=Yl((i,s,n)=>{s.splice(0);for(const o of i)if(this.insertActionsBefore(o,s),o instanceof st)s.push(o);else if(o instanceof Po||o instanceof Jn){let r=typeof o.item.title=="string"?o.item.title:o.item.title.mnemonicTitle??o.item.title.value;if(o instanceof Po){const a=[];e(o.actions,a,n),a.length>0&&s.push(new ro(o.id,Ca(r),a))}else{_A(o.item.toggled)&&(r=o.item.toggled.mnemonicTitle??o.item.toggled.title??r);const a=new Et(o.id,Ca(r),o.class,o.enabled,()=>this.commandService.executeCommand(o.id));a.tooltip=o.tooltip,a.checked=o.checked,s.push(a)}}if(n==="File"&&this.currentCompactMenuMode===void 0){const o=this.getWebNavigationActions();o.length&&s.push(...o)}},"updateActions");for(const i of Object.keys(this.topLevelTitles)){const s=this.menus[i];t&&s&&(this.reinstallDisposables.add(s.onDidChange(()=>{if(!this.focusInsideMenubar){const o=[];e(this.toActionsArray(s),o,i),this.menubar?.updateMenu({actions:o,label:Ca(this.topLevelTitles[i])})}})),s===this.menus.File&&this.reinstallDisposables.add(this.webNavigationMenu.onDidChange(()=>{if(!this.focusInsideMenubar){const o=[];e(this.toActionsArray(s),o,i),this.menubar?.updateMenu({actions:o,label:Ca(this.topLevelTitles[i])})}})));const n=[];s&&e(this.toActionsArray(s),n,i),this.menubar&&(t?this.menubar.push({actions:n,label:Ca(this.topLevelTitles[i])}):this.menubar.updateMenu({actions:n,label:Ca(this.topLevelTitles[i])}))}}getWebNavigationActions(){if(!Qt)return[];const t=[];for(const e of this.webNavigationMenu.getActions()){const[,i]=e;for(const s of i)if(s instanceof Jn){const n=typeof s.item.title=="string"?s.item.title:s.item.title.mnemonicTitle??s.item.title.value;t.push(new Et(s.id,Ca(n),s.class,s.enabled,async o=>{this.commandService.executeCommand(s.id,o)}))}t.push(new st)}return t.length&&t.pop(),t}getMenuBarOptions(){return{enableMnemonics:this.currentEnableMenuBarMnemonics,disableAltFocus:this.currentDisableMenuBarAltFocus,visibility:this.currentMenubarVisibility,actionRunner:this.actionRunner,getKeybinding:Yl(t=>this.keybindingService.lookupKeybinding(t.id),"getKeybinding"),alwaysOnMnemonics:this.alwaysOnMnemonics,compactMode:this.currentCompactMenuMode,getCompactMenuActions:Yl(()=>Qt?this.getWebNavigationActions():[],"getCompactMenuActions")}}onDidChangeWindowFocus(t){this.visible&&(super.onDidChangeWindowFocus(t),this.container&&(t?this.container.classList.remove("inactive"):(this.container.classList.add("inactive"),this.menubar?.blur())))}onUpdateStateChange(){this.visible&&super.onUpdateStateChange()}onDidChangeRecentlyOpened(){this.visible&&super.onDidChangeRecentlyOpened()}onUpdateKeybindings(){this.visible&&super.onUpdateKeybindings()}registerListeners(){super.registerListeners(),this._register(N(Q,U.RESIZE,()=>{this.menubar&&!(No&&qp.pointerEvents)&&this.menubar.blur()})),Qt&&(this._register(YS(t=>{t===Q.vscodeWindowId&&this.updateMenubar()})),this._register(this.webNavigationMenu.onDidChange(()=>this.updateMenubar())),this._register(EM().event(()=>this.menubar?.toggleFocus())))}get onVisibilityChange(){return this._onVisibilityChange.event}get onFocusStateChange(){return this._onFocusStateChange.event}getMenubarItemsDimensions(){return this.menubar?new Vt(this.menubar.getWidth(),this.menubar.getHeight()):new Vt(0,0)}create(t){return this.container=t,this.container&&this.doUpdateMenubar(!0),this.container}layout(t){this.menubar?.update(this.getMenuBarOptions())}toggleFocus(){this.menubar?.toggleFocus()}};wS=Xte([sn(0,Qs),sn(1,QA),sn(2,Qe),sn(3,qt),sn(4,Ke),sn(5,z1),sn(6,Ote),sn(7,as),sn(8,Ns),sn(9,TA),sn(10,vr),sn(11,A1),sn(12,Zs),sn(13,ho),sn(14,Hi)],wS);var IM=Object.defineProperty,Zte=Object.getOwnPropertyDescriptor,qn=(t,e)=>IM(t,"name",{value:e,configurable:!0}),TM=(t,e,i,s)=>{for(var n=s>1?void 0:s?Zte(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&IM(e,i,n),n},Cn=(t,e)=>(i,s)=>e(i,s,t);let sr=class extends eA{constructor(t,e,i,s,n){super(P.ACTIVITYBAR_PART,{hasTitle:!1},s,n,i),this.paneCompositePart=t,this.instantiationService=e}static{qn(this,"ActivitybarPart")}static ACTION_HEIGHT=48;static pinnedViewContainersKey="workbench.activity.pinnedViewlets2";static placeholderViewContainersKey="workbench.activity.placeholderViewlets";static viewContainersWorkspaceStateKey="workbench.activity.viewletsWorkspaceState";minimumWidth=48;maximumWidth=48;minimumHeight=0;maximumHeight=Number.POSITIVE_INFINITY;compositeBar=this._register(new fr);content;createCompositeBar(){return this.instantiationService.createInstance(xw,{partContainerClass:"activitybar",pinnedViewContainersKey:sr.pinnedViewContainersKey,placeholderViewContainersKey:sr.placeholderViewContainersKey,viewContainersWorkspaceStateKey:sr.viewContainersWorkspaceStateKey,orientation:os.VERTICAL,icon:!0,iconSize:24,activityHoverOptions:{position:qn(()=>this.layoutService.getSideBarPosition()===Je.LEFT?tl.RIGHT:tl.LEFT,"position")},preventLoopNavigation:!0,recomputeSizes:!1,fillExtraContextMenuActions:qn((t,e)=>{},"fillExtraContextMenuActions"),compositeSize:52,colors:qn(t=>({activeForegroundColor:t.getColor(Nh),inactiveForegroundColor:t.getColor(nH),activeBorderColor:t.getColor(eP),activeBackground:t.getColor(tP),badgeBackground:t.getColor(Qh),badgeForeground:t.getColor(Jh),dragAndDropBorder:t.getColor(aH),activeBackgroundColor:void 0,inactiveBackgroundColor:void 0,activeBorderBottomColor:void 0}),"colors"),overflowActionSize:sr.ACTION_HEIGHT},P.ACTIVITYBAR_PART,this.paneCompositePart,!0)}createContentArea(t){return this.element=t,this.content=we(this.element,de(".content")),this.layoutService.isVisible(P.ACTIVITYBAR_PART)&&this.show(),this.content}getPinnedPaneCompositeIds(){return this.compositeBar.value?.getPinnedPaneCompositeIds()??[]}getVisiblePaneCompositeIds(){return this.compositeBar.value?.getVisiblePaneCompositeIds()??[]}focus(){this.compositeBar.value?.focus()}updateStyles(){super.updateStyles();const t=di(this.getContainer()),e=this.getColor(sH)||"";t.style.backgroundColor=e;const i=this.getColor(oH)||this.getColor(ce)||"";t.classList.toggle("bordered",!!i),t.style.borderColor=i||""}show(t){this.content&&(this.compositeBar.value||(this.compositeBar.value=this.createCompositeBar(),this.compositeBar.value.create(this.content),this.dimension&&this.layout(this.dimension.width,this.dimension.height)),t&&this.focus())}hide(){this.compositeBar.value&&(this.compositeBar.clear(),this.content&&ds(this.content))}layout(t,e){if(super.layout(t,e,0,0),!this.compositeBar.value)return;const i=super.layoutContents(t,e).contentSize;this.compositeBar.value.layout(t,i.height)}toJSON(){return{type:P.ACTIVITYBAR_PART}}};sr=TM([Cn(1,rt),Cn(2,lt),Cn(3,Vi),Cn(4,as)],sr);let xw=class extends Cw{constructor(t,e,i,s,n,o,r,a,l,h,d,u,g,p){super({...t,fillExtraContextMenuActions:qn((m,b)=>{t.fillExtraContextMenuActions(m,b),this.fillContextMenuActions(m,b)},"fillExtraContextMenuActions")},e,i,n,o,r,a,l,h,d,p),this.configurationService=u,this.menuService=g,s&&(this.globalCompositeBar=this._register(n.createInstance(_h,()=>this.getContextMenuActions(),m=>this.options.colors(m),this.options.activityHoverOptions))),this._register(this.configurationService.onDidChangeConfiguration(m=>{m.affectsConfiguration("window.menuBarVisibility")&&(Ka(this.configurationService)==="compact"?this.installMenubar():this.uninstallMenubar())}))}static{qn(this,"ActivityBarCompositeBar")}element;menuBar;menuBarContainer;compositeBarContainer;globalCompositeBar;keyboardNavigationDisposables=this._register(new Z);fillContextMenuActions(t,e){const i=Ka(this.configurationService);(i==="compact"||i==="hidden"||i==="toggle")&&t.unshift(li({id:"toggleMenuVisibility",label:c("menu","Menu"),checked:i==="compact",run:qn(()=>this.configurationService.updateValue("window.menuBarVisibility",i==="compact"?"toggle":"compact"),"run")}),new st),i==="compact"&&this.menuBarContainer&&e?.target&&hs(e.target,this.menuBarContainer)&&t.unshift(li({id:"hideCompactMenu",label:c("hideMenu","Hide Menu"),run:qn(()=>this.configurationService.updateValue("window.menuBarVisibility","toggle"),"run")}),new st),this.globalCompositeBar&&(t.push(new st),t.push(...this.globalCompositeBar.getContextMenuActions())),t.push(new st),t.push(...this.getActivityBarContextMenuActions())}uninstallMenubar(){this.menuBar&&(this.menuBar.dispose(),this.menuBar=void 0),this.menuBarContainer&&(this.menuBarContainer.remove(),this.menuBarContainer=void 0)}installMenubar(){if(this.menuBar)return;this.menuBarContainer=document.createElement("div"),this.menuBarContainer.classList.add("menubar"),di(this.element).prepend(this.menuBarContainer),this.menuBar=this._register(this.instantiationService.createInstance(wS)),this.menuBar.create(this.menuBarContainer)}registerKeyboardNavigationListeners(){this.keyboardNavigationDisposables.clear(),this.menuBarContainer&&this.keyboardNavigationDisposables.add(N(this.menuBarContainer,U.KEY_DOWN,t=>{const e=new mt(t);(e.equals(D.DownArrow)||e.equals(D.RightArrow))&&this.focus()})),this.compositeBarContainer&&this.keyboardNavigationDisposables.add(N(this.compositeBarContainer,U.KEY_DOWN,t=>{const e=new mt(t);e.equals(D.DownArrow)||e.equals(D.RightArrow)?this.globalCompositeBar?.focus():(e.equals(D.UpArrow)||e.equals(D.LeftArrow))&&this.menuBar?.toggleFocus()})),this.globalCompositeBar&&this.keyboardNavigationDisposables.add(N(this.globalCompositeBar.element,U.KEY_DOWN,t=>{const e=new mt(t);(e.equals(D.UpArrow)||e.equals(D.LeftArrow))&&this.focus(this.getVisiblePaneCompositeIds().length-1)}))}create(t){return this.element=t,Ka(this.configurationService)==="compact"&&this.installMenubar(),this.compositeBarContainer=super.create(this.element),this.globalCompositeBar&&this.globalCompositeBar.create(this.element),this.registerKeyboardNavigationListeners(),this.compositeBarContainer}layout(t,e){this.menuBarContainer&&(this.options.orientation===os.VERTICAL?e-=this.menuBarContainer.clientHeight:t-=this.menuBarContainer.clientWidth),this.globalCompositeBar&&(this.options.orientation===os.VERTICAL?e-=this.globalCompositeBar.size()*sr.ACTION_HEIGHT:t-=this.globalCompositeBar.element.clientWidth),super.layout(t,e)}getActivityBarContextMenuActions(){const t=this.menuService.getMenuActions(_.ActivityBarPositionMenu,this.contextKeyService,{shouldForwardArgs:!0,renderShortTitle:!0}),e=[];return Vu(t,{primary:[],secondary:e}),[new ro("workbench.action.panel.position",c("activity bar position","Activity Bar Position"),e),li({id:Gs.ID,label:Gs.getLabel(this.layoutService),run:qn(()=>this.instantiationService.invokeFunction(i=>new Gs().run(i)),"run")})]}};xw=TM([Cn(4,rt),Cn(5,as),Cn(6,yr),Cn(7,fs),Cn(8,Cc),Cn(9,Qe),Cn(10,vr),Cn(11,Ke),Cn(12,Qs),Cn(13,lt)],xw);Ie(class extends je{constructor(){super({id:"workbench.action.activityBarLocation.default",title:{...te("positionActivityBarDefault","Move Activity Bar to Side"),mnemonicTitle:c({key:"miDefaultActivityBar",comment:["&& denotes a mnemonic"]},"&&Default")},shortTitle:c("default","Default"),category:et.View,toggled:H.equals(`config.${We.ACTIVITY_BAR_LOCATION}`,pt.DEFAULT),menu:[{id:_.ActivityBarPositionMenu,order:1},{id:_.CommandPalette,when:H.notEquals(`config.${We.ACTIVITY_BAR_LOCATION}`,pt.DEFAULT)}]})}run(t){t.get(Ke).updateValue(We.ACTIVITY_BAR_LOCATION,pt.DEFAULT)}});Ie(class extends je{constructor(){super({id:"workbench.action.activityBarLocation.top",title:{...te("positionActivityBarTop","Move Activity Bar to Top"),mnemonicTitle:c({key:"miTopActivityBar",comment:["&& denotes a mnemonic"]},"&&Top")},shortTitle:c("top","Top"),category:et.View,toggled:H.equals(`config.${We.ACTIVITY_BAR_LOCATION}`,pt.TOP),menu:[{id:_.ActivityBarPositionMenu,order:2},{id:_.CommandPalette,when:H.notEquals(`config.${We.ACTIVITY_BAR_LOCATION}`,pt.TOP)}]})}run(t){t.get(Ke).updateValue(We.ACTIVITY_BAR_LOCATION,pt.TOP)}});Ie(class extends je{constructor(){super({id:"workbench.action.activityBarLocation.bottom",title:{...te("positionActivityBarBottom","Move Activity Bar to Bottom"),mnemonicTitle:c({key:"miBottomActivityBar",comment:["&& denotes a mnemonic"]},"&&Bottom")},shortTitle:c("bottom","Bottom"),category:et.View,toggled:H.equals(`config.${We.ACTIVITY_BAR_LOCATION}`,pt.BOTTOM),menu:[{id:_.ActivityBarPositionMenu,order:3},{id:_.CommandPalette,when:H.notEquals(`config.${We.ACTIVITY_BAR_LOCATION}`,pt.BOTTOM)}]})}run(t){t.get(Ke).updateValue(We.ACTIVITY_BAR_LOCATION,pt.BOTTOM)}});Ie(class extends je{constructor(){super({id:"workbench.action.activityBarLocation.hide",title:{...te("hideActivityBar","Hide Activity Bar"),mnemonicTitle:c({key:"miHideActivityBar",comment:["&& denotes a mnemonic"]},"&&Hidden")},shortTitle:c("hide","Hidden"),category:et.View,toggled:H.equals(`config.${We.ACTIVITY_BAR_LOCATION}`,pt.HIDDEN),menu:[{id:_.ActivityBarPositionMenu,order:4},{id:_.CommandPalette,when:H.notEquals(`config.${We.ACTIVITY_BAR_LOCATION}`,pt.HIDDEN)}]})}run(t){t.get(Ke).updateValue(We.ACTIVITY_BAR_LOCATION,pt.HIDDEN)}});it.appendMenuItem(_.MenubarAppearanceMenu,{submenu:_.ActivityBarPositionMenu,title:c("positionActivituBar","Activity Bar Position"),group:"3_workbench_layout_move",order:2});it.appendMenuItem(_.ViewContainerTitleContext,{submenu:_.ActivityBarPositionMenu,title:c("positionActivituBar","Activity Bar Position"),when:H.equals("viewContainerLocation",Ts(ne.Sidebar)),group:"3_workbench_layout_move",order:1});it.appendMenuItem(_.ViewTitleContext,{submenu:_.ActivityBarPositionMenu,title:c("positionActivituBar","Activity Bar Position"),when:H.equals("viewLocation",Ts(ne.Sidebar)),group:"3_workbench_layout_move",order:1});class kM extends je{constructor(e,i){super(e),this.offset=i}static{qn(this,"SwitchSideBarViewAction")}async run(e){const i=e.get(al),s=i.getVisiblePaneCompositeIds(ne.Sidebar),n=i.getActivePaneComposite(ne.Sidebar);if(!n)return;let o;for(let r=0;r<s.length;r++)if(s[r]===n.getId()){o=s[(r+s.length+this.offset)%s.length];break}await i.openPaneComposite(o,ne.Sidebar,!0)}}Ie(class extends kM{static{qn(this,"PreviousSideBarViewAction")}constructor(){super({id:"workbench.action.previousSideBarView",title:te("previousSideBarView","Previous Primary Side Bar View"),category:et.View,f1:!0},-1)}});Ie(class extends kM{static{qn(this,"NextSideBarViewAction")}constructor(){super({id:"workbench.action.nextSideBarView",title:te("nextSideBarView","Next Primary Side Bar View"),category:et.View,f1:!0},1)}});Ie(class extends je{static{qn(this,"FocusActivityBarAction")}constructor(){super({id:"workbench.action.focusActivityBar",title:te("focusActivityBar","Focus Activity Bar"),category:et.View,f1:!0})}async run(e){e.get(lt).focusPart(P.ACTIVITYBAR_PART)}});UC((t,e)=>{const i=t.getColor(eP);i&&e.addRule(`
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked .active-item-indicator:before {
				border-left-color: ${i};
			}
		`);const s=t.getColor(rH);s&&e.addRule(`
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked:focus::before {
				visibility: hidden;
			}

			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked:focus .active-item-indicator:before {
				visibility: visible;
				border-left-color: ${s};
			}
		`);const n=t.getColor(tP);n&&e.addRule(`
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked .active-item-indicator {
				z-index: 0;
				background-color: ${n};
			}
		`);const o=t.getColor(yi);if(o)e.addRule(`
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item .action-label::before{
				padding: 6px;
			}

			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.active .action-label::before,
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.active:hover .action-label::before,
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked .action-label::before,
			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item.checked:hover .action-label::before {
				outline: 1px solid ${o};
			}

			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item:hover .action-label::before {
				outline: 1px dashed ${o};
			}

			.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item:focus .active-item-indicator:before {
				border-left-color: ${o};
			}
		`);else{const r=t.getColor(oo);r&&e.addRule(`
				.monaco-workbench .activitybar > .content :not(.monaco-menu) > .monaco-action-bar .action-item:focus .active-item-indicator::before {
						border-left-color: ${r};
					}
				`)}});var xM=Object.defineProperty,Qte=Object.getOwnPropertyDescriptor,Wg=(t,e)=>xM(t,"name",{value:e,configurable:!0}),Jte=(t,e,i,s)=>{for(var n=s>1?void 0:s?Qte(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&xM(e,i,n),n},Vn=(t,e)=>(i,s)=>e(i,s,t);let Pp=class extends Ku{constructor(t,e,i,s,n,o,r,a,l,h,d,u,g){super(P.SIDEBAR_PART,{hasTitle:!0,borderWidth:Wg(()=>this.getColor(Mv)||this.getColor(ce)?1:0,"borderWidth")},Pp.activeViewletSettingsKey,NG.bindTo(h),RG.bindTo(h),"sideBar","viewlet",cH,t,e,i,s,n,o,r,a,l,h,d,g),this.configurationService=u,this.rememberActivityBarVisiblePosition(),this._register(u.onDidChangeConfiguration(p=>{p.affectsConfiguration(We.ACTIVITY_BAR_LOCATION)&&this.onDidChangeActivityBarLocation()})),this.registerActions()}static{Wg(this,"SidebarPart")}static activeViewletSettingsKey="workbench.sidebar.activeviewletid";minimumWidth=170;maximumWidth=Number.POSITIVE_INFINITY;minimumHeight=0;maximumHeight=Number.POSITIVE_INFINITY;get snap(){return!0}priority=Lr.Low;get preferredWidth(){const t=this.getActivePaneComposite();if(!t)return;const e=t.getOptimalWidth();if(typeof e=="number")return Math.max(e,300)}activityBarPart=this._register(this.instantiationService.createInstance(sr,this));onDidChangeActivityBarLocation(){this.activityBarPart.hide(),this.updateCompositeBar();const t=this.getActiveComposite()?.getId();t&&this.onTitleAreaUpdate(t),this.shouldShowActivityBar()&&this.activityBarPart.show(),this.rememberActivityBarVisiblePosition()}updateStyles(){super.updateStyles();const t=di(this.getContainer());t.style.backgroundColor=this.getColor(Wa)||"",t.style.color=this.getColor(y1)||"";const e=this.getColor(Mv)||this.getColor(ce),i=this.layoutService.getSideBarPosition()===Je.LEFT;t.style.borderRightWidth=e&&i?"1px":"",t.style.borderRightStyle=e&&i?"solid":"",t.style.borderRightColor=i&&e||"",t.style.borderLeftWidth=e&&!i?"1px":"",t.style.borderLeftStyle=e&&!i?"solid":"",t.style.borderLeftColor=i?"":e||"",t.style.outlineColor=this.getColor($C)??""}layout(t,e,i,s){this.layoutService.isVisible(P.SIDEBAR_PART)&&super.layout(t,e,i,s)}getTitleAreaDropDownAnchorAlignment(){return this.layoutService.getSideBarPosition()===Je.LEFT?cc.LEFT:cc.RIGHT}createCompositeBar(){return this.instantiationService.createInstance(xw,this.getCompositeBarOptions(),this.partId,this,!1)}getCompositeBarOptions(){return{partContainerClass:"sidebar",pinnedViewContainersKey:sr.pinnedViewContainersKey,placeholderViewContainersKey:sr.placeholderViewContainersKey,viewContainersWorkspaceStateKey:sr.viewContainersWorkspaceStateKey,icon:!0,orientation:os.HORIZONTAL,recomputeSizes:!0,activityHoverOptions:{position:Wg(()=>this.getCompositeBarPosition()===Es.BOTTOM?tl.ABOVE:tl.BELOW,"position")},fillExtraContextMenuActions:Wg(t=>{const e=this.getViewsSubmenuAction();e&&(t.push(new st),t.push(e))},"fillExtraContextMenuActions"),compositeSize:0,iconSize:16,overflowActionSize:30,colors:Wg(t=>({activeBackgroundColor:t.getColor(Wa),inactiveBackgroundColor:t.getColor(Wa),activeBorderBottomColor:t.getColor(iP),activeForegroundColor:t.getColor(Oh),inactiveForegroundColor:t.getColor(sP),badgeBackground:t.getColor(Qh),badgeForeground:t.getColor(Jh),dragAndDropBorder:t.getColor(nP)}),"colors"),compact:!0}}shouldShowCompositeBar(){const t=this.configurationService.getValue(We.ACTIVITY_BAR_LOCATION);return t===pt.TOP||t===pt.BOTTOM}shouldShowActivityBar(){return this.shouldShowCompositeBar()?!1:this.configurationService.getValue(We.ACTIVITY_BAR_LOCATION)!==pt.HIDDEN}getCompositeBarPosition(){switch(this.configurationService.getValue(We.ACTIVITY_BAR_LOCATION)){case pt.TOP:return Es.TOP;case pt.BOTTOM:return Es.BOTTOM;case pt.HIDDEN:case pt.DEFAULT:default:return Es.TITLE}}rememberActivityBarVisiblePosition(){const t=this.configurationService.getValue(We.ACTIVITY_BAR_LOCATION);t!==pt.HIDDEN&&this.storageService.store(We.ACTIVITY_BAR_LOCATION,t,_e.PROFILE,Pt.USER)}getRememberedActivityBarVisiblePosition(){switch(this.storageService.get(We.ACTIVITY_BAR_LOCATION,_e.PROFILE)){case pt.TOP:return pt.TOP;case pt.BOTTOM:return pt.BOTTOM;default:return pt.DEFAULT}}getPinnedPaneCompositeIds(){return this.shouldShowCompositeBar()?super.getPinnedPaneCompositeIds():this.activityBarPart.getPinnedPaneCompositeIds()}getVisiblePaneCompositeIds(){return this.shouldShowCompositeBar()?super.getVisiblePaneCompositeIds():this.activityBarPart.getVisiblePaneCompositeIds()}async focusActivityBar(){this.configurationService.getValue(We.ACTIVITY_BAR_LOCATION)===pt.HIDDEN&&(await this.configurationService.updateValue(We.ACTIVITY_BAR_LOCATION,this.getRememberedActivityBarVisiblePosition()),this.onDidChangeActivityBarLocation()),this.shouldShowCompositeBar()?this.focusCompositeBar():(this.layoutService.isVisible(P.ACTIVITYBAR_PART)||this.layoutService.setPartHidden(!1,P.ACTIVITYBAR_PART),this.activityBarPart.show(!0))}registerActions(){const t=this;this._register(Ie(class extends je{constructor(){super({id:UO,title:te("toggleActivityBar","Toggle Activity Bar Visibility")})}run(){const e=t.configurationService.getValue(We.ACTIVITY_BAR_LOCATION)===pt.HIDDEN?t.getRememberedActivityBarVisiblePosition():pt.HIDDEN;return t.configurationService.updateValue(We.ACTIVITY_BAR_LOCATION,e)}}))}toJSON(){return{type:P.SIDEBAR_PART}}};Pp=Jte([Vn(0,Ns),Vn(1,as),Vn(2,Di),Vn(3,lt),Vn(4,qt),Vn(5,Ss),Vn(6,rt),Vn(7,Vi),Vn(8,fs),Vn(9,Qe),Vn(10,yr),Vn(11,Ke),Vn(12,Qs)],Pp);var eie=Object.defineProperty,Nr=(t,e)=>eie(t,"name",{value:e,configurable:!0});const tie=[We.ACTIVITY_BAR_LOCATION,We.COMMAND_CENTER,We.EDITOR_ACTIONS_LOCATION,We.LAYOUT_ACTIONS,"window.menuBarVisibility",Wh.TITLE_BAR_STYLE,Wh.CUSTOM_TITLE_BAR_VISIBILITY];class iie extends q{constructor(e){super(),this.parent=e}static{Nr(this,"Layout")}_onDidChangeZenMode=this._register(new I);onDidChangeZenMode=this._onDidChangeZenMode.event;_onDidChangeMainEditorCenteredLayout=this._register(new I);onDidChangeMainEditorCenteredLayout=this._onDidChangeMainEditorCenteredLayout.event;_onDidChangePanelAlignment=this._register(new I);onDidChangePanelAlignment=this._onDidChangePanelAlignment.event;_onDidChangeWindowMaximized=this._register(new I);onDidChangeWindowMaximized=this._onDidChangeWindowMaximized.event;_onDidChangePanelPosition=this._register(new I);onDidChangePanelPosition=this._onDidChangePanelPosition.event;_onDidChangePartVisibility=this._register(new I);onDidChangePartVisibility=this._onDidChangePartVisibility.event;_onDidChangeNotificationsVisibility=this._register(new I);onDidChangeNotificationsVisibility=this._onDidChangeNotificationsVisibility.event;_onDidLayoutMainContainer=this._register(new I);onDidLayoutMainContainer=this._onDidLayoutMainContainer.event;_onDidLayoutActiveContainer=this._register(new I);onDidLayoutActiveContainer=this._onDidLayoutActiveContainer.event;_onDidLayoutContainer=this._register(new I);onDidLayoutContainer=this._onDidLayoutContainer.event;_onDidAddContainer=this._register(new I);onDidAddContainer=this._onDidAddContainer.event;_onDidChangeActiveContainer=this._register(new I);onDidChangeActiveContainer=this._onDidChangeActiveContainer.event;mainContainer=document.createElement("div");get activeContainer(){return this.getContainerFromDocument(tg())}get containers(){const e=[];for(const{window:i}of ip())e.push(this.getContainerFromDocument(i.document));return e}getContainerFromDocument(e){return e===this.mainContainer.ownerDocument?this.mainContainer:e.body.getElementsByClassName("monaco-workbench")[0]}containerStylesLoaded=new Map;whenContainerStylesLoaded(e){return this.containerStylesLoaded.get(e.vscodeWindowId)}_mainContainerDimension;get mainContainerDimension(){return this._mainContainerDimension}get activeContainerDimension(){return this.getContainerDimension(this.activeContainer)}getContainerDimension(e){return e===this.mainContainer?this.mainContainerDimension:kh(e)}get mainContainerOffset(){return this.computeContainerOffset(Q)}get activeContainerOffset(){return this.computeContainerOffset(be(this.activeContainer))}computeContainerOffset(e){let i=0,s=0;this.isVisible(P.BANNER_PART)&&(i=this.getPart(P.BANNER_PART).maximumHeight,s=i);const n=this.isVisible(P.TITLEBAR_PART,e);return n&&(i+=this.getPart(P.TITLEBAR_PART).maximumHeight,s=i),n&&this.configurationService.getValue(We.COMMAND_CENTER)!==!1&&(s=6),{top:i,quickPickTop:s}}parts=new Map;initialized=!1;workbenchGrid;titleBarPartView;bannerPartView;activityBarPartView;sideBarPartView;panelPartView;auxiliaryBarPartView;editorPartView;statusBarPartView;environmentService;extensionService;configurationService;storageService;hostService;editorService;mainPartEditorService;editorGroupService;paneCompositeService;titleService;viewDescriptorService;contextService;workingCopyBackupService;notificationService;themeService;statusBarService;logService;telemetryService;auxiliaryWindowService;state;stateModel;disposed=!1;initLayout(e){this.environmentService=e.get(XD),this.configurationService=e.get(Ke),this.hostService=e.get(ho),this.contextService=e.get(dg),this.storageService=e.get(as),this.workingCopyBackupService=e.get(ZY),this.themeService=e.get(Vi),this.extensionService=e.get(yr),this.logService=e.get(od),this.telemetryService=e.get(Zs),this.auxiliaryWindowService=e.get(zN),this.editorService=e.get(ld),this.mainPartEditorService=this.editorService.createScoped("main",this._store),this.editorGroupService=e.get(Dm),this.paneCompositeService=e.get(al),this.viewDescriptorService=e.get(fs),this.titleService=e.get(XY),this.notificationService=e.get(Ns),this.statusBarService=e.get(t5),e.get(oY),this.registerLayoutListeners(),this.initLayoutState(e.get(Xr),e.get(nd))}registerLayoutListeners(){const e=Nr(()=>{this.isVisible(P.EDITOR_PART,Q)||this.toggleMaximizedPanel()},"showEditorIfHidden");this.editorGroupService.whenRestored.then(()=>{this._register(this.mainPartEditorService.onDidVisibleEditorsChange(e)),this._register(this.editorGroupService.mainPart.onDidActivateGroup(e)),this._register(this.mainPartEditorService.onDidActiveEditorChange(()=>this.centerMainEditorLayout(this.stateModel.getRuntimeValue($.MAIN_EDITOR_CENTERED))))}),this._register(this.configurationService.onDidChangeConfiguration(s=>{if([...tie,"workbench.sideBar.location","workbench.statusBar.visible"].some(n=>s.affectsConfiguration(n))){const n=s.affectsConfiguration(We.EDITOR_ACTIONS_LOCATION)&&this.configurationService.getValue(We.EDITOR_ACTIONS_LOCATION)===Qr.TITLEBAR;let o=!1;if(s.affectsConfiguration(We.ACTIVITY_BAR_LOCATION)){const r=this.configurationService.getValue(We.ACTIVITY_BAR_LOCATION);o=r===pt.TOP||r===pt.BOTTOM}(o||n)&&this.configurationService.getValue(Wh.CUSTOM_TITLE_BAR_VISIBILITY)===cp.NEVER&&this.configurationService.updateValue(Wh.CUSTOM_TITLE_BAR_VISIBILITY,cp.AUTO),this.doUpdateLayoutConfiguration()}})),this._register(YS(s=>this.onFullscreenChanged(s))),this._register(this.editorGroupService.mainPart.onDidAddGroup(()=>this.centerMainEditorLayout(this.stateModel.getRuntimeValue($.MAIN_EDITOR_CENTERED)))),this._register(this.editorGroupService.mainPart.onDidRemoveGroup(()=>this.centerMainEditorLayout(this.stateModel.getRuntimeValue($.MAIN_EDITOR_CENTERED)))),this._register(this.editorGroupService.mainPart.onDidChangeGroupMaximized(()=>this.centerMainEditorLayout(this.stateModel.getRuntimeValue($.MAIN_EDITOR_CENTERED)))),this._register(N(this.mainContainer,U.SCROLL,()=>this.mainContainer.scrollTop=0)),(Lt||Ni||Qt)&&!ec(this.configurationService)&&this._register(this.titleService.onMenubarVisibilityChange(s=>this.onMenubarToggled(s))),this._register(this.themeService.onDidColorThemeChange(()=>this.updateWindowsBorder())),this._register(this.hostService.onDidChangeFocus(s=>this.onWindowFocusChanged(s))),this._register(this.hostService.onDidChangeActiveWindow(()=>this.onActiveWindowChanged())),Qt&&typeof navigator.windowControlsOverlay=="object"&&this._register(N(navigator.windowControlsOverlay,"geometrychange",()=>this.onDidChangeWCO())),this._register(this.auxiliaryWindowService.onDidOpenAuxiliaryWindow(({window:s,disposables:n})=>{const o=s.window.vscodeWindowId;this.containerStylesLoaded.set(o,s.whenStylesHaveLoaded),s.whenStylesHaveLoaded.then(()=>this.containerStylesLoaded.delete(o)),n.add(Se(()=>this.containerStylesLoaded.delete(o)));const r=n.add(new Z);this._onDidAddContainer.fire({container:s.container,disposables:r}),n.add(s.onDidLayout(a=>this.handleContainerDidLayout(s.container,a)))}))}onMenubarToggled(e){if(e!==this.state.runtime.menuBar.toggled){this.state.runtime.menuBar.toggled=e;const i=Ka(this.configurationService);Qt&&i==="toggle"?this.workbenchGrid.setViewVisible(this.titleBarPartView,wl(this.configurationService,Q,this.state.runtime.menuBar.toggled,this.isZenModeActive())):this.state.runtime.mainWindowFullscreen&&(i==="toggle"||i==="classic")&&this.workbenchGrid.setViewVisible(this.titleBarPartView,wl(this.configurationService,Q,this.state.runtime.menuBar.toggled,this.isZenModeActive())),this.handleContainerDidLayout(this.mainContainer,this._mainContainerDimension)}}handleContainerDidLayout(e,i){e===this.mainContainer&&this._onDidLayoutMainContainer.fire(i),iL(e)&&this._onDidLayoutActiveContainer.fire(i),this._onDidLayoutContainer.fire({container:e,dimension:i})}onFullscreenChanged(e){e===Q.vscodeWindowId&&(this.state.runtime.mainWindowFullscreen=Dh(Q),this.state.runtime.mainWindowFullscreen?this.mainContainer.classList.add("fullscreen"):(this.mainContainer.classList.remove("fullscreen"),this.stateModel.getRuntimeValue($.ZEN_MODE_EXIT_INFO).transitionedToFullScreen&&this.isZenModeActive()&&this.toggleZenMode()),this.workbenchGrid.edgeSnapping=this.state.runtime.mainWindowFullscreen,vR(this.configurationService)&&(this.workbenchGrid.setViewVisible(this.titleBarPartView,wl(this.configurationService,Q,this.state.runtime.menuBar.toggled,this.isZenModeActive())),this.updateWindowsBorder(!0)))}onActiveWindowChanged(){const e=this.getActiveContainerId();this.state.runtime.activeContainerId!==e&&(this.state.runtime.activeContainerId=e,this.updateWindowsBorder(),this._onDidChangeActiveContainer.fire())}onWindowFocusChanged(e){this.state.runtime.hasFocus!==e&&(this.state.runtime.hasFocus=e,this.updateWindowsBorder())}getActiveContainerId(){const e=this.activeContainer;return be(e).vscodeWindowId}doUpdateLayoutConfiguration(e){this.updateCustomTitleBarVisibility(),this.updateMenubarVisibility(!!e),this.editorGroupService.whenRestored.then(()=>{this.centerMainEditorLayout(this.stateModel.getRuntimeValue($.MAIN_EDITOR_CENTERED),e)})}setSideBarPosition(e){const i=this.getPart(P.ACTIVITYBAR_PART),s=this.getPart(P.SIDEBAR_PART),n=this.getPart(P.AUXILIARYBAR_PART),o=e===Je.LEFT?"left":"right",r=e===Je.RIGHT?"left":"right",a=this.getPanelAlignment(),l=this.getPanelPosition();this.stateModel.setRuntimeValue($.SIDEBAR_POSITON,e);const h=di(i.getContainer()),d=di(s.getContainer()),u=di(n.getContainer());h.classList.remove(r),d.classList.remove(r),h.classList.add(o),d.classList.add(o),u.classList.remove(o),u.classList.add(r),i.updateStyles(),s.updateStyles(),n.updateStyles(),this.adjustPartPositions(e,a,l)}updateWindowsBorder(e=!1){if(Qt||Lt||wR(this.configurationService)||ec(this.configurationService))return;const i=this.themeService.getColorTheme(),s=i.getColor(wH),n=i.getColor(yH),o=this.hasMainWindowBorder();for(const r of this.containers){const a=r===this.mainContainer,l=this.activeContainer===r,h=ph(be(r));let d=!1;if(!this.state.runtime.mainWindowFullscreen&&!this.state.runtime.maximized.has(h)&&(s||n)){d=!0;const u=l&&this.state.runtime.hasFocus?s:n??s;r.style.setProperty("--window-border-color",u?.toString()??"transparent")}a&&(this.state.runtime.mainWindowBorder=d),r.classList.toggle("border",d)}!e&&o!==this.hasMainWindowBorder()&&this.layout()}initLayoutState(e,i){this.stateModel=new Rf(this.storageService,this.configurationService,this.contextService,this.parent),this.stateModel.load(),this.stateModel.getRuntimeValue($.PANEL_HIDDEN)&&this.stateModel.getRuntimeValue($.EDITOR_HIDDEN)&&this.stateModel.setRuntimeValue($.EDITOR_HIDDEN,!1),this._register(this.stateModel.onDidChangeState(h=>{h.key===$.ACTIVITYBAR_HIDDEN&&this.setActivityBarHidden(h.value),h.key===$.STATUSBAR_HIDDEN&&this.setStatusBarHidden(h.value),h.key===$.SIDEBAR_POSITON&&this.setSideBarPosition(h.value),h.key===$.PANEL_POSITION&&this.setPanelPosition(h.value),h.key===$.PANEL_ALIGNMENT&&this.setPanelAlignment(h.value),this.doUpdateLayoutConfiguration()}));const s=this.getInitialEditorsState();s&&this.logService.trace("Initial editor state",s);const n={layout:{editors:s?.layout},editor:{restoreEditors:this.shouldRestoreEditors(this.contextService,s),editorsToOpen:this.resolveEditorsToOpen(i,s)},views:{defaults:this.getDefaultLayoutViews(this.environmentService,this.storageService),containerToRestore:{}}},o={activeContainerId:this.getActiveContainerId(),mainWindowFullscreen:Dh(Q),hasFocus:this.hostService.hasFocus,maximized:new Set,mainWindowBorder:!1,menuBar:{toggled:!1},zenMode:{transitionDisposables:new fc}};this.state={initialization:n,runtime:o};const r=e.startupKind===p0.NewWindow,a=this.configurationService.getValue(We.ACTIVITY_BAR_LOCATION)!==pt.DEFAULT;if(this.isVisible(P.SIDEBAR_PART)){let h;!this.environmentService.isBuilt||e.startupKind===p0.ReloadedWindow||this.environmentService.isExtensionDevelopment&&!this.environmentService.extensionTestsLocationURI?h=this.storageService.get(Pp.activeViewletSettingsKey,_e.WORKSPACE,this.viewDescriptorService.getDefaultViewContainer(ne.Sidebar)?.id):h=this.viewDescriptorService.getDefaultViewContainer(ne.Sidebar)?.id,h?this.state.initialization.views.containerToRestore.sideBar=h:this.stateModel.setRuntimeValue($.SIDEBAR_HIDDEN,!0)}else if(r&&a){const h=this.storageService.get(Pp.activeViewletSettingsKey,_e.WORKSPACE,this.viewDescriptorService.getDefaultViewContainer(ne.Sidebar)?.id);h&&(this.state.initialization.views.containerToRestore.sideBar=h,this.stateModel.setRuntimeValue($.SIDEBAR_HIDDEN,!1))}if(this.isVisible(P.PANEL_PART)){const h=this.storageService.get(Dw.activePanelSettingsKey,_e.WORKSPACE,this.viewDescriptorService.getDefaultViewContainer(ne.Panel)?.id);h?this.state.initialization.views.containerToRestore.panel=h:this.stateModel.setRuntimeValue($.PANEL_HIDDEN,!0)}const l=this.isVisible(P.AUXILIARYBAR_PART);if(l||r&&a){const h=this.storageService.get(dh.activePanelSettingsKey,_e.WORKSPACE,this.viewDescriptorService.getDefaultViewContainer(ne.AuxiliaryBar)?.id);h&&(this.state.initialization.views.containerToRestore.auxiliaryBar=h),l!==!!h&&this.stateModel.setRuntimeValue($.AUXILIARYBAR_HIDDEN,!l)}this.updateWindowsBorder(!0)}getDefaultLayoutViews(e,i){const s=e.options?.defaultLayout;if(!s||!s.force&&!i.isNew(_e.WORKSPACE))return;const{views:n}=s;if(n?.length)return n.map(o=>o.id)}shouldRestoreEditors(e,i){return wm(e.getWorkspace())?!1:!!(this.configurationService.getValue("window.restoreWindows")==="preserve")||i===void 0}willRestoreEditors(){return this.state.initialization.editor.restoreEditors}async resolveEditorsToOpen(e,i){if(i){const s=Tn(await Jb(i.filesToMerge,e,this.logService));if(s.length===4&&Md(s[0])&&Md(s[1])&&Md(s[2])&&Md(s[3]))return[{editor:{input1:{resource:s[0].resource},input2:{resource:s[1].resource},base:{resource:s[2].resource},result:{resource:s[3].resource},options:{pinned:!0}}}];const n=Tn(await Jb(i.filesToDiff,e,this.logService));if(n.length===2)return[{editor:{original:{resource:n[0].resource},modified:{resource:n[1].resource},options:{pinned:!0}}}];const o=[],r=await Jb(i.filesToOpenOrCreate,e,this.logService);for(let a=0;a<r.length;a++){const l=r[a];l&&o.push({editor:l,viewColumn:i.filesToOpenOrCreate?.[a].viewColumn})}return o}else if(this.contextService.getWorkbenchState()===eu.EMPTY&&this.configurationService.getValue("workbench.startupEditor")==="newUntitledFile")return this.editorGroupService.hasRestorableState?[]:await this.workingCopyBackupService.hasBackups()?[]:[{editor:{resource:void 0}}];return[]}_openedDefaultEditors=!1;get openedDefaultEditors(){return this._openedDefaultEditors}getInitialEditorsState(){const e=this.environmentService.options?.defaultLayout;if((e?.editors?.length||e?.layout?.editors)&&(e.force||this.storageService.isNew(_e.WORKSPACE)))return this._openedDefaultEditors=!0,{layout:e.layout?.editors,filesToOpenOrCreate:e?.editors?.map(o=>({viewColumn:o.viewColumn,fileUri:j.revive(o.uri),openOnlyIfExists:o.openOnlyIfExists,options:o.options}))};const{filesToOpenOrCreate:i,filesToDiff:s,filesToMerge:n}=this.environmentService;if(i||s||n)return{filesToOpenOrCreate:i,filesToDiff:s,filesToMerge:n}}whenReadyPromise=new ic;whenReady=this.whenReadyPromise.p;whenRestoredPromise=new ic;whenRestored=this.whenRestoredPromise.p;restored=!1;isRestored(){return this.restored}restoreParts(){const e=[],i=[];e.push((async()=>{Mt("code/willRestoreEditors"),await this.editorGroupService.whenReady,Mt("code/restoreEditors/editorGroupsReady"),this.state.initialization.layout?.editors&&this.editorGroupService.mainPart.applyLayout(this.state.initialization.layout.editors);const r=await this.state.initialization.editor.editorsToOpen;Mt("code/restoreEditors/editorsToOpenResolved");let a;if(r.length){const l=this.editorGroupService.mainPart.getGroups(PR.GRID_APPEARANCE),h=new Map;for(const d of r){const u=l[(d.viewColumn??1)-1];let g=h.get(u.id);g||(g=new Set,h.set(u.id,g)),g.add(d.editor)}a=Promise.all(Array.from(h).map(async([d,u])=>{try{await this.editorService.openEditors(Array.from(u),d,{validateTrust:!0})}catch(g){this.logService.error(g)}}))}i.push(Promise.all([a?.finally(()=>Mt("code/restoreEditors/editorsOpened")),this.editorGroupService.whenRestored.finally(()=>Mt("code/restoreEditors/editorGroupsRestored"))]).finally(()=>{Mt("code/didRestoreEditors")}))})());const s=(async()=>{if(this.state.initialization.views.defaults?.length){Mt("code/willOpenDefaultViews");const r=[],a=Nr(d=>{const u=this.viewDescriptorService.getViewLocationById(d.id);if(u!==null){const g=this.viewDescriptorService.getViewContainerByViewId(d.id);if(g){d.order>=(r?.[u]?.order??0)&&(r[u]={id:g.id,order:d.order});const p=this.viewDescriptorService.getViewContainerModel(g);return p.setCollapsed(d.id,!1),p.setVisible(d.id,!0),!0}}return!1},"tryOpenView"),l=[...this.state.initialization.views.defaults].reverse().map((d,u)=>({id:d,order:u}));let h=l.length;for(;h;)h--,a(l[h])&&l.splice(h,1);if(l.length){await this.extensionService.whenInstalledExtensionsRegistered();let d=l.length;for(;d;)d--,a(l[d])&&l.splice(d,1)}r[ne.Sidebar]&&(this.state.initialization.views.containerToRestore.sideBar=r[ne.Sidebar].id),r[ne.Panel]&&(this.state.initialization.views.containerToRestore.panel=r[ne.Panel].id),r[ne.AuxiliaryBar]&&(this.state.initialization.views.containerToRestore.auxiliaryBar=r[ne.AuxiliaryBar].id),Mt("code/didOpenDefaultViews")}})();e.push(s),e.push((async()=>{if(await s,!this.state.initialization.views.containerToRestore.sideBar)return;Mt("code/willRestoreViewlet"),await this.paneCompositeService.openPaneComposite(this.state.initialization.views.containerToRestore.sideBar,ne.Sidebar)||await this.paneCompositeService.openPaneComposite(this.viewDescriptorService.getDefaultViewContainer(ne.Sidebar)?.id,ne.Sidebar),Mt("code/didRestoreViewlet")})()),e.push((async()=>{if(await s,!this.state.initialization.views.containerToRestore.panel)return;Mt("code/willRestorePanel"),await this.paneCompositeService.openPaneComposite(this.state.initialization.views.containerToRestore.panel,ne.Panel)||await this.paneCompositeService.openPaneComposite(this.viewDescriptorService.getDefaultViewContainer(ne.Panel)?.id,ne.Panel),Mt("code/didRestorePanel")})()),e.push((async()=>{if(await s,!this.state.initialization.views.containerToRestore.auxiliaryBar)return;Mt("code/willRestoreAuxiliaryBar"),await this.paneCompositeService.openPaneComposite(this.state.initialization.views.containerToRestore.auxiliaryBar,ne.AuxiliaryBar)||await this.paneCompositeService.openPaneComposite(this.viewDescriptorService.getDefaultViewContainer(ne.AuxiliaryBar)?.id,ne.AuxiliaryBar),Mt("code/didRestoreAuxiliaryBar")})());const n=this.isZenModeActive(),o=yS(this.configurationService).restore;n&&(this.setZenModeActive(!o),this.toggleZenMode(!1,!0)),this.stateModel.getRuntimeValue($.MAIN_EDITOR_CENTERED)&&this.centerMainEditorLayout(!0,!0),sc.settled(e).finally(()=>{this.whenReadyPromise.complete(),sc.settled(i).finally(()=>{this.restored=!0,this.whenRestoredPromise.complete()})})}registerPart(e){const i=e.getId();return this.parts.set(i,e),Se(()=>this.parts.delete(i))}getPart(e){const i=this.parts.get(e);if(!i)throw new Error(`Unknown part ${e}`);return i}registerNotifications(e){this._register(e.onDidChangeNotificationsVisibility(i=>this._onDidChangeNotificationsVisibility.fire(i)))}hasFocus(e){const i=this.getContainer(nr(),e);if(!i)return!1;const s=Lo();return s?eL(s,i):!1}focusPart(e,i=Q){const s=this.getContainer(i,e)??this.mainContainer;switch(e){case P.EDITOR_PART:this.editorGroupService.getPart(s).activeGroup.focus();break;case P.PANEL_PART:{this.paneCompositeService.getActivePaneComposite(ne.Panel)?.focus();break}case P.SIDEBAR_PART:{this.paneCompositeService.getActivePaneComposite(ne.Sidebar)?.focus();break}case P.AUXILIARYBAR_PART:{this.paneCompositeService.getActivePaneComposite(ne.AuxiliaryBar)?.focus();break}case P.ACTIVITYBAR_PART:this.getPart(P.SIDEBAR_PART).focusActivityBar();break;case P.STATUSBAR_PART:this.statusBarService.getPart(s).focus();break;default:s?.focus()}}getContainer(e,i){if(typeof i>"u")return this.getContainerFromDocument(e.document);if(e===Q)return this.getPart(i).getContainer();let s;if(i===P.EDITOR_PART?s=this.editorGroupService.getPart(this.getContainerFromDocument(e.document)):i===P.STATUSBAR_PART?s=this.statusBarService.getPart(this.getContainerFromDocument(e.document)):i===P.TITLEBAR_PART&&(s=this.titleService.getPart(this.getContainerFromDocument(e.document))),s instanceof eA)return s.getContainer()}isVisible(e,i=Q){if(i!==Q&&e===P.EDITOR_PART)return!0;if(this.initialized)switch(e){case P.TITLEBAR_PART:return this.workbenchGrid.isViewVisible(this.titleBarPartView);case P.SIDEBAR_PART:return!this.stateModel.getRuntimeValue($.SIDEBAR_HIDDEN);case P.PANEL_PART:return!this.stateModel.getRuntimeValue($.PANEL_HIDDEN);case P.AUXILIARYBAR_PART:return!this.stateModel.getRuntimeValue($.AUXILIARYBAR_HIDDEN);case P.STATUSBAR_PART:return!this.stateModel.getRuntimeValue($.STATUSBAR_HIDDEN);case P.ACTIVITYBAR_PART:return!this.stateModel.getRuntimeValue($.ACTIVITYBAR_HIDDEN);case P.EDITOR_PART:return!this.stateModel.getRuntimeValue($.EDITOR_HIDDEN);case P.BANNER_PART:return this.workbenchGrid.isViewVisible(this.bannerPartView);default:return!1}switch(e){case P.TITLEBAR_PART:return wl(this.configurationService,Q,this.state.runtime.menuBar.toggled,this.isZenModeActive());case P.SIDEBAR_PART:return!this.stateModel.getRuntimeValue($.SIDEBAR_HIDDEN);case P.PANEL_PART:return!this.stateModel.getRuntimeValue($.PANEL_HIDDEN);case P.AUXILIARYBAR_PART:return!this.stateModel.getRuntimeValue($.AUXILIARYBAR_HIDDEN);case P.STATUSBAR_PART:return!this.stateModel.getRuntimeValue($.STATUSBAR_HIDDEN);case P.ACTIVITYBAR_PART:return!this.stateModel.getRuntimeValue($.ACTIVITYBAR_HIDDEN);case P.EDITOR_PART:return!this.stateModel.getRuntimeValue($.EDITOR_HIDDEN);default:return!1}}shouldShowBannerFirst(){return Qt&&!ZS()}focus(){this.focusPart(P.EDITOR_PART,be(this.activeContainer))}focusPanelOrEditor(){const e=this.paneCompositeService.getActivePaneComposite(ne.Panel);(this.hasFocus(P.PANEL_PART)||!this.isVisible(P.EDITOR_PART))&&e?e.focus():this.focus()}getMaximumEditorDimensions(e){const i=be(e),s=this.getContainerDimension(e);if(e===this.mainContainer){const n=es(this.getPanelPosition()),o=(this.isVisible(P.ACTIVITYBAR_PART)?this.activityBarPartView.minimumWidth:0)+(this.isVisible(P.SIDEBAR_PART)?this.sideBarPartView.minimumWidth:0)+(this.isVisible(P.PANEL_PART)&&!n?this.panelPartView.minimumWidth:0)+(this.isVisible(P.AUXILIARYBAR_PART)?this.auxiliaryBarPartView.minimumWidth:0),r=(this.isVisible(P.TITLEBAR_PART,i)?this.titleBarPartView.minimumHeight:0)+(this.isVisible(P.STATUSBAR_PART,i)?this.statusBarPartView.minimumHeight:0)+(this.isVisible(P.PANEL_PART)&&n?this.panelPartView.minimumHeight:0),a=s.width-o,l=s.height-r;return{width:a,height:l}}else{const n=(this.isVisible(P.TITLEBAR_PART,i)?this.titleBarPartView.minimumHeight:0)+(this.isVisible(P.STATUSBAR_PART,i)?this.statusBarPartView.minimumHeight:0);return{width:s.width,height:s.height-n}}}isZenModeActive(){return this.stateModel.getRuntimeValue($.ZEN_MODE_ACTIVE)}setZenModeActive(e){this.stateModel.setRuntimeValue($.ZEN_MODE_ACTIVE,e)}toggleZenMode(e,i=!1){this.setZenModeActive(!this.isZenModeActive()),this.state.runtime.zenMode.transitionDisposables.clearAndDisposeAll();const s=Nr(a=>{for(const l of this.mainPartEditorService.visibleTextEditorControls){if(!a&&up(l)&&l.hasModel()){const h=l.getModel();a=this.configurationService.getValue("editor.lineNumbers",{resource:h.uri,overrideIdentifier:h.getLanguageId()})}a||(a=this.configurationService.getValue("editor.lineNumbers")),l.updateOptions({lineNumbers:a})}},"setLineNumbers");let n=!1;const o=yS(this.configurationService),r=this.stateModel.getRuntimeValue($.ZEN_MODE_EXIT_INFO);this.isZenModeActive()?(n=!this.state.runtime.mainWindowFullscreen&&o.fullScreen&&!No,i||(r.transitionedToFullScreen=n,r.transitionedToCenteredEditorLayout=!this.isMainEditorLayoutCentered()&&o.centerLayout,r.handleNotificationsDoNotDisturbMode=this.notificationService.getFilter()===Zt.OFF,r.wasVisible.sideBar=this.isVisible(P.SIDEBAR_PART),r.wasVisible.panel=this.isVisible(P.PANEL_PART),r.wasVisible.auxiliaryBar=this.isVisible(P.AUXILIARYBAR_PART),this.stateModel.setRuntimeValue($.ZEN_MODE_EXIT_INFO,r)),this.setPanelHidden(!0,!0),this.setAuxiliaryBarHidden(!0,!0),this.setSideBarHidden(!0,!0),o.hideActivityBar&&this.setActivityBarHidden(!0,!0),o.hideStatusBar&&this.setStatusBarHidden(!0,!0),o.hideLineNumbers&&(s("off"),this.state.runtime.zenMode.transitionDisposables.set(xi.HIDE_LINENUMBERS,this.mainPartEditorService.onDidVisibleEditorsChange(()=>s("off")))),o.showTabs!==this.editorGroupService.partOptions.showTabs&&this.state.runtime.zenMode.transitionDisposables.set(xi.SHOW_TABS,this.editorGroupService.mainPart.enforcePartOptions({showTabs:o.showTabs})),o.silentNotifications&&r.handleNotificationsDoNotDisturbMode&&this.notificationService.setFilter(Zt.ERROR),o.centerLayout&&this.centerMainEditorLayout(!0,!0),this.state.runtime.zenMode.transitionDisposables.set("configurationChange",this.configurationService.onDidChangeConfiguration(a=>{if(a.affectsConfiguration(xi.HIDE_ACTIVITYBAR)){const l=this.configurationService.getValue(xi.HIDE_ACTIVITYBAR);this.setActivityBarHidden(l,!0)}if(a.affectsConfiguration(xi.HIDE_STATUSBAR)){const l=this.configurationService.getValue(xi.HIDE_STATUSBAR);this.setStatusBarHidden(l,!0)}if(a.affectsConfiguration(xi.CENTER_LAYOUT)){const l=this.configurationService.getValue(xi.CENTER_LAYOUT);this.centerMainEditorLayout(l,!0)}if(a.affectsConfiguration(xi.SHOW_TABS)){const l=this.configurationService.getValue(xi.SHOW_TABS)??"multiple";this.state.runtime.zenMode.transitionDisposables.set(xi.SHOW_TABS,this.editorGroupService.mainPart.enforcePartOptions({showTabs:l}))}if(a.affectsConfiguration(xi.SILENT_NOTIFICATIONS)){const l=!!this.configurationService.getValue(xi.SILENT_NOTIFICATIONS);r.handleNotificationsDoNotDisturbMode&&this.notificationService.setFilter(l?Zt.ERROR:Zt.OFF)}if(a.affectsConfiguration(xi.HIDE_LINENUMBERS)){const l=this.configurationService.getValue(xi.HIDE_LINENUMBERS)?"off":void 0;s(l),this.state.runtime.zenMode.transitionDisposables.set(xi.HIDE_LINENUMBERS,this.mainPartEditorService.onDidVisibleEditorsChange(()=>s(l)))}}))):(r.wasVisible.panel&&this.setPanelHidden(!1,!0),r.wasVisible.auxiliaryBar&&this.setAuxiliaryBarHidden(!1,!0),r.wasVisible.sideBar&&this.setSideBarHidden(!1,!0),this.stateModel.getRuntimeValue($.ACTIVITYBAR_HIDDEN,!0)||this.setActivityBarHidden(!1,!0),this.stateModel.getRuntimeValue($.STATUSBAR_HIDDEN,!0)||this.setStatusBarHidden(!1,!0),r.transitionedToCenteredEditorLayout&&this.centerMainEditorLayout(!1,!0),r.handleNotificationsDoNotDisturbMode&&this.notificationService.setFilter(Zt.OFF),s(),this.focus(),n=r.transitionedToFullScreen&&this.state.runtime.mainWindowFullscreen),e||this.layout(),n&&this.hostService.toggleFullScreen(Q),this._onDidChangeZenMode.fire(this.isZenModeActive())}setStatusBarHidden(e,i){this.stateModel.setRuntimeValue($.STATUSBAR_HIDDEN,e),e?this.mainContainer.classList.add("nostatusbar"):this.mainContainer.classList.remove("nostatusbar"),this.workbenchGrid.setViewVisible(this.statusBarPartView,!e)}createWorkbenchLayout(){const e=this.getPart(P.TITLEBAR_PART),i=this.getPart(P.BANNER_PART),s=this.getPart(P.EDITOR_PART),n=this.getPart(P.ACTIVITYBAR_PART),o=this.getPart(P.PANEL_PART),r=this.getPart(P.AUXILIARYBAR_PART),a=this.getPart(P.SIDEBAR_PART),l=this.getPart(P.STATUSBAR_PART);this.titleBarPartView=e,this.bannerPartView=i,this.sideBarPartView=a,this.activityBarPartView=n,this.editorPartView=s,this.panelPartView=o,this.auxiliaryBarPartView=r,this.statusBarPartView=l;const h={[P.ACTIVITYBAR_PART]:this.activityBarPartView,[P.BANNER_PART]:this.bannerPartView,[P.TITLEBAR_PART]:this.titleBarPartView,[P.EDITOR_PART]:this.editorPartView,[P.PANEL_PART]:this.panelPartView,[P.SIDEBAR_PART]:this.sideBarPartView,[P.STATUSBAR_PART]:this.statusBarPartView,[P.AUXILIARYBAR_PART]:this.auxiliaryBarPartView},d=Nr(({type:g})=>h[g],"fromJSON"),u=Fd.deserialize(this.createGridDescriptor(),{fromJSON:d},{proportionalLayout:!1});this.mainContainer.prepend(u.element),this.mainContainer.setAttribute("role","application"),this.workbenchGrid=u,this.workbenchGrid.edgeSnapping=this.state.runtime.mainWindowFullscreen;for(const g of[e,s,n,o,a,l,r,i])this._register(g.onDidVisibilityChange(p=>{g===a?this.setSideBarHidden(!p,!0):g===o?this.setPanelHidden(!p,!0):g===r?this.setAuxiliaryBarHidden(!p,!0):g===s&&this.setEditorHidden(!p,!0),this._onDidChangePartVisibility.fire(),this.handleContainerDidLayout(this.mainContainer,this._mainContainerDimension)}));this._register(this.storageService.onWillSaveState(g=>{const p=this.stateModel.getRuntimeValue($.SIDEBAR_HIDDEN)?this.workbenchGrid.getViewCachedVisibleSize(this.sideBarPartView):this.workbenchGrid.getViewSize(this.sideBarPartView).width;this.stateModel.setInitializationValue($.SIDEBAR_SIZE,p);const m=this.stateModel.getRuntimeValue($.PANEL_HIDDEN)?this.workbenchGrid.getViewCachedVisibleSize(this.panelPartView):es(this.stateModel.getRuntimeValue($.PANEL_POSITION))?this.workbenchGrid.getViewSize(this.panelPartView).height:this.workbenchGrid.getViewSize(this.panelPartView).width;this.stateModel.setInitializationValue($.PANEL_SIZE,m);const b=this.stateModel.getRuntimeValue($.AUXILIARYBAR_HIDDEN)?this.workbenchGrid.getViewCachedVisibleSize(this.auxiliaryBarPartView):this.workbenchGrid.getViewSize(this.auxiliaryBarPartView).width;this.stateModel.setInitializationValue($.AUXILIARYBAR_SIZE,b),this.stateModel.save(!0,!0)}))}layout(){this.disposed||(this._mainContainerDimension=kh(this.state.runtime.mainWindowFullscreen?Q.document.body:this.parent),this.logService.trace(`Layout#layout, height: ${this._mainContainerDimension.height}, width: ${this._mainContainerDimension.width}`),_C(this.mainContainer,0,0,0,0,"relative"),yC(this.mainContainer,this._mainContainerDimension.width,this._mainContainerDimension.height),this.workbenchGrid.layout(this._mainContainerDimension.width,this._mainContainerDimension.height),this.initialized=!0,this.handleContainerDidLayout(this.mainContainer,this._mainContainerDimension))}isMainEditorLayoutCentered(){return this.stateModel.getRuntimeValue($.MAIN_EDITOR_CENTERED)}centerMainEditorLayout(e,i){this.stateModel.setRuntimeValue($.MAIN_EDITOR_CENTERED,e);const s=this.mainPartEditorService.activeEditor;let n=!1;s instanceof Bu?n=this.configurationService.getValue("diffEditor.renderSideBySide"):s?.hasCapability($n.MultipleEditors)&&(n=!0),this.configurationService.getValue("workbench.editor.centeredLayoutAutoResize")&&(this.editorGroupService.mainPart.groups.length>1&&!this.editorGroupService.mainPart.hasMaximizedGroup()||n)&&(e=!1),this.editorGroupService.mainPart.isLayoutCentered()!==e&&(this.editorGroupService.mainPart.centerLayout(e),i||this.layout()),this._onDidChangeMainEditorCenteredLayout.fire(this.stateModel.getRuntimeValue($.MAIN_EDITOR_CENTERED))}resizePart(e,i,s){const n=Math.sign(i)*R_(nr(),Math.abs(i)),o=Math.sign(s)*R_(nr(),Math.abs(s));let r;switch(e){case P.SIDEBAR_PART:r=this.workbenchGrid.getViewSize(this.sideBarPartView),this.workbenchGrid.resizeView(this.sideBarPartView,{width:r.width+n,height:r.height});break;case P.PANEL_PART:r=this.workbenchGrid.getViewSize(this.panelPartView),this.workbenchGrid.resizeView(this.panelPartView,{width:r.width+(es(this.getPanelPosition())?0:n),height:r.height+(es(this.getPanelPosition())?o:0)});break;case P.AUXILIARYBAR_PART:r=this.workbenchGrid.getViewSize(this.auxiliaryBarPartView),this.workbenchGrid.resizeView(this.auxiliaryBarPartView,{width:r.width+n,height:r.height});break;case P.EDITOR_PART:if(r=this.workbenchGrid.getViewSize(this.editorPartView),this.editorGroupService.mainPart.count===1)this.workbenchGrid.resizeView(this.editorPartView,{width:r.width+n,height:r.height+o});else{const a=this.editorGroupService.mainPart.activeGroup,{width:l,height:h}=this.editorGroupService.mainPart.getSize(a);this.editorGroupService.mainPart.setSize(a,{width:l+n,height:h+o});const{width:d,height:u}=this.editorGroupService.mainPart.getSize(a);(o&&h===u||n&&l===d)&&this.workbenchGrid.resizeView(this.editorPartView,{width:r.width+(n&&l===d?n:0),height:r.height+(o&&h===u?o:0)})}break;default:return}}setActivityBarHidden(e,i){this.stateModel.setRuntimeValue($.ACTIVITYBAR_HIDDEN,e),this.workbenchGrid.setViewVisible(this.activityBarPartView,!e)}setBannerHidden(e){this.workbenchGrid.setViewVisible(this.bannerPartView,!e)}setEditorHidden(e,i){this.stateModel.setRuntimeValue($.EDITOR_HIDDEN,e),e?this.mainContainer.classList.add("nomaineditorarea"):this.mainContainer.classList.remove("nomaineditorarea"),this.workbenchGrid.setViewVisible(this.editorPartView,!e),e&&!this.isVisible(P.PANEL_PART)&&this.setPanelHidden(!1,!0)}getLayoutClasses(){return Tn([this.isVisible(P.SIDEBAR_PART)?void 0:"nosidebar",this.isVisible(P.EDITOR_PART,Q)?void 0:"nomaineditorarea",this.isVisible(P.PANEL_PART)?void 0:"nopanel",this.isVisible(P.AUXILIARYBAR_PART)?void 0:"noauxiliarybar",this.isVisible(P.STATUSBAR_PART)?void 0:"nostatusbar",this.state.runtime.mainWindowFullscreen?"fullscreen":void 0])}setSideBarHidden(e,i){if(this.stateModel.setRuntimeValue($.SIDEBAR_HIDDEN,e),e?this.mainContainer.classList.add("nosidebar"):this.mainContainer.classList.remove("nosidebar"),e&&this.paneCompositeService.getActivePaneComposite(ne.Sidebar))this.paneCompositeService.hideActivePaneComposite(ne.Sidebar),this.focusPanelOrEditor();else if(!e&&!this.paneCompositeService.getActivePaneComposite(ne.Sidebar)){const s=this.paneCompositeService.getLastActivePaneCompositeId(ne.Sidebar);s&&(this.paneCompositeService.openPaneComposite(s,ne.Sidebar,!0)||this.paneCompositeService.openPaneComposite(this.viewDescriptorService.getDefaultViewContainer(ne.Sidebar)?.id,ne.Sidebar,!0))}this.workbenchGrid.setViewVisible(this.sideBarPartView,!e)}hasViews(e){const i=this.viewDescriptorService.getViewContainerById(e);if(!i)return!1;const s=this.viewDescriptorService.getViewContainerModel(i);return s?s.activeViewDescriptors.length>=1:!1}adjustPartPositions(e,i,s){const n=!es(s),o=n||!(i==="center"||e===Je.LEFT&&i==="right"||e===Je.RIGHT&&i==="left"),r=n||!(i==="center"||e===Je.RIGHT&&i==="right"||e===Je.LEFT&&i==="left"),a=this.isVisible(P.PANEL_PART)?this.workbenchGrid.getViewSize(this.panelPartView).width:xl.Invisible(this.workbenchGrid.getViewCachedVisibleSize(this.panelPartView)??this.panelPartView.minimumWidth),l=this.isVisible(P.PANEL_PART)?this.workbenchGrid.getViewSize(this.panelPartView).height:xl.Invisible(this.workbenchGrid.getViewCachedVisibleSize(this.panelPartView)??this.panelPartView.minimumHeight),h=this.isVisible(P.SIDEBAR_PART)?this.workbenchGrid.getViewSize(this.sideBarPartView).width:xl.Invisible(this.workbenchGrid.getViewCachedVisibleSize(this.sideBarPartView)??this.sideBarPartView.minimumWidth),d=this.isVisible(P.AUXILIARYBAR_PART)?this.workbenchGrid.getViewSize(this.auxiliaryBarPartView).width:xl.Invisible(this.workbenchGrid.getViewCachedVisibleSize(this.auxiliaryBarPartView)??this.auxiliaryBarPartView.minimumWidth);e===Je.LEFT?(this.workbenchGrid.moveViewTo(this.activityBarPartView,[2,0]),this.workbenchGrid.moveView(this.sideBarPartView,h,o?this.editorPartView:this.activityBarPartView,o?Ws.Left:Ws.Right),r?this.workbenchGrid.moveView(this.auxiliaryBarPartView,d,this.editorPartView,Ws.Right):this.workbenchGrid.moveViewTo(this.auxiliaryBarPartView,[2,-1])):(this.workbenchGrid.moveViewTo(this.activityBarPartView,[2,-1]),this.workbenchGrid.moveView(this.sideBarPartView,h,o?this.editorPartView:this.activityBarPartView,o?Ws.Right:Ws.Left),r?this.workbenchGrid.moveView(this.auxiliaryBarPartView,d,this.editorPartView,Ws.Left):this.workbenchGrid.moveViewTo(this.auxiliaryBarPartView,[2,0])),n&&(this.workbenchGrid.moveView(this.panelPartView,a,this.editorPartView,s===Je.LEFT?Ws.Left:Ws.Right),this.workbenchGrid.resizeView(this.panelPartView,{height:l,width:a})),this.isVisible(P.SIDEBAR_PART)&&this.workbenchGrid.resizeView(this.sideBarPartView,{height:this.workbenchGrid.getViewSize(this.sideBarPartView).height,width:h}),this.isVisible(P.AUXILIARYBAR_PART)&&this.workbenchGrid.resizeView(this.auxiliaryBarPartView,{height:this.workbenchGrid.getViewSize(this.auxiliaryBarPartView).height,width:d})}setPanelAlignment(e,i){es(this.getPanelPosition())||this.setPanelPosition(Je.BOTTOM),e!=="center"&&this.isPanelMaximized()&&this.toggleMaximizedPanel(),this.stateModel.setRuntimeValue($.PANEL_ALIGNMENT,e),this.adjustPartPositions(this.getSideBarPosition(),e,this.getPanelPosition()),this._onDidChangePanelAlignment.fire(e)}setPanelHidden(e,i){if(!this.workbenchGrid)return;const s=!this.isVisible(P.PANEL_PART);this.stateModel.setRuntimeValue($.PANEL_HIDDEN,e);const n=this.isPanelMaximized(),o=this.panelOpensMaximized();e?this.mainContainer.classList.add("nopanel"):this.mainContainer.classList.remove("nopanel");let r=!1;if(e&&this.paneCompositeService.getActivePaneComposite(ne.Panel))this.paneCompositeService.hideActivePaneComposite(ne.Panel),r=!No;else if(!e&&!this.paneCompositeService.getActivePaneComposite(ne.Panel)){let a=this.paneCompositeService.getLastActivePaneCompositeId(ne.Panel);if((!a||!this.hasViews(a))&&(a=this.viewDescriptorService.getViewContainersByLocation(ne.Panel).find(l=>this.hasViews(l.id))?.id),a){const l=!i;this.paneCompositeService.openPaneComposite(a,ne.Panel,l)}}e&&n&&this.toggleMaximizedPanel(),s!==e&&(this.workbenchGrid.setViewVisible(this.panelPartView,!e),e?this.stateModel.setRuntimeValue($.PANEL_WAS_LAST_MAXIMIZED,n):!i&&n!==o&&this.toggleMaximizedPanel(),r&&this.editorGroupService.mainPart.activeGroup.focus())}toggleMaximizedPanel(){const e=this.workbenchGrid.getViewSize(this.panelPartView),i=this.getPanelPosition(),s=this.isPanelMaximized();s?(this.setEditorHidden(!1),this.workbenchGrid.resizeView(this.panelPartView,{width:es(i)?e.width:this.stateModel.getRuntimeValue($.PANEL_LAST_NON_MAXIMIZED_WIDTH),height:es(i)?this.stateModel.getRuntimeValue($.PANEL_LAST_NON_MAXIMIZED_HEIGHT):e.height})):(this.isVisible(P.PANEL_PART)&&(es(i)?this.stateModel.setRuntimeValue($.PANEL_LAST_NON_MAXIMIZED_HEIGHT,e.height):this.stateModel.setRuntimeValue($.PANEL_LAST_NON_MAXIMIZED_WIDTH,e.width)),this.setEditorHidden(!0)),this.stateModel.setRuntimeValue($.PANEL_WAS_LAST_MAXIMIZED,!s)}panelOpensMaximized(){if(this.getPanelAlignment()!=="center"&&es(this.getPanelPosition()))return!1;const e=yR(this.configurationService.getValue("workbench.panel.opensMaximized")),i=this.stateModel.getRuntimeValue($.PANEL_WAS_LAST_MAXIMIZED);return e===y0.ALWAYS||e===y0.REMEMBER_LAST&&i}setAuxiliaryBarHidden(e,i){if(this.stateModel.setRuntimeValue($.AUXILIARYBAR_HIDDEN,e),e?this.mainContainer.classList.add("noauxiliarybar"):this.mainContainer.classList.remove("noauxiliarybar"),e&&this.paneCompositeService.getActivePaneComposite(ne.AuxiliaryBar))this.paneCompositeService.hideActivePaneComposite(ne.AuxiliaryBar),this.focusPanelOrEditor();else if(!e&&!this.paneCompositeService.getActivePaneComposite(ne.AuxiliaryBar)){let s=this.paneCompositeService.getLastActivePaneCompositeId(ne.AuxiliaryBar);if((!s||!this.hasViews(s))&&(s=this.viewDescriptorService.getViewContainersByLocation(ne.AuxiliaryBar).find(n=>this.hasViews(n.id))?.id),s){const n=!i;this.paneCompositeService.openPaneComposite(s,ne.AuxiliaryBar,n)}}this.workbenchGrid.setViewVisible(this.auxiliaryBarPartView,!e)}setPartHidden(e,i,s=Q){switch(i){case P.ACTIVITYBAR_PART:return this.setActivityBarHidden(e);case P.SIDEBAR_PART:return this.setSideBarHidden(e);case P.EDITOR_PART:return this.setEditorHidden(e);case P.BANNER_PART:return this.setBannerHidden(e);case P.AUXILIARYBAR_PART:return this.setAuxiliaryBarHidden(e);case P.PANEL_PART:return this.setPanelHidden(e)}}hasMainWindowBorder(){return this.state.runtime.mainWindowBorder}getMainWindowBorderRadius(){return this.state.runtime.mainWindowBorder&&He?"5px":void 0}isPanelMaximized(){return(this.getPanelAlignment()==="center"||!es(this.getPanelPosition()))&&!this.isVisible(P.EDITOR_PART,Q)}getSideBarPosition(){return this.stateModel.getRuntimeValue($.SIDEBAR_POSITON)}getPanelAlignment(){return this.stateModel.getRuntimeValue($.PANEL_ALIGNMENT)}updateMenubarVisibility(e){const i=wl(this.configurationService,Q,this.state.runtime.menuBar.toggled,this.isZenModeActive());!e&&this.workbenchGrid&&i!==this.isVisible(P.TITLEBAR_PART,Q)&&this.workbenchGrid.setViewVisible(this.titleBarPartView,i)}updateCustomTitleBarVisibility(){const e=wl(this.configurationService,Q,this.state.runtime.menuBar.toggled,this.isZenModeActive()),i=this.isVisible(P.TITLEBAR_PART);e!==i&&this.workbenchGrid.setViewVisible(this.titleBarPartView,e)}toggleMenuBar(){let e=Ka(this.configurationService);typeof e!="string"&&(e="classic");let i;e==="visible"||e==="classic"?i=ec(this.configurationService)?"toggle":"compact":i="classic",this.configurationService.updateValue("window.menuBarVisibility",i)}getPanelPosition(){return this.stateModel.getRuntimeValue($.PANEL_POSITION)}setPanelPosition(e){this.isVisible(P.PANEL_PART)||this.setPanelHidden(!1);const i=this.getPart(P.PANEL_PART),s=In(this.getPanelPosition()),n=In(e),o=di(i.getContainer());o.classList.remove(s),o.classList.add(n),i.updateStyles();const r=this.workbenchGrid.getViewSize(this.panelPartView),a=this.workbenchGrid.getViewSize(this.sideBarPartView),l=this.workbenchGrid.getViewSize(this.auxiliaryBarPartView);let h=!this.isVisible(P.EDITOR_PART,Q);n!==s&&!h&&(es(e)?this.stateModel.setRuntimeValue($.PANEL_LAST_NON_MAXIMIZED_WIDTH,r.width):es(Df(s))&&this.stateModel.setRuntimeValue($.PANEL_LAST_NON_MAXIMIZED_HEIGHT,r.height)),es(e)&&this.getPanelAlignment()!=="center"&&h&&(this.toggleMaximizedPanel(),h=!1),this.stateModel.setRuntimeValue($.PANEL_POSITION,e);const d=this.isVisible(P.SIDEBAR_PART),u=this.isVisible(P.AUXILIARYBAR_PART);e===Je.BOTTOM?this.workbenchGrid.moveView(this.panelPartView,h?r.height:this.stateModel.getRuntimeValue($.PANEL_LAST_NON_MAXIMIZED_HEIGHT),this.editorPartView,Ws.Down):e===Je.TOP?this.workbenchGrid.moveView(this.panelPartView,h?r.height:this.stateModel.getRuntimeValue($.PANEL_LAST_NON_MAXIMIZED_HEIGHT),this.editorPartView,Ws.Up):e===Je.RIGHT?this.workbenchGrid.moveView(this.panelPartView,h?r.width:this.stateModel.getRuntimeValue($.PANEL_LAST_NON_MAXIMIZED_WIDTH),this.editorPartView,Ws.Right):this.workbenchGrid.moveView(this.panelPartView,h?r.width:this.stateModel.getRuntimeValue($.PANEL_LAST_NON_MAXIMIZED_WIDTH),this.editorPartView,Ws.Left),this.workbenchGrid.resizeView(this.sideBarPartView,a),d||this.setSideBarHidden(!0),this.workbenchGrid.resizeView(this.auxiliaryBarPartView,l),u||this.setAuxiliaryBarHidden(!0),es(e)&&this.adjustPartPositions(this.getSideBarPosition(),this.getPanelAlignment(),e),this._onDidChangePanelPosition.fire(n)}isWindowMaximized(e){return this.state.runtime.maximized.has(ph(e))}updateWindowMaximizedState(e,i){this.mainContainer.classList.toggle("maximized",i);const s=ph(e);i!==this.state.runtime.maximized.has(s)&&(i?this.state.runtime.maximized.add(s):this.state.runtime.maximized.delete(s),this.updateWindowsBorder(),this._onDidChangeWindowMaximized.fire({windowId:s,maximized:i}))}getVisibleNeighborPart(e,i){if(!this.workbenchGrid||!this.isVisible(e,Q))return;const s=this.workbenchGrid.getNeighborViews(this.getPart(e),i,!1);if(s)for(const n of s){const o=[P.ACTIVITYBAR_PART,P.EDITOR_PART,P.PANEL_PART,P.AUXILIARYBAR_PART,P.SIDEBAR_PART,P.STATUSBAR_PART,P.TITLEBAR_PART].find(r=>this.getPart(r)===n&&this.isVisible(r,Q));if(o!==void 0)return o}}onDidChangeWCO(){const e=this.workbenchGrid.getNeighborViews(this.titleBarPartView,Ws.Up,!1).length>0,i=this.shouldShowBannerFirst();e!==i&&this.workbenchGrid.moveView(this.bannerPartView,xl.Distribute,this.titleBarPartView,i?Ws.Up:Ws.Down),this.workbenchGrid.setViewVisible(this.titleBarPartView,wl(this.configurationService,Q,this.state.runtime.menuBar.toggled,this.isZenModeActive()))}arrangeEditorNodes(e,i,s){if(!e.sideBar&&!e.auxiliaryBar)return e.editor.size=i,e.editor;const n=[e.editor];return e.editor.size=s,e.sideBar&&(this.stateModel.getRuntimeValue($.SIDEBAR_POSITON)===Je.LEFT?n.splice(0,0,e.sideBar):n.push(e.sideBar),e.editor.size-=this.stateModel.getRuntimeValue($.SIDEBAR_HIDDEN)?0:e.sideBar.size),e.auxiliaryBar&&(this.stateModel.getRuntimeValue($.SIDEBAR_POSITON)===Je.RIGHT?n.splice(0,0,e.auxiliaryBar):n.push(e.auxiliaryBar),e.editor.size-=this.stateModel.getRuntimeValue($.AUXILIARYBAR_HIDDEN)?0:e.auxiliaryBar.size),{type:"branch",data:n,size:i}}arrangeMiddleSectionNodes(e,i,s){const n=this.stateModel.getRuntimeValue($.ACTIVITYBAR_HIDDEN)?0:e.activityBar.size,o=this.stateModel.getRuntimeValue($.SIDEBAR_HIDDEN)?0:e.sideBar.size,r=this.stateModel.getRuntimeValue($.AUXILIARYBAR_HIDDEN)?0:e.auxiliaryBar.size,a=this.stateModel.getInitializationValue($.PANEL_SIZE)?0:e.panel.size,l=this.stateModel.getRuntimeValue($.PANEL_POSITION),h=this.stateModel.getRuntimeValue($.SIDEBAR_POSITON),d=[];if(es(l)){const u=this.stateModel.getRuntimeValue($.PANEL_ALIGNMENT),g=!(u==="center"||h===Je.LEFT&&u==="right"||h===Je.RIGHT&&u==="left"),p=!(u==="center"||h===Je.RIGHT&&u==="right"||h===Je.LEFT&&u==="left"),m=i-n-(g?0:o)-(p?0:r),b=this.arrangeEditorNodes({editor:e.editor,sideBar:g?e.sideBar:void 0,auxiliaryBar:p?e.auxiliaryBar:void 0},s-a,m);d.push({type:"branch",data:l===Je.BOTTOM?[b,e.panel]:[e.panel,b],size:m}),g||(h===Je.LEFT?d.splice(0,0,e.sideBar):d.push(e.sideBar)),p||(h===Je.RIGHT?d.splice(0,0,e.auxiliaryBar):d.push(e.auxiliaryBar)),h===Je.LEFT?d.splice(0,0,e.activityBar):d.push(e.activityBar)}else d.push(e.editor),e.editor.size=i-n-o-a-r,l===Je.RIGHT?d.push(e.panel):d.splice(0,0,e.panel),h===Je.LEFT?(d.push(e.auxiliaryBar),d.splice(0,0,e.sideBar),d.splice(0,0,e.activityBar)):(d.splice(0,0,e.auxiliaryBar),d.push(e.sideBar),d.push(e.activityBar));return d}createGridDescriptor(){const{width:e,height:i}=this.stateModel.getInitializationValue($.GRID_SIZE),s=this.stateModel.getInitializationValue($.SIDEBAR_SIZE),n=this.stateModel.getInitializationValue($.AUXILIARYBAR_SIZE),o=this.stateModel.getInitializationValue($.PANEL_SIZE),r=this.titleBarPartView.minimumHeight,a=this.bannerPartView.minimumHeight,l=this.statusBarPartView.minimumHeight,h=this.activityBarPartView.minimumWidth,d=i-r-l,u=[{type:"leaf",data:{type:P.TITLEBAR_PART},size:r,visible:this.isVisible(P.TITLEBAR_PART,Q)},{type:"leaf",data:{type:P.BANNER_PART},size:a,visible:!1}],g={type:"leaf",data:{type:P.ACTIVITYBAR_PART},size:h,visible:!this.stateModel.getRuntimeValue($.ACTIVITYBAR_HIDDEN)},p={type:"leaf",data:{type:P.SIDEBAR_PART},size:s,visible:!this.stateModel.getRuntimeValue($.SIDEBAR_HIDDEN)},m={type:"leaf",data:{type:P.AUXILIARYBAR_PART},size:n,visible:this.isVisible(P.AUXILIARYBAR_PART)},b={type:"leaf",data:{type:P.EDITOR_PART},size:0,visible:!this.stateModel.getRuntimeValue($.EDITOR_HIDDEN)},C={type:"leaf",data:{type:P.PANEL_PART},size:o,visible:!this.stateModel.getRuntimeValue($.PANEL_HIDDEN)},x=this.arrangeMiddleSectionNodes({activityBar:g,auxiliaryBar:m,editor:b,panel:C,sideBar:p},e,d),E={root:{type:"branch",size:e,data:[...this.shouldShowBannerFirst()?u.reverse():u,{type:"branch",data:x,size:d},{type:"leaf",data:{type:P.STATUSBAR_PART},size:l,visible:!this.stateModel.getRuntimeValue($.STATUSBAR_HIDDEN)}]},orientation:ge.VERTICAL,width:e,height:i},F={activityBarVisible:!this.stateModel.getRuntimeValue($.ACTIVITYBAR_HIDDEN),sideBarVisible:!this.stateModel.getRuntimeValue($.SIDEBAR_HIDDEN),auxiliaryBarVisible:!this.stateModel.getRuntimeValue($.AUXILIARYBAR_HIDDEN),panelVisible:!this.stateModel.getRuntimeValue($.PANEL_HIDDEN),statusbarVisible:!this.stateModel.getRuntimeValue($.STATUSBAR_HIDDEN),sideBarPosition:In(this.stateModel.getRuntimeValue($.SIDEBAR_POSITON)),panelPosition:In(this.stateModel.getRuntimeValue($.PANEL_POSITION))};return this.telemetryService.publicLog2("startupLayout",F),E}dispose(){super.dispose(),this.disposed=!0}}function yS(t){return t.getValue("zenMode")}Nr(yS,"getZenModeConfiguration");class LM{constructor(e,i,s,n){this.name=e,this.scope=i,this.target=s,this.defaultValue=n}static{Nr(this,"WorkbenchLayoutStateKey")}}class Cs extends LM{constructor(e,i,s,n,o){super(e,i,s,n),this.zenModeIgnore=o}static{Nr(this,"RuntimeStateKey")}runtime=!0}class _b extends LM{static{Nr(this,"InitializationStateKey")}runtime=!1}const $={MAIN_EDITOR_CENTERED:new Cs("editor.centered",_e.WORKSPACE,Pt.MACHINE,!1),ZEN_MODE_ACTIVE:new Cs("zenMode.active",_e.WORKSPACE,Pt.MACHINE,!1),ZEN_MODE_EXIT_INFO:new Cs("zenMode.exitInfo",_e.WORKSPACE,Pt.MACHINE,{transitionedToCenteredEditorLayout:!1,transitionedToFullScreen:!1,handleNotificationsDoNotDisturbMode:!1,wasVisible:{auxiliaryBar:!1,panel:!1,sideBar:!1}}),GRID_SIZE:new _b("grid.size",_e.PROFILE,Pt.MACHINE,{width:800,height:600}),SIDEBAR_SIZE:new _b("sideBar.size",_e.PROFILE,Pt.MACHINE,200),AUXILIARYBAR_SIZE:new _b("auxiliaryBar.size",_e.PROFILE,Pt.MACHINE,200),PANEL_SIZE:new _b("panel.size",_e.PROFILE,Pt.MACHINE,300),PANEL_LAST_NON_MAXIMIZED_HEIGHT:new Cs("panel.lastNonMaximizedHeight",_e.PROFILE,Pt.MACHINE,300),PANEL_LAST_NON_MAXIMIZED_WIDTH:new Cs("panel.lastNonMaximizedWidth",_e.PROFILE,Pt.MACHINE,300),PANEL_WAS_LAST_MAXIMIZED:new Cs("panel.wasLastMaximized",_e.WORKSPACE,Pt.MACHINE,!1),SIDEBAR_POSITON:new Cs("sideBar.position",_e.WORKSPACE,Pt.MACHINE,Je.LEFT),PANEL_POSITION:new Cs("panel.position",_e.WORKSPACE,Pt.MACHINE,Je.BOTTOM),PANEL_ALIGNMENT:new Cs("panel.alignment",_e.PROFILE,Pt.USER,"center"),ACTIVITYBAR_HIDDEN:new Cs("activityBar.hidden",_e.WORKSPACE,Pt.MACHINE,!1,!0),SIDEBAR_HIDDEN:new Cs("sideBar.hidden",_e.WORKSPACE,Pt.MACHINE,!1),EDITOR_HIDDEN:new Cs("editor.hidden",_e.WORKSPACE,Pt.MACHINE,!1),PANEL_HIDDEN:new Cs("panel.hidden",_e.WORKSPACE,Pt.MACHINE,!0),AUXILIARYBAR_HIDDEN:new Cs("auxiliaryBar.hidden",_e.WORKSPACE,Pt.MACHINE,!0),STATUSBAR_HIDDEN:new Cs("statusBar.hidden",_e.WORKSPACE,Pt.MACHINE,!1,!0)};class Rf extends q{constructor(e,i,s,n){super(),this.storageService=e,this.configurationService=i,this.contextService=s,this.container=n,this._register(this.configurationService.onDidChangeConfiguration(o=>this.updateStateFromLegacySettings(o)))}static{Nr(this,"LayoutStateModel")}static STORAGE_PREFIX="workbench.";_onDidChangeState=this._register(new I);onDidChangeState=this._onDidChangeState.event;stateCache=new Map;updateStateFromLegacySettings(e){e.affectsConfiguration(We.ACTIVITY_BAR_LOCATION)&&this.setRuntimeValueAndFire($.ACTIVITYBAR_HIDDEN,this.isActivityBarHidden()),e.affectsConfiguration("workbench.statusBar.visible")&&this.setRuntimeValueAndFire($.STATUSBAR_HIDDEN,!this.configurationService.getValue("workbench.statusBar.visible")),e.affectsConfiguration("workbench.sideBar.location")&&this.setRuntimeValueAndFire($.SIDEBAR_POSITON,Df(this.configurationService.getValue("workbench.sideBar.location")??"left"))}updateLegacySettingsFromState(e,i){const s=this.getRuntimeValue($.ZEN_MODE_ACTIVE);e.zenModeIgnore&&s||(e===$.ACTIVITYBAR_HIDDEN?this.configurationService.updateValue(We.ACTIVITY_BAR_LOCATION,i?pt.HIDDEN:void 0):e===$.STATUSBAR_HIDDEN?this.configurationService.updateValue("workbench.statusBar.visible",!i):e===$.SIDEBAR_POSITON&&this.configurationService.updateValue("workbench.sideBar.location",In(i)))}load(){let e;for(e in $){const s=$[e],n=this.loadKeyFromStorage(s);n!==void 0&&this.stateCache.set(s.name,n)}this.stateCache.set($.ACTIVITYBAR_HIDDEN.name,this.isActivityBarHidden()),this.stateCache.set($.STATUSBAR_HIDDEN.name,!this.configurationService.getValue("workbench.statusBar.visible")),this.stateCache.set($.SIDEBAR_POSITON.name,Df(this.configurationService.getValue("workbench.sideBar.location")??"left"));const i=kh(this.container);$.PANEL_POSITION.defaultValue=Df(this.configurationService.getValue("workbench.panel.defaultLocation")??"bottom"),$.GRID_SIZE.defaultValue={height:i.height,width:i.width},$.SIDEBAR_SIZE.defaultValue=Math.min(300,i.width/4),$.AUXILIARYBAR_SIZE.defaultValue=Math.min(300,i.width/4),$.PANEL_SIZE.defaultValue=this.stateCache.get($.PANEL_POSITION.name)??es($.PANEL_POSITION.defaultValue)?i.height/3:i.width/4,$.SIDEBAR_HIDDEN.defaultValue=this.contextService.getWorkbenchState()===eu.EMPTY;for(e in $){const s=$[e];this.stateCache.get(s.name)===void 0&&this.stateCache.set(s.name,s.defaultValue)}this._register(this.storageService.onDidChangeValue(_e.PROFILE,void 0,this._register(new Z))(s=>{let n;for(n in $){const o=$[n];if(o instanceof Cs&&o.scope===_e.PROFILE&&o.target===Pt.USER&&`${Rf.STORAGE_PREFIX}${o.name}`===s.key){const r=this.loadKeyFromStorage(o)??o.defaultValue;this.stateCache.get(o.name)!==r&&(this.stateCache.set(o.name,r),this._onDidChangeState.fire({key:o,value:r}))}}}))}save(e,i){let s;const n=this.getRuntimeValue($.ZEN_MODE_ACTIVE);for(s in $){const o=$[s];if(e&&o.scope===_e.WORKSPACE||i&&o.scope===_e.PROFILE){if(n&&o instanceof Cs&&o.zenModeIgnore)continue;this.saveKeyToStorage(o)}}}getInitializationValue(e){return this.stateCache.get(e.name)}setInitializationValue(e,i){this.stateCache.set(e.name,i)}getRuntimeValue(e,i){if(i)switch(e){case $.ACTIVITYBAR_HIDDEN:this.stateCache.set(e.name,this.isActivityBarHidden());break;case $.STATUSBAR_HIDDEN:this.stateCache.set(e.name,!this.configurationService.getValue("workbench.statusBar.visible"));break;case $.SIDEBAR_POSITON:this.stateCache.set(e.name,this.configurationService.getValue("workbench.sideBar.location")??"left");break}return this.stateCache.get(e.name)}setRuntimeValue(e,i){this.stateCache.set(e.name,i);const s=this.getRuntimeValue($.ZEN_MODE_ACTIVE);e.scope===_e.PROFILE&&(!s||!e.zenModeIgnore)&&(this.saveKeyToStorage(e),this.updateLegacySettingsFromState(e,i))}isActivityBarHidden(){const e=this.configurationService.getValue("workbench.activityBar.visible");return e!==void 0?!e:this.configurationService.getValue(We.ACTIVITY_BAR_LOCATION)!==pt.DEFAULT}setRuntimeValueAndFire(e,i){this.stateCache.get(e.name)!==i&&(this.setRuntimeValue(e,i),this._onDidChangeState.fire({key:e,value:i}))}saveKeyToStorage(e){const i=this.stateCache.get(e.name);this.storageService.store(`${Rf.STORAGE_PREFIX}${e.name}`,typeof i=="object"?JSON.stringify(i):i,e.scope,e.target)}loadKeyFromStorage(e){let i=this.storageService.get(`${Rf.STORAGE_PREFIX}${e.name}`,e.scope);if(i!==void 0)switch(typeof e.defaultValue){case"boolean":i=i==="true";break;case"number":i=Number.parseInt(i);break;case"object":i=JSON.parse(i);break}return i}}var sie=Object.defineProperty,PM=(t,e)=>sie(t,"name",{value:e,configurable:!0});const nie=Ce("accessibleViewService");var RM=(t=>(t.Terminal="terminal",t.TerminalChat="terminal-chat",t.TerminalHelp="terminal-help",t.DiffEditor="diffEditor",t.Chat="panelChat",t.InlineChat="inlineChat",t.InlineCompletions="inlineCompletions",t.KeybindingsEditor="keybindingsEditor",t.Notebook="notebook",t.Editor="editor",t.Hover="hover",t.Notification="notification",t.EmptyEditorHint="emptyEditorHint",t.Comments="comments",t.Repl="repl",t.ReplHelp="replHelp",t.RunAndDebug="runAndDebug",t.Walkthrough="walkthrough",t))(RM||{}),_S=(t=>(t.Help="help",t.View="view",t))(_S||{});class oie extends q{constructor(e,i,s,n,o,r,a,l,h,d,u,g,p){super(),this.id=e,this.options=i,this.provideContent=s,this.onClose=n,this.verbositySettingKey=o,this.onOpen=r,this.actions=a,this.provideNextContent=l,this.providePreviousContent=h,this.onDidChangeContent=d,this.onKeyDown=u,this.getSymbols=g,this.onDidRequestClearLastProvider=p}static{PM(this,"AccessibleContentProvider")}}class sre extends q{constructor(e,i,s,n,o,r,a,l,h){super(),this.id=e,this.options=i,this.provideContent=s,this.onClose=n,this.onOpen=o,this.provideNextContent=r,this.providePreviousContent=a,this.actions=l,this.onDidChangeContent=h}static{PM(this,"ExtensionContentProvider")}}var rie=Object.defineProperty,Gu=(t,e)=>rie(t,"name",{value:e,configurable:!0});class aie{constructor(e,i){this.renderer=e,this.modelProvider=i}static{Gu(this,"PagedRenderer")}get templateId(){return this.renderer.templateId}renderTemplate(e){return{data:this.renderer.renderTemplate(e),disposable:q.None}}renderElement(e,i,s,n){if(s.disposable?.dispose(),!s.data)return;const o=this.modelProvider();if(o.isResolved(e))return this.renderer.renderElement(o.get(e),e,s.data,n);const r=new Yh,a=o.resolve(e,r.token);s.disposable={dispose:Gu(()=>r.cancel(),"dispose")},this.renderer.renderPlaceholder(e,s.data),a.then(l=>this.renderer.renderElement(l,e,s.data,n))}disposeTemplate(e){e.disposable&&(e.disposable.dispose(),e.disposable=void 0),e.data&&(this.renderer.disposeTemplate(e.data),e.data=void 0)}}class lie{constructor(e,i){this.modelProvider=e,this.accessibilityProvider=i}static{Gu(this,"PagedAccessibilityProvider")}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(e){const i=this.modelProvider();return i.isResolved(e)?this.accessibilityProvider.getAriaLabel(i.get(e)):null}}function NM(t,e){return{...e,accessibilityProvider:e.accessibilityProvider&&new lie(t,e.accessibilityProvider)}}Gu(NM,"fromPagedListOptions");class cie{static{Gu(this,"PagedList")}list;_model;constructor(e,i,s,n,o={}){const r=Gu(()=>this.model,"modelProvider"),a=n.map(l=>new aie(l,r));this.list=new go(e,i,s,a,NM(r,o))}updateOptions(e){this.list.updateOptions(e)}getHTMLElement(){return this.list.getHTMLElement()}isDOMFocused(){return na(this.getHTMLElement())}domFocus(){this.list.domFocus()}get onDidFocus(){return this.list.onDidFocus}get onDidBlur(){return this.list.onDidBlur}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseClick(){return R.map(this.list.onMouseClick,({element:e,index:i,browserEvent:s})=>({element:e===void 0?void 0:this._model.get(e),index:i,browserEvent:s}))}get onMouseDblClick(){return R.map(this.list.onMouseDblClick,({element:e,index:i,browserEvent:s})=>({element:e===void 0?void 0:this._model.get(e),index:i,browserEvent:s}))}get onTap(){return R.map(this.list.onTap,({element:e,index:i,browserEvent:s})=>({element:e===void 0?void 0:this._model.get(e),index:i,browserEvent:s}))}get onPointer(){return R.map(this.list.onPointer,({element:e,index:i,browserEvent:s})=>({element:e===void 0?void 0:this._model.get(e),index:i,browserEvent:s}))}get onDidChangeFocus(){return R.map(this.list.onDidChangeFocus,({elements:e,indexes:i,browserEvent:s})=>({elements:e.map(n=>this._model.get(n)),indexes:i,browserEvent:s}))}get onDidChangeSelection(){return R.map(this.list.onDidChangeSelection,({elements:e,indexes:i,browserEvent:s})=>({elements:e.map(n=>this._model.get(n)),indexes:i,browserEvent:s}))}get onContextMenu(){return R.map(this.list.onContextMenu,({element:e,index:i,anchor:s,browserEvent:n})=>typeof e>"u"?{element:e,index:i,anchor:s,browserEvent:n}:{element:this._model.get(e),index:i,anchor:s,browserEvent:n})}get model(){return this._model}set model(e){this._model=e,this.list.splice(0,this.list.length,Ds(e.length))}get length(){return this.list.length}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollLeft(){return this.list.scrollLeft}set scrollLeft(e){this.list.scrollLeft=e}setAnchor(e){this.list.setAnchor(e)}getAnchor(){return this.list.getAnchor()}setFocus(e){this.list.setFocus(e)}focusNext(e,i){this.list.focusNext(e,i)}focusPrevious(e,i){this.list.focusPrevious(e,i)}focusNextPage(){return this.list.focusNextPage()}focusPreviousPage(){return this.list.focusPreviousPage()}focusLast(){this.list.focusLast()}focusFirst(){this.list.focusFirst()}getFocus(){return this.list.getFocus()}setSelection(e,i){this.list.setSelection(e,i)}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(e=>this.model.get(e))}layout(e,i){this.list.layout(e,i)}triggerTypeNavigation(){this.list.triggerTypeNavigation()}reveal(e,i){this.list.reveal(e,i)}style(e){this.list.style(e)}dispose(){this.list.dispose()}}var hie=Object.defineProperty,Rp=(t,e)=>hie(t,"name",{value:e,configurable:!0});class vy{constructor(e,i,s){this.columns=e,this.getColumnSize=s;const n=new Map(i.map(o=>[o.templateId,o]));this.renderers=[];for(const o of e){const r=n.get(o.templateId);if(!r)throw new Error(`Table cell renderer for template id ${o.templateId} not found.`);this.renderers.push(r)}}static{Rp(this,"TableListRenderer")}static TemplateId="row";templateId=vy.TemplateId;renderers;renderedTemplates=new Set;renderTemplate(e){const i=we(e,de(".monaco-table-tr")),s=[],n=[];for(let r=0;r<this.columns.length;r++){const a=this.renderers[r],l=we(i,de(".monaco-table-td",{"data-col-index":r}));l.style.width=`${this.getColumnSize(r)}px`,s.push(l),n.push(a.renderTemplate(l))}const o={container:e,cellContainers:s,cellTemplateData:n};return this.renderedTemplates.add(o),o}renderElement(e,i,s,n){for(let o=0;o<this.columns.length;o++){const a=this.columns[o].project(e);this.renderers[o].renderElement(a,i,s.cellTemplateData[o],n)}}disposeElement(e,i,s,n){for(let o=0;o<this.columns.length;o++){const r=this.renderers[o];if(r.disposeElement){const l=this.columns[o].project(e);r.disposeElement(l,i,s.cellTemplateData[o],n)}}}disposeTemplate(e){for(let i=0;i<this.columns.length;i++)this.renderers[i].disposeTemplate(e.cellTemplateData[i]);ds(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,i){for(const{cellContainers:s}of this.renderedTemplates)s[e].style.width=`${i}px`}}function OM(t){return{getHeight(e){return t.getHeight(e)},getTemplateId(){return vy.TemplateId}}}Rp(OM,"asListVirtualDelegate");class die extends q{constructor(e,i){super(),this.column=e,this.index=i,this.element=de(".monaco-table-th",{"data-col-index":i},e.label),e.tooltip&&this._register(ra().setupManagedHover(Ri("mouse"),this.element,e.tooltip))}static{Rp(this,"ColumnHeader")}element;get minimumSize(){return this.column.minimumWidth??120}get maximumSize(){return this.column.maximumWidth??Number.POSITIVE_INFINITY}get onDidChange(){return this.column.onDidChangeWidthConstraints??R.None}_onDidLayout=new I;onDidLayout=this._onDidLayout.event;layout(e){this._onDidLayout.fire([this.index,e])}}class SE{constructor(e,i,s,n,o,r){this.virtualDelegate=s,this.columns=n,this.domNode=we(i,de(`.monaco-table.${this.domId}`));const a=n.map((d,u)=>this.disposables.add(new die(d,u))),l={size:a.reduce((d,u)=>d+u.column.weight,0),views:a.map(d=>({size:d.column.weight,view:d}))};this.splitview=this.disposables.add(new dp(this.domNode,{orientation:ge.HORIZONTAL,scrollbarVisibility:Jt.Hidden,getSashOrthogonalSize:Rp(()=>this.cachedHeight,"getSashOrthogonalSize"),descriptor:l})),this.splitview.el.style.height=`${s.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${s.headerRowHeight}px`;const h=new vy(n,o,d=>this.splitview.getViewSize(d));this.list=this.disposables.add(new go(e,this.domNode,OM(s),[h],r)),R.any(...a.map(d=>d.onDidLayout))(([d,u])=>h.layoutColumn(d,u),null,this.disposables),this.splitview.onDidSashReset(d=>{const u=n.reduce((p,m)=>p+m.weight,0),g=n[d].weight/u*this.cachedWidth;this.splitview.resizeView(d,g)},null,this.disposables),this.styleElement=cr(this.domNode),this.style(B5)}static{Rp(this,"Table")}static InstanceCount=0;domId=`table_id_${++SE.InstanceCount}`;domNode;splitview;list;styleElement;disposables=new Z;cachedWidth=0;cachedHeight=0;get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseClick(){return this.list.onMouseClick}get onMouseDblClick(){return this.list.onMouseDblClick}get onMouseMiddleClick(){return this.list.onMouseMiddleClick}get onPointer(){return this.list.onPointer}get onMouseUp(){return this.list.onMouseUp}get onMouseDown(){return this.list.onMouseDown}get onMouseOver(){return this.list.onMouseOver}get onMouseMove(){return this.list.onMouseMove}get onMouseOut(){return this.list.onMouseOut}get onTouchStart(){return this.list.onTouchStart}get onTap(){return this.list.onTap}get onContextMenu(){return this.list.onContextMenu}get onDidFocus(){return this.list.onDidFocus}get onDidBlur(){return this.list.onDidBlur}get scrollTop(){return this.list.scrollTop}set scrollTop(e){this.list.scrollTop=e}get scrollLeft(){return this.list.scrollLeft}set scrollLeft(e){this.list.scrollLeft=e}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}getColumnLabels(){return this.columns.map(e=>e.label)}resizeColumn(e,i){const s=Math.round(i/100*this.cachedWidth);this.splitview.resizeView(e,s)}updateOptions(e){this.list.updateOptions(e)}splice(e,i,s=[]){this.list.splice(e,i,s)}rerender(){this.list.rerender()}row(e){return this.list.element(e)}indexOf(e){return this.list.indexOf(e)}get length(){return this.list.length}getHTMLElement(){return this.domNode}layout(e,i){e=e??CC(this.domNode),i=i??bf(this.domNode),this.cachedWidth=i,this.cachedHeight=e,this.splitview.layout(i);const s=e-this.virtualDelegate.headerRowHeight;this.list.getHTMLElement().style.height=`${s}px`,this.list.layout(s,i)}triggerTypeNavigation(){this.list.triggerTypeNavigation()}style(e){const i=[];i.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=i.join(`
`),this.list.style(e)}domFocus(){this.list.domFocus()}setAnchor(e){this.list.setAnchor(e)}getAnchor(){return this.list.getAnchor()}getSelectedElements(){return this.list.getSelectedElements()}setSelection(e,i){this.list.setSelection(e,i)}getSelection(){return this.list.getSelection()}setFocus(e,i){this.list.setFocus(e,i)}focusNext(e=1,i=!1,s){this.list.focusNext(e,i,s)}focusPrevious(e=1,i=!1,s){this.list.focusPrevious(e,i,s)}focusNextPage(e){return this.list.focusNextPage(e)}focusPreviousPage(e){return this.list.focusPreviousPage(e)}focusFirst(e){this.list.focusFirst(e)}focusLast(e){this.list.focusLast(e)}getFocus(){return this.list.getFocus()}getFocusedElements(){return this.list.getFocusedElements()}getRelativeTop(e){return this.list.getRelativeTop(e)}reveal(e,i){this.list.reveal(e,i)}dispose(){this.disposables.dispose()}}var uie=Object.defineProperty,gie=(t,e)=>uie(t,"name",{value:e,configurable:!0});class Cl{static{gie(this,"DiffChange")}originalStart;originalLength;modifiedStart;modifiedLength;constructor(e,i,s,n){this.originalStart=e,this.originalLength=i,this.modifiedStart=s,this.modifiedLength=n}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var fie=Object.defineProperty,Ag=(t,e)=>fie(t,"name",{value:e,configurable:!0});class MT{constructor(e){this.source=e}static{Ag(this,"StringDiffSequence")}getElements(){const e=this.source,i=new Int32Array(e.length);for(let s=0,n=e.length;s<n;s++)i[s]=e.charCodeAt(s);return i}}function pie(t,e,i){return new Bl(new MT(t),new MT(e)).ComputeDiff(i).changes}Ag(pie,"stringDiff");class yd{static{Ag(this,"Debug")}static Assert(e,i){if(!e)throw new Error(i)}}class _d{static{Ag(this,"MyArray")}static Copy(e,i,s,n,o){for(let r=0;r<o;r++)s[n+r]=e[i+r]}static Copy2(e,i,s,n,o){for(let r=0;r<o;r++)s[n+r]=e[i+r]}}class FT{static{Ag(this,"DiffChangeHelper")}m_changes;m_originalStart;m_modifiedStart;m_originalCount;m_modifiedCount;constructor(){this.m_changes=[],this.m_originalStart=Is.MAX_SAFE_SMALL_INTEGER,this.m_modifiedStart=Is.MAX_SAFE_SMALL_INTEGER,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new Cl(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=Is.MAX_SAFE_SMALL_INTEGER,this.m_modifiedStart=Is.MAX_SAFE_SMALL_INTEGER}AddOriginalElement(e,i){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_originalCount++}AddModifiedElement(e,i){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,i),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class Bl{static{Ag(this,"LcsDiff")}ContinueProcessingPredicate;_originalSequence;_modifiedSequence;_hasStrings;_originalStringElements;_originalElementsOrHash;_modifiedStringElements;_modifiedElementsOrHash;m_forwardHistory;m_reverseHistory;constructor(e,i,s=null){this.ContinueProcessingPredicate=s,this._originalSequence=e,this._modifiedSequence=i;const[n,o,r]=Bl._getElements(e),[a,l,h]=Bl._getElements(i);this._hasStrings=r&&h,this._originalStringElements=n,this._originalElementsOrHash=o,this._modifiedStringElements=a,this._modifiedElementsOrHash=l,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(e){return e.length>0&&typeof e[0]=="string"}static _getElements(e){const i=e.getElements();if(Bl._isStringArray(i)){const s=new Int32Array(i.length);for(let n=0,o=i.length;n<o;n++)s[n]=a1(i[n],0);return[i,s,!0]}return i instanceof Int32Array?[[],i,!1]:[[],new Int32Array(i),!1]}ElementsAreEqual(e,i){return this._originalElementsOrHash[e]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[e]===this._modifiedStringElements[i]:!0}ElementsAreStrictEqual(e,i){if(!this.ElementsAreEqual(e,i))return!1;const s=Bl._getStrictElement(this._originalSequence,e),n=Bl._getStrictElement(this._modifiedSequence,i);return s===n}static _getStrictElement(e,i){return typeof e.getStrictElement=="function"?e.getStrictElement(i):null}OriginalElementsAreEqual(e,i){return this._originalElementsOrHash[e]!==this._originalElementsOrHash[i]?!1:this._hasStrings?this._originalStringElements[e]===this._originalStringElements[i]:!0}ModifiedElementsAreEqual(e,i){return this._modifiedElementsOrHash[e]!==this._modifiedElementsOrHash[i]?!1:this._hasStrings?this._modifiedStringElements[e]===this._modifiedStringElements[i]:!0}ComputeDiff(e){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,e)}_ComputeDiff(e,i,s,n,o){const r=[!1];let a=this.ComputeDiffRecursive(e,i,s,n,r);return o&&(a=this.PrettifyChanges(a)),{quitEarly:r[0],changes:a}}ComputeDiffRecursive(e,i,s,n,o){for(o[0]=!1;e<=i&&s<=n&&this.ElementsAreEqual(e,s);)e++,s++;for(;i>=e&&n>=s&&this.ElementsAreEqual(i,n);)i--,n--;if(e>i||s>n){let u;return s<=n?(yd.Assert(e===i+1,"originalStart should only be one more than originalEnd"),u=[new Cl(e,0,s,n-s+1)]):e<=i?(yd.Assert(s===n+1,"modifiedStart should only be one more than modifiedEnd"),u=[new Cl(e,i-e+1,s,0)]):(yd.Assert(e===i+1,"originalStart should only be one more than originalEnd"),yd.Assert(s===n+1,"modifiedStart should only be one more than modifiedEnd"),u=[]),u}const r=[0],a=[0],l=this.ComputeRecursionPoint(e,i,s,n,r,a,o),h=r[0],d=a[0];if(l!==null)return l;if(!o[0]){const u=this.ComputeDiffRecursive(e,h,s,d,o);let g=[];return o[0]?g=[new Cl(h+1,i-(h+1)+1,d+1,n-(d+1)+1)]:g=this.ComputeDiffRecursive(h+1,i,d+1,n,o),this.ConcatenateChanges(u,g)}return[new Cl(e,i-e+1,s,n-s+1)]}WALKTRACE(e,i,s,n,o,r,a,l,h,d,u,g,p,m,b,C,x,E){let F=null,B=null,M=new FT,X=i,ee=s,z=p[0]-C[0]-n,se=Is.MIN_SAFE_SMALL_INTEGER,Re=this.m_forwardHistory.length-1;do{const oe=z+e;oe===X||oe<ee&&h[oe-1]<h[oe+1]?(u=h[oe+1],m=u-z-n,u<se&&M.MarkNextChange(),se=u,M.AddModifiedElement(u+1,m),z=oe+1-e):(u=h[oe-1]+1,m=u-z-n,u<se&&M.MarkNextChange(),se=u-1,M.AddOriginalElement(u,m+1),z=oe-1-e),Re>=0&&(h=this.m_forwardHistory[Re],e=h[0],X=1,ee=h.length-1)}while(--Re>=-1);if(F=M.getReverseChanges(),E[0]){let oe=p[0]+1,De=C[0]+1;if(F!==null&&F.length>0){const Wt=F[F.length-1];oe=Math.max(oe,Wt.getOriginalEnd()),De=Math.max(De,Wt.getModifiedEnd())}B=[new Cl(oe,g-oe+1,De,b-De+1)]}else{M=new FT,X=r,ee=a,z=p[0]-C[0]-l,se=Is.MAX_SAFE_SMALL_INTEGER,Re=x?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const oe=z+o;oe===X||oe<ee&&d[oe-1]>=d[oe+1]?(u=d[oe+1]-1,m=u-z-l,u>se&&M.MarkNextChange(),se=u+1,M.AddOriginalElement(u+1,m+1),z=oe+1-o):(u=d[oe-1],m=u-z-l,u>se&&M.MarkNextChange(),se=u,M.AddModifiedElement(u+1,m+1),z=oe-1-o),Re>=0&&(d=this.m_reverseHistory[Re],o=d[0],X=1,ee=d.length-1)}while(--Re>=-1);B=M.getChanges()}return this.ConcatenateChanges(F,B)}ComputeRecursionPoint(e,i,s,n,o,r,a){let l=0,h=0,d=0,u=0,g=0,p=0;e--,s--,o[0]=0,r[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const m=i-e+(n-s),b=m+1,C=new Int32Array(b),x=new Int32Array(b),E=n-s,F=i-e,B=e-s,M=i-n,ee=(F-E)%2===0;C[E]=e,x[F]=i,a[0]=!1;for(let z=1;z<=m/2+1;z++){let se=0,Re=0;d=this.ClipDiagonalBound(E-z,z,E,b),u=this.ClipDiagonalBound(E+z,z,E,b);for(let De=d;De<=u;De+=2){De===d||De<u&&C[De-1]<C[De+1]?l=C[De+1]:l=C[De-1]+1,h=l-(De-E)-B;const Wt=l;for(;l<i&&h<n&&this.ElementsAreEqual(l+1,h+1);)l++,h++;if(C[De]=l,l+h>se+Re&&(se=l,Re=h),!ee&&Math.abs(De-F)<=z-1&&l>=x[De])return o[0]=l,r[0]=h,Wt<=x[De]&&z<=1448?this.WALKTRACE(E,d,u,B,F,g,p,M,C,x,l,i,o,h,n,r,ee,a):null}const oe=(se-e+(Re-s)-z)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(se,oe))return a[0]=!0,o[0]=se,r[0]=Re,oe>0&&z<=1448?this.WALKTRACE(E,d,u,B,F,g,p,M,C,x,l,i,o,h,n,r,ee,a):(e++,s++,[new Cl(e,i-e+1,s,n-s+1)]);g=this.ClipDiagonalBound(F-z,z,F,b),p=this.ClipDiagonalBound(F+z,z,F,b);for(let De=g;De<=p;De+=2){De===g||De<p&&x[De-1]>=x[De+1]?l=x[De+1]-1:l=x[De-1],h=l-(De-F)-M;const Wt=l;for(;l>e&&h>s&&this.ElementsAreEqual(l,h);)l--,h--;if(x[De]=l,ee&&Math.abs(De-E)<=z&&l<=C[De])return o[0]=l,r[0]=h,Wt>=C[De]&&z<=1448?this.WALKTRACE(E,d,u,B,F,g,p,M,C,x,l,i,o,h,n,r,ee,a):null}if(z<=1447){let De=new Int32Array(u-d+2);De[0]=E-d+1,_d.Copy2(C,d,De,1,u-d+1),this.m_forwardHistory.push(De),De=new Int32Array(p-g+2),De[0]=F-g+1,_d.Copy2(x,g,De,1,p-g+1),this.m_reverseHistory.push(De)}}return this.WALKTRACE(E,d,u,B,F,g,p,M,C,x,l,i,o,h,n,r,ee,a)}PrettifyChanges(e){for(let i=0;i<e.length;i++){const s=e[i],n=i<e.length-1?e[i+1].originalStart:this._originalElementsOrHash.length,o=i<e.length-1?e[i+1].modifiedStart:this._modifiedElementsOrHash.length,r=s.originalLength>0,a=s.modifiedLength>0;for(;s.originalStart+s.originalLength<n&&s.modifiedStart+s.modifiedLength<o&&(!r||this.OriginalElementsAreEqual(s.originalStart,s.originalStart+s.originalLength))&&(!a||this.ModifiedElementsAreEqual(s.modifiedStart,s.modifiedStart+s.modifiedLength));){const h=this.ElementsAreStrictEqual(s.originalStart,s.modifiedStart);if(this.ElementsAreStrictEqual(s.originalStart+s.originalLength,s.modifiedStart+s.modifiedLength)&&!h)break;s.originalStart++,s.modifiedStart++}const l=[null];if(i<e.length-1&&this.ChangesOverlap(e[i],e[i+1],l)){e[i]=l[0],e.splice(i+1,1),i--;continue}}for(let i=e.length-1;i>=0;i--){const s=e[i];let n=0,o=0;if(i>0){const u=e[i-1];n=u.originalStart+u.originalLength,o=u.modifiedStart+u.modifiedLength}const r=s.originalLength>0,a=s.modifiedLength>0;let l=0,h=this._boundaryScore(s.originalStart,s.originalLength,s.modifiedStart,s.modifiedLength);for(let u=1;;u++){const g=s.originalStart-u,p=s.modifiedStart-u;if(g<n||p<o||r&&!this.OriginalElementsAreEqual(g,g+s.originalLength)||a&&!this.ModifiedElementsAreEqual(p,p+s.modifiedLength))break;const b=(g===n&&p===o?5:0)+this._boundaryScore(g,s.originalLength,p,s.modifiedLength);b>h&&(h=b,l=u)}s.originalStart-=l,s.modifiedStart-=l;const d=[null];if(i>0&&this.ChangesOverlap(e[i-1],e[i],d)){e[i-1]=d[0],e.splice(i,1),i++;continue}}if(this._hasStrings)for(let i=1,s=e.length;i<s;i++){const n=e[i-1],o=e[i],r=o.originalStart-n.originalStart-n.originalLength,a=n.originalStart,l=o.originalStart+o.originalLength,h=l-a,d=n.modifiedStart,u=o.modifiedStart+o.modifiedLength,g=u-d;if(r<5&&h<20&&g<20){const p=this._findBetterContiguousSequence(a,h,d,g,r);if(p){const[m,b]=p;(m!==n.originalStart+n.originalLength||b!==n.modifiedStart+n.modifiedLength)&&(n.originalLength=m-n.originalStart,n.modifiedLength=b-n.modifiedStart,o.originalStart=m+r,o.modifiedStart=b+r,o.originalLength=l-o.originalStart,o.modifiedLength=u-o.modifiedStart)}}}return e}_findBetterContiguousSequence(e,i,s,n,o){if(i<o||n<o)return null;const r=e+i-o+1,a=s+n-o+1;let l=0,h=0,d=0;for(let u=e;u<r;u++)for(let g=s;g<a;g++){const p=this._contiguousSequenceScore(u,g,o);p>0&&p>l&&(l=p,h=u,d=g)}return l>0?[h,d]:null}_contiguousSequenceScore(e,i,s){let n=0;for(let o=0;o<s;o++){if(!this.ElementsAreEqual(e+o,i+o))return 0;n+=this._originalStringElements[e+o].length}return n}_OriginalIsBoundary(e){return e<=0||e>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[e])}_OriginalRegionIsBoundary(e,i){if(this._OriginalIsBoundary(e)||this._OriginalIsBoundary(e-1))return!0;if(i>0){const s=e+i;if(this._OriginalIsBoundary(s-1)||this._OriginalIsBoundary(s))return!0}return!1}_ModifiedIsBoundary(e){return e<=0||e>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[e])}_ModifiedRegionIsBoundary(e,i){if(this._ModifiedIsBoundary(e)||this._ModifiedIsBoundary(e-1))return!0;if(i>0){const s=e+i;if(this._ModifiedIsBoundary(s-1)||this._ModifiedIsBoundary(s))return!0}return!1}_boundaryScore(e,i,s,n){const o=this._OriginalRegionIsBoundary(e,i)?1:0,r=this._ModifiedRegionIsBoundary(s,n)?1:0;return o+r}ConcatenateChanges(e,i){const s=[];if(e.length===0||i.length===0)return i.length>0?i:e;if(this.ChangesOverlap(e[e.length-1],i[0],s)){const n=new Array(e.length+i.length-1);return _d.Copy(e,0,n,0,e.length-1),n[e.length-1]=s[0],_d.Copy(i,1,n,e.length,i.length-1),n}else{const n=new Array(e.length+i.length);return _d.Copy(e,0,n,0,e.length),_d.Copy(i,0,n,e.length,i.length),n}}ChangesOverlap(e,i,s){if(yd.Assert(e.originalStart<=i.originalStart,"Left change is not less than or equal to right change"),yd.Assert(e.modifiedStart<=i.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=i.originalStart||e.modifiedStart+e.modifiedLength>=i.modifiedStart){const n=e.originalStart;let o=e.originalLength;const r=e.modifiedStart;let a=e.modifiedLength;return e.originalStart+e.originalLength>=i.originalStart&&(o=i.originalStart+i.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=i.modifiedStart&&(a=i.modifiedStart+i.modifiedLength-e.modifiedStart),s[0]=new Cl(n,o,r,a),!0}else return s[0]=null,!1}ClipDiagonalBound(e,i,s,n){if(e>=0&&e<n)return e;const o=s,r=n-s-1,a=i%2===0;if(e<0){const l=o%2===0;return a===l?0:1}else{const l=r%2===0;return a===l?n-1:n-2}}}var mie=Object.defineProperty,BM=(t,e)=>mie(t,"name",{value:e,configurable:!0}),Ht=(t=>(t[t.Hidden=0]="Hidden",t[t.Visible=1]="Visible",t[t.Recurse=2]="Recurse",t))(Ht||{}),zn=(t=>(t[t.Expanded=0]="Expanded",t[t.Collapsed=1]="Collapsed",t[t.PreserveOrExpanded=2]="PreserveOrExpanded",t[t.PreserveOrCollapsed=3]="PreserveOrCollapsed",t))(zn||{}),Ud=(t=>(t[t.Unknown=0]="Unknown",t[t.Twistie=1]="Twistie",t[t.Element=2]="Element",t[t.Filter=3]="Filter",t))(Ud||{}),MM=(t=>(t[t.Down=0]="Down",t[t.Up=1]="Up",t))(MM||{});class is extends Error{static{BM(this,"TreeError")}constructor(e,i){super(`TreeError [${e}] ${i}`)}}class CE{constructor(e){this.fn=e}static{BM(this,"WeakMapper")}_map=new WeakMap;map(e){let i=this._map.get(e);return i||(i=this.fn(e),this._map.set(e,i)),i}}var bie=Object.defineProperty,Ml=(t,e)=>bie(t,"name",{value:e,configurable:!0});function wy(t){return typeof t=="object"&&"visibility"in t&&"data"in t}Ml(wy,"isFilterResult");function ju(t){switch(t){case!0:return Ht.Visible;case!1:return Ht.Hidden;default:return t}}Ml(ju,"getVisibleState");function hv(t){return typeof t.collapsible=="boolean"}Ml(hv,"isCollapsibleStateUpdate");class vie{constructor(e,i,s={}){this.user=e,this.collapseByDefault=typeof s.collapseByDefault>"u"?!1:s.collapseByDefault,this.allowNonCollapsibleParents=s.allowNonCollapsibleParents??!1,this.filter=s.filter,this.autoExpandSingleChildren=typeof s.autoExpandSingleChildren>"u"?!1:s.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:Ht.Visible,visible:!0,filterData:void 0}}static{Ml(this,"IndexTreeModel")}rootRef=[];root;eventBufferer=new KS;_onDidSpliceModel=new I;onDidSpliceModel=this._onDidSpliceModel.event;_onDidSpliceRenderedNodes=new I;onDidSpliceRenderedNodes=this._onDidSpliceRenderedNodes.event;_onDidChangeCollapseState=new I;onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event);_onDidChangeRenderNodeCount=new I;onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event);collapseByDefault;allowNonCollapsibleParents;filter;autoExpandSingleChildren;refilterDelayer=new Ju(Sx);splice(e,i,s=ut.empty(),n={}){if(e.length===0)throw new is(this.user,"Invalid tree location");n.diffIdentityProvider?this.spliceSmart(n.diffIdentityProvider,e,i,s,n):this.spliceSimple(e,i,s,n)}spliceSmart(e,i,s,n=ut.empty(),o,r=o.diffDepth??0){const{parentNode:a}=this.getParentNodeWithListIndex(i);if(!a.lastDiffIds)return this.spliceSimple(i,s,n,o);const l=[...n],h=i[i.length-1],d=new Bl({getElements:Ml(()=>a.lastDiffIds,"getElements")},{getElements:Ml(()=>[...a.children.slice(0,h),...l,...a.children.slice(h+s)].map(b=>e.getId(b.element).toString()),"getElements")}).ComputeDiff(!1);if(d.quitEarly)return a.lastDiffIds=void 0,this.spliceSimple(i,s,l,o);const u=i.slice(0,-1),g=Ml((b,C,x)=>{if(r>0)for(let E=0;E<x;E++)b--,C--,this.spliceSmart(e,[...u,b,0],Number.MAX_SAFE_INTEGER,l[C].children,o,r-1)},"recurseSplice");let p=Math.min(a.children.length,h+s),m=l.length;for(const b of d.changes.sort((C,x)=>x.originalStart-C.originalStart))g(p,m,p-(b.originalStart+b.originalLength)),p=b.originalStart,m=b.modifiedStart-h,this.spliceSimple([...u,p],b.originalLength,ut.slice(l,m,m+b.modifiedLength),o);g(p,m,p)}spliceSimple(e,i,s=ut.empty(),{onDidCreateNode:n,onDidDeleteNode:o,diffIdentityProvider:r}){const{parentNode:a,listIndex:l,revealed:h,visible:d}=this.getParentNodeWithListIndex(e),u=[],g=ut.map(s,M=>this.createTreeNode(M,a,a.visible?Ht.Visible:Ht.Hidden,h,u,n)),p=e[e.length-1];let m=0;for(let M=p;M>=0&&M<a.children.length;M--){const X=a.children[M];if(X.visible){m=X.visibleChildIndex;break}}const b=[];let C=0,x=0;for(const M of g)b.push(M),x+=M.renderNodeCount,M.visible&&(M.visibleChildIndex=m+C++);const E=m_(a.children,p,i,b);r?a.lastDiffIds?m_(a.lastDiffIds,p,i,b.map(M=>r.getId(M.element).toString())):a.lastDiffIds=a.children.map(M=>r.getId(M.element).toString()):a.lastDiffIds=void 0;let F=0;for(const M of E)M.visible&&F++;if(F!==0)for(let M=p+b.length;M<a.children.length;M++){const X=a.children[M];X.visible&&(X.visibleChildIndex-=F)}if(a.visibleChildrenCount+=C-F,h&&d){const M=E.reduce((X,ee)=>X+(ee.visible?ee.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,x-M),this._onDidSpliceRenderedNodes.fire({start:l,deleteCount:M,elements:u})}if(E.length>0&&o){const M=Ml(X=>{o(X),X.children.forEach(M)},"visit");E.forEach(M)}this._onDidSpliceModel.fire({insertedNodes:b,deletedNodes:E});let B=a;for(;B;){if(B.visibility===Ht.Recurse){this.refilterDelayer.trigger(()=>this.refilter());break}B=B.parent}}rerender(e){if(e.length===0)throw new is(this.user,"Invalid tree location");const{node:i,listIndex:s,revealed:n}=this.getTreeNodeWithListIndex(e);i.visible&&n&&this._onDidSpliceRenderedNodes.fire({start:s,deleteCount:1,elements:[i]})}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:i,visible:s,revealed:n}=this.getTreeNodeWithListIndex(e);return s&&n?i:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,i){const s=this.getTreeNode(e);typeof i>"u"&&(i=!s.collapsible);const n={collapsible:i};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,n))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,i,s){const n=this.getTreeNode(e);typeof i>"u"&&(i=!n.collapsed);const o={collapsed:i,recursive:s||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(e,o))}_setCollapseState(e,i){const{node:s,listIndex:n,revealed:o}=this.getTreeNodeWithListIndex(e),r=this._setListNodeCollapseState(s,n,o,i);if(s!==this.root&&this.autoExpandSingleChildren&&r&&!hv(i)&&s.collapsible&&!s.collapsed&&!i.recursive){let a=-1;for(let l=0;l<s.children.length;l++)if(s.children[l].visible)if(a>-1){a=-1;break}else a=l;a>-1&&this._setCollapseState([...e,a],i)}return r}_setListNodeCollapseState(e,i,s,n){const o=this._setNodeCollapseState(e,n,!1);if(!s||!e.visible||!o)return o;const r=e.renderNodeCount,a=this.updateNodeAfterCollapseChange(e),l=r-(i===-1?0:1);return this._onDidSpliceRenderedNodes.fire({start:i+1,deleteCount:l,elements:a.slice(1)}),o}_setNodeCollapseState(e,i,s){let n;if(e===this.root?n=!1:(hv(i)?(n=e.collapsible!==i.collapsible,e.collapsible=i.collapsible):e.collapsible?(n=e.collapsed!==i.collapsed,e.collapsed=i.collapsed):n=!1,n&&this._onDidChangeCollapseState.fire({node:e,deep:s})),!hv(i)&&i.recursive)for(const o of e.children)n=this._setNodeCollapseState(o,i,!0)||n;return n}expandTo(e){this.eventBufferer.bufferEvents(()=>{let i=this.getTreeNode(e);for(;i.parent;)i=i.parent,e=e.slice(0,e.length-1),i.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})})}refilter(){const e=this.root.renderNodeCount,i=this.updateNodeAfterFilterChange(this.root);this._onDidSpliceRenderedNodes.fire({start:0,deleteCount:e,elements:i}),this.refilterDelayer.cancel()}createTreeNode(e,i,s,n,o,r){const a={parent:i,element:e.element,children:[],depth:i.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof e.collapsible=="boolean"?e.collapsible:typeof e.collapsed<"u",collapsed:typeof e.collapsed>"u"?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:Ht.Visible,visible:!0,filterData:void 0},l=this._filterNode(a,s);a.visibility=l,n&&o.push(a);const h=e.children||ut.empty(),d=n&&l!==Ht.Hidden&&!a.collapsed;let u=0,g=1;for(const p of h){const m=this.createTreeNode(p,a,l,d,o,r);a.children.push(m),g+=m.renderNodeCount,m.visible&&(m.visibleChildIndex=u++)}return this.allowNonCollapsibleParents||(a.collapsible=a.collapsible||a.children.length>0),a.visibleChildrenCount=u,a.visible=l===Ht.Recurse?u>0:l===Ht.Visible,a.visible?a.collapsed||(a.renderNodeCount=g):(a.renderNodeCount=0,n&&o.pop()),r?.(a),a}updateNodeAfterCollapseChange(e){const i=e.renderNodeCount,s=[];return this._updateNodeAfterCollapseChange(e,s),this._updateAncestorsRenderNodeCount(e.parent,s.length-i),s}_updateNodeAfterCollapseChange(e,i){if(e.visible===!1)return 0;if(i.push(e),e.renderNodeCount=1,!e.collapsed)for(const s of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(s,i);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const i=e.renderNodeCount,s=[];return this._updateNodeAfterFilterChange(e,e.visible?Ht.Visible:Ht.Hidden,s),this._updateAncestorsRenderNodeCount(e.parent,s.length-i),s}_updateNodeAfterFilterChange(e,i,s,n=!0){let o;if(e!==this.root){if(o=this._filterNode(e,i),o===Ht.Hidden)return e.visible=!1,e.renderNodeCount=0,!1;n&&s.push(e)}const r=s.length;e.renderNodeCount=e===this.root?0:1;let a=!1;if(!e.collapsed||o!==Ht.Hidden){let l=0;for(const h of e.children)a=this._updateNodeAfterFilterChange(h,o,s,n&&!e.collapsed)||a,h.visible&&(h.visibleChildIndex=l++);e.visibleChildrenCount=l}else e.visibleChildrenCount=0;return e!==this.root&&(e.visible=o===Ht.Recurse?a:o===Ht.Visible,e.visibility=o),e.visible?e.collapsed||(e.renderNodeCount+=s.length-r):(e.renderNodeCount=0,n&&s.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,i){if(i!==0)for(;e;)e.renderNodeCount+=i,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,i){const s=this.filter?this.filter.filter(e.element,i):Ht.Visible;return typeof s=="boolean"?(e.filterData=void 0,s?Ht.Visible:Ht.Hidden):wy(s)?(e.filterData=s.data,ju(s.visibility)):(e.filterData=void 0,ju(s))}hasTreeNode(e,i=this.root){if(!e||e.length===0)return!0;const[s,...n]=e;return s<0||s>i.children.length?!1:this.hasTreeNode(n,i.children[s])}getTreeNode(e,i=this.root){if(!e||e.length===0)return i;const[s,...n]=e;if(s<0||s>i.children.length)throw new is(this.user,"Invalid tree location");return this.getTreeNode(n,i.children[s])}getTreeNodeWithListIndex(e){if(e.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:i,listIndex:s,revealed:n,visible:o}=this.getParentNodeWithListIndex(e),r=e[e.length-1];if(r<0||r>i.children.length)throw new is(this.user,"Invalid tree location");const a=i.children[r];return{node:a,listIndex:s,revealed:n,visible:o&&a.visible}}getParentNodeWithListIndex(e,i=this.root,s=0,n=!0,o=!0){const[r,...a]=e;if(r<0||r>i.children.length)throw new is(this.user,"Invalid tree location");for(let l=0;l<r;l++)s+=i.children[l].renderNodeCount;return n=n&&!i.collapsed,o=o&&i.visible,a.length===0?{parentNode:i,listIndex:s,revealed:n,visible:o}:this.getParentNodeWithListIndex(a,i.children[r],s+1,n,o)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const i=[];let s=e;for(;s.parent;)i.push(s.parent.children.indexOf(s)),s=s.parent;return i.reverse()}getParentNodeLocation(e){if(e.length!==0)return e.length===1?[]:Ei(e)[0]}getFirstElementChild(e){const i=this.getTreeNode(e);if(i.children.length!==0)return i.children[0].element}getLastElementAncestor(e=[]){const i=this.getTreeNode(e);if(i.children.length!==0)return this._getLastElementAncestor(i)}_getLastElementAncestor(e){return e.children.length===0?e.element:this._getLastElementAncestor(e.children[e.children.length-1])}}var wie=Object.defineProperty,Rt=(t,e)=>wie(t,"name",{value:e,configurable:!0});class yie extends km{constructor(e){super(e.elements.map(i=>i.element)),this.data=e}static{Rt(this,"TreeElementsDragAndDropData")}set context(e){this.data.context=e}get context(){return this.data.context}}function dv(t){return t instanceof km?new yie(t):t}Rt(dv,"asTreeDragAndDropData");class _ie{constructor(e,i){this.modelProvider=e,this.dnd=i}static{Rt(this,"TreeNodeListDragAndDrop")}autoExpandNode;autoExpandDisposable=q.None;disposables=new Z;getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,i){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(s=>s.element),i)}onDragStart(e,i){this.dnd.onDragStart?.(dv(e),i)}onDragOver(e,i,s,n,o,r=!0){const a=this.dnd.onDragOver(dv(e),i&&i.element,s,n,o),l=this.autoExpandNode!==i;if(l&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=i),typeof i>"u")return a;if(l&&typeof a!="boolean"&&a.autoExpand&&(this.autoExpandDisposable=Tv(()=>{const p=this.modelProvider(),m=p.getNodeLocation(i);p.isCollapsed(m)&&p.setCollapsed(m,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof a=="boolean"||!a.accept||typeof a.bubble>"u"||a.feedback){if(!r){const p=typeof a=="boolean"?a:a.accept,m=typeof a=="boolean"?void 0:a.effect;return{accept:p,effect:m,feedback:[s]}}return a}if(a.bubble===MM.Up){const p=this.modelProvider(),m=p.getNodeLocation(i),b=p.getParentNodeLocation(m),C=p.getNode(b),x=b&&p.getListIndex(b);return this.onDragOver(e,C,x,n,o,!1)}const h=this.modelProvider(),d=h.getNodeLocation(i),u=h.getListIndex(d),g=h.getListRenderCount(d);return{...a,feedback:Ds(u,u+g)}}drop(e,i,s,n,o){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(dv(e),i&&i.element,s,n,o)}onDragEnd(e){this.dnd.onDragEnd?.(e)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function FM(t,e){return e&&{...e,identityProvider:e.identityProvider&&{getId(i){return e.identityProvider.getId(i.element)}},dnd:e.dnd&&new _ie(t,e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent(i){return e.multipleSelectionController.isSelectionSingleChangeEvent({...i,element:i.element})},isSelectionRangeChangeEvent(i){return e.multipleSelectionController.isSelectionRangeChangeEvent({...i,element:i.element})}},accessibilityProvider:e.accessibilityProvider&&{...e.accessibilityProvider,getSetSize(i){const s=t(),n=s.getNodeLocation(i),o=s.getParentNodeLocation(n);return s.getNode(o).visibleChildrenCount},getPosInSet(i){return i.visibleChildIndex+1},isChecked:e.accessibilityProvider&&e.accessibilityProvider.isChecked?i=>e.accessibilityProvider.isChecked(i.element):void 0,getRole:e.accessibilityProvider&&e.accessibilityProvider.getRole?i=>e.accessibilityProvider.getRole(i.element):()=>"treeitem",getAriaLabel(i){return e.accessibilityProvider.getAriaLabel(i.element)},getWidgetAriaLabel(){return e.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:e.accessibilityProvider&&e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider&&e.accessibilityProvider.getAriaLevel?i=>e.accessibilityProvider.getAriaLevel(i.element):i=>i.depth,getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(i=>e.accessibilityProvider.getActiveDescendantId(i.element))},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(i){return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i.element)}}}}Rt(FM,"asListOptions");class DE{constructor(e){this.delegate=e}static{Rt(this,"ComposedTreeDelegate")}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,i){this.delegate.setDynamicHeight?.(e.element,i)}}class Nf{static{Rt(this,"AbstractTreeViewState")}focus;selection;expanded;scrollTop;static lift(e){return e instanceof Nf?e:new Nf(e)}static empty(e=0){return new Nf({focus:[],selection:[],expanded:Object.create(null),scrollTop:e})}constructor(e){if(this.focus=new Set(e.focus),this.selection=new Set(e.selection),e.expanded instanceof Array){this.expanded=Object.create(null);for(const i of e.expanded)this.expanded[i]=1}else this.expanded=e.expanded;this.expanded=e.expanded,this.scrollTop=e.scrollTop}toJSON(){return{focus:Array.from(this.focus),selection:Array.from(this.selection),expanded:this.expanded,scrollTop:this.scrollTop}}}class Sie{constructor(e,i=[]){this._elements=i,this.onDidChange=R.forEach(e,s=>this._elements=s,this.disposables)}static{Rt(this,"EventCollection")}disposables=new Z;onDidChange;get elements(){return this._elements}dispose(){this.disposables.dispose()}}class Lw{constructor(e,i,s,n,o,r={}){this.renderer=e,this.model=i,this.activeNodes=n,this.renderedIndentGuides=o,this.templateId=e.templateId,this.updateOptions(r),R.map(s,a=>a.node)(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState?.(this.onDidChangeTwistieState,this,this.disposables)}static{Rt(this,"TreeRenderer")}static DefaultIndent=8;templateId;renderedElements=new Map;renderedNodes=new Map;indent=Lw.DefaultIndent;hideTwistiesOfChildlessElements=!1;shouldRenderIndentGuides=!1;activeIndentNodes=new Set;indentGuidesDisposable=q.None;disposables=new Z;updateOptions(e={}){if(typeof e.indent<"u"){const i=$s(e.indent,0,40);if(i!==this.indent){this.indent=i;for(const[s,n]of this.renderedNodes)this.renderTreeElement(s,n)}}if(typeof e.renderIndentGuides<"u"){const i=e.renderIndentGuides!=="none";if(i!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=i;for(const[s,n]of this.renderedNodes)this._renderIndentGuides(s,n);if(this.indentGuidesDisposable.dispose(),i){const s=new Z;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,s),this.indentGuidesDisposable=s,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof e.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const i=we(e,de(".monaco-tl-row")),s=we(i,de(".monaco-tl-indent")),n=we(i,de(".monaco-tl-twistie")),o=we(i,de(".monaco-tl-contents")),r=this.renderer.renderTemplate(o);return{container:e,indent:s,twistie:n,indentGuidesDisposable:q.None,templateData:r}}renderElement(e,i,s,n){this.renderedNodes.set(e,s),this.renderedElements.set(e.element,e),this.renderTreeElement(e,s),this.renderer.renderElement(e,i,s.templateData,n)}disposeElement(e,i,s,n){s.indentGuidesDisposable.dispose(),this.renderer.disposeElement?.(e,i,s.templateData,n),typeof n=="number"&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const i=this.renderedElements.get(e);i&&this.onDidChangeNodeTwistieState(i)}onDidChangeNodeTwistieState(e){const i=this.renderedNodes.get(e);i&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(e,i))}renderTreeElement(e,i){const s=Lw.DefaultIndent+(e.depth-1)*this.indent;i.twistie.style.paddingLeft=`${s}px`,i.indent.style.width=`${s+this.indent-16}px`,e.collapsible?i.container.setAttribute("aria-expanded",String(!e.collapsed)):i.container.removeAttribute("aria-expanded"),i.twistie.classList.remove(...Ae.asClassNameArray(he.treeItemExpanded));let n=!1;this.renderer.renderTwistie&&(n=this.renderer.renderTwistie(e.element,i.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(n||i.twistie.classList.add(...Ae.asClassNameArray(he.treeItemExpanded)),i.twistie.classList.add("collapsible"),i.twistie.classList.toggle("collapsed",e.collapsed)):i.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(e,i)}_renderIndentGuides(e,i){if(ds(i.indent),i.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const s=new Z;for(;;){const n=this.model.getNodeLocation(e),o=this.model.getParentNodeLocation(n);if(!o)break;const r=this.model.getNode(o),a=de(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(r)&&a.classList.add("active"),i.indent.childElementCount===0?i.indent.appendChild(a):i.indent.insertBefore(a,i.indent.firstElementChild),this.renderedIndentGuides.add(r,a),s.add(Se(()=>this.renderedIndentGuides.delete(r,a))),e=r}i.indentGuidesDisposable=s}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const i=new Set;e.forEach(s=>{const n=this.model.getNodeLocation(s);try{const o=this.model.getParentNodeLocation(n);s.collapsible&&s.children.length>0&&!s.collapsed?i.add(s):o&&i.add(this.model.getNode(o))}catch{}}),this.activeIndentNodes.forEach(s=>{i.has(s)||this.renderedIndentGuides.forEach(s,n=>n.classList.remove("active"))}),i.forEach(s=>{this.activeIndentNodes.has(s)||this.renderedIndentGuides.forEach(s,n=>n.classList.add("active"))}),this.activeIndentNodes=i}setModel(e){this.model=e}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),ai(this.disposables)}}class Cie{constructor(e,i,s){this.tree=e,this.keyboardNavigationLabelProvider=i,this._filter=s,e.onWillRefilter(this.reset,this,this.disposables)}static{Rt(this,"FindFilter")}_totalCount=0;get totalCount(){return this._totalCount}_matchCount=0;get matchCount(){return this._matchCount}_pattern="";_lowercasePattern="";disposables=new Z;set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,i){let s=Ht.Visible;if(this._filter){const r=this._filter.filter(e,i);if(typeof r=="boolean"?s=r?Ht.Visible:Ht.Hidden:wy(r)?s=ju(r.visibility):s=r,s===Ht.Hidden)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:yh.Default,visibility:s};const n=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),o=Array.isArray(n)?n:[n];for(const r of o){const a=r&&r.toString();if(typeof a>"u")return{data:yh.Default,visibility:s};let l;if(this.tree.findMatchType===1){const h=a.toLowerCase().indexOf(this._lowercasePattern);if(h>-1){l=[Number.MAX_SAFE_INTEGER,0];for(let d=this._lowercasePattern.length;d>0;d--)l.push(h+d-1)}}else l=Mu(this._pattern,this._lowercasePattern,0,a,a.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(l)return this._matchCount++,o.length===1?{data:l,visibility:s}:{data:{label:a,score:l},visibility:s}}return this.tree.findMode===1?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(e):Ht.Recurse:{data:yh.Default,visibility:s}}reset(){this._totalCount=0,this._matchCount=0}dispose(){ai(this.disposables)}}class Die extends Dc{static{Rt(this,"ModeToggle")}constructor(e){super({icon:he.listFilter,title:c("filter","Filter"),isChecked:e.isChecked??!1,hoverDelegate:e.hoverDelegate??Ri("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class Aie extends Dc{static{Rt(this,"FuzzyToggle")}constructor(e){super({icon:he.searchFuzzy,title:c("fuzzySearch","Fuzzy Match"),isChecked:e.isChecked??!1,hoverDelegate:e.hoverDelegate??Ri("element"),inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}const Eie={inputBoxStyles:dee,toggleStyles:LB,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var cf=(t=>(t[t.Highlight=0]="Highlight",t[t.Filter=1]="Filter",t))(cf||{}),SS=(t=>(t[t.Fuzzy=0]="Fuzzy",t[t.Contiguous=1]="Contiguous",t))(SS||{});class Iie extends q{constructor(e,i,s,n,o,r){super(),this.tree=i,e.appendChild(this.elements.root),this._register(Se(()=>this.elements.root.remove()));const a=r?.styles??Eie;a.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=a.listFilterWidgetBackground),a.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${a.listFilterWidgetShadow}`);const l=this._register(og());this.modeToggle=this._register(new Die({...a.toggleStyles,isChecked:n===1,hoverDelegate:l})),this.matchTypeToggle=this._register(new Aie({...a.toggleStyles,isChecked:o===0,hoverDelegate:l})),this.onDidChangeMode=R.map(this.modeToggle.onChange,()=>this.modeToggle.checked?1:0,this._store),this.onDidChangeMatchType=R.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?0:1,this._store),this.findInput=this._register(new PB(this.elements.findInput,s,{label:c("type to search","Type to search"),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:a.inputBoxStyles,toggleStyles:a.toggleStyles,history:r?.history})),this.actionbar=this._register(new Sc(this.elements.actionbar)),this.mode=n;const h=this._register(new $e(this.findInput.inputBox.inputElement,"keydown")),d=R.chain(h.event,m=>m.map(b=>new mt(b)));this._register(d(m=>{if(m.equals(D.Enter)){m.preventDefault(),m.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(m.equals(D.DownArrow)){m.preventDefault(),m.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(m.equals(D.UpArrow)){m.preventDefault(),m.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const u=this._register(new Et("close",c("close","Close"),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(u,{icon:!0,label:!1});const g=this._register(new $e(this.elements.grab,"mousedown"));this._register(g.event(m=>{const b=new Z,C=b.add(new $e(be(m),"mousemove")),x=b.add(new $e(be(m),"mouseup")),E=this.right,F=m.pageX,B=this.top,M=m.pageY;this.elements.grab.classList.add("grabbing");const X=this.elements.root.style.transition;this.elements.root.style.transition="unset";const ee=Rt(z=>{const se=z.pageX-F;this.right=E-se;const Re=z.pageY-M;this.top=B+Re,this.layout()},"update");b.add(C.event(ee)),b.add(x.event(z=>{ee(z),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=X,b.dispose()}))}));const p=R.chain(this._register(new $e(this.elements.grab,"keydown")).event,m=>m.map(b=>new mt(b)));this._register(p(m=>{let b,C;if(m.keyCode===D.LeftArrow?b=Number.POSITIVE_INFINITY:m.keyCode===D.RightArrow?b=0:m.keyCode===D.Space&&(b=this.right===0?Number.POSITIVE_INFINITY:0),m.keyCode===D.UpArrow?C=0:m.keyCode===D.DownArrow&&(C=Number.POSITIVE_INFINITY),b!==void 0&&(m.preventDefault(),m.stopPropagation(),this.right=b,this.layout()),C!==void 0){m.preventDefault(),m.stopPropagation(),this.top=C;const x=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=x},0)}})),this.onDidChangeValue=this.findInput.onDidChange}static{Rt(this,"FindWidget")}elements=th(".monaco-tree-type-filter",[th(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),th(".monaco-tree-type-filter-input@findInput"),th(".monaco-tree-type-filter-actionbar@actionbar")]);set mode(e){this.modeToggle.checked=e===1,this.findInput.inputBox.setPlaceHolder(e===1?c("type to filter","Type to filter"):c("type to search","Type to search"))}set matchType(e){this.matchTypeToggle.checked=e===0}get value(){return this.findInput.inputBox.value}set value(e){this.findInput.inputBox.value=e}modeToggle;matchTypeToggle;findInput;actionbar;width=0;right=0;top=0;_onDidDisable=new I;onDidDisable=this._onDidDisable.event;onDidChangeValue;onDidChangeMode;onDidChangeMatchType;getHistory(){return this.findInput.inputBox.getHistory()}focus(){this.findInput.focus()}select(){this.findInput.select(),this.findInput.inputBox.addToHistory(!0)}layout(e=this.width){this.width=e,this.right=$s(this.right,0,Math.max(0,e-212)),this.elements.root.style.right=`${this.right}px`,this.top=$s(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(e){this.findInput.showMessage(e)}clearMessage(){this.findInput.clearMessage()}async dispose(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),await Za(300),super.dispose()}}class Tie{constructor(e,i,s,n,o={}){this.tree=e,this.view=i,this.filter=s,this.contextViewProvider=n,this.options=o,this._mode=e.options.defaultFindMode??0,this._matchType=e.options.defaultFindMatchType??0}static{Rt(this,"FindController")}_history;_pattern="";get pattern(){return this._pattern}previousPattern="";_mode;get mode(){return this._mode}set mode(e){e!==this._mode&&(this._mode=e,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(e))}_matchType;get matchType(){return this._matchType}set matchType(e){e!==this._matchType&&(this._matchType=e,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(e))}widget;width=0;_onDidChangeMode=new I;onDidChangeMode=this._onDidChangeMode.event;_onDidChangeMatchType=new I;onDidChangeMatchType=this._onDidChangeMatchType.event;_onDidChangePattern=new I;onDidChangePattern=this._onDidChangePattern.event;_onDidChangeOpenState=new I;onDidChangeOpenState=this._onDidChangeOpenState.event;enabledDisposables=new Z;disposables=new Z;updateOptions(e={}){e.defaultFindMode!==void 0&&(this.mode=e.defaultFindMode),e.defaultFindMatchType!==void 0&&(this.matchType=e.defaultFindMatchType)}isOpened(){return!!this.widget}open(){if(this.widget){this.widget.focus(),this.widget.select();return}this.widget=new Iie(this.view.getHTMLElement(),this.tree,this.contextViewProvider,this.mode,this.matchType,{...this.options,history:this._history}),this.enabledDisposables.add(this.widget),this.widget.onDidChangeValue(this.onDidChangeValue,this,this.enabledDisposables),this.widget.onDidChangeMode(e=>this.mode=e,void 0,this.enabledDisposables),this.widget.onDidChangeMatchType(e=>this.matchType=e,void 0,this.enabledDisposables),this.widget.onDidDisable(this.close,this,this.enabledDisposables),this.widget.layout(this.width),this.widget.focus(),this.widget.value=this.previousPattern,this.widget.select(),this._onDidChangeOpenState.fire(!0)}close(){this.widget&&(this._history=this.widget.getHistory(),this.widget=void 0,this.enabledDisposables.clear(),this.previousPattern=this.pattern,this.onDidChangeValue(""),this.tree.domFocus(),this._onDidChangeOpenState.fire(!1))}onDidChangeValue(e){this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,s=>!yh.isDefault(s.filterData));const i=this.tree.getFocus();if(i.length>0){const s=i[0];this.tree.getRelativeTop(s)===null&&this.tree.reveal(s,.5)}this.render()}render(){const e=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&e?(Bh(c("replFindNoResults","No results")),this.tree.options.showNotFoundMessage??!0?this.widget?.showMessage({type:sS.WARNING,content:c("not found","No elements found.")}):this.widget?.showMessage({type:sS.WARNING})):(this.widget?.clearMessage(),this.pattern&&Bh(c("replFindResults","{0} results",this.filter.matchCount)))}shouldAllowFocus(e){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!yh.isDefault(e.filterData)}layout(e){this.width=e,this.widget?.layout(e)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function VM(t,e){return t.position===e.position&&AE(t,e)}Rt(VM,"stickyScrollNodeStateEquals");function AE(t,e){return t.node.element===e.node.element&&t.startIndex===e.startIndex&&t.height===e.height&&t.endIndex===e.endIndex}Rt(AE,"stickyScrollNodeEquals");class kie{constructor(e=[]){this.stickyNodes=e}static{Rt(this,"StickyScrollState")}get count(){return this.stickyNodes.length}equal(e){return Pn(this.stickyNodes,e.stickyNodes,VM)}lastNodePartiallyVisible(){if(this.count===0)return!1;const e=this.stickyNodes[this.count-1];if(this.count===1)return e.position!==0;const i=this.stickyNodes[this.count-2];return i.position+i.height!==e.position}animationStateChanged(e){if(!Pn(this.stickyNodes,e.stickyNodes,AE)||this.count===0)return!1;const i=this.stickyNodes[this.count-1],s=e.stickyNodes[e.count-1];return i.position!==s.position}}class xie{static{Rt(this,"DefaultStickyScrollDelegate")}constrainStickyScrollNodes(e,i,s){for(let n=0;n<e.length;n++){const o=e[n];if(o.position+o.height>s||n>=i)return e.slice(0,n)}return e}}class VT extends q{constructor(e,i,s,n,o,r={}){super(),this.tree=e,this.model=i,this.view=s,this.treeDelegate=o;const a=this.validateStickySettings(r);this.stickyScrollMaxItemCount=a.stickyScrollMaxItemCount,this.stickyScrollDelegate=r.stickyScrollDelegate??new xie,this._widget=this._register(new Lie(s.getScrollableElement(),s,e,n,o,r.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(s.onDidScroll(()=>this.update())),this._register(s.onDidChangeContentHeight(()=>this.update())),this._register(e.onDidChangeCollapseState(()=>this.update())),this.update()}static{Rt(this,"StickyScrollController")}onDidChangeHasFocus;onContextMenu;stickyScrollDelegate;stickyScrollMaxItemCount;maxWidgetViewRatio=.4;_widget;get height(){return this._widget.height}get count(){return this._widget.count}getNode(e){return this._widget.getNode(e)}getNodeAtHeight(e){let i;if(e===0?i=this.view.firstVisibleIndex:i=this.view.indexAt(e+this.view.scrollTop),!(i<0||i>=this.view.length))return this.view.element(i)}update(){const e=this.getNodeAtHeight(0);if(!e||this.tree.scrollTop===0){this._widget.setState(void 0);return}const i=this.findStickyState(e);this._widget.setState(i)}findStickyState(e){const i=[];let s=e,n=0,o=this.getNextStickyNode(s,void 0,n);for(;o&&(i.push(o),n+=o.height,!(i.length<=this.stickyScrollMaxItemCount&&(s=this.getNextVisibleNode(o),!s)));)o=this.getNextStickyNode(s,o.node,n);const r=this.constrainStickyNodes(i);return r.length?new kie(r):void 0}getNextVisibleNode(e){return this.getNodeAtHeight(e.position+e.height)}getNextStickyNode(e,i,s){const n=this.getAncestorUnderPrevious(e,i);if(n&&!(n===e&&(!this.nodeIsUncollapsedParent(e)||this.nodeTopAlignsWithStickyNodesBottom(e,s))))return this.createStickyScrollNode(n,s)}nodeTopAlignsWithStickyNodesBottom(e,i){const s=this.getNodeIndex(e),n=this.view.getElementTop(s),o=i;return this.view.scrollTop===n-o}createStickyScrollNode(e,i){const s=this.treeDelegate.getHeight(e),{startIndex:n,endIndex:o}=this.getNodeRange(e),r=this.calculateStickyNodePosition(o,i,s);return{node:e,position:r,height:s,startIndex:n,endIndex:o}}getAncestorUnderPrevious(e,i=void 0){let s=e,n=this.getParentNode(s);for(;n;){if(n===i)return s;s=n,n=this.getParentNode(s)}if(i===void 0)return s}calculateStickyNodePosition(e,i,s){let n=this.view.getRelativeTop(e);if(n===null&&this.view.firstVisibleIndex===e&&e+1<this.view.length){const h=this.treeDelegate.getHeight(this.view.element(e)),d=this.view.getRelativeTop(e+1);n=d?d-h/this.view.renderHeight:null}if(n===null)return i;const o=this.view.element(e),r=this.treeDelegate.getHeight(o),l=n*this.view.renderHeight+r;return i+s>l&&i<=l?l-s:i}constrainStickyNodes(e){if(e.length===0)return[];const i=this.view.renderHeight*this.maxWidgetViewRatio,s=e[e.length-1];if(e.length<=this.stickyScrollMaxItemCount&&s.position+s.height<=i)return e;const n=this.stickyScrollDelegate.constrainStickyScrollNodes(e,this.stickyScrollMaxItemCount,i);if(!n.length)return[];const o=n[n.length-1];if(n.length>this.stickyScrollMaxItemCount||o.position+o.height>i)throw new Error("stickyScrollDelegate violates constraints");return n}getParentNode(e){const i=this.model.getNodeLocation(e),s=this.model.getParentNodeLocation(i);return s?this.model.getNode(s):void 0}nodeIsUncollapsedParent(e){const i=this.model.getNodeLocation(e);return this.model.getListRenderCount(i)>1}getNodeIndex(e){const i=this.model.getNodeLocation(e);return this.model.getListIndex(i)}getNodeRange(e){const i=this.model.getNodeLocation(e),s=this.model.getListIndex(i);if(s<0)throw new Error("Node not found in tree");const n=this.model.getListRenderCount(i),o=s+n-1;return{startIndex:s,endIndex:o}}nodePositionTopBelowWidget(e){const i=[];let s=this.getParentNode(e);for(;s;)i.push(s),s=this.getParentNode(s);let n=0;for(let o=0;o<i.length&&o<this.stickyScrollMaxItemCount;o++)n+=this.treeDelegate.getHeight(i[o]);return n}getFocus(){return this._widget.getFocus()}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(e={}){if(!e.stickyScrollMaxItemCount)return;const i=this.validateStickySettings(e);this.stickyScrollMaxItemCount!==i.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=i.stickyScrollMaxItemCount,this.update())}validateStickySettings(e){let i=7;return typeof e.stickyScrollMaxItemCount=="number"&&(i=Math.max(e.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:i}}setModel(e){this.model=e}}class Lie{constructor(e,i,s,n,o,r){this.view=i,this.tree=s,this.treeRenderers=n,this.treeDelegate=o,this.accessibilityProvider=r,this._rootDomNode=de(".monaco-tree-sticky-container.empty"),e.appendChild(this._rootDomNode);const a=de(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(a),this.stickyScrollFocus=new Pie(this._rootDomNode,i),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}static{Rt(this,"StickyScrollWidget")}_rootDomNode;_previousState;_previousElements=[];_previousStateDisposables=new Z;stickyScrollFocus;onDidChangeHasFocus;onContextMenu;get height(){if(!this._previousState)return 0;const e=this._previousState.stickyNodes[this._previousState.count-1];return e.position+e.height}get count(){return this._previousState?.count??0}getNode(e){return this._previousState?.stickyNodes.find(i=>i.node===e)}setState(e){const i=!!this._previousState&&this._previousState.count>0,s=!!e&&e.count>0;if(!i&&!s||i&&s&&this._previousState.equal(e))return;if(i!==s&&this.setVisible(s),!s){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}const n=e.stickyNodes[e.count-1];if(this._previousState&&e.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${n.position}px`;else{this._previousStateDisposables.clear();const o=Array(e.count);for(let r=e.count-1;r>=0;r--){const a=e.stickyNodes[r],{element:l,disposable:h}=this.createElement(a,r,e.count);o[r]=l,this._rootDomNode.appendChild(l),this._previousStateDisposables.add(h)}this.stickyScrollFocus.updateElements(o,e),this._previousElements=o}this._previousState=e,this._rootDomNode.style.height=`${n.position+n.height}px`}createElement(e,i,s){const n=e.startIndex,o=document.createElement("div");o.style.top=`${e.position}px`,this.tree.options.setRowHeight!==!1&&(o.style.height=`${e.height}px`),this.tree.options.setRowLineHeight!==!1&&(o.style.lineHeight=`${e.height}px`),o.classList.add("monaco-tree-sticky-row"),o.classList.add("monaco-list-row"),o.setAttribute("data-index",`${n}`),o.setAttribute("data-parity",n%2===0?"even":"odd"),o.setAttribute("id",this.view.getElementID(n));const r=this.setAccessibilityAttributes(o,e.node.element,i,s),a=this.treeDelegate.getTemplateId(e.node),l=this.treeRenderers.find(g=>g.templateId===a);if(!l)throw new Error(`No renderer found for template id ${a}`);let h=e.node;h===this.tree.getNode(this.tree.getNodeLocation(e.node))&&(h=new Proxy(e.node,{}));const d=l.renderTemplate(o);l.renderElement(h,e.startIndex,d,e.height);const u=Se(()=>{r.dispose(),l.disposeElement(h,e.startIndex,d,e.height),l.disposeTemplate(d),o.remove()});return{element:o,disposable:u}}setAccessibilityAttributes(e,i,s,n){if(!this.accessibilityProvider)return q.None;this.accessibilityProvider.getSetSize&&e.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(i,s,n))),this.accessibilityProvider.getPosInSet&&e.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(i,s))),this.accessibilityProvider.getRole&&e.setAttribute("role",this.accessibilityProvider.getRole(i)??"treeitem");const o=this.accessibilityProvider.getAriaLabel(i),r=o&&typeof o!="string"?o:rD(o),a=ac(h=>{const d=h.readObservable(r);d?e.setAttribute("aria-label",d):e.removeAttribute("aria-label")});typeof o=="string"||o&&e.setAttribute("aria-label",o.get());const l=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(i);return typeof l=="number"&&e.setAttribute("aria-level",`${l}`),e.setAttribute("aria-selected",String(!1)),a}setVisible(e){this._rootDomNode.classList.toggle("empty",!e),e||this.stickyScrollFocus.updateElements([],void 0)}getFocus(){return this.stickyScrollFocus.getFocus()}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}class Pie extends q{constructor(e,i){super(),this.container=e,this.view=i,this._register(N(this.container,"focus",()=>this.onFocus())),this._register(N(this.container,"blur",()=>this.onBlur())),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(s=>this.onKeyDown(s))),this._register(this.view.onMouseDown(s=>this.onMouseDown(s))),this._register(this.view.onContextMenu(s=>this.handleContextMenu(s)))}static{Rt(this,"StickyScrollFocus")}focusedIndex=-1;elements=[];state;_onDidChangeHasFocus=new I;onDidChangeHasFocus=this._onDidChangeHasFocus.event;_onContextMenu=new I;onContextMenu=this._onContextMenu.event;_domHasFocus=!1;get domHasFocus(){return this._domHasFocus}set domHasFocus(e){e!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(e),this._domHasFocus=e)}handleContextMenu(e){const i=e.browserEvent.target;if(!Fu(i)&&!au(i)){this.focusedLast()&&this.view.domFocus();return}if(!Aa(e.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const r=this.state.stickyNodes.findIndex(a=>a.node.element===e.element?.element);if(r===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(r);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");const n=this.state.stickyNodes[this.focusedIndex].node.element,o=this.elements[this.focusedIndex];this._onContextMenu.fire({element:n,anchor:o,browserEvent:e.browserEvent,isStickyScroll:!0})}onKeyDown(e){if(this.domHasFocus&&this.state){if(e.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),e.preventDefault(),e.stopPropagation();else if(e.key==="ArrowDown"||e.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){const i=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([i]),this.scrollNodeUnderWidget(i,this.state)}else this.setFocusedElement(this.focusedIndex+1);e.preventDefault(),e.stopPropagation()}}}onMouseDown(e){const i=e.browserEvent.target;!Fu(i)&&!au(i)||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation())}updateElements(e,i){if(i&&i.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(i&&i.count!==e.length)throw new Error("Sticky scroll focus received illigel state");const s=this.focusedIndex;if(this.removeFocus(),this.elements=e,this.state=i,i){const n=$s(s,0,i.count-1);this.setFocus(n)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=i?0:-1}setFocusedElement(e){const i=this.state;if(!i)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(e),!(e<i.count-1)&&i.lastNodePartiallyVisible()){const s=i.stickyNodes[e];this.scrollNodeUnderWidget(s.endIndex+1,i)}}scrollNodeUnderWidget(e,i){const s=i.stickyNodes[i.count-1],n=i.count>1?i.stickyNodes[i.count-2]:void 0,o=this.view.getElementTop(e),r=n?n.position+n.height+s.height:s.height;this.view.scrollTop=o-r}getFocus(){if(!(!this.state||this.focusedIndex===-1))return this.state.stickyNodes[this.focusedIndex].node.element}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(e){if(e<0)throw new Error("addFocus() can not remove focus");if(!this.state&&e>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&e>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const i=this.focusedIndex;i>=0&&this.toggleElementFocus(this.elements[i],!1),e>=0&&this.toggleElementFocus(this.elements[e],!0),this.focusedIndex=e}toggleElementFocus(e,i){this.toggleElementActiveFocus(e,i&&this.domHasFocus),this.toggleElementPassiveFocus(e,i)}toggleCurrentElementActiveFocus(e){this.focusedIndex!==-1&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],e)}toggleElementActiveFocus(e,i){e.classList.toggle("focused",i)}toggleElementPassiveFocus(e,i){e.classList.toggle("passive-focused",i)}toggleStickyScrollFocused(e){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",e)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}function jc(t){let e=Ud.Unknown;return Mb(t.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?e=Ud.Twistie:Mb(t.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?e=Ud.Element:Mb(t.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(e=Ud.Filter),{browserEvent:t.browserEvent,element:t.element?t.element.element:null,target:e}}Rt(jc,"asTreeMouseEvent");function HM(t){const e=Fu(t.browserEvent.target);return{element:t.element?t.element.element:null,browserEvent:t.browserEvent,anchor:t.anchor,isStickyScroll:e}}Rt(HM,"asTreeContextMenuEvent");function Of(t,e){e(t),t.children.forEach(i=>Of(i,e))}Rt(Of,"dfs");class h_{constructor(e,i){this.getFirstViewElementWithTrait=e,this.identityProvider=i}static{Rt(this,"Trait")}nodes=[];elements;_onDidChange=new I;onDidChange=this._onDidChange.event;_nodeSet;get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,i){!i?.__forceEvent&&Pn(this.nodes,e)||this._set(e,!1,i)}_set(e,i,s){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!i){const n=this;this._onDidChange.fire({get elements(){return n.get()},browserEvent:s})}}get(){return this.elements||(this.elements=this.nodes.map(e=>e.element)),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:i}){if(!this.identityProvider){const l=this.createNodeSet(),h=Rt(d=>l.delete(d),"visit");i.forEach(d=>Of(d,h)),this.set([...l.values()]);return}const s=new Set,n=Rt(l=>s.add(this.identityProvider.getId(l.element).toString()),"deletedNodesVisitor");i.forEach(l=>Of(l,n));const o=new Map,r=Rt(l=>o.set(this.identityProvider.getId(l.element).toString(),l),"insertedNodesVisitor");e.forEach(l=>Of(l,r));const a=[];for(const l of this.nodes){const h=this.identityProvider.getId(l.element).toString();if(s.has(h)){const u=o.get(h);u&&u.visible&&a.push(u)}else a.push(l)}if(this.nodes.length>0&&a.length===0){const l=this.getFirstViewElementWithTrait();l&&a.push(l)}this._set(a,!0)}createNodeSet(){const e=new Set;for(const i of this.nodes)e.add(i);return e}}class Rie extends N5{constructor(e,i,s){super(e),this.tree=i,this.stickyScrollProvider=s}static{Rt(this,"TreeNodeListMouseController")}onViewPointer(e){if(hA(e.browserEvent.target)||Ur(e.browserEvent.target)||Vd(e.browserEvent.target)||e.browserEvent.isHandledByList)return;const i=e.element;if(!i)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const s=e.browserEvent.target,n=s.classList.contains("monaco-tl-twistie")||s.classList.contains("monaco-icon-label")&&s.classList.contains("folder-icon")&&e.browserEvent.offsetX<16,o=au(e.browserEvent.target);let r=!1;if(o?r=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?r=this.tree.expandOnlyOnTwistieClick(i.element):r=!!this.tree.expandOnlyOnTwistieClick,o)this.handleStickyScrollMouseEvent(e,i);else{if(r&&!n&&e.browserEvent.detail!==2)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&e.browserEvent.detail===2)return super.onViewPointer(e)}if(i.collapsible&&(!o||n)){const a=this.tree.getNodeLocation(i),l=e.browserEvent.altKey;if(this.tree.setFocus([a]),this.tree.toggleCollapsed(a,l),n){e.browserEvent.isHandledByList=!0;return}}o||super.onViewPointer(e)}handleStickyScrollMouseEvent(e,i){if(x5(e.browserEvent.target)||L5(e.browserEvent.target))return;const s=this.stickyScrollProvider();if(!s)throw new Error("Sticky scroll controller not found");const n=this.list.indexOf(i),o=this.list.getElementTop(n),r=s.nodePositionTopBelowWidget(i);this.tree.scrollTop=o-r,this.list.domFocus(),this.list.setFocus([n]),this.list.setSelection([n])}onDoubleClick(e){e.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||e.browserEvent.isHandledByList||super.onDoubleClick(e)}onMouseDown(e){const i=e.browserEvent.target;if(!Fu(i)&&!au(i)){super.onMouseDown(e);return}}onContextMenu(e){const i=e.browserEvent.target;if(!Fu(i)&&!au(i)){super.onContextMenu(e);return}}}class Nie extends go{constructor(e,i,s,n,o,r,a,l){super(e,i,s,n,l),this.focusTrait=o,this.selectionTrait=r,this.anchorTrait=a}static{Rt(this,"TreeNodeList")}createMouseController(e){return new Rie(this,e.tree,e.stickyScrollProvider)}splice(e,i,s=[]){if(super.splice(e,i,s),s.length===0)return;const n=[],o=[];let r;s.forEach((a,l)=>{this.focusTrait.has(a)&&n.push(e+l),this.selectionTrait.has(a)&&o.push(e+l),this.anchorTrait.has(a)&&(r=e+l)}),n.length>0&&super.setFocus(vu([...super.getFocus(),...n])),o.length>0&&super.setSelection(vu([...super.getSelection(),...o])),typeof r=="number"&&super.setAnchor(r)}setFocus(e,i,s=!1){super.setFocus(e,i),s||this.focusTrait.set(e.map(n=>this.element(n)),i)}setSelection(e,i,s=!1){super.setSelection(e,i),s||this.selectionTrait.set(e.map(n=>this.element(n)),i)}setAnchor(e,i=!1){super.setAnchor(e),i||(typeof e>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class WM{constructor(e,i,s,n,o={}){this._user=e,this._options=o;let r;o.keyboardNavigationLabelProvider&&(r=new Cie(this,o.keyboardNavigationLabelProvider,o.filter),o={...o,filter:r},this.disposables.add(r)),this.model=this.createModel(e,o),this.treeDelegate=new DE(s);const a=this.disposables.add(new Sie(this.onDidChangeActiveNodesRelay.event)),l=new WS;this.renderers=n.map(h=>new Lw(h,this.model,this.onDidChangeCollapseStateRelay.event,a,l,o));for(const h of this.renderers)this.disposables.add(h);if(this.focus=new h_(()=>this.view.getFocusedElements()[0],o.identityProvider),this.selection=new h_(()=>this.view.getSelectedElements()[0],o.identityProvider),this.anchor=new h_(()=>this.view.getAnchorElement(),o.identityProvider),this.view=new Nie(e,i,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...FM(()=>this.model,o),tree:this,stickyScrollProvider:Rt(()=>this.stickyScrollController,"stickyScrollProvider")}),this.setupModel(this.model),o.keyboardSupport!==!1){const h=R.chain(this.view.onKeyDown,d=>d.filter(u=>!Ur(u.target)).map(u=>new mt(u)));R.chain(h,d=>d.filter(u=>u.keyCode===D.LeftArrow))(this.onLeftArrow,this,this.disposables),R.chain(h,d=>d.filter(u=>u.keyCode===D.RightArrow))(this.onRightArrow,this,this.disposables),R.chain(h,d=>d.filter(u=>u.keyCode===D.Space))(this.onSpace,this,this.disposables)}if((o.findWidgetEnabled??!0)&&o.keyboardNavigationLabelProvider&&o.contextViewProvider){const h=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new Tie(this,this.view,r,o.contextViewProvider,h),this.focusNavigationFilter=d=>this.findController.shouldAllowFocus(d),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType,this.disposables.add(this.onDidSpliceModelRelay.event(()=>{!this.findController.isOpened()||this.findController.pattern.length===0||(this.refilter(),this.findController.render())}))}else this.onDidChangeFindMode=R.None,this.onDidChangeFindMatchType=R.None;o.enableStickyScroll&&(this.stickyScrollController=new VT(this,this.model,this.view,this.renderers,this.treeDelegate,o),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=cr(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides==="always")}static{Rt(this,"AbstractTree")}view;renderers;model;treeDelegate;focus;selection;anchor;eventBufferer=new KS;findController;onDidChangeFindOpenState=R.None;onDidChangeStickyScrollFocused=R.None;focusNavigationFilter;stickyScrollController;styleElement;disposables=new Z;get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseClick(){return R.map(this.view.onMouseClick,jc)}get onMouseDblClick(){return R.filter(R.map(this.view.onMouseDblClick,jc),e=>e.target!==Ud.Filter)}get onMouseOver(){return R.map(this.view.onMouseOver,jc)}get onMouseOut(){return R.map(this.view.onMouseOut,jc)}get onContextMenu(){return R.any(R.filter(R.map(this.view.onContextMenu,HM),e=>!e.isStickyScroll),this.stickyScrollController?.onContextMenu??R.None)}get onTap(){return R.map(this.view.onTap,jc)}get onPointer(){return R.map(this.view.onPointer,jc)}get onKeyDown(){return this.view.onKeyDown}get onKeyUp(){return this.view.onKeyUp}get onKeyPress(){return this.view.onKeyPress}get onDidFocus(){return this.view.onDidFocus}get onDidBlur(){return this.view.onDidBlur}onDidSwapModel=this.disposables.add(new I);onDidChangeModelRelay=this.disposables.add(new Rr);onDidSpliceModelRelay=this.disposables.add(new Rr);onDidChangeCollapseStateRelay=this.disposables.add(new Rr);onDidChangeRenderNodeCountRelay=this.disposables.add(new Rr);onDidChangeActiveNodesRelay=this.disposables.add(new Rr);get onDidChangeModel(){return R.any(this.onDidChangeModelRelay.event,this.onDidSwapModel.event)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}_onWillRefilter=new I;onWillRefilter=this._onWillRefilter.event;get findMode(){return this.findController?.mode??0}set findMode(e){this.findController&&(this.findController.mode=e)}onDidChangeFindMode;get findMatchType(){return this.findController?.matchType??0}set findMatchType(e){this.findController&&(this.findController.matchType=e)}onDidChangeFindMatchType;get onDidChangeFindPattern(){return this.findController?this.findController.onDidChangePattern:R.None}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}_onDidUpdateOptions=new I;onDidUpdateOptions=this._onDidUpdateOptions.event;get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options={...this._options,...e};for(const i of this.renderers)i.updateOptions(e);this.view.updateOptions(this._options),this.findController?.updateOptions(e),this.updateStickyScroll(e),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides==="always")}get options(){return this._options}updateStickyScroll(e){!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new VT(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=R.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),this.stickyScrollController?.updateOptions(e)}updateWidth(e){const i=this.model.getListIndex(e);i!==-1&&this.view.updateWidth(i)}getHTMLElement(){return this.view.getHTMLElement()}get contentHeight(){return this.view.contentHeight}get contentWidth(){return this.view.contentWidth}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get onDidChangeContentWidth(){return this.view.onDidChangeContentWidth}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}get scrollLeft(){return this.view.scrollLeft}set scrollLeft(e){this.view.scrollLeft=e}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleElement(){let e=this.view.firstVisibleIndex;return this.stickyScrollController&&(e+=this.stickyScrollController.count),e<0||e>=this.view.length?void 0:this.view.element(e).element}get lastVisibleElement(){const e=this.view.lastVisibleIndex;return this.view.element(e).element}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(e){this.view.ariaLabel=e}get selectionSize(){return this.selection.getNodes().length}domFocus(){this.stickyScrollController?.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}isDOMFocused(){return na(this.getHTMLElement())}layout(e,i){this.view.layout(e,i),pc(i)&&this.findController?.layout(i)}style(e){const i=`.${this.view.domId}`,s=[];e.treeIndentGuidesStroke&&(s.push(`.monaco-list${i}:hover .monaco-tl-indent > .indent-guide, .monaco-list${i}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeInactiveIndentGuidesStroke}; }`),s.push(`.monaco-list${i} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`));const n=e.treeStickyScrollBackground??e.listBackground;n&&(s.push(`.monaco-list${i} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${n}; }`),s.push(`.monaco-list${i} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${n}; }`)),e.treeStickyScrollBorder&&s.push(`.monaco-list${i} .monaco-scrollable-element .monaco-tree-sticky-container { border-bottom: 1px solid ${e.treeStickyScrollBorder}; }`),e.treeStickyScrollShadow&&s.push(`.monaco-list${i} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow { box-shadow: ${e.treeStickyScrollShadow} 0 6px 6px -6px inset; height: 3px; }`),e.listFocusForeground&&(s.push(`.monaco-list${i}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${e.listFocusForeground}; }`),s.push(`.monaco-list${i}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));const o=or(e.listFocusAndSelectionOutline,or(e.listSelectionOutline,e.listFocusOutline??""));o&&(s.push(`.monaco-list${i}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${o}; outline-offset: -1px;}`),s.push(`.monaco-list${i}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),e.listFocusOutline&&(s.push(`.monaco-list${i}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),s.push(`.monaco-list${i}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),s.push(`.monaco-workbench.context-menu-visible .monaco-list${i}.last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ${e.listFocusOutline}; outline-offset: -1px; }`),s.push(`.monaco-workbench.context-menu-visible .monaco-list${i}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),s.push(`.monaco-workbench.context-menu-visible .monaco-list${i}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=s.join(`
`),this.view.style(e)}getParentElement(e){const i=this.model.getParentNodeLocation(e);return this.model.getNode(i).element}getFirstElementChild(e){return this.model.getFirstElementChild(e)}getNode(e){return this.model.getNode(e)}getNodeLocation(e){return this.model.getNodeLocation(e)}collapse(e,i=!1){return this.model.setCollapsed(e,!0,i)}expand(e,i=!1){return this.model.setCollapsed(e,!1,i)}toggleCollapsed(e,i=!1){return this.model.setCollapsed(e,void 0,i)}expandAll(){this.model.setCollapsed(this.model.rootRef,!1,!0)}collapseAll(){this.model.setCollapsed(this.model.rootRef,!0,!0)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,i){return this.model.setCollapsible(e,i)}isCollapsed(e){return this.model.isCollapsed(e)}expandTo(e){this.model.expandTo(e)}triggerTypeNavigation(){this.view.triggerTypeNavigation()}openFind(){this.findController?.open()}closeFind(){this.findController?.close()}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setAnchor(e){if(typeof e>"u")return this.view.setAnchor(void 0);this.eventBufferer.bufferEvents(()=>{const i=this.model.getNode(e);this.anchor.set([i]);const s=this.model.getListIndex(e);s>-1&&this.view.setAnchor(s,!0)})}getAnchor(){return this.anchor.get().at(0)}setSelection(e,i){this.eventBufferer.bufferEvents(()=>{const s=e.map(o=>this.model.getNode(o));this.selection.set(s,i);const n=e.map(o=>this.model.getListIndex(o)).filter(o=>o>-1);this.view.setSelection(n,i,!0)})}getSelection(){return this.selection.get()}setFocus(e,i){this.eventBufferer.bufferEvents(()=>{const s=e.map(o=>this.model.getNode(o));this.focus.set(s,i);const n=e.map(o=>this.model.getListIndex(o)).filter(o=>o>-1);this.view.setFocus(n,i,!0)})}focusNext(e=1,i=!1,s,n=Aa(s)&&s.altKey?void 0:this.focusNavigationFilter){this.view.focusNext(e,i,s,n)}focusPrevious(e=1,i=!1,s,n=Aa(s)&&s.altKey?void 0:this.focusNavigationFilter){this.view.focusPrevious(e,i,s,n)}focusNextPage(e,i=Aa(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusNextPage(e,i)}focusPreviousPage(e,i=Aa(e)&&e.altKey?void 0:this.focusNavigationFilter){return this.view.focusPreviousPage(e,i,()=>this.stickyScrollController?.height??0)}focusLast(e,i=Aa(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusLast(e,i)}focusFirst(e,i=Aa(e)&&e.altKey?void 0:this.focusNavigationFilter){this.view.focusFirst(e,i)}getFocus(){return this.focus.get()}getStickyScrollFocus(){const e=this.stickyScrollController?.getFocus();return e!==void 0?[e]:[]}getFocusedPart(){return this.stickyScrollController?.focusedLast()?1:0}reveal(e,i){this.model.expandTo(e);const s=this.model.getListIndex(e);if(s!==-1)if(this.stickyScrollController){const n=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(e));this.view.reveal(s,i,n)}else this.view.reveal(s,i)}getRelativeTop(e){const i=this.model.getListIndex(e);if(i===-1)return null;const s=this.stickyScrollController?.getNode(this.getNode(e));return this.view.getRelativeTop(i,s?.position??this.stickyScrollController?.height)}getViewState(e=this.options.identityProvider){if(!e)throw new is(this._user,"Can't get tree view state without an identity provider");const i=Rt(r=>e.getId(r).toString(),"getId"),s=Nf.empty(this.scrollTop);for(const r of this.getFocus())s.focus.add(i(r));for(const r of this.getSelection())s.selection.add(i(r));const n=this.model.getNode(),o=[n];for(;o.length>0;){const r=o.shift();r!==n&&r.collapsible&&(s.expanded[i(r.element)]=r.collapsed?0:1),o.push(...r.children)}return s}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const i=this.view.getFocusedElements();if(i.length===0)return;const s=i[0],n=this.model.getNodeLocation(s);if(!this.model.setCollapsed(n,!0)){const r=this.model.getParentNodeLocation(n);if(!r)return;const a=this.model.getListIndex(r);this.view.reveal(a),this.view.setFocus([a])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const i=this.view.getFocusedElements();if(i.length===0)return;const s=i[0],n=this.model.getNodeLocation(s);if(!this.model.setCollapsed(n,!1)){if(!s.children.some(l=>l.visible))return;const[r]=this.view.getFocus(),a=r+1;this.view.reveal(a),this.view.setFocus([a])}}onSpace(e){e.preventDefault(),e.stopPropagation();const i=this.view.getFocusedElements();if(i.length===0)return;const s=i[0],n=this.model.getNodeLocation(s),o=e.browserEvent.altKey;this.model.setCollapsed(n,void 0,o)}modelDisposables=new Z;setupModel(e){this.modelDisposables.clear(),this.modelDisposables.add(e.onDidSpliceRenderedNodes(({start:o,deleteCount:r,elements:a})=>this.view.splice(o,r,a)));const i=R.forEach(e.onDidSpliceModel,o=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(o),this.selection.onDidModelSplice(o)})},this.modelDisposables);i(()=>null,null,this.modelDisposables);const s=this.modelDisposables.add(new I),n=this.modelDisposables.add(new Ju(0));this.modelDisposables.add(R.any(i,this.focus.onDidChange,this.selection.onDidChange)(()=>{n.trigger(()=>{const o=new Set;for(const r of this.focus.getNodes())o.add(r);for(const r of this.selection.getNodes())o.add(r);s.fire([...o.values()])})})),this.onDidChangeActiveNodesRelay.input=s.event,this.onDidChangeModelRelay.input=R.signal(e.onDidSpliceModel),this.onDidChangeCollapseStateRelay.input=e.onDidChangeCollapseState,this.onDidChangeRenderNodeCountRelay.input=e.onDidChangeRenderNodeCount}setModel(e){const i=this.model;this.model=e,this.setupModel(e),this.renderers.forEach(s=>s.setModel(e)),this.stickyScrollController?.setModel(e),this.focus.set([]),this.selection.set([]),this.anchor.set([]),this.view.splice(0,i.getListRenderCount(i.rootRef)),this.model.refilter(),this.onDidSwapModel.fire()}getModel(){return this.model}navigate(e){return new Oie(this.view,this.model,e)}dispose(){ai(this.disposables),this.stickyScrollController?.dispose(),this.view.dispose(),this.modelDisposables.dispose()}}class Oie{constructor(e,i,s){this.view=e,this.model=i,s?this.index=this.model.getListIndex(s):this.index=-1}static{Rt(this,"TreeNavigator")}index;current(){return this.index<0||this.index>=this.view.length?null:this.view.element(this.index).element}previous(){return this.index--,this.current()}next(){return this.index++,this.current()}first(){return this.index=0,this.current()}last(){return this.index=this.view.length-1,this.current()}}var Bie=Object.defineProperty,d_=(t,e)=>Bie(t,"name",{value:e,configurable:!0});class EE{constructor(e,i={}){this.user=e,this.model=new vie(e,null,i),this.onDidSpliceModel=this.model.onDidSpliceModel,this.onDidSpliceRenderedNodes=this.model.onDidSpliceRenderedNodes,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare(s,n){return i.sorter.compare(s.element,n.element)}}),this.identityProvider=i.identityProvider}static{d_(this,"ObjectTreeModel")}rootRef=null;model;nodes=new Map;nodesByIdentity=new Map;identityProvider;sorter;onDidSpliceModel;onDidSpliceRenderedNodes;onDidChangeCollapseState;onDidChangeRenderNodeCount;get size(){return this.nodes.size}setChildren(e,i=ut.empty(),s={}){const n=this.getElementLocation(e);this._setChildren(n,this.preserveCollapseState(i),s)}_setChildren(e,i=ut.empty(),s){const n=new Set,o=new Set,r=d_(l=>{if(l.element===null)return;const h=l;if(n.add(h.element),this.nodes.set(h.element,h),this.identityProvider){const d=this.identityProvider.getId(h.element).toString();o.add(d),this.nodesByIdentity.set(d,h)}s.onDidCreateNode?.(h)},"onDidCreateNode"),a=d_(l=>{if(l.element===null)return;const h=l;if(n.has(h.element)||this.nodes.delete(h.element),this.identityProvider){const d=this.identityProvider.getId(h.element).toString();o.has(d)||this.nodesByIdentity.delete(d)}s.onDidDeleteNode?.(h)},"onDidDeleteNode");this.model.splice([...e,0],Number.MAX_VALUE,i,{...s,onDidCreateNode:r,onDidDeleteNode:a})}preserveCollapseState(e=ut.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),ut.map(e,i=>{let s=this.nodes.get(i.element);if(!s&&this.identityProvider){const r=this.identityProvider.getId(i.element).toString();s=this.nodesByIdentity.get(r)}if(!s){let r;return typeof i.collapsed>"u"?r=void 0:i.collapsed===zn.Collapsed||i.collapsed===zn.PreserveOrCollapsed?r=!0:i.collapsed===zn.Expanded||i.collapsed===zn.PreserveOrExpanded?r=!1:r=!!i.collapsed,{...i,children:this.preserveCollapseState(i.children),collapsed:r}}const n=typeof i.collapsible=="boolean"?i.collapsible:s.collapsible;let o;return typeof i.collapsed>"u"||i.collapsed===zn.PreserveOrCollapsed||i.collapsed===zn.PreserveOrExpanded?o=s.collapsed:i.collapsed===zn.Collapsed?o=!0:i.collapsed===zn.Expanded?o=!1:o=!!i.collapsed,{...i,collapsible:n,collapsed:o,children:this.preserveCollapseState(i.children)}})}rerender(e){const i=this.getElementLocation(e);this.model.rerender(i)}resort(e=null,i=!0){if(!this.sorter)return;const s=this.getElementLocation(e),n=this.model.getNode(s);this._setChildren(s,this.resortChildren(n,i),{})}resortChildren(e,i,s=!0){let n=[...e.children];return(i||s)&&(n=n.sort(this.sorter.compare.bind(this.sorter))),ut.map(n,o=>({element:o.element,collapsible:o.collapsible,collapsed:o.collapsed,children:this.resortChildren(o,i,!1)}))}getFirstElementChild(e=null){const i=this.getElementLocation(e);return this.model.getFirstElementChild(i)}getLastElementAncestor(e=null){const i=this.getElementLocation(e);return this.model.getLastElementAncestor(i)}has(e){return this.nodes.has(e)}getListIndex(e){const i=this.getElementLocation(e);return this.model.getListIndex(i)}getListRenderCount(e){const i=this.getElementLocation(e);return this.model.getListRenderCount(i)}isCollapsible(e){const i=this.getElementLocation(e);return this.model.isCollapsible(i)}setCollapsible(e,i){const s=this.getElementLocation(e);return this.model.setCollapsible(s,i)}isCollapsed(e){const i=this.getElementLocation(e);return this.model.isCollapsed(i)}setCollapsed(e,i,s){const n=this.getElementLocation(e);return this.model.setCollapsed(n,i,s)}expandTo(e){const i=this.getElementLocation(e);this.model.expandTo(i)}refilter(){this.model.refilter()}getNode(e=null){if(e===null)return this.model.getNode(this.model.rootRef);const i=this.nodes.get(e);if(!i)throw new is(this.user,`Tree element not found: ${e}`);return i}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(e===null)throw new is(this.user,"Invalid getParentNodeLocation call");const i=this.nodes.get(e);if(!i)throw new is(this.user,`Tree element not found: ${e}`);const s=this.model.getNodeLocation(i),n=this.model.getParentNodeLocation(s);return this.model.getNode(n).element}getElementLocation(e){if(e===null)return[];const i=this.nodes.get(e);if(!i)throw new is(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(i)}}var Mie=Object.defineProperty,Ln=(t,e)=>Mie(t,"name",{value:e,configurable:!0});function Bf(t){const e=[t.element],i=t.incompressible||!1;return{element:{elements:e,incompressible:i},children:ut.map(ut.from(t.children),Bf),collapsible:t.collapsible,collapsed:t.collapsed}}Ln(Bf,"noCompress");function Mf(t){const e=[t.element],i=t.incompressible||!1;let s,n;for(;[n,s]=ut.consume(ut.from(t.children),2),!(n.length!==1||n[0].incompressible);)t=n[0],e.push(t.element);return{element:{elements:e,incompressible:i},children:ut.map(ut.concat(n,s),Mf),collapsible:t.collapsible,collapsed:t.collapsed}}Ln(Mf,"compress");function Pw(t,e=0){let i;return e<t.element.elements.length-1?i=[Pw(t,e+1)]:i=ut.map(ut.from(t.children),s=>Pw(s,0)),e===0&&t.element.incompressible?{element:t.element.elements[e],children:i,incompressible:!0,collapsible:t.collapsible,collapsed:t.collapsed}:{element:t.element.elements[e],children:i,collapsible:t.collapsible,collapsed:t.collapsed}}Ln(Pw,"_decompress");function CS(t){return Pw(t,0)}Ln(CS,"decompress");function IE(t,e,i){return t.element===e?{...t,children:i}:{...t,children:ut.map(ut.from(t.children),s=>IE(s,e,i))}}Ln(IE,"splice");const Fie=Ln(t=>({getId(e){return e.elements.map(i=>t.getId(i).toString()).join("\0")}}),"wrapIdentityProvider");class Vie{constructor(e,i={}){this.user=e,this.model=new EE(e,i),this.enabled=typeof i.compressionEnabled>"u"?!0:i.compressionEnabled,this.identityProvider=i.identityProvider}static{Ln(this,"CompressedObjectTreeModel")}rootRef=null;get onDidSpliceRenderedNodes(){return this.model.onDidSpliceRenderedNodes}get onDidSpliceModel(){return this.model.onDidSpliceModel}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}model;nodes=new Map;enabled;identityProvider;get size(){return this.nodes.size}setChildren(e,i=ut.empty(),s){const n=s.diffIdentityProvider&&Fie(s.diffIdentityProvider);if(e===null){const m=ut.map(i,this.enabled?Mf:Bf);this._setChildren(null,m,{diffIdentityProvider:n,diffDepth:Number.POSITIVE_INFINITY});return}const o=this.nodes.get(e);if(!o)throw new is(this.user,"Unknown compressed tree node");const r=this.model.getNode(o),a=this.model.getParentNodeLocation(o),l=this.model.getNode(a),h=CS(r),d=IE(h,e,i),u=(this.enabled?Mf:Bf)(d),g=s.diffIdentityProvider?(m,b)=>s.diffIdentityProvider.getId(m)===s.diffIdentityProvider.getId(b):void 0;if(Pn(u.element.elements,r.element.elements,g)){this._setChildren(o,u.children||ut.empty(),{diffIdentityProvider:n,diffDepth:1});return}const p=l.children.map(m=>m===r?u:m);this._setChildren(l.element,p,{diffIdentityProvider:n,diffDepth:r.depth-l.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const s=this.model.getNode().children,n=ut.map(s,CS),o=ut.map(n,e?Mf:Bf);this._setChildren(null,o,{diffIdentityProvider:this.identityProvider,diffDepth:Number.POSITIVE_INFINITY})}_setChildren(e,i,s){const n=new Set,o=Ln(a=>{for(const l of a.element.elements)n.add(l),this.nodes.set(l,a.element)},"onDidCreateNode"),r=Ln(a=>{for(const l of a.element.elements)n.has(l)||this.nodes.delete(l)},"onDidDeleteNode");this.model.setChildren(e,i,{...s,onDidCreateNode:o,onDidDeleteNode:r})}has(e){return this.nodes.has(e)}getListIndex(e){const i=this.getCompressedNode(e);return this.model.getListIndex(i)}getListRenderCount(e){const i=this.getCompressedNode(e);return this.model.getListRenderCount(i)}getNode(e){if(typeof e>"u")return this.model.getNode();const i=this.getCompressedNode(e);return this.model.getNode(i)}getNodeLocation(e){const i=this.model.getNodeLocation(e);return i===null?null:i.elements[i.elements.length-1]}getParentNodeLocation(e){const i=this.getCompressedNode(e),s=this.model.getParentNodeLocation(i);return s===null?null:s.elements[s.elements.length-1]}getFirstElementChild(e){const i=this.getCompressedNode(e);return this.model.getFirstElementChild(i)}getLastElementAncestor(e){const i=typeof e>"u"?void 0:this.getCompressedNode(e);return this.model.getLastElementAncestor(i)}isCollapsible(e){const i=this.getCompressedNode(e);return this.model.isCollapsible(i)}setCollapsible(e,i){const s=this.getCompressedNode(e);return this.model.setCollapsible(s,i)}isCollapsed(e){const i=this.getCompressedNode(e);return this.model.isCollapsed(i)}setCollapsed(e,i,s){const n=this.getCompressedNode(e);return this.model.setCollapsed(n,i,s)}expandTo(e){const i=this.getCompressedNode(e);this.model.expandTo(i)}rerender(e){const i=this.getCompressedNode(e);this.model.rerender(i)}refilter(){this.model.refilter()}resort(e=null,i=!0){const s=this.getCompressedNode(e);this.model.resort(s,i)}getCompressedNode(e){if(e===null)return null;const i=this.nodes.get(e);if(!i)throw new is(this.user,`Tree element not found: ${e}`);return i}}const Hie=Ln(t=>t[t.length-1],"DefaultElementMapper");class TE{constructor(e,i){this.unwrapper=e,this.node=i}static{Ln(this,"CompressedTreeNodeWrapper")}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(e=>new TE(this.unwrapper,e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function UM(t,e){return{...e,identityProvider:e.identityProvider&&{getId(i){return e.identityProvider.getId(t(i))}},sorter:e.sorter&&{compare(i,s){return e.sorter.compare(i.elements[0],s.elements[0])}},filter:e.filter&&{filter(i,s){return e.filter.filter(t(i),s)}}}}Ln(UM,"mapOptions");class Wie{static{Ln(this,"CompressibleObjectTreeModel")}rootRef=null;get onDidSpliceModel(){return R.map(this.model.onDidSpliceModel,({insertedNodes:e,deletedNodes:i})=>({insertedNodes:e.map(s=>this.nodeMapper.map(s)),deletedNodes:i.map(s=>this.nodeMapper.map(s))}))}get onDidSpliceRenderedNodes(){return R.map(this.model.onDidSpliceRenderedNodes,({start:e,deleteCount:i,elements:s})=>({start:e,deleteCount:i,elements:s.map(n=>this.nodeMapper.map(n))}))}get onDidChangeCollapseState(){return R.map(this.model.onDidChangeCollapseState,({node:e,deep:i})=>({node:this.nodeMapper.map(e),deep:i}))}get onDidChangeRenderNodeCount(){return R.map(this.model.onDidChangeRenderNodeCount,e=>this.nodeMapper.map(e))}elementMapper;nodeMapper;model;constructor(e,i={}){this.elementMapper=i.elementMapper||Hie;const s=Ln(n=>this.elementMapper(n.elements),"compressedNodeUnwrapper");this.nodeMapper=new CE(n=>new TE(s,n)),this.model=new Vie(e,UM(s,i))}setChildren(e,i=ut.empty(),s={}){this.model.setChildren(e,i,s)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}getFirstElementChild(e){const i=this.model.getFirstElementChild(e);return i===null||typeof i>"u"?i:this.elementMapper(i.elements)}getLastElementAncestor(e){const i=this.model.getLastElementAncestor(e);return i===null||typeof i>"u"?i:this.elementMapper(i.elements)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,i){return this.model.setCollapsible(e,i)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,i,s){return this.model.setCollapsed(e,i,s)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}resort(e=null,i=!0){return this.model.resort(e,i)}getCompressedTreeNode(e=null){return this.model.getNode(e)}}var zM=Object.defineProperty,Uie=Object.getOwnPropertyDescriptor,qu=(t,e)=>zM(t,"name",{value:e,configurable:!0}),zie=(t,e,i,s)=>{for(var n=Uie(e,i),o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=r(e,i,n)||n);return n&&zM(e,i,n),n};class kE extends WM{constructor(e,i,s,n,o={}){super(e,i,s,n,o),this.user=e}static{qu(this,"ObjectTree")}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,i=ut.empty(),s){this.model.setChildren(e,i,s)}rerender(e){if(e===void 0){this.view.rerender();return}this.model.rerender(e)}updateElementHeight(e,i){const s=this.model.getListIndex(e);if(s===-1)throw new is(this.user,"updateElementHeight failed - index not found");this.view.updateElementHeight(s,i)}resort(e,i=!0){this.model.resort(e,i)}hasElement(e){return this.model.has(e)}createModel(e,i){return new EE(e,i)}}class $M{constructor(e,i,s){this._compressedTreeNodeProvider=e,this.stickyScrollDelegate=i,this.renderer=s,this.templateId=s.templateId,s.onDidChangeTwistieState&&(this.onDidChangeTwistieState=s.onDidChangeTwistieState)}static{qu(this,"CompressibleRenderer")}templateId;onDidChangeTwistieState;get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,i,s,n){let o=this.stickyScrollDelegate.getCompressedNode(e);o||(o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element)),o.element.elements.length===1?(s.compressedTreeNode=void 0,this.renderer.renderElement(e,i,s.data,n)):(s.compressedTreeNode=o,this.renderer.renderCompressedElements(o,i,s.data,n))}disposeElement(e,i,s,n){s.compressedTreeNode?this.renderer.disposeCompressedElements?.(s.compressedTreeNode,i,s.data,n):this.renderer.disposeElement?.(e,i,s.data,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,i){return this.renderer.renderTwistie?this.renderer.renderTwistie(e,i):!1}}zie([ie],$M.prototype,"compressedTreeNodeProvider");class $ie{constructor(e){this.modelProvider=e}static{qu(this,"CompressibleStickyScrollDelegate")}compressedStickyNodes=new Map;getCompressedNode(e){return this.compressedStickyNodes.get(e)}constrainStickyScrollNodes(e,i,s){if(this.compressedStickyNodes.clear(),e.length===0)return[];for(let n=0;n<e.length;n++){const o=e[n],r=o.position+o.height;if(n+1<e.length&&r+e[n+1].height>s||n>=i-1&&i<e.length){const l=e.slice(0,n),h=e.slice(n),d=this.compressStickyNodes(h);return[...l,d]}}return e}compressStickyNodes(e){if(e.length===0)throw new Error("Can't compress empty sticky nodes");const i=this.modelProvider();if(!i.isCompressionEnabled())return e[0];const s=[];for(let h=0;h<e.length;h++){const d=e[h],u=i.getCompressedTreeNode(d.node.element);if(u.element){if(h!==0&&u.element.incompressible)break;s.push(...u.element.elements)}}if(s.length<2)return e[0];const n=e[e.length-1],o={elements:s,incompressible:!1},r={...n.node,children:[],element:o},a=new Proxy(e[0].node,{}),l={node:a,startIndex:e[0].startIndex,endIndex:n.endIndex,position:e[0].position,height:e[0].height};return this.compressedStickyNodes.set(a,r),l}}function KM(t,e){return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(i){let s;try{s=t().getCompressedTreeNode(i)}catch{return e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i)}return s.element.elements.length===1?e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i):e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(s.element.elements)}}}}qu(KM,"asObjectTreeOptions");class GM extends kE{static{qu(this,"CompressibleObjectTree")}constructor(e,i,s,n,o={}){const r=qu(()=>this,"compressedTreeNodeProvider"),a=new $ie(()=>this.model),l=n.map(h=>new $M(r,a,h));super(e,i,s,l,{...KM(r,o),stickyScrollDelegate:a})}setChildren(e,i=ut.empty(),s){this.model.setChildren(e,i,s)}createModel(e,i){return new Wie(e,i)}updateOptions(e={}){super.updateOptions(e),typeof e.compressionEnabled<"u"&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}var Kie=Object.defineProperty,Ci=(t,e)=>Kie(t,"name",{value:e,configurable:!0});function uv(t){return{...t,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}Ci(uv,"createAsyncDataTreeNode");function Rw(t,e){return e.parent?e.parent===t?!0:Rw(t,e.parent):!1}Ci(Rw,"isAncestor");function jM(t,e){return t===e||Rw(t,e)||Rw(e,t)}Ci(jM,"intersects");class xE{constructor(e){this.node=e}static{Ci(this,"AsyncDataTreeNodeWrapper")}get element(){return this.node.element.element}get children(){return this.node.children.map(e=>new xE(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Gie{constructor(e,i,s){this.renderer=e,this.nodeMapper=i,this.onDidChangeTwistieState=s,this.templateId=e.templateId}static{Ci(this,"AsyncDataTreeRenderer")}templateId;renderedNodes=new Map;renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,i,s,n){this.renderer.renderElement(this.nodeMapper.map(e),i,s.templateData,n)}renderTwistie(e,i){return e.slow?(i.classList.add(...Ae.asClassNameArray(he.treeItemLoading)),!0):(i.classList.remove(...Ae.asClassNameArray(he.treeItemLoading)),!1)}disposeElement(e,i,s,n){this.renderer.disposeElement?.(this.nodeMapper.map(e),i,s.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function DS(t){return{browserEvent:t.browserEvent,elements:t.elements.map(e=>e.element)}}Ci(DS,"asTreeEvent");function hf(t){return{browserEvent:t.browserEvent,element:t.element&&t.element.element,target:t.target}}Ci(hf,"asTreeMouseEvent");function qM(t){return{browserEvent:t.browserEvent,element:t.element&&t.element.element,anchor:t.anchor,isStickyScroll:t.isStickyScroll}}Ci(qM,"asTreeContextMenuEvent");class jie extends km{constructor(e){super(e.elements.map(i=>i.element)),this.data=e}static{Ci(this,"AsyncDataTreeElementsDragAndDropData")}set context(e){this.data.context=e}get context(){return this.data.context}}function gv(t){return t instanceof km?new jie(t):t}Ci(gv,"asAsyncDataTreeDragAndDropData");class qie{constructor(e){this.dnd=e}static{Ci(this,"AsyncDataTreeNodeListDragAndDrop")}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,i){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map(s=>s.element),i)}onDragStart(e,i){this.dnd.onDragStart?.(gv(e),i)}onDragOver(e,i,s,n,o,r=!0){return this.dnd.onDragOver(gv(e),i&&i.element,s,n,o)}drop(e,i,s,n,o){this.dnd.drop(gv(e),i&&i.element,s,n,o)}onDragEnd(e){this.dnd.onDragEnd?.(e)}dispose(){this.dnd.dispose()}}function LE(t){return t&&{...t,collapseByDefault:!0,identityProvider:t.identityProvider&&{getId(e){return t.identityProvider.getId(e.element)}},dnd:t.dnd&&new qie(t.dnd),multipleSelectionController:t.multipleSelectionController&&{isSelectionSingleChangeEvent(e){return t.multipleSelectionController.isSelectionSingleChangeEvent({...e,element:e.element})},isSelectionRangeChangeEvent(e){return t.multipleSelectionController.isSelectionRangeChangeEvent({...e,element:e.element})}},accessibilityProvider:t.accessibilityProvider&&{...t.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:t.accessibilityProvider.getRole?e=>t.accessibilityProvider.getRole(e.element):()=>"treeitem",isChecked:t.accessibilityProvider.isChecked?e=>!!t.accessibilityProvider?.isChecked(e.element):void 0,getAriaLabel(e){return t.accessibilityProvider.getAriaLabel(e.element)},getWidgetAriaLabel(){return t.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:t.accessibilityProvider.getWidgetRole?()=>t.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:t.accessibilityProvider.getAriaLevel&&(e=>t.accessibilityProvider.getAriaLevel(e.element)),getActiveDescendantId:t.accessibilityProvider.getActiveDescendantId&&(e=>t.accessibilityProvider.getActiveDescendantId(e.element))},filter:t.filter&&{filter(e,i){return t.filter.filter(e.element,i)}},keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{...t.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(e){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof t.expandOnlyOnTwistieClick>"u"?void 0:typeof t.expandOnlyOnTwistieClick!="function"?t.expandOnlyOnTwistieClick:e=>t.expandOnlyOnTwistieClick(e.element),defaultFindVisibility:Ci(e=>e.hasChildren&&e.stale?Ht.Visible:typeof t.defaultFindVisibility=="number"?t.defaultFindVisibility:typeof t.defaultFindVisibility>"u"?Ht.Recurse:t.defaultFindVisibility(e.element),"defaultFindVisibility")}}Ci(LE,"asObjectTreeOptions");function Nw(t,e){e(t),t.children.forEach(i=>Nw(i,e))}Ci(Nw,"dfs");class YM{constructor(e,i,s,n,o,r={}){this.user=e,this.dataSource=o,this.identityProvider=r.identityProvider,this.autoExpandSingleChildren=typeof r.autoExpandSingleChildren>"u"?!1:r.autoExpandSingleChildren,this.sorter=r.sorter,this.getDefaultCollapseState=a=>r.collapseByDefault?r.collapseByDefault(a)?zn.PreserveOrCollapsed:zn.PreserveOrExpanded:void 0,this.tree=this.createTree(e,i,s,n,r),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=uv({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}static{Ci(this,"AsyncDataTree")}tree;root;nodes=new Map;sorter;getDefaultCollapseState;subTreeRefreshPromises=new Map;refreshPromises=new Map;identityProvider;autoExpandSingleChildren;_onDidRender=new I;_onDidChangeNodeSlowState=new I;nodeMapper=new CE(e=>new xE(e));disposables=new Z;get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return R.map(this.tree.onDidChangeFocus,DS)}get onDidChangeSelection(){return R.map(this.tree.onDidChangeSelection,DS)}get onKeyDown(){return this.tree.onKeyDown}get onMouseClick(){return R.map(this.tree.onMouseClick,hf)}get onMouseDblClick(){return R.map(this.tree.onMouseDblClick,hf)}get onContextMenu(){return R.map(this.tree.onContextMenu,qM)}get onTap(){return R.map(this.tree.onTap,hf)}get onPointer(){return R.map(this.tree.onPointer,hf)}get onDidFocus(){return this.tree.onDidFocus}get onDidBlur(){return this.tree.onDidBlur}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidUpdateOptions(){return this.tree.onDidUpdateOptions}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get findMode(){return this.tree.findMode}set findMode(e){this.tree.findMode=e}onDidChangeFindMode;get findMatchType(){return this.tree.findMatchType}set findMatchType(e){this.tree.findMatchType=e}onDidChangeFindMatchType;get expandOnlyOnTwistieClick(){if(typeof this.tree.expandOnlyOnTwistieClick=="boolean")return this.tree.expandOnlyOnTwistieClick;const e=this.tree.expandOnlyOnTwistieClick;return i=>e(this.nodes.get(i===this.root.element?null:i)||null)}get onDidDispose(){return this.tree.onDidDispose}createTree(e,i,s,n,o){const r=new DE(s),a=n.map(h=>new Gie(h,this.nodeMapper,this._onDidChangeNodeSlowState.event)),l=LE(o)||{};return new kE(e,i,r,a,l)}updateOptions(e={}){this.tree.updateOptions(e)}get options(){return this.tree.options}getHTMLElement(){return this.tree.getHTMLElement()}get contentHeight(){return this.tree.contentHeight}get contentWidth(){return this.tree.contentWidth}get onDidChangeContentHeight(){return this.tree.onDidChangeContentHeight}get onDidChangeContentWidth(){return this.tree.onDidChangeContentWidth}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}get scrollLeft(){return this.tree.scrollLeft}set scrollLeft(e){this.tree.scrollLeft=e}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}get lastVisibleElement(){return this.tree.lastVisibleElement.element}get ariaLabel(){return this.tree.ariaLabel}set ariaLabel(e){this.tree.ariaLabel=e}domFocus(){this.tree.domFocus()}layout(e,i){this.tree.layout(e,i)}style(e){this.tree.style(e)}getInput(){return this.root.element}async setInput(e,i){this.refreshPromises.forEach(n=>n.cancel()),this.refreshPromises.clear(),this.root.element=e;const s=i&&{viewState:i,focus:[],selection:[]};await this._updateChildren(e,!0,!1,s),s&&(this.tree.setFocus(s.focus),this.tree.setSelection(s.selection)),i&&typeof i.scrollTop=="number"&&(this.scrollTop=i.scrollTop)}async updateChildren(e=this.root.element,i=!0,s=!1,n){await this._updateChildren(e,i,s,void 0,n)}async _updateChildren(e=this.root.element,i=!0,s=!1,n,o){if(typeof this.root.element>"u")throw new is(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await R.toPromise(this._onDidRender.event));const r=this.getDataNode(e);if(await this.refreshAndRenderNode(r,i,n,o),s)try{this.tree.rerender(r)}catch{}}resort(e=this.root.element,i=!0){this.tree.resort(this.getDataNode(e),i)}hasNode(e){return e===this.root.element||this.nodes.has(e)}rerender(e){if(e===void 0||e===this.root.element){this.tree.rerender();return}const i=this.getDataNode(e);this.tree.rerender(i)}updateElementHeight(e,i){const s=this.getDataNode(e);this.tree.updateElementHeight(s,i)}updateWidth(e){const i=this.getDataNode(e);this.tree.updateWidth(i)}getNode(e=this.root.element){const i=this.getDataNode(e),s=this.tree.getNode(i===this.root?null:i);return this.nodeMapper.map(s)}collapse(e,i=!1){const s=this.getDataNode(e);return this.tree.collapse(s===this.root?null:s,i)}async expand(e,i=!1){if(typeof this.root.element>"u")throw new is(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await R.toPromise(this._onDidRender.event));const s=this.getDataNode(e);if(this.tree.hasElement(s)&&!this.tree.isCollapsible(s)||(s.refreshPromise&&(await this.root.refreshPromise,await R.toPromise(this._onDidRender.event)),s!==this.root&&!s.refreshPromise&&!this.tree.isCollapsed(s)))return!1;const n=this.tree.expand(s===this.root?null:s,i);return s.refreshPromise&&(await this.root.refreshPromise,await R.toPromise(this._onDidRender.event)),n}toggleCollapsed(e,i=!1){return this.tree.toggleCollapsed(this.getDataNode(e),i)}expandAll(){this.tree.expandAll()}async expandTo(e){if(!this.dataSource.getParent)throw new Error("Can't expand to element without getParent method");const i=[];for(;!this.hasNode(e);)e=this.dataSource.getParent(e),e!==this.root.element&&i.push(e);for(const s of ut.reverse(i))await this.expand(s);this.tree.expandTo(this.getDataNode(e))}collapseAll(){this.tree.collapseAll()}isCollapsible(e){return this.tree.isCollapsible(this.getDataNode(e))}isCollapsed(e){return this.tree.isCollapsed(this.getDataNode(e))}triggerTypeNavigation(){this.tree.triggerTypeNavigation()}openFind(){this.tree.openFind()}closeFind(){this.tree.closeFind()}refilter(){this.tree.refilter()}setAnchor(e){this.tree.setAnchor(typeof e>"u"?void 0:this.getDataNode(e))}getAnchor(){return this.tree.getAnchor()?.element}setSelection(e,i){const s=e.map(n=>this.getDataNode(n));this.tree.setSelection(s,i)}getSelection(){return this.tree.getSelection().map(i=>i.element)}setFocus(e,i){const s=e.map(n=>this.getDataNode(n));this.tree.setFocus(s,i)}focusNext(e=1,i=!1,s){this.tree.focusNext(e,i,s)}focusPrevious(e=1,i=!1,s){this.tree.focusPrevious(e,i,s)}focusNextPage(e){return this.tree.focusNextPage(e)}focusPreviousPage(e){return this.tree.focusPreviousPage(e)}focusLast(e){this.tree.focusLast(e)}focusFirst(e){this.tree.focusFirst(e)}getFocus(){return this.tree.getFocus().map(i=>i.element)}getStickyScrollFocus(){return this.tree.getStickyScrollFocus().map(i=>i.element)}getFocusedPart(){return this.tree.getFocusedPart()}reveal(e,i){this.tree.reveal(this.getDataNode(e),i)}getRelativeTop(e){return this.tree.getRelativeTop(this.getDataNode(e))}getParentElement(e){const i=this.tree.getParentElement(this.getDataNode(e));return i&&i.element}getFirstElementChild(e=this.root.element){const i=this.getDataNode(e),s=this.tree.getFirstElementChild(i===this.root?null:i);return s&&s.element}getDataNode(e){const i=this.nodes.get(e===this.root.element?null:e);if(!i)throw new is(this.user,`Data tree node not found: ${e}`);return i}async refreshAndRenderNode(e,i,s,n){await this.refreshNode(e,i,s),!this.disposables.isDisposed&&this.render(e,s,n)}async refreshNode(e,i,s){let n;if(this.subTreeRefreshPromises.forEach((o,r)=>{!n&&jM(r,e)&&(n=o.then(()=>this.refreshNode(e,i,s)))}),n)return n;if(e!==this.root&&this.tree.getNode(e).collapsed){e.hasChildren=!!this.dataSource.hasChildren(e.element),e.stale=!0,this.setChildren(e,[],i,s);return}return this.doRefreshSubTree(e,i,s)}async doRefreshSubTree(e,i,s){let n;e.refreshPromise=new Promise(o=>n=o),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally(()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)});try{const o=await this.doRefreshNode(e,i,s);e.stale=!1,await sc.settled(o.map(r=>this.doRefreshSubTree(r,i,s)))}finally{n()}}async doRefreshNode(e,i,s){e.hasChildren=!!this.dataSource.hasChildren(e.element);let n;if(e.hasChildren){const o=this.doGetChildren(e);if(y_(o))n=Promise.resolve(o);else{const r=Za(800);r.then(()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)},a=>null),n=o.finally(()=>r.cancel())}}else n=Promise.resolve(ut.empty());try{const o=await n;return this.setChildren(e,o,i,s)}catch(o){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),qh(o))return[];throw o}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}doGetChildren(e){let i=this.refreshPromises.get(e);if(i)return i;const s=this.dataSource.getChildren(e.element);return y_(s)?this.processChildren(s):(i=gC(async()=>this.processChildren(await s)),this.refreshPromises.set(e,i),i.finally(()=>{this.refreshPromises.delete(e)}))}_onDidChangeCollapseState({node:e,deep:i}){e.element!==null&&!e.collapsed&&e.element.stale&&(i?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(ss))}setChildren(e,i,s,n){const o=[...i];if(e.children.length===0&&o.length===0)return[];const r=new Map,a=new Map;for(const d of e.children)r.set(d.element,d),this.identityProvider&&a.set(d.id,{node:d,collapsed:this.tree.hasElement(d)&&this.tree.isCollapsed(d)});const l=[],h=o.map(d=>{const u=!!this.dataSource.hasChildren(d);if(!this.identityProvider){const b=uv({element:d,parent:e,hasChildren:u,defaultCollapseState:this.getDefaultCollapseState(d)});return u&&b.defaultCollapseState===zn.PreserveOrExpanded&&l.push(b),b}const g=this.identityProvider.getId(d).toString(),p=a.get(g);if(p){const b=p.node;return r.delete(b.element),this.nodes.delete(b.element),this.nodes.set(d,b),b.element=d,b.hasChildren=u,s?p.collapsed?(b.children.forEach(C=>Nw(C,x=>this.nodes.delete(x.element))),b.children.splice(0,b.children.length),b.stale=!0):l.push(b):u&&!p.collapsed&&l.push(b),b}const m=uv({element:d,parent:e,id:g,hasChildren:u,defaultCollapseState:this.getDefaultCollapseState(d)});return n&&n.viewState.focus&&n.viewState.focus.indexOf(g)>-1&&n.focus.push(m),n&&n.viewState.selection&&n.viewState.selection.indexOf(g)>-1&&n.selection.push(m),(n&&n.viewState.expanded&&n.viewState.expanded.indexOf(g)>-1||u&&m.defaultCollapseState===zn.PreserveOrExpanded)&&l.push(m),m});for(const d of r.values())Nw(d,u=>this.nodes.delete(u.element));for(const d of h)this.nodes.set(d.element,d);return e.children.splice(0,e.children.length,...h),e!==this.root&&this.autoExpandSingleChildren&&h.length===1&&l.length===0&&(h[0].forceExpanded=!0,l.push(h[0])),l}render(e,i,s){const n=e.children.map(r=>this.asTreeElement(r,i)),o=s&&{...s,diffIdentityProvider:s.diffIdentityProvider&&{getId(r){return s.diffIdentityProvider.getId(r.element)}}};this.tree.setChildren(e===this.root?null:e,n,o),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,i){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let s;return i&&i.viewState.expanded&&e.id&&i.viewState.expanded.indexOf(e.id)>-1?s=!1:e.forceExpanded?(s=!1,e.forceExpanded=!1):s=e.defaultCollapseState,{element:e,children:e.hasChildren?ut.map(e.children,n=>this.asTreeElement(n,i)):[],collapsible:e.hasChildren,collapsed:s}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}getViewState(){if(!this.identityProvider)throw new is(this.user,"Can't get tree view state without an identity provider");const e=Ci(a=>this.identityProvider.getId(a).toString(),"getId"),i=this.getFocus().map(e),s=this.getSelection().map(e),n=[],o=this.tree.getNode(),r=[o];for(;r.length>0;){const a=r.pop();a!==o&&a.collapsible&&!a.collapsed&&n.push(e(a.element.element)),r.push(...a.children)}return{focus:i,selection:s,expanded:n,scrollTop:this.scrollTop}}dispose(){this.disposables.dispose(),this.tree.dispose()}}class PE{constructor(e){this.node=e}static{Ci(this,"CompressibleAsyncDataTreeNodeWrapper")}get element(){return{elements:this.node.element.elements.map(e=>e.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(e=>new PE(e))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class Yie{constructor(e,i,s,n){this.renderer=e,this.nodeMapper=i,this.compressibleNodeMapperProvider=s,this.onDidChangeTwistieState=n,this.templateId=e.templateId}static{Ci(this,"CompressibleAsyncDataTreeRenderer")}templateId;renderedNodes=new Map;disposables=[];renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,i,s,n){this.renderer.renderElement(this.nodeMapper.map(e),i,s.templateData,n)}renderCompressedElements(e,i,s,n){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),i,s.templateData,n)}renderTwistie(e,i){return e.slow?(i.classList.add(...Ae.asClassNameArray(he.treeItemLoading)),!0):(i.classList.remove(...Ae.asClassNameArray(he.treeItemLoading)),!1)}disposeElement(e,i,s,n){this.renderer.disposeElement?.(this.nodeMapper.map(e),i,s.templateData,n)}disposeCompressedElements(e,i,s,n){this.renderer.disposeCompressedElements?.(this.compressibleNodeMapperProvider().map(e),i,s.templateData,n)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=ai(this.disposables)}}function XM(t){const e=t&&LE(t);return e&&{...e,keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&{...e.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(i){return t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(i.map(s=>s.element))}}}}Ci(XM,"asCompressibleObjectTreeOptions");class Xie extends YM{constructor(e,i,s,n,o,r,a={}){super(e,i,s,o,r,a),this.compressionDelegate=n,this.filter=a.filter}static{Ci(this,"CompressibleAsyncDataTree")}compressibleNodeMapper=new CE(e=>new PE(e));filter;createTree(e,i,s,n,o){const r=new DE(s),a=n.map(h=>new Yie(h,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),l=XM(o)||{};return new GM(e,i,r,a,l)}asTreeElement(e,i){return{incompressible:this.compressionDelegate.isIncompressible(e.element),...super.asTreeElement(e,i)}}updateOptions(e={}){this.tree.updateOptions(e)}getViewState(){if(!this.identityProvider)throw new is(this.user,"Can't get tree view state without an identity provider");const e=Ci(a=>this.identityProvider.getId(a).toString(),"getId"),i=this.getFocus().map(e),s=this.getSelection().map(e),n=[],o=this.tree.getCompressedTreeNode(),r=[o];for(;r.length>0;){const a=r.pop();if(a!==o&&a.collapsible&&!a.collapsed)for(const l of a.element.elements)n.push(e(l.element));r.push(...a.children)}return{focus:i,selection:s,expanded:n,scrollTop:this.scrollTop}}render(e,i,s){if(!this.identityProvider)return super.render(e,i);const n=Ci(p=>this.identityProvider.getId(p).toString(),"getId"),o=Ci(p=>{const m=new Set;for(const b of p){const C=this.tree.getCompressedTreeNode(b===this.root?null:b);if(C.element)for(const x of C.element.elements)m.add(n(x.element))}return m},"getUncompressedIds"),r=o(this.tree.getSelection()),a=o(this.tree.getFocus());super.render(e,i,s);const l=this.getSelection();let h=!1;const d=this.getFocus();let u=!1;const g=Ci(p=>{const m=p.element;if(m)for(let b=0;b<m.elements.length;b++){const C=n(m.elements[b].element),x=m.elements[m.elements.length-1].element;r.has(C)&&l.indexOf(x)===-1&&(l.push(x),h=!0),a.has(C)&&d.indexOf(x)===-1&&(d.push(x),u=!0)}p.children.forEach(g)},"visit");g(this.tree.getCompressedTreeNode(e===this.root?null:e)),h&&this.setSelection(l),u&&this.setFocus(d)}processChildren(e){return this.filter&&(e=ut.filter(e,i=>{const s=this.filter.filter(i,Ht.Visible),n=ZM(s);if(n===Ht.Recurse)throw new Error("Recursive tree visibility not supported in async data compressed trees");return n===Ht.Visible})),super.processChildren(e)}}function ZM(t){return typeof t=="boolean"?t?Ht.Visible:Ht.Hidden:wy(t)?ju(t.visibility):ju(t)}Ci(ZM,"getVisibility");var Zie=Object.defineProperty,Sd=(t,e)=>Zie(t,"name",{value:e,configurable:!0});class Qie extends WM{constructor(e,i,s,n,o,r={}){super(e,i,s,n,r),this.user=e,this.dataSource=o,this.identityProvider=r.identityProvider}static{Sd(this,"DataTree")}input;identityProvider;nodesByIdentity=new Map;getInput(){return this.input}setInput(e,i){if(i&&!this.identityProvider)throw new is(this.user,"Can't restore tree view state without an identity provider");if(this.input=e,!e){this.nodesByIdentity.clear(),this.model.setChildren(null,ut.empty());return}if(!i){this._refresh(e);return}const s=[],n=[],o=Sd(a=>{const l=this.identityProvider.getId(a).toString();return!i.expanded[l]},"isCollapsed"),r=Sd(a=>{const l=this.identityProvider.getId(a.element).toString();i.focus.has(l)&&s.push(a.element),i.selection.has(l)&&n.push(a.element)},"onDidCreateNode");this._refresh(e,o,r),this.setFocus(s),this.setSelection(n),i&&typeof i.scrollTop=="number"&&(this.scrollTop=i.scrollTop)}updateChildren(e=this.input){if(typeof this.input>"u")throw new is(this.user,"Tree input not set");let i;this.identityProvider&&(i=Sd(s=>{const n=this.identityProvider.getId(s).toString(),o=this.nodesByIdentity.get(n);if(o)return o.collapsed},"isCollapsed")),this._refresh(e,i)}resort(e=this.input,i=!0){this.model.resort(e===this.input?null:e,i)}refresh(e){if(e===void 0){this.view.rerender();return}this.model.rerender(e)}_refresh(e,i,s){let n;if(this.identityProvider){const o=new Set,r=s;s=Sd(a=>{const l=this.identityProvider.getId(a.element).toString();o.add(l),this.nodesByIdentity.set(l,a),r?.(a)},"onDidCreateNode"),n=Sd(a=>{const l=this.identityProvider.getId(a.element).toString();o.has(l)||this.nodesByIdentity.delete(l)},"onDidDeleteNode")}this.model.setChildren(e===this.input?null:e,this.iterate(e,i).elements,{onDidCreateNode:s,onDidDeleteNode:n})}iterate(e,i){const s=[...this.dataSource.getChildren(e)];return{elements:ut.map(s,o=>{const{elements:r,size:a}=this.iterate(o,i),l=this.dataSource.hasChildren?this.dataSource.hasChildren(o):void 0,h=a===0?void 0:i&&i(o);return{element:o,children:r,collapsible:l,collapsed:h}}),size:s.length}}createModel(e,i){return new EE(e,i)}}var Jie=Object.defineProperty,yy=(t,e)=>Jie(t,"name",{value:e,configurable:!0}),AS=(t=>(t[t.NoMatchingKb=0]="NoMatchingKb",t[t.MoreChordsNeeded=1]="MoreChordsNeeded",t[t.KbFound=2]="KbFound",t))(AS||{});const HT={kind:0},ese={kind:1};function QM(t,e,i){return{kind:2,commandId:t,commandArgs:e,isBubble:i}}yy(QM,"KbFound");class fv{static{yy(this,"KeybindingResolver")}_log;_defaultKeybindings;_keybindings;_defaultBoundCommands;_map;_lookupMap;constructor(e,i,s){this._log=s,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(const n of e){const o=n.command;o&&o.charAt(0)!=="-"&&this._defaultBoundCommands.set(o,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=fv.handleRemovals([].concat(e).concat(i));for(let n=0,o=this._keybindings.length;n<o;n++){const r=this._keybindings[n];if(r.chords.length===0)continue;const a=r.when?.substituteConstants();a&&a.type===Qg.False||this._addKeyPress(r.chords[0],r)}}static _isTargetedForRemoval(e,i,s){if(i){for(let n=0;n<i.length;n++)if(i[n]!==e.chords[n])return!1}return!(s&&s.type!==Qg.True&&(!e.when||!CP(s,e.when)))}static handleRemovals(e){const i=new Map;for(let n=0,o=e.length;n<o;n++){const r=e[n];if(r.command&&r.command.charAt(0)==="-"){const a=r.command.substring(1);i.has(a)?i.get(a).push(r):i.set(a,[r])}}if(i.size===0)return e;const s=[];for(let n=0,o=e.length;n<o;n++){const r=e[n];if(!r.command||r.command.length===0){s.push(r);continue}if(r.command.charAt(0)==="-")continue;const a=i.get(r.command);if(!a||!r.isDefault){s.push(r);continue}let l=!1;for(const h of a){const d=h.when;if(this._isTargetedForRemoval(r,h.chords,d)){l=!0;break}}if(!l){s.push(r);continue}}return s}_addKeyPress(e,i){const s=this._map.get(e);if(typeof s>"u"){this._map.set(e,[i]),this._addToLookupMap(i);return}for(let n=s.length-1;n>=0;n--){const o=s[n];if(o.command===i.command)continue;let r=!0;for(let a=1;a<o.chords.length&&a<i.chords.length;a++)if(o.chords[a]!==i.chords[a]){r=!1;break}r&&fv.whenIsEntirelyIncluded(o.when,i.when)&&this._removeFromLookupMap(o)}s.push(i),this._addToLookupMap(i)}_addToLookupMap(e){if(!e.command)return;let i=this._lookupMap.get(e.command);typeof i>"u"?(i=[e],this._lookupMap.set(e.command,i)):i.push(e)}_removeFromLookupMap(e){if(!e.command)return;const i=this._lookupMap.get(e.command);if(!(typeof i>"u")){for(let s=0,n=i.length;s<n;s++)if(i[s]===e){i.splice(s,1);return}}}static whenIsEntirelyIncluded(e,i){return!i||i.type===Qg.True?!0:!e||e.type===Qg.True?!1:Uv(e,i)}getDefaultBoundCommands(){return this._defaultBoundCommands}getDefaultKeybindings(){return this._defaultKeybindings}getKeybindings(){return this._keybindings}lookupKeybindings(e){const i=this._lookupMap.get(e);if(typeof i>"u"||i.length===0)return[];const s=[];let n=0;for(let o=i.length-1;o>=0;o--)s[n++]=i[o];return s}lookupPrimaryKeybinding(e,i){const s=this._lookupMap.get(e);if(typeof s>"u"||s.length===0)return null;if(s.length===1)return s[0];for(let n=s.length-1;n>=0;n--){const o=s[n];if(i.contextMatchesRules(o.when))return o}return s[s.length-1]}resolve(e,i,s){const n=[...i,s];this._log(`| Resolving ${n}`);const o=this._map.get(n[0]);if(o===void 0)return this._log("\\ No keybinding entries."),HT;let r=null;if(n.length<2)r=o;else{r=[];for(let l=0,h=o.length;l<h;l++){const d=o[l];if(n.length>d.chords.length)continue;let u=!0;for(let g=1;g<n.length;g++)if(d.chords[g]!==n[g]){u=!1;break}u&&r.push(d)}}const a=this._findCommand(e,r);return a?n.length<a.chords.length?(this._log(`\\ From ${r.length} keybinding entries, awaiting ${a.chords.length-n.length} more chord(s), when: ${ES(a.when)}, source: ${IS(a)}.`),ese):(this._log(`\\ From ${r.length} keybinding entries, matched ${a.command}, when: ${ES(a.when)}, source: ${IS(a)}.`),QM(a.command,a.commandArgs,a.bubble)):(this._log(`\\ From ${r.length} keybinding entries, no when clauses matched the context.`),HT)}_findCommand(e,i){for(let s=i.length-1;s>=0;s--){const n=i[s];if(fv._contextMatchesRules(e,n.when))return n}return null}static _contextMatchesRules(e,i){return i?i.evaluate(e):!0}}function ES(t){return t?`${t.serialize()}`:"no when condition"}yy(ES,"printWhenExplanation");function IS(t){return t.extensionId?t.isBuiltinExtension?`built-in extension ${t.extensionId}`:`user extension ${t.extensionId}`:t.isDefault?"built-in":"user"}yy(IS,"printSourceExplanation");var JM=Object.defineProperty,tse=Object.getOwnPropertyDescriptor,bi=(t,e)=>JM(t,"name",{value:e,configurable:!0}),ul=(t,e,i,s)=>{for(var n=s>1?void 0:s?tse(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&JM(e,i,n),n},xt=(t,e)=>(i,s)=>e(i,s,t);const hn=Ce("listService");class nre{static{bi(this,"ListService")}disposables=new Z;lists=[];_lastFocusedWidget=void 0;_hasCreatedStyleController=!1;get lastFocusedList(){return this._lastFocusedWidget}constructor(){}setLastFocusedList(e){e!==this._lastFocusedWidget&&(this._lastFocusedWidget?.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=e,this._lastFocusedWidget?.getHTMLElement().classList.add("last-focused"))}register(e,i){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new O5(cr(),"").style(bg)),this.lists.some(n=>n.widget===e))throw new Error("Cannot register the same widget multiple times");const s={widget:e,extraContextKeys:i};return this.lists.push(s),na(e.getHTMLElement())&&this.setLastFocusedList(e),Hr(e.onDidFocus(()=>this.setLastFocusedList(e)),Se(()=>this.lists.splice(this.lists.indexOf(s),1)),e.onDidDispose(()=>{this.lists=this.lists.filter(n=>n!==s),this._lastFocusedWidget===e&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const Np=new J("listScrollAtBoundary","none");H.or(Np.isEqualTo("top"),Np.isEqualTo("both"));H.or(Np.isEqualTo("bottom"),Np.isEqualTo("both"));const e7=new J("listFocus",!0),t7=new J("treestickyScrollFocused",!1),_y=new J("listSupportsMultiselect",!0);H.and(e7,H.not(CR),t7.negate());const RE=new J("listHasSelectionOrFocus",!1),NE=new J("listDoubleSelection",!1),OE=new J("listMultiSelection",!1),Sy=new J("listSelectionNavigation",!1),ise=new J("listSupportsFind",!0),sse=new J("treeElementCanCollapse",!1),nse=new J("treeElementHasParent",!1),ose=new J("treeElementCanExpand",!1),rse=new J("treeElementHasChild",!1),ase=new J("treeFindOpen",!1),i7="listTypeNavigationMode",s7="listAutomaticKeyboardNavigation";function Nm(t,e){const i=t.createScoped(e.getHTMLElement());return e7.bindTo(i),i}bi(Nm,"createScopedContextKeyService");function Om(t,e){const i=Np.bindTo(t),s=bi(()=>{const n=e.scrollTop===0,o=e.scrollHeight-e.renderHeight-e.scrollTop<1;n&&o?i.set("both"):n?i.set("top"):o?i.set("bottom"):i.set("none")},"update");return s(),e.onDidScroll(s)}bi(Om,"createScrollObserver");const ud="workbench.list.multiSelectModifier",pv="workbench.list.openMode",io="workbench.list.horizontalScrolling",BE="workbench.list.defaultFindMode",ME="workbench.list.typeNavigationMode",Ow="workbench.list.keyboardNavigation",dr="workbench.list.scrollByPage",FE="workbench.list.defaultFindMatchType",Op="workbench.tree.indent",Bw="workbench.tree.renderIndentGuides",ur="workbench.list.smoothScrolling",ea="workbench.list.mouseWheelScrollSensitivity",ta="workbench.list.fastScrollSensitivity",Mw="workbench.tree.expandMode",Fw="workbench.tree.enableStickyScroll",Vw="workbench.tree.stickyScrollMaxItemCount";function gr(t){return t.getValue(ud)==="alt"}bi(gr,"useAltAsMultipleSelectionModifier");class lse extends q{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=gr(e),this.registerListeners()}static{bi(this,"MultipleSelectionController")}useAltAsMultipleSelectionModifier;registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(e=>{e.affectsConfiguration(ud)&&(this.useAltAsMultipleSelectionModifier=gr(this.configurationService))}))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:dA(e)}isSelectionRangeChangeEvent(e){return uA(e)}}function Bm(t,e){const i=t.get(Ke),s=t.get(qt),n=new Z;return[{...e,keyboardNavigationDelegate:{mightProducePrintableCharacter(r){return s.mightProducePrintableCharacter(r)}},smoothScrolling:!!i.getValue(ur),mouseWheelScrollSensitivity:i.getValue(ea),fastScrollSensitivity:i.getValue(ta),multipleSelectionController:e.multipleSelectionController??n.add(new lse(i)),keyboardNavigationEventFilter:o7(s),scrollByPage:!!i.getValue(dr)},n]}bi(Bm,"toWorkbenchListOptions");let Bp=class extends go{static{bi(this,"WorkbenchList")}contextKeyService;listSupportsMultiSelect;listHasSelectionOrFocus;listDoubleSelection;listMultiSelection;horizontalScrolling;_useAltAsMultipleSelectionModifier;navigator;get onDidOpen(){return this.navigator.onDidOpen}constructor(t,e,i,s,n,o,r,a,l){const h=typeof n.horizontalScrolling<"u"?n.horizontalScrolling:!!a.getValue(io),[d,u]=l.invokeFunction(Bm,n);super(t,e,i,s,{keyboardSupport:!1,...d,horizontalScrolling:h}),this.disposables.add(u),this.contextKeyService=Nm(o,this),this.disposables.add(Om(this.contextKeyService,this)),this.listSupportsMultiSelect=_y.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(n.multipleSelectionSupport!==!1),Sy.bindTo(this.contextKeyService).set(!!n.selectionNavigation),this.listHasSelectionOrFocus=RE.bindTo(this.contextKeyService),this.listDoubleSelection=NE.bindTo(this.contextKeyService),this.listMultiSelection=OE.bindTo(this.contextKeyService),this.horizontalScrolling=n.horizontalScrolling,this._useAltAsMultipleSelectionModifier=gr(a),this.disposables.add(this.contextKeyService),this.disposables.add(r.register(this)),this.updateStyles(n.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const p=this.getSelection(),m=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(p.length>0||m.length>0),this.listMultiSelection.set(p.length>1),this.listDoubleSelection.set(p.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const p=this.getSelection(),m=this.getFocus();this.listHasSelectionOrFocus.set(p.length>0||m.length>0)})),this.disposables.add(a.onDidChangeConfiguration(p=>{p.affectsConfiguration(ud)&&(this._useAltAsMultipleSelectionModifier=gr(a));let m={};if(p.affectsConfiguration(io)&&this.horizontalScrolling===void 0){const b=!!a.getValue(io);m={...m,horizontalScrolling:b}}if(p.affectsConfiguration(dr)){const b=!!a.getValue(dr);m={...m,scrollByPage:b}}if(p.affectsConfiguration(ur)){const b=!!a.getValue(ur);m={...m,smoothScrolling:b}}if(p.affectsConfiguration(ea)){const b=a.getValue(ea);m={...m,mouseWheelScrollSensitivity:b}}if(p.affectsConfiguration(ta)){const b=a.getValue(ta);m={...m,fastScrollSensitivity:b}}Object.keys(m).length>0&&this.updateOptions(m)})),this.navigator=new n7(this,{configurationService:a,...n}),this.disposables.add(this.navigator)}updateOptions(t){super.updateOptions(t),t.overrideStyles!==void 0&&this.updateStyles(t.overrideStyles),t.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!t.multipleSelectionSupport)}updateStyles(t){this.style(t?Pm(t):bg)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}};Bp=ul([xt(5,Qe),xt(6,hn),xt(7,Ke),xt(8,rt)],Bp);let WT=class extends cie{static{bi(this,"WorkbenchPagedList")}contextKeyService;disposables;listSupportsMultiSelect;_useAltAsMultipleSelectionModifier;horizontalScrolling;navigator;get onDidOpen(){return this.navigator.onDidOpen}constructor(t,e,i,s,n,o,r,a,l){const h=typeof n.horizontalScrolling<"u"?n.horizontalScrolling:!!a.getValue(io),[d,u]=l.invokeFunction(Bm,n);super(t,e,i,s,{keyboardSupport:!1,...d,horizontalScrolling:h}),this.disposables=new Z,this.disposables.add(u),this.contextKeyService=Nm(o,this),this.disposables.add(Om(this.contextKeyService,this.widget)),this.horizontalScrolling=n.horizontalScrolling,this.listSupportsMultiSelect=_y.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(n.multipleSelectionSupport!==!1),Sy.bindTo(this.contextKeyService).set(!!n.selectionNavigation),this._useAltAsMultipleSelectionModifier=gr(a),this.disposables.add(this.contextKeyService),this.disposables.add(r.register(this)),this.updateStyles(n.overrideStyles),this.disposables.add(a.onDidChangeConfiguration(p=>{p.affectsConfiguration(ud)&&(this._useAltAsMultipleSelectionModifier=gr(a));let m={};if(p.affectsConfiguration(io)&&this.horizontalScrolling===void 0){const b=!!a.getValue(io);m={...m,horizontalScrolling:b}}if(p.affectsConfiguration(dr)){const b=!!a.getValue(dr);m={...m,scrollByPage:b}}if(p.affectsConfiguration(ur)){const b=!!a.getValue(ur);m={...m,smoothScrolling:b}}if(p.affectsConfiguration(ea)){const b=a.getValue(ea);m={...m,mouseWheelScrollSensitivity:b}}if(p.affectsConfiguration(ta)){const b=a.getValue(ta);m={...m,fastScrollSensitivity:b}}Object.keys(m).length>0&&this.updateOptions(m)})),this.navigator=new n7(this,{configurationService:a,...n}),this.disposables.add(this.navigator)}updateOptions(t){super.updateOptions(t),t.overrideStyles!==void 0&&this.updateStyles(t.overrideStyles),t.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!t.multipleSelectionSupport)}updateStyles(t){this.style(t?Pm(t):bg)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}dispose(){this.disposables.dispose(),super.dispose()}};WT=ul([xt(5,Qe),xt(6,hn),xt(7,Ke),xt(8,rt)],WT);let UT=class extends SE{static{bi(this,"WorkbenchTable")}contextKeyService;listSupportsMultiSelect;listHasSelectionOrFocus;listDoubleSelection;listMultiSelection;horizontalScrolling;_useAltAsMultipleSelectionModifier;navigator;get onDidOpen(){return this.navigator.onDidOpen}constructor(t,e,i,s,n,o,r,a,l,h){const d=typeof o.horizontalScrolling<"u"?o.horizontalScrolling:!!l.getValue(io),[u,g]=h.invokeFunction(Bm,o);super(t,e,i,s,n,{keyboardSupport:!1,...u,horizontalScrolling:d}),this.disposables.add(g),this.contextKeyService=Nm(r,this),this.disposables.add(Om(this.contextKeyService,this)),this.listSupportsMultiSelect=_y.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(o.multipleSelectionSupport!==!1),Sy.bindTo(this.contextKeyService).set(!!o.selectionNavigation),this.listHasSelectionOrFocus=RE.bindTo(this.contextKeyService),this.listDoubleSelection=NE.bindTo(this.contextKeyService),this.listMultiSelection=OE.bindTo(this.contextKeyService),this.horizontalScrolling=o.horizontalScrolling,this._useAltAsMultipleSelectionModifier=gr(l),this.disposables.add(this.contextKeyService),this.disposables.add(a.register(this)),this.updateStyles(o.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const m=this.getSelection(),b=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(m.length>0||b.length>0),this.listMultiSelection.set(m.length>1),this.listDoubleSelection.set(m.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const m=this.getSelection(),b=this.getFocus();this.listHasSelectionOrFocus.set(m.length>0||b.length>0)})),this.disposables.add(l.onDidChangeConfiguration(m=>{m.affectsConfiguration(ud)&&(this._useAltAsMultipleSelectionModifier=gr(l));let b={};if(m.affectsConfiguration(io)&&this.horizontalScrolling===void 0){const C=!!l.getValue(io);b={...b,horizontalScrolling:C}}if(m.affectsConfiguration(dr)){const C=!!l.getValue(dr);b={...b,scrollByPage:C}}if(m.affectsConfiguration(ur)){const C=!!l.getValue(ur);b={...b,smoothScrolling:C}}if(m.affectsConfiguration(ea)){const C=l.getValue(ea);b={...b,mouseWheelScrollSensitivity:C}}if(m.affectsConfiguration(ta)){const C=l.getValue(ta);b={...b,fastScrollSensitivity:C}}Object.keys(b).length>0&&this.updateOptions(b)})),this.navigator=new hse(this,{configurationService:l,...o}),this.disposables.add(this.navigator)}updateOptions(t){super.updateOptions(t),t.overrideStyles!==void 0&&this.updateStyles(t.overrideStyles),t.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!t.multipleSelectionSupport)}updateStyles(t){this.style(t?Pm(t):bg)}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}dispose(){this.disposables.dispose(),super.dispose()}};UT=ul([xt(6,Qe),xt(7,hn),xt(8,Ke),xt(9,rt)],UT);function cse(t="keydown",e,i){const s=new KeyboardEvent(t);return s.preserveFocus=e,s.pinned=i,s.__forceEvent=!0,s}bi(cse,"getSelectionKeyboardEvent");class VE extends q{constructor(e,i){super(),this.widget=e,this._register(R.filter(this.widget.onDidChangeSelection,s=>Aa(s.browserEvent))(s=>this.onSelectionFromKeyboard(s))),this._register(this.widget.onPointer(s=>this.onPointer(s.element,s.browserEvent))),this._register(this.widget.onMouseDblClick(s=>this.onMouseDblClick(s.element,s.browserEvent))),typeof i?.openOnSingleClick!="boolean"&&i?.configurationService?(this.openOnSingleClick=i?.configurationService.getValue(pv)!=="doubleClick",this._register(i?.configurationService.onDidChangeConfiguration(s=>{s.affectsConfiguration(pv)&&(this.openOnSingleClick=i?.configurationService.getValue(pv)!=="doubleClick")}))):this.openOnSingleClick=i?.openOnSingleClick??!0}static{bi(this,"ResourceNavigator")}openOnSingleClick;_onDidOpen=this._register(new I);onDidOpen=this._onDidOpen.event;onSelectionFromKeyboard(e){if(e.elements.length!==1)return;const i=e.browserEvent,s=typeof i.preserveFocus=="boolean"?i.preserveFocus:!0,n=typeof i.pinned=="boolean"?i.pinned:!s;this._open(this.getSelectedElement(),s,n,!1,e.browserEvent)}onPointer(e,i){if(!this.openOnSingleClick||i.detail===2)return;const n=i.button===1,o=!0,r=n,a=i.ctrlKey||i.metaKey||i.altKey;this._open(e,o,r,a,i)}onMouseDblClick(e,i){if(!i)return;const s=i.target;if(s.classList.contains("monaco-tl-twistie")||s.classList.contains("monaco-icon-label")&&s.classList.contains("folder-icon")&&i.offsetX<16)return;const o=!1,r=!0,a=i.ctrlKey||i.metaKey||i.altKey;this._open(e,o,r,a,i)}_open(e,i,s,n,o){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:i,pinned:s,revealIfVisible:!0},sideBySide:n,element:e,browserEvent:o})}}class n7 extends VE{static{bi(this,"ListResourceNavigator")}widget;constructor(e,i){super(e,i),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class hse extends VE{static{bi(this,"TableResourceNavigator")}constructor(e,i){super(e,i)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class dse extends VE{static{bi(this,"TreeResourceNavigator")}constructor(e,i){super(e,i)}getSelectedElement(){return this.widget.getSelection()[0]??void 0}}function o7(t){let e=!1;return i=>{if(i.toKeyCodeChord().isModifierKey())return!1;if(e)return e=!1,!1;const s=t.softDispatch(i,i.target);return s.kind===AS.MoreChordsNeeded?(e=!0,!1):(e=!1,s.kind===AS.NoMatchingKb)}}bi(o7,"createKeyboardNavigationEventFilter");let zT=class extends kE{static{bi(this,"WorkbenchObjectTree")}internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(t,e,i,s,n,o,r,a,l){const{options:h,getTypeNavigationMode:d,disposable:u}=o.invokeFunction(Eg,n);super(t,e,i,s,h),this.disposables.add(u),this.internals=new jh(this,n,d,n.overrideStyles,r,a,l),this.disposables.add(this.internals)}updateOptions(t){super.updateOptions(t),this.internals.updateOptions(t)}};zT=ul([xt(5,rt),xt(6,Qe),xt(7,hn),xt(8,Ke)],zT);let $T=class extends GM{static{bi(this,"WorkbenchCompressibleObjectTree")}internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(t,e,i,s,n,o,r,a,l){const{options:h,getTypeNavigationMode:d,disposable:u}=o.invokeFunction(Eg,n);super(t,e,i,s,h),this.disposables.add(u),this.internals=new jh(this,n,d,n.overrideStyles,r,a,l),this.disposables.add(this.internals)}updateOptions(t={}){super.updateOptions(t),t.overrideStyles&&this.internals.updateStyleOverrides(t.overrideStyles),this.internals.updateOptions(t)}};$T=ul([xt(5,rt),xt(6,Qe),xt(7,hn),xt(8,Ke)],$T);let KT=class extends Qie{static{bi(this,"WorkbenchDataTree")}internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(t,e,i,s,n,o,r,a,l,h){const{options:d,getTypeNavigationMode:u,disposable:g}=r.invokeFunction(Eg,o);super(t,e,i,s,n,d),this.disposables.add(g),this.internals=new jh(this,o,u,o.overrideStyles,a,l,h),this.disposables.add(this.internals)}updateOptions(t={}){super.updateOptions(t),t.overrideStyles!==void 0&&this.internals.updateStyleOverrides(t.overrideStyles),this.internals.updateOptions(t)}};KT=ul([xt(6,rt),xt(7,Qe),xt(8,hn),xt(9,Ke)],KT);let GT=class extends YM{static{bi(this,"WorkbenchAsyncDataTree")}internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(t,e,i,s,n,o,r,a,l,h){const{options:d,getTypeNavigationMode:u,disposable:g}=r.invokeFunction(Eg,o);super(t,e,i,s,n,d),this.disposables.add(g),this.internals=new jh(this,o,u,o.overrideStyles,a,l,h),this.disposables.add(this.internals)}updateOptions(t={}){super.updateOptions(t),t.overrideStyles&&this.internals.updateStyleOverrides(t.overrideStyles),this.internals.updateOptions(t)}};GT=ul([xt(6,rt),xt(7,Qe),xt(8,hn),xt(9,Ke)],GT);let jT=class extends Xie{static{bi(this,"WorkbenchCompressibleAsyncDataTree")}internals;get contextKeyService(){return this.internals.contextKeyService}get useAltAsMultipleSelectionModifier(){return this.internals.useAltAsMultipleSelectionModifier}get onDidOpen(){return this.internals.onDidOpen}constructor(t,e,i,s,n,o,r,a,l,h,d){const{options:u,getTypeNavigationMode:g,disposable:p}=a.invokeFunction(Eg,r);super(t,e,i,s,n,o,u),this.disposables.add(p),this.internals=new jh(this,r,g,r.overrideStyles,l,h,d),this.disposables.add(this.internals)}updateOptions(t){super.updateOptions(t),this.internals.updateOptions(t)}};jT=ul([xt(7,rt),xt(8,Qe),xt(9,hn),xt(10,Ke)],jT);function HE(t){const e=t.getValue(BE);if(e==="highlight")return cf.Highlight;if(e==="filter")return cf.Filter;const i=t.getValue(Ow);if(i==="simple"||i==="highlight")return cf.Highlight;if(i==="filter")return cf.Filter}bi(HE,"getDefaultTreeFindMode");function WE(t){const e=t.getValue(FE);if(e==="fuzzy")return SS.Fuzzy;if(e==="contiguous")return SS.Contiguous}bi(WE,"getDefaultTreeFindMatchType");function Eg(t,e){const i=t.get(Ke),s=t.get(SA),n=t.get(Qe),o=t.get(rt),r=bi(()=>{const g=n.getContextKeyValue(i7);if(g==="automatic")return Id.Automatic;if(g==="trigger"||n.getContextKeyValue(s7)===!1)return Id.Trigger;const m=i.getValue(ME);if(m==="automatic")return Id.Automatic;if(m==="trigger")return Id.Trigger},"getTypeNavigationMode"),a=e.horizontalScrolling!==void 0?e.horizontalScrolling:!!i.getValue(io),[l,h]=o.invokeFunction(Bm,e),d=e.paddingBottom,u=e.renderIndentGuides!==void 0?e.renderIndentGuides:i.getValue(Bw);return{getTypeNavigationMode:r,disposable:h,options:{keyboardSupport:!1,...l,indent:typeof i.getValue(Op)=="number"?i.getValue(Op):void 0,renderIndentGuides:u,smoothScrolling:!!i.getValue(ur),defaultFindMode:HE(i),defaultFindMatchType:WE(i),horizontalScrolling:a,scrollByPage:!!i.getValue(dr),paddingBottom:d,hideTwistiesOfChildlessElements:e.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:e.expandOnlyOnTwistieClick??i.getValue(Mw)==="doubleClick",contextViewProvider:s,findWidgetStyles:XZ,enableStickyScroll:!!i.getValue(Fw),stickyScrollMaxItemCount:Number(i.getValue(Vw))}}}bi(Eg,"workbenchTreeDataPreamble");let jh=class{constructor(t,e,i,s,n,o,r){this.tree=t,this.contextKeyService=Nm(n,t),this.disposables.push(Om(this.contextKeyService,t)),this.listSupportsMultiSelect=_y.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(e.multipleSelectionSupport!==!1),Sy.bindTo(this.contextKeyService).set(!!e.selectionNavigation),this.listSupportFindWidget=ise.bindTo(this.contextKeyService),this.listSupportFindWidget.set(e.findWidgetEnabled??!0),this.hasSelectionOrFocus=RE.bindTo(this.contextKeyService),this.hasDoubleSelection=NE.bindTo(this.contextKeyService),this.hasMultiSelection=OE.bindTo(this.contextKeyService),this.treeElementCanCollapse=sse.bindTo(this.contextKeyService),this.treeElementHasParent=nse.bindTo(this.contextKeyService),this.treeElementCanExpand=ose.bindTo(this.contextKeyService),this.treeElementHasChild=rse.bindTo(this.contextKeyService),this.treeFindOpen=ase.bindTo(this.contextKeyService),this.treeStickyScrollFocused=t7.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=gr(r),this.updateStyleOverrides(s);const l=bi(()=>{const d=t.getFocus()[0];if(!d)return;const u=t.getNode(d);this.treeElementCanCollapse.set(u.collapsible&&!u.collapsed),this.treeElementHasParent.set(!!t.getParentElement(d)),this.treeElementCanExpand.set(u.collapsible&&u.collapsed),this.treeElementHasChild.set(!!t.getFirstElementChild(d))},"updateCollapseContextKeys"),h=new Set;h.add(i7),h.add(s7),this.disposables.push(this.contextKeyService,o.register(t),t.onDidChangeSelection(()=>{const d=t.getSelection(),u=t.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(d.length>0||u.length>0),this.hasMultiSelection.set(d.length>1),this.hasDoubleSelection.set(d.length===2)})}),t.onDidChangeFocus(()=>{const d=t.getSelection(),u=t.getFocus();this.hasSelectionOrFocus.set(d.length>0||u.length>0),l()}),t.onDidChangeCollapseState(l),t.onDidChangeModel(l),t.onDidChangeFindOpenState(d=>this.treeFindOpen.set(d)),t.onDidChangeStickyScrollFocused(d=>this.treeStickyScrollFocused.set(d)),r.onDidChangeConfiguration(d=>{let u={};if(d.affectsConfiguration(ud)&&(this._useAltAsMultipleSelectionModifier=gr(r)),d.affectsConfiguration(Op)){const g=r.getValue(Op);u={...u,indent:g}}if(d.affectsConfiguration(Bw)&&e.renderIndentGuides===void 0){const g=r.getValue(Bw);u={...u,renderIndentGuides:g}}if(d.affectsConfiguration(ur)){const g=!!r.getValue(ur);u={...u,smoothScrolling:g}}if(d.affectsConfiguration(BE)||d.affectsConfiguration(Ow)){const g=HE(r);u={...u,defaultFindMode:g}}if(d.affectsConfiguration(ME)||d.affectsConfiguration(Ow)){const g=i();u={...u,typeNavigationMode:g}}if(d.affectsConfiguration(FE)){const g=WE(r);u={...u,defaultFindMatchType:g}}if(d.affectsConfiguration(io)&&e.horizontalScrolling===void 0){const g=!!r.getValue(io);u={...u,horizontalScrolling:g}}if(d.affectsConfiguration(dr)){const g=!!r.getValue(dr);u={...u,scrollByPage:g}}if(d.affectsConfiguration(Mw)&&e.expandOnlyOnTwistieClick===void 0&&(u={...u,expandOnlyOnTwistieClick:r.getValue(Mw)==="doubleClick"}),d.affectsConfiguration(Fw)){const g=r.getValue(Fw);u={...u,enableStickyScroll:g}}if(d.affectsConfiguration(Vw)){const g=Math.max(1,r.getValue(Vw));u={...u,stickyScrollMaxItemCount:g}}if(d.affectsConfiguration(ea)){const g=r.getValue(ea);u={...u,mouseWheelScrollSensitivity:g}}if(d.affectsConfiguration(ta)){const g=r.getValue(ta);u={...u,fastScrollSensitivity:g}}Object.keys(u).length>0&&t.updateOptions(u)}),this.contextKeyService.onDidChangeContext(d=>{d.affectsSome(h)&&t.updateOptions({typeNavigationMode:i()})})),this.navigator=new dse(t,{configurationService:r,...e}),this.disposables.push(this.navigator)}static{bi(this,"WorkbenchTreeInternals")}contextKeyService;listSupportsMultiSelect;listSupportFindWidget;hasSelectionOrFocus;hasDoubleSelection;hasMultiSelection;treeElementCanCollapse;treeElementHasParent;treeElementCanExpand;treeElementHasChild;treeFindOpen;treeStickyScrollFocused;_useAltAsMultipleSelectionModifier;disposables=[];navigator;get onDidOpen(){return this.navigator.onDidOpen}get useAltAsMultipleSelectionModifier(){return this._useAltAsMultipleSelectionModifier}updateOptions(t){t.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!t.multipleSelectionSupport)}updateStyleOverrides(t){this.tree.style(t?Pm(t):bg)}dispose(){this.disposables=ai(this.disposables)}};jh=ul([xt(4,Qe),xt(5,hn),xt(6,Ke)],jh);const use=ui.as($D.Configuration);use.registerConfiguration({id:"workbench",order:7,title:c("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[ud]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[c("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),c("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:c({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[pv]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:c({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[io]:{type:"boolean",default:!1,description:c("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[dr]:{type:"boolean",default:!1,description:c("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[Op]:{type:"number",default:8,minimum:4,maximum:40,description:c("tree indent setting","Controls tree indentation in pixels.")},[Bw]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:c("render tree indent guides","Controls whether the tree should render indent guides.")},[ur]:{type:"boolean",default:!1,description:c("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[ea]:{type:"number",default:1,markdownDescription:c("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[ta]:{type:"number",default:5,markdownDescription:c("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[BE]:{type:"string",enum:["highlight","filter"],enumDescriptions:[c("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),c("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:c("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[Ow]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[c("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),c("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),c("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:c("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:c("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and	'workbench.list.typeNavigationMode' instead.")},[FE]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[c("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),c("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:c("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[Mw]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:c("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[Fw]:{type:"boolean",default:!0,description:c("sticky scroll","Controls whether sticky scrolling is enabled in trees.")},[Vw]:{type:"number",minimum:1,default:7,markdownDescription:c("sticky scroll maximum items","Controls the number of sticky elements displayed in the tree when {0} is enabled.","`#workbench.tree.enableStickyScroll#`")},[ME]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:c("typeNavigationMode2","Controls how type navigation works in lists and trees in the workbench. When set to `trigger`, type navigation begins once the `list.triggerTypeNavigation` command is run.")}}});var gse=Object.defineProperty,dc=(t,e)=>gse(t,"name",{value:e,configurable:!0}),Vr=(t=>(t[t.ADD=0]="ADD",t[t.CHANGE=1]="CHANGE",t[t.EXPAND_COLLAPSE=2]="EXPAND_COLLAPSE",t[t.REMOVE=3]="REMOVE",t))(Vr||{}),TS=(t=>(t[t.ADD=0]="ADD",t[t.REMOVE=1]="REMOVE",t))(TS||{});class fse extends q{constructor(e,i){super(),this.item=e,this.onClose=i,this.registerListeners()}static{dc(this,"NotificationHandle")}_onDidClose=this._register(new I);onDidClose=this._onDidClose.event;_onDidChangeVisibility=this._register(new I);onDidChangeVisibility=this._onDidChangeVisibility.event;registerListeners(){this._register(this.item.onDidChangeVisibility(e=>this._onDidChangeVisibility.fire(e))),R.once(this.item.onDidClose)(()=>{this._onDidClose.fire(),this.dispose()})}get progress(){return this.item.progress}updateSeverity(e){this.item.updateSeverity(e)}updateMessage(e){this.item.updateMessage(e)}updateActions(e){this.item.updateActions(e)}close(){this.onClose(this.item),this.dispose()}}class r7 extends q{static{dc(this,"NotificationsModel")}static NO_OP_NOTIFICATION=new Jz;_onDidChangeNotification=this._register(new I);onDidChangeNotification=this._onDidChangeNotification.event;_onDidChangeStatusMessage=this._register(new I);onDidChangeStatusMessage=this._onDidChangeStatusMessage.event;_onDidChangeFilter=this._register(new I);onDidChangeFilter=this._onDidChangeFilter.event;_notifications=[];get notifications(){return this._notifications}_statusMessage;get statusMessage(){return this._statusMessage}filter={global:Zt.OFF,sources:new Map};setFilter(e){let i=!1;typeof e.global=="number"&&(i=this.filter.global!==e.global,this.filter.global=e.global);let s=!1;e.sources&&(s=!vk(this.filter.sources,e.sources),this.filter.sources=e.sources),(i||s)&&this._onDidChangeFilter.fire({global:i?e.global:void 0,sources:s?e.sources:void 0})}addNotification(e){const i=this.createViewItem(e);return i?(this.findNotification(i)?.close(),this._notifications.splice(0,0,i),this._onDidChangeNotification.fire({item:i,index:0,kind:0}),new fse(i,n=>this.onClose(n))):r7.NO_OP_NOTIFICATION}onClose(e){const i=this.findNotification(e);i&&i!==e?i.close():e.close()}findNotification(e){return this._notifications.find(i=>i.equals(e))}createViewItem(e){const i=ka.create(e,this.filter);if(!i)return;const s=dc((r,a)=>{const l=this._notifications.indexOf(i);l>=0&&this._onDidChangeNotification.fire({item:i,index:l,kind:r,detail:a})},"fireNotificationChangeEvent"),n=i.onDidChangeExpansion(()=>s(2)),o=i.onDidChangeContent(r=>s(1,r.kind));return R.once(i.onDidClose)(()=>{n.dispose(),o.dispose();const r=this._notifications.indexOf(i);r>=0&&(this._notifications.splice(r,1),this._onDidChangeNotification.fire({item:i,index:r,kind:3}))}),i}showStatusMessage(e,i){const s=mse.create(e,i);return s?(this._statusMessage=s,this._onDidChangeStatusMessage.fire({kind:0,item:s}),Se(()=>{this._statusMessage===s&&(this._statusMessage=void 0,this._onDidChangeStatusMessage.fire({kind:1,item:s}))})):q.None}}function Ff(t){return t instanceof ka}dc(Ff,"isNotificationViewItem");var Ya=(t=>(t[t.SEVERITY=0]="SEVERITY",t[t.MESSAGE=1]="MESSAGE",t[t.ACTIONS=2]="ACTIONS",t[t.PROGRESS=3]="PROGRESS",t))(Ya||{});class pse extends q{static{dc(this,"NotificationViewItemProgress")}_state;_onDidChange=this._register(new I);onDidChange=this._onDidChange.event;constructor(){super(),this._state=Object.create(null)}get state(){return this._state}infinite(){this._state.infinite||(this._state.infinite=!0,this._state.total=void 0,this._state.worked=void 0,this._state.done=void 0,this._onDidChange.fire())}done(){this._state.done||(this._state.done=!0,this._state.infinite=void 0,this._state.total=void 0,this._state.worked=void 0,this._onDidChange.fire())}total(e){this._state.total!==e&&(this._state.total=e,this._state.infinite=void 0,this._state.done=void 0,this._onDidChange.fire())}worked(e){typeof this._state.worked=="number"?this._state.worked+=e:this._state.worked=e,this._state.infinite=void 0,this._state.done=void 0,this._onDidChange.fire()}}class ka extends q{constructor(e,i,s,n,o,r,a,l){super(),this.id=e,this._severity=i,this._sticky=s,this._priority=n,this._message=o,this._source=r,a&&this.setProgress(a),this.setActions(l)}static{dc(this,"NotificationViewItem")}static MAX_MESSAGE_LENGTH=1e3;_expanded;_visible=!1;_actions;_progress;_onDidChangeExpansion=this._register(new I);onDidChangeExpansion=this._onDidChangeExpansion.event;_onDidClose=this._register(new I);onDidClose=this._onDidClose.event;_onDidChangeContent=this._register(new I);onDidChangeContent=this._onDidChangeContent.event;_onDidChangeVisibility=this._register(new I);onDidChangeVisibility=this._onDidChangeVisibility.event;static create(e,i){if(!e||!e.message||qh(e.message))return;let s;typeof e.severity=="number"?s=e.severity:s=qs.Info;const n=ka.parseNotificationMessage(e.message);if(!n)return;let o;e.actions?o=e.actions:GC(e.message)&&(o={primary:e.message.actions});let r=e.priority??Yn.DEFAULT;return r===Yn.DEFAULT&&s!==qs.Error&&(i.global===Zt.ERROR||dD(e.source)&&i.sources.get(e.source.id)===Zt.ERROR)&&(r=Yn.SILENT),new ka(e.id,s,e.sticky,r,n,e.source,e.progress,o)}static parseNotificationMessage(e){let i;if(e instanceof Error?i=mc(e,!1):typeof e=="string"&&(i=e),!i)return;const s=i;i.length>ka.MAX_MESSAGE_LENGTH&&(i=`${i.substr(0,ka.MAX_MESSAGE_LENGTH)}...`),i=i.replace(/(\r\n|\n|\r)/gm," ").trim();const n=sE(i);return{raw:s,linkedText:n,original:e}}setProgress(e){e.infinite?this.progress.infinite():e.total&&(this.progress.total(e.total),e.worked&&this.progress.worked(e.worked))}setActions(e={primary:[],secondary:[]}){this._actions={primary:Array.isArray(e.primary)?e.primary:[],secondary:Array.isArray(e.secondary)?e.secondary:[]},this._expanded=e.primary&&e.primary.length>0}get canCollapse(){return!this.hasActions}get expanded(){return!!this._expanded}get severity(){return this._severity}get sticky(){if(this._sticky)return!0;const e=this.hasActions;return!!(e&&this._severity===qs.Error||!e&&this._expanded||this._progress&&!this._progress.state.done)}get priority(){return this._priority}get hasActions(){return!this._actions||!this._actions.primary?!1:this._actions.primary.length>0}get hasProgress(){return!!this._progress}get progress(){return this._progress||(this._progress=this._register(new pse),this._register(this._progress.onDidChange(()=>this._onDidChangeContent.fire({kind:3})))),this._progress}get message(){return this._message}get source(){return typeof this._source=="string"?this._source:this._source?this._source.label:void 0}get sourceId(){return this._source&&typeof this._source!="string"&&"id"in this._source?this._source.id:void 0}get actions(){return this._actions}get visible(){return this._visible}updateSeverity(e){e!==this._severity&&(this._severity=e,this._onDidChangeContent.fire({kind:0}))}updateMessage(e){const i=ka.parseNotificationMessage(e);!i||i.raw===this._message.raw||(this._message=i,this._onDidChangeContent.fire({kind:1}))}updateActions(e){this.setActions(e),this._onDidChangeContent.fire({kind:2})}updateVisibility(e){this._visible!==e&&(this._visible=e,this._onDidChangeVisibility.fire(e))}expand(){this._expanded||!this.canCollapse||(this._expanded=!0,this._onDidChangeExpansion.fire())}collapse(e){!this._expanded||!this.canCollapse||(this._expanded=!1,e||this._onDidChangeExpansion.fire())}toggle(){this._expanded?this.collapse():this.expand()}close(){this._onDidClose.fire(),this.dispose()}equals(e){if(this.hasProgress||e.hasProgress)return!1;if(typeof this.id=="string"||typeof e.id=="string")return this.id===e.id;if(typeof this._source=="object"){if(this._source.label!==e.source||this._source.id!==e.sourceId)return!1}else if(this._source!==e.source)return!1;if(this._message.raw!==e.message.raw)return!1;const i=this._actions&&this._actions.primary||[],s=e.actions&&e.actions.primary||[];return Pn(i,s,(n,o)=>n.id+n.label===o.id+o.label)}}class Hw extends Et{static{dc(this,"ChoiceAction")}_onDidRun=this._register(new I);onDidRun=this._onDidRun.event;_keepOpen;_menu;constructor(e,i){super(e,i.label,void 0,!0,async()=>{i.run(),this._onDidRun.fire()}),this._keepOpen=!!i.keepOpen,this._menu=!i.isSecondary&&i.menu?i.menu.map((s,n)=>new Hw(`${e}.${n}`,s)):void 0}get menu(){return this._menu}get keepOpen(){return this._keepOpen}}class mse{static{dc(this,"StatusMessageViewItem")}static create(e,i){if(!e||qh(e))return;let s;if(e instanceof Error?s=mc(e,!1):typeof e=="string"&&(s=e),!!s)return{message:s,options:i}}}var a7=Object.defineProperty,bse=Object.getOwnPropertyDescriptor,l7=(t,e)=>a7(t,"name",{value:e,configurable:!0}),vse=(t,e,i,s)=>{for(var n=s>1?void 0:s?bse(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&a7(e,i,n),n},qT=(t,e)=>(i,s)=>e(i,s,t);function Mp(t,e,i){return{id:Th(t.toString()).toString(),silent:i,source:e||"core"}}l7(Mp,"notificationToMetrics");let kS=class extends q{constructor(t,e){super(),this.telemetryService=t,this.notificationService=e,this.registerListeners()}static{l7(this,"NotificationsTelemetry")}registerListeners(){this._register(this.notificationService.onDidAddNotification(t=>{const e=t.source&&typeof t.source!="string"?t.source.id:t.source;this.telemetryService.publicLog2("notification:show",Mp(t.message,e,t.priority===Yn.SILENT))})),this._register(this.notificationService.onDidRemoveNotification(t=>{const e=t.source&&typeof t.source!="string"?t.source.id:t.source;this.telemetryService.publicLog2("notification:close",Mp(t.message,e,t.priority===Yn.SILENT))}))}};kS=vse([qT(0,Zs),qT(1,Ns)],kS);var c7=Object.defineProperty,wse=Object.getOwnPropertyDescriptor,Sn=(t,e)=>c7(t,"name",{value:e,configurable:!0}),yse=(t,e,i,s)=>{for(var n=s>1?void 0:s?wse(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&c7(e,i,n),n},YT=(t,e)=>(i,s)=>e(i,s,t);const xS="notifications.showList",Fp="notifications.hideList",_se="notifications.toggleList",u_="notifications.hideToasts",XT="notifications.focusToasts",Sse="notifications.focusNextToast",Cse="notifications.focusPreviousToast",Dse="notifications.focusFirstToast",Ase="notifications.focusLastToast",LS="notification.collapse",PS="notification.expand",ZT="notification.acceptPrimaryAction",Ese="notification.toggle",RS="notification.clear",Ww="notifications.clearAll",Uw="notifications.toggleDoNotDisturbMode",zw="notifications.toggleDoNotDisturbModeBySource";function Fl(t,e){if(Ff(e))return e;const i=t.lastFocusedList;if(i instanceof Bp){let s=i.getFocusedElements()[0];if(Ff(s)||i.isDOMFocused()&&(s=i.element(0)),Ff(s))return s}}Sn(Fl,"getNotificationFromContext");function h7(t,e,i){Gi.registerCommandAndKeybindingRule({id:xS,weight:Ft.WorkbenchContrib,primary:ol(Ze.CtrlCmd|D.KeyK,Ze.CtrlCmd|Ze.Shift|D.KeyN),handler:Sn(()=>{e.hide(),t.show()},"handler")}),Gi.registerCommandAndKeybindingRule({id:Fp,weight:Ft.WorkbenchContrib+50,when:Zv,primary:D.Escape,handler:Sn(n=>{const o=n.get(Zs);for(const r of i.notifications)r.visible&&o.publicLog2("notification:hide",Mp(r.message.original,r.sourceId,r.priority===Yn.SILENT));t.hide()},"handler")}),ln.registerCommand(_se,()=>{t.isVisible?t.hide():(e.hide(),t.show())}),Gi.registerCommandAndKeybindingRule({id:RS,weight:Ft.WorkbenchContrib,when:_o,primary:D.Delete,mac:{primary:Ze.CtrlCmd|D.Backspace},handler:Sn((n,o)=>{const r=n.get(L1),a=Fl(n.get(hn),o);a&&!a.hasProgress&&(a.close(),r.playSignal(Dt.clear))},"handler")}),Gi.registerCommandAndKeybindingRule({id:PS,weight:Ft.WorkbenchContrib,when:_o,primary:D.RightArrow,handler:Sn((n,o)=>{Fl(n.get(hn),o)?.expand()},"handler")}),Gi.registerCommandAndKeybindingRule({id:ZT,weight:Ft.WorkbenchContrib,when:H.or(_o,Da),primary:Ze.CtrlCmd|Ze.Shift|D.KeyA,handler:Sn(n=>{const o=n.get(rt).createInstance(Vp),r=Fl(n.get(hn))||i.notifications.at(0);if(!r)return;const a=r.actions?.primary?r.actions.primary.at(0):void 0;a&&(o.run(a,r),r.close())},"handler")}),Gi.registerCommandAndKeybindingRule({id:LS,weight:Ft.WorkbenchContrib,when:_o,primary:D.LeftArrow,handler:Sn((n,o)=>{Fl(n.get(hn),o)?.collapse()},"handler")}),Gi.registerCommandAndKeybindingRule({id:Ese,weight:Ft.WorkbenchContrib,when:_o,primary:D.Space,secondary:[D.Enter],handler:Sn(n=>{Fl(n.get(hn))?.toggle()},"handler")}),ln.registerCommand(u_,n=>{const o=n.get(Zs);for(const r of i.notifications)r.visible&&o.publicLog2("notification:hide",Mp(r.message.original,r.sourceId,r.priority===Yn.SILENT));e.hide()}),Gi.registerKeybindingRule({id:u_,weight:Ft.WorkbenchContrib-50,when:Da,primary:D.Escape}),Gi.registerKeybindingRule({id:u_,weight:Ft.WorkbenchContrib+100,when:H.and(Da,_o),primary:D.Escape}),ln.registerCommand(XT,()=>e.focus()),Gi.registerCommandAndKeybindingRule({id:Sse,weight:Ft.WorkbenchContrib,when:H.and(_o,Da),primary:D.DownArrow,handler:Sn(()=>{e.focusNext()},"handler")}),Gi.registerCommandAndKeybindingRule({id:Cse,weight:Ft.WorkbenchContrib,when:H.and(_o,Da),primary:D.UpArrow,handler:Sn(()=>{e.focusPrevious()},"handler")}),Gi.registerCommandAndKeybindingRule({id:Dse,weight:Ft.WorkbenchContrib,when:H.and(_o,Da),primary:D.PageUp,secondary:[D.Home],handler:Sn(()=>{e.focusFirst()},"handler")}),Gi.registerCommandAndKeybindingRule({id:Ase,weight:Ft.WorkbenchContrib,when:H.and(_o,Da),primary:D.PageDown,secondary:[D.End],handler:Sn(()=>{e.focusLast()},"handler")}),ln.registerCommand(Ww,()=>t.clearAll()),ln.registerCommand(Uw,n=>{const o=n.get(Ns);o.setFilter(o.getFilter()===Zt.ERROR?Zt.OFF:Zt.ERROR)}),ln.registerCommand(zw,n=>{const o=n.get(Ns),r=n.get(wg),a=o.getFilters().sort((d,u)=>d.label.localeCompare(u.label)),l=new Z,h=l.add(r.createQuickPick());h.items=a.map(d=>({id:d.id,label:d.label,tooltip:`${d.label} (${d.id})`,filter:d.filter})),h.canSelectMany=!0,h.placeholder=c("selectSources","Select sources to enable all notifications from"),h.selectedItems=h.items.filter(d=>d.filter===Zt.OFF),h.show(),l.add(h.onDidAccept(async()=>{for(const d of h.items)o.setFilter({id:d.id,label:d.label,filter:h.selectedItems.includes(d)?Zt.OFF:Zt.ERROR});h.hide()})),l.add(h.onDidHide(()=>l.dispose()))});const s=te("notifications","Notifications");it.appendMenuItem(_.CommandPalette,{command:{id:xS,title:te("showNotifications","Show Notifications"),category:s}}),it.appendMenuItem(_.CommandPalette,{command:{id:Fp,title:te("hideNotifications","Hide Notifications"),category:s},when:Zv}),it.appendMenuItem(_.CommandPalette,{command:{id:Ww,title:te("clearAllNotifications","Clear All Notifications"),category:s}}),it.appendMenuItem(_.CommandPalette,{command:{id:ZT,title:te("acceptNotificationPrimaryAction","Accept Notification Primary Action"),category:s}}),it.appendMenuItem(_.CommandPalette,{command:{id:Uw,title:te("toggleDoNotDisturbMode","Toggle Do Not Disturb Mode"),category:s}}),it.appendMenuItem(_.CommandPalette,{command:{id:zw,title:te("toggleDoNotDisturbModeBySource","Toggle Do Not Disturb Mode By Source..."),category:s}}),it.appendMenuItem(_.CommandPalette,{command:{id:XT,title:te("focusNotificationToasts","Focus Notification Toast"),category:s},when:Da})}Sn(h7,"registerNotificationCommands");let Vp=class extends Zr{constructor(t,e){super(),this.telemetryService=t,this.notificationService=e}static{Sn(this,"NotificationActionRunner")}async runAction(t,e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.id,from:"message"}),Ff(e)&&this.telemetryService.publicLog2("notification:actionExecuted",{id:Th(e.message.original.toString()).toString(),actionLabel:t.label,source:e.sourceId||"core",silent:e.priority===Yn.SILENT});try{await super.runAction(t,e)}catch(i){this.notificationService.error(i)}}};Vp=yse([YT(0,Zs),YT(1,Ns)],Vp);var Ise=Object.defineProperty,zd=(t,e)=>Ise(t,"name",{value:e,configurable:!0});class Tse{static{zd(this,"NotificationAccessibleView")}priority=90;name="notifications";when=_o;type=_S.View;getProvider(e){const i=e.get(nie),s=e.get(hn),n=e.get(Hi),o=e.get(L1);function r(){const a=Fl(s);if(!a)return;n.executeCommand("notifications.showList");let l;const h=s.lastFocusedList;if(h instanceof Bp&&(l=h.indexOf(a)),l===void 0)return;function d(){if(n.executeCommand("notifications.showList"),h&&l!==void 0){h.domFocus();try{h.setFocus([l])}catch{}}}zd(d,"focusList");function u(){const p=Fl(s),m=p?.message.original.toString();if(p)return p.source?c("notification.accessibleViewSrc","{0} Source: {1}",m,p.source):c("notification.accessibleView","{0}",m)}zd(u,"getContentForNotification");const g=u();if(g)return a.onDidClose(()=>i.next()),new oie(RM.Notification,{type:_S.View},()=>g,()=>d(),"accessibility.verbosity.notification",void 0,d7(a,o),()=>{if(h)return d(),h.focusNext(),u()},()=>{if(h)return d(),h.focusPrevious(),u()})}return zd(r,"getProvider"),r()}}function d7(t,e){let i;if(t.actions&&(i=[],t.actions.primary&&i.push(...t.actions.primary),t.actions.secondary&&i.push(...t.actions.secondary)),i)for(const n of i){n.class=Ae.asClassName(he.bell);const o=n.run;n.run=()=>{o(),t.close()}}const s=i?.find(n=>n.label.includes("Manage Extension"));return s&&(s.class=Ae.asClassName(he.gear)),i&&i.push({id:"clearNotification",label:c("clearNotification","Clear Notification"),tooltip:c("clearNotification","Clear Notification"),run:zd(()=>{t.close(),e.playSignal(Dt.clear)},"run"),enabled:!0,class:Ae.asClassName(he.clearAll)}),i}zd(d7,"getActionsFromNotification");var kse=Object.defineProperty,xse=(t,e)=>kse(t,"name",{value:e,configurable:!0});class Lse extends q{constructor(e){super(),this.model=e;for(const i of e.notifications)this.triggerAriaAlert(i);this.registerListeners()}static{xse(this,"NotificationsAlerts")}registerListeners(){this._register(this.model.onDidChangeNotification(e=>this.onDidChangeNotification(e)))}onDidChangeNotification(e){e.kind===Vr.ADD&&(this.triggerAriaAlert(e.item),e.item.severity===qs.Error&&(e.item.message.original instanceof Error?console.error(e.item.message.original):console.error(mc(e.item.message.linkedText.toString(),!0))))}triggerAriaAlert(e){if(e.priority===Yn.SILENT)return;const i=e.onDidChangeContent(s=>{s.kind===Ya.MESSAGE&&this.doTriggerAriaAlert(e)});R.once(e.onDidClose)(()=>i.dispose()),this.doTriggerAriaAlert(e)}doTriggerAriaAlert(e){let i;e.severity===qs.Error?i=c("alertErrorMessage","Error: {0}",e.message.linkedText.toString()):e.severity===qs.Warning?i=c("alertWarningMessage","Warning: {0}",e.message.linkedText.toString()):i=c("alertInfoMessage","Info: {0}",e.message.linkedText.toString()),Bh(i)}}const Pse=Ce("clipboardService");var u7=Object.defineProperty,Rse=Object.getOwnPropertyDescriptor,ha=(t,e)=>u7(t,"name",{value:e,configurable:!0}),Ac=(t,e,i,s)=>{for(var n=s>1?void 0:s?Rse(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&u7(e,i,n),n},Ec=(t,e)=>(i,s)=>e(i,s,t);const Nse=ct("notifications-clear",he.close,c("clearIcon","Icon for the clear action in notifications.")),Ose=ct("notifications-clear-all",he.clearAll,c("clearAllIcon","Icon for the clear all action in notifications.")),Bse=ct("notifications-hide",he.chevronDown,c("hideIcon","Icon for the hide action in notifications.")),Mse=ct("notifications-expand",he.chevronUp,c("expandIcon","Icon for the expand action in notifications.")),Fse=ct("notifications-collapse",he.chevronDown,c("collapseIcon","Icon for the collapse action in notifications.")),Vse=ct("notifications-configure",he.gear,c("configureIcon","Icon for the configure action in notifications.")),g7=ct("notifications-do-not-disturb",he.bellSlash,c("doNotDisturbIcon","Icon for the mute all action in notifications."));let Vf=class extends Et{constructor(t,e,i){super(t,e,Ae.asClassName(Nse)),this.commandService=i}static{ha(this,"ClearNotificationAction")}static ID=RS;static LABEL=c("clearNotification","Clear Notification");async run(t){this.commandService.executeCommand(RS,t)}};Vf=Ac([Ec(2,Hi)],Vf);let Hf=class extends Et{constructor(t,e,i){super(t,e,Ae.asClassName(Ose)),this.commandService=i}static{ha(this,"ClearAllNotificationsAction")}static ID=Ww;static LABEL=c("clearNotifications","Clear All Notifications");async run(){this.commandService.executeCommand(Ww)}};Hf=Ac([Ec(2,Hi)],Hf);let $w=class extends Et{constructor(t,e,i){super(t,e,Ae.asClassName(g7)),this.commandService=i}static{ha(this,"ToggleDoNotDisturbAction")}static ID=Uw;static LABEL=c("toggleDoNotDisturbMode","Toggle Do Not Disturb Mode");async run(){this.commandService.executeCommand(Uw)}};$w=Ac([Ec(2,Hi)],$w);let Kw=class extends Et{constructor(t,e,i){super(t,e),this.commandService=i}static{ha(this,"ToggleDoNotDisturbBySourceAction")}static ID=zw;static LABEL=c("toggleDoNotDisturbModeBySource","Toggle Do Not Disturb Mode By Source...");async run(){this.commandService.executeCommand(zw)}};Kw=Ac([Ec(2,Hi)],Kw);class Sb extends Et{static{ha(this,"ConfigureDoNotDisturbAction")}static ID="workbench.action.configureDoNotDisturbMode";static LABEL=c("configureDoNotDisturbMode","Configure Do Not Disturb...");constructor(e,i){super(e,i,Ae.asClassName(g7))}}let Wf=class extends Et{constructor(t,e,i){super(t,e,Ae.asClassName(Bse)),this.commandService=i}static{ha(this,"HideNotificationsCenterAction")}static ID=Fp;static LABEL=c("hideNotificationsCenter","Hide Notifications");async run(){this.commandService.executeCommand(Fp)}};Wf=Ac([Ec(2,Hi)],Wf);let Uf=class extends Et{constructor(t,e,i){super(t,e,Ae.asClassName(Mse)),this.commandService=i}static{ha(this,"ExpandNotificationAction")}static ID=PS;static LABEL=c("expandNotification","Expand Notification");async run(t){this.commandService.executeCommand(PS,t)}};Uf=Ac([Ec(2,Hi)],Uf);let zf=class extends Et{constructor(t,e,i){super(t,e,Ae.asClassName(Fse)),this.commandService=i}static{ha(this,"CollapseNotificationAction")}static ID=LS;static LABEL=c("collapseNotification","Collapse Notification");async run(t){this.commandService.executeCommand(LS,t)}};zf=Ac([Ec(2,Hi)],zf);class mv extends Et{constructor(e,i,s){super(e,i,Ae.asClassName(Vse)),this.notification=s}static{ha(this,"ConfigureNotificationAction")}static ID="workbench.action.configureNotification";static LABEL=c("configureNotification","More Actions...")}let $f=class extends Et{constructor(t,e,i){super(t,e),this.clipboardService=i}static{ha(this,"CopyNotificationMessageAction")}static ID="workbench.action.copyNotificationMessage";static LABEL=c("copyNotification","Copy Text");run(t){return this.clipboardService.writeText(t.message.raw)}};$f=Ac([Ec(2,Pse)],$f);var f7=Object.defineProperty,Hse=Object.getOwnPropertyDescriptor,tc=(t,e)=>f7(t,"name",{value:e,configurable:!0}),p7=(t,e,i,s)=>{for(var n=s>1?void 0:s?Hse(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&f7(e,i,n),n},Vl=(t,e)=>(i,s)=>e(i,s,t);class Al{static{tc(this,"NotificationsListDelegate")}static ROW_HEIGHT=42;static LINE_HEIGHT=22;offsetHelper;constructor(e){this.offsetHelper=this.createOffsetHelper(e)}createOffsetHelper(e){const i=document.createElement("div");return i.classList.add("notification-offset-helper"),e.appendChild(i),i}getHeight(e){if(!e.expanded)return Al.ROW_HEIGHT;let i=Al.ROW_HEIGHT;const s=this.computePreferredHeight(e);if(Al.LINE_HEIGHT<s){const o=s-Al.LINE_HEIGHT;i+=o}return(e.source||Gf(e.actions&&e.actions.primary))&&(i+=Al.ROW_HEIGHT),i===Al.ROW_HEIGHT&&e.collapse(!0),i}computePreferredHeight(e){let i=0;e.hasProgress||i++,e.canCollapse&&i++,Gf(e.actions&&e.actions.secondary)&&i++,this.offsetHelper.style.width=`${450-(40+i*30-Math.max(i-1,0)*4)}px`;const s=m7.render(e.message);this.offsetHelper.appendChild(s);const n=Math.max(this.offsetHelper.offsetHeight,this.offsetHelper.scrollHeight);return ds(this.offsetHelper),n}getTemplateId(e){if(e instanceof ka)return Hp.TEMPLATE_ID;throw new Error("unknown element type: "+e)}}class m7{static{tc(this,"NotificationMessageRenderer")}static render(e,i){const s=document.createElement("span");for(const n of e.linkedText.nodes)if(typeof n=="string")s.appendChild(document.createTextNode(n));else{let o=n.title;!o&&n.href.startsWith("command:")?o=c("executeCommand","Click to execute command '{0}'",n.href.substr(8)):o||(o=n.href);const r=de("a",{href:n.href,title:o,tabIndex:0},n.label);if(i){const a=tc(g=>{cL(g)&&xe.stop(g,!0),i.callback(n.href)},"handleOpen"),l=i.toDispose.add(new $e(r,U.CLICK)).event,h=i.toDispose.add(new $e(r,U.KEY_DOWN)).event,d=R.chain(h,g=>g.filter(p=>{const m=new mt(p);return m.equals(D.Space)||m.equals(D.Enter)}));i.toDispose.add(us.addTarget(r));const u=i.toDispose.add(new $e(r,kt.Tap)).event;R.any(l,u,d)(a,null,i.toDispose)}s.appendChild(r)}return s}}let Hp=class{constructor(t,e,i,s){this.actionRunner=t,this.contextMenuService=e,this.instantiationService=i,this.notificationService=s}static{tc(this,"NotificationRenderer")}static TEMPLATE_ID="notification";get templateId(){return Hp.TEMPLATE_ID}renderTemplate(t){const e=Object.create(null);e.toDispose=new Z,e.container=document.createElement("div"),e.container.classList.add("notification-list-item"),e.mainRow=document.createElement("div"),e.mainRow.classList.add("notification-list-item-main-row"),e.icon=document.createElement("div"),e.icon.classList.add("notification-list-item-icon","codicon"),e.message=document.createElement("div"),e.message.classList.add("notification-list-item-message");const i=this,s=document.createElement("div");return s.classList.add("notification-list-item-toolbar-container"),e.toolbar=new Sc(s,{ariaLabel:c("notificationActions","Notification Actions"),actionViewItemProvider:tc((n,o)=>{if(n instanceof mv)return e.toDispose.add(new zh(n,{getActions(){const r=[],a={id:n.notification.sourceId,label:n.notification.source};if(dD(a)){const l=i.notificationService.getFilter(a)===Zt.ERROR;r.push(li({id:a.id,label:l?c("turnOnNotifications","Turn On All Notifications from '{0}'",a.label):c("turnOffNotifications","Turn Off Info and Warning Notifications from '{0}'",a.label),run:tc(()=>i.notificationService.setFilter({...a,filter:l?Zt.OFF:Zt.ERROR}),"run")})),n.notification.actions?.secondary?.length&&r.push(new st)}return Array.isArray(n.notification.actions?.secondary)&&r.push(...n.notification.actions.secondary),r}},this.contextMenuService,{...o,actionRunner:this.actionRunner,classNames:n.class}))},"actionViewItemProvider"),actionRunner:this.actionRunner}),e.toDispose.add(e.toolbar),e.detailsRow=document.createElement("div"),e.detailsRow.classList.add("notification-list-item-details-row"),e.source=document.createElement("div"),e.source.classList.add("notification-list-item-source"),e.buttonsContainer=document.createElement("div"),e.buttonsContainer.classList.add("notification-list-item-buttons-container"),t.appendChild(e.container),e.container.appendChild(e.detailsRow),e.detailsRow.appendChild(e.source),e.detailsRow.appendChild(e.buttonsContainer),e.container.appendChild(e.mainRow),e.mainRow.appendChild(e.icon),e.mainRow.appendChild(e.message),e.mainRow.appendChild(s),e.progress=new zu(t,ty),e.toDispose.add(e.progress),e.renderer=this.instantiationService.createInstance(Go,e,this.actionRunner),e.toDispose.add(e.renderer),e}renderElement(t,e,i){i.renderer.setInput(t)}disposeTemplate(t){ai(t.toDispose)}};Hp=p7([Vl(1,Di),Vl(2,rt),Vl(3,Ns)],Hp);let Go=class extends q{constructor(t,e,i,s,n,o,r){super(),this.template=t,this.actionRunner=e,this.openerService=i,this.instantiationService=s,this.keybindingService=n,this.contextMenuService=o,this.hoverService=r,Go.closeNotificationAction||(Go.closeNotificationAction=s.createInstance(Vf,Vf.ID,Vf.LABEL),Go.expandNotificationAction=s.createInstance(Uf,Uf.ID,Uf.LABEL),Go.collapseNotificationAction=s.createInstance(zf,zf.ID,zf.LABEL))}static{tc(this,"NotificationTemplateRenderer")}static closeNotificationAction;static expandNotificationAction;static collapseNotificationAction;static SEVERITIES=[qs.Info,qs.Warning,qs.Error];inputDisposables=this._register(new Z);setInput(t){this.inputDisposables.clear(),this.render(t)}render(t){this.template.container.classList.toggle("expanded",t.expanded),this.inputDisposables.add(N(this.template.container,U.MOUSE_UP,n=>{n.button===1&&xe.stop(n,!0)})),this.inputDisposables.add(N(this.template.container,U.AUXCLICK,n=>{!t.hasProgress&&n.button===1&&(xe.stop(n,!0),t.close())})),this.renderSeverity(t);const e=this.inputDisposables.add(this.hoverService.setupManagedHover(Ri("mouse"),this.template.message,"")),i=this.renderMessage(t,e);this.renderSecondaryActions(t,i);const s=this.inputDisposables.add(this.hoverService.setupManagedHover(Ri("mouse"),this.template.source,""));this.renderSource(t,s),this.renderButtons(t),this.renderProgress(t),this.inputDisposables.add(t.onDidChangeContent(n=>{switch(n.kind){case Ya.SEVERITY:this.renderSeverity(t);break;case Ya.PROGRESS:this.renderProgress(t);break;case Ya.MESSAGE:this.renderMessage(t,e);break}}))}renderSeverity(t){Go.SEVERITIES.forEach(e=>{t.severity!==e&&this.template.icon.classList.remove(...Ae.asClassNameArray(this.toSeverityIcon(e)))}),this.template.icon.classList.add(...Ae.asClassNameArray(this.toSeverityIcon(t.severity)))}renderMessage(t,e){ds(this.template.message),this.template.message.appendChild(m7.render(t.message,{callback:tc(s=>this.openerService.open(j.parse(s),{allowCommands:!0}),"callback"),toDispose:this.inputDisposables}));const i=t.canCollapse&&!t.expanded&&this.template.message.scrollWidth>this.template.message.clientWidth;return e.update(i?this.template.message.textContent+"":""),i}renderSecondaryActions(t,e){const i=[];if(Gf(t.actions?.secondary)){const n=this.instantiationService.createInstance(mv,mv.ID,mv.LABEL,t);i.push(n),this.inputDisposables.add(n)}let s=!1;t.canCollapse&&(t.expanded||t.source||e)&&(s=!0),s&&i.push(t.expanded?Go.collapseNotificationAction:Go.expandNotificationAction),t.hasProgress||i.push(Go.closeNotificationAction),this.template.toolbar.clear(),this.template.toolbar.context=t,i.forEach(n=>this.template.toolbar.push(n,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(n)}))}renderSource(t,e){t.expanded&&t.source?(this.template.source.textContent=c("notificationSource","Source: {0}",t.source),e.update(t.source)):(this.template.source.textContent="",e.update(""))}renderButtons(t){ds(this.template.buttonsContainer);const e=t.actions?t.actions.primary:void 0;if(t.expanded&&Gf(e)){const i=this,s=new class extends Zr{async runAction(o){i.actionRunner.run(o,t),(!(o instanceof Hw)||!o.keepOpen)&&t.close()}},n=this.inputDisposables.add(new WJ(this.template.buttonsContainer));for(let o=0;o<e.length;o++){const r=e[o],a={title:!0,secondary:o>0,...CA},l=r instanceof Hw?r.menu:void 0,h=this.inputDisposables.add(l?n.addButtonWithDropdown({...a,contextMenuProvider:this.contextMenuService,actions:l,actionRunner:s}):n.addButton(a));h.label=r.label,this.inputDisposables.add(h.onDidClick(d=>{d&&xe.stop(d,!0),s.run(r)}))}}}renderProgress(t){if(!t.hasProgress){this.template.progress.stop().hide();return}const e=t.progress.state;e.infinite?this.template.progress.infinite().show():typeof e.total=="number"||typeof e.worked=="number"?(typeof e.total=="number"&&!this.template.progress.hasTotal()&&this.template.progress.total(e.total),typeof e.worked=="number"&&this.template.progress.setWorked(e.worked).show()):this.template.progress.done().hide()}toSeverityIcon(t){switch(t){case qs.Warning:return he.warning;case qs.Error:return he.error}return he.info}getKeybindingLabel(t){const e=this.keybindingService.lookupKeybinding(t.id);return e?e.getLabel():null}};Go=p7([Vl(2,pg),Vl(3,rt),Vl(4,qt),Vl(5,Di),Vl(6,Ss)],Go);var b7=Object.defineProperty,Wse=Object.getOwnPropertyDescriptor,df=(t,e)=>b7(t,"name",{value:e,configurable:!0}),v7=(t,e,i,s)=>{for(var n=s>1?void 0:s?Wse(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&b7(e,i,n),n},Gw=(t,e)=>(i,s)=>e(i,s,t);let jw=class extends q{constructor(t,e,i,s){super(),this.container=t,this.options=e,this.instantiationService=i,this.contextMenuService=s}static{df(this,"NotificationsList")}listContainer;list;listDelegate;viewModel=[];isVisible;show(){this.isVisible||(this.list||this.createNotificationsList(),this.isVisible=!0)}createNotificationsList(){this.listContainer=document.createElement("div"),this.listContainer.classList.add("notifications-list-container");const t=this._register(this.instantiationService.createInstance(Vp)),e=this.instantiationService.createInstance(Hp,t),i=this.listDelegate=new Al(this.listContainer),s=this.options,n=this.list=this._register(this.instantiationService.createInstance(Bp,"NotificationsList",this.listContainer,i,[e],{...s,setRowLineHeight:!1,horizontalScrolling:!1,overrideStyles:{listBackground:Bd},accessibilityProvider:this.instantiationService.createInstance(NS,s)})),o=this._register(this.instantiationService.createInstance($f,$f.ID,$f.LABEL));this._register(n.onContextMenu(a=>{a.element&&this.contextMenuService.showContextMenu({getAnchor:df(()=>a.anchor,"getAnchor"),getActions:df(()=>[o],"getActions"),getActionsContext:df(()=>a.element,"getActionsContext"),actionRunner:t})})),this._register(n.onMouseDblClick(a=>a.element.toggle()));const r=this._register(oa(n.getHTMLElement()));this._register(r.onDidBlur(()=>{be(this.listContainer).document.hasFocus()&&n.setFocus([])})),_o.bindTo(n.contextKeyService),this._register(n.onDidChangeSelection(a=>{a.indexes.length>0&&n.setSelection([])})),this.container.appendChild(this.listContainer)}updateNotificationsList(t,e,i=[]){const[s,n]=Gd(this.list,this.listContainer),o=xh(n),r=s.getFocus()[0],a=this.viewModel[r];let l=null;if(typeof r=="number"&&(l=s.getRelativeTop(r)),this.viewModel.splice(t,e,...i),s.splice(t,e,i),s.layout(),this.viewModel.length===0)this.hide();else if(typeof r=="number"){let h=0;if(a){let d=this.viewModel.indexOf(a);d===-1&&(d=r-1),d<this.viewModel.length&&d>=0&&(h=d)}typeof l=="number"&&s.reveal(h,l),s.setFocus([h])}this.isVisible&&o&&s.domFocus()}updateNotificationHeight(t){const e=this.viewModel.indexOf(t);if(e===-1)return;const[i,s]=Gd(this.list,this.listDelegate);i.updateElementHeight(e,s.getHeight(t)),i.layout()}hide(){!this.isVisible||!this.list||(this.isVisible=!1,this.list.splice(0,this.viewModel.length),this.viewModel=[])}focusFirst(){this.list&&(this.list.focusFirst(),this.list.domFocus())}hasFocus(){return this.listContainer?xh(this.listContainer):!1}layout(t,e){this.listContainer&&this.list&&(this.listContainer.style.width=`${t}px`,typeof e=="number"&&(this.list.getHTMLElement().style.maxHeight=`${e}px`),this.list.layout())}dispose(){this.hide(),super.dispose()}};jw=v7([Gw(2,rt),Gw(3,Di)],jw);let NS=class{constructor(t,e,i){this._options=t,this._keybindingService=e,this._configurationService=i}static{df(this,"NotificationAccessibilityProvider")}getAriaLabel(t){let e;const i=this._keybindingService.lookupKeybinding("editor.action.accessibleView")?.getAriaLabel();return this._configurationService.getValue("accessibility.verbosity.notification")&&(e=i?c("notificationAccessibleViewHint","Inspect the response in the accessible view with {0}",i):c("notificationAccessibleViewHintNoKb","Inspect the response in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding")),t.source?e?c("notificationWithSourceAriaLabelHint","{0}, source: {1}, notification, {2}",t.message.raw,t.source,e):c("notificationWithSourceAriaLabel","{0}, source: {1}, notification",t.message.raw,t.source):e?c("notificationAriaLabelHint","{0}, notification, {1}",t.message.raw,e):c("notificationAriaLabel","{0}, notification",t.message.raw)}getWidgetAriaLabel(){return this._options.widgetAriaLabel??c("notificationsList","Notifications List")}getRole(){return"dialog"}};NS=v7([Gw(1,qt),Gw(2,Ke)],NS);var w7=Object.defineProperty,Use=Object.getOwnPropertyDescriptor,Ug=(t,e)=>w7(t,"name",{value:e,configurable:!0}),zse=(t,e,i,s)=>{for(var n=s>1?void 0:s?Use(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&w7(e,i,n),n},va=(t,e)=>(i,s)=>e(i,s,t);let uh=class extends w1{constructor(t,e,i,s,n,o,r,a,l,h,d){super(i),this.container=t,this.model=e,this.instantiationService=s,this.layoutService=n,this.contextKeyService=o,this.editorGroupService=r,this.keybindingService=a,this.notificationService=l,this.accessibilitySignalService=h,this.contextMenuService=d,this.notificationsCenterVisibleContextKey=Zv.bindTo(o),this.registerListeners()}static{Ug(this,"NotificationsCenter")}static MAX_DIMENSIONS=new Vt(450,400);static MAX_NOTIFICATION_SOURCES=10;_onDidChangeVisibility=this._register(new I);onDidChangeVisibility=this._onDidChangeVisibility.event;notificationsCenterContainer;notificationsCenterHeader;notificationsCenterTitle;notificationsList;_isVisible;workbenchDimensions;notificationsCenterVisibleContextKey=Zv.bindTo(this.contextKeyService);clearAllAction;configureDoNotDisturbAction;registerListeners(){this._register(this.model.onDidChangeNotification(t=>this.onDidChangeNotification(t))),this._register(this.layoutService.onDidLayoutMainContainer(t=>this.layout(Vt.lift(t)))),this._register(this.notificationService.onDidChangeFilter(()=>this.onDidChangeFilter()))}onDidChangeFilter(){this.notificationService.getFilter()===Zt.ERROR&&this.hide()}get isVisible(){return!!this._isVisible}show(){if(this._isVisible){const i=di(this.notificationsList);i.show(),i.focusFirst();return}this.notificationsCenterContainer||this.create(),this.updateTitle();const[t,e]=Gd(this.notificationsList,this.notificationsCenterContainer);this._isVisible=!0,e.classList.add("visible"),t.show(),this.layout(this.workbenchDimensions),t.updateNotificationsList(0,0,this.model.notifications),t.focusFirst(),this.updateStyles(),this.model.notifications.forEach(i=>i.updateVisibility(!0)),this.notificationsCenterVisibleContextKey.set(!0),this._onDidChangeVisibility.fire()}updateTitle(){const[t,e]=Gd(this.notificationsCenterTitle,this.clearAllAction);this.model.notifications.length===0?(t.textContent=c("notificationsEmpty","No new notifications"),e.enabled=!1):(t.textContent=c("notifications","Notifications"),e.enabled=this.model.notifications.some(i=>!i.hasProgress))}create(){this.notificationsCenterContainer=document.createElement("div"),this.notificationsCenterContainer.classList.add("notifications-center"),this.notificationsCenterHeader=document.createElement("div"),this.notificationsCenterHeader.classList.add("notifications-center-header"),this.notificationsCenterContainer.appendChild(this.notificationsCenterHeader),this.notificationsCenterTitle=document.createElement("span"),this.notificationsCenterTitle.classList.add("notifications-center-header-title"),this.notificationsCenterHeader.appendChild(this.notificationsCenterTitle);const t=document.createElement("div");t.classList.add("notifications-center-header-toolbar"),this.notificationsCenterHeader.appendChild(t);const e=this._register(this.instantiationService.createInstance(Vp)),i=this,s=this._register(new Sc(t,{ariaLabel:c("notificationsToolbar","Notification Center Actions"),actionRunner:e,actionViewItemProvider:Ug((o,r)=>{if(o.id===Sb.ID)return this._register(this.instantiationService.createInstance(zh,o,{getActions(){const a=[li({id:$w.ID,label:i.notificationService.getFilter()===Zt.OFF?c("turnOnNotifications","Enable Do Not Disturb Mode"):c("turnOffNotifications","Disable Do Not Disturb Mode"),run:Ug(()=>i.notificationService.setFilter(i.notificationService.getFilter()===Zt.OFF?Zt.ERROR:Zt.OFF),"run")})],l=i.notificationService.getFilters().sort((h,d)=>h.label.localeCompare(d.label));for(const h of l.slice(0,uh.MAX_NOTIFICATION_SOURCES))a.length===1&&a.push(new st),a.push(li({id:`${$w.ID}.${h.id}`,label:h.label,checked:h.filter!==Zt.ERROR,run:Ug(()=>i.notificationService.setFilter({...h,filter:h.filter===Zt.ERROR?Zt.OFF:Zt.ERROR}),"run")}));return l.length>uh.MAX_NOTIFICATION_SOURCES&&(a.push(new st),a.push(i._register(i.instantiationService.createInstance(Kw,Kw.ID,c("moreSources","More"))))),a}},this.contextMenuService,{...r,actionRunner:e,classNames:o.class,keybindingProvider:Ug(a=>this.keybindingService.lookupKeybinding(a.id),"keybindingProvider")}))},"actionViewItemProvider")}));this.clearAllAction=this._register(this.instantiationService.createInstance(Hf,Hf.ID,Hf.LABEL)),s.push(this.clearAllAction,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(this.clearAllAction)}),this.configureDoNotDisturbAction=this._register(this.instantiationService.createInstance(Sb,Sb.ID,Sb.LABEL)),s.push(this.configureDoNotDisturbAction,{icon:!0,label:!1});const n=this._register(this.instantiationService.createInstance(Wf,Wf.ID,Wf.LABEL));s.push(n,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(n)}),this.notificationsList=this.instantiationService.createInstance(jw,this.notificationsCenterContainer,{widgetAriaLabel:c("notificationsCenterWidgetAriaLabel","Notifications Center")}),this.container.appendChild(this.notificationsCenterContainer)}getKeybindingLabel(t){const e=this.keybindingService.lookupKeybinding(t.id);return e?e.getLabel():null}onDidChangeNotification(t){if(!this._isVisible)return;let e=!1;const[i,s]=Gd(this.notificationsList,this.notificationsCenterContainer);switch(t.kind){case Vr.ADD:i.updateNotificationsList(t.index,0,[t.item]),t.item.updateVisibility(!0);break;case Vr.CHANGE:switch(t.detail){case Ya.ACTIONS:i.updateNotificationsList(t.index,1,[t.item]);break;case Ya.MESSAGE:t.item.expanded&&i.updateNotificationHeight(t.item);break}break;case Vr.EXPAND_COLLAPSE:i.updateNotificationsList(t.index,1,[t.item]);break;case Vr.REMOVE:e=xh(s),i.updateNotificationsList(t.index,1),t.item.updateVisibility(!1);break}this.updateTitle(),this.model.notifications.length===0&&(this.hide(),e&&this.editorGroupService.activeGroup.focus())}hide(){if(!this._isVisible||!this.notificationsCenterContainer||!this.notificationsList)return;const t=xh(this.notificationsCenterContainer);this._isVisible=!1,this.notificationsCenterContainer.classList.remove("visible"),this.notificationsList.hide(),this.model.notifications.forEach(e=>e.updateVisibility(!1)),this.notificationsCenterVisibleContextKey.set(!1),this._onDidChangeVisibility.fire(),t&&this.editorGroupService.activeGroup.focus()}updateStyles(){if(this.notificationsCenterContainer&&this.notificationsCenterHeader){const t=this.getColor(ng);this.notificationsCenterContainer.style.boxShadow=t?`0 0 8px 2px ${t}`:"";const e=this.getColor(mH);this.notificationsCenterContainer.style.border=e?`1px solid ${e}`:"";const i=this.getColor(vH);this.notificationsCenterHeader.style.color=i??"";const s=this.getColor(aP);this.notificationsCenterHeader.style.background=s??""}}layout(t){if(this.workbenchDimensions=t,this._isVisible&&this.notificationsCenterContainer){const e=uh.MAX_DIMENSIONS.width,i=uh.MAX_DIMENSIONS.height;let s=e,n=i;this.workbenchDimensions&&(s=this.workbenchDimensions.width,s-=2*8,n=this.workbenchDimensions.height-35,this.layoutService.isVisible(P.STATUSBAR_PART,Q)&&(n-=22),this.layoutService.isVisible(P.TITLEBAR_PART,Q)&&(n-=22),n-=2*12),di(this.notificationsList).layout(Math.min(e,s),Math.min(i,n))}}clearAll(){this.hide();for(const t of[...this.model.notifications])t.hasProgress||t.close(),this.accessibilitySignalService.playSignal(Dt.clear)}};uh=zse([va(2,Vi),va(3,rt),va(4,lt),va(5,Qe),va(6,Dm),va(7,qt),va(8,Ns),va(9,L1),va(10,Di)],uh);var y7=Object.defineProperty,$se=Object.getOwnPropertyDescriptor,QT=(t,e)=>y7(t,"name",{value:e,configurable:!0}),Kse=(t,e,i,s)=>{for(var n=s>1?void 0:s?$se(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&y7(e,i,n),n},JT=(t,e)=>(i,s)=>e(i,s,t);let OS=class extends q{constructor(t,e,i){super(),this.model=t,this.statusbarService=e,this.notificationService=i,this.updateNotificationsCenterStatusItem(),t.statusMessage&&this.doSetStatusMessage(t.statusMessage),this.registerListeners()}static{QT(this,"NotificationsStatus")}notificationsCenterStatusItem;newNotificationsCount=0;currentStatusMessage;isNotificationsCenterVisible=!1;isNotificationsToastsVisible=!1;registerListeners(){this._register(this.model.onDidChangeNotification(t=>this.onDidChangeNotification(t))),this._register(this.model.onDidChangeStatusMessage(t=>this.onDidChangeStatusMessage(t))),this._register(this.notificationService.onDidChangeFilter(()=>this.updateNotificationsCenterStatusItem()))}onDidChangeNotification(t){this.isNotificationsCenterVisible||(t.kind===Vr.ADD?this.newNotificationsCount++:t.kind===Vr.REMOVE&&this.newNotificationsCount>0&&this.newNotificationsCount--),this.updateNotificationsCenterStatusItem()}updateNotificationsCenterStatusItem(){let t=0;if(!this.isNotificationsCenterVisible&&!this.isNotificationsToastsVisible)for(const i of this.model.notifications)i.hasProgress&&t++;let e={name:c("status.notifications","Notifications"),text:`${t>0||this.newNotificationsCount>0?"$(bell-dot)":"$(bell)"}`,ariaLabel:c("status.notifications","Notifications"),command:this.isNotificationsCenterVisible?Fp:xS,tooltip:this.getTooltip(t),showBeak:this.isNotificationsCenterVisible};this.notificationService.getFilter()===Zt.ERROR&&(e={...e,text:`${t>0||this.newNotificationsCount>0?"$(bell-slash-dot)":"$(bell-slash)"}`,ariaLabel:c("status.doNotDisturb","Do Not Disturb"),tooltip:c("status.doNotDisturbTooltip","Do Not Disturb Mode is Enabled")}),this.notificationsCenterStatusItem?this.notificationsCenterStatusItem.update(e):this.notificationsCenterStatusItem=this.statusbarService.addEntry(e,"status.notifications",N0.RIGHT,-Number.MAX_VALUE)}getTooltip(t){return this.isNotificationsCenterVisible?c("hideNotifications","Hide Notifications"):this.model.notifications.length===0?c("zeroNotifications","No Notifications"):t===0?this.newNotificationsCount===0?c("noNotifications","No New Notifications"):this.newNotificationsCount===1?c("oneNotification","1 New Notification"):c({key:"notifications",comment:["{0} will be replaced by a number"]},"{0} New Notifications",this.newNotificationsCount):this.newNotificationsCount===0?c({key:"noNotificationsWithProgress",comment:["{0} will be replaced by a number"]},"No New Notifications ({0} in progress)",t):this.newNotificationsCount===1?c({key:"oneNotificationWithProgress",comment:["{0} will be replaced by a number"]},"1 New Notification ({0} in progress)",t):c({key:"notificationsWithProgress",comment:["{0} and {1} will be replaced by a number"]},"{0} New Notifications ({1} in progress)",this.newNotificationsCount,t)}update(t,e){let i=!1;this.isNotificationsCenterVisible!==t&&(this.isNotificationsCenterVisible=t,this.newNotificationsCount=0,i=!0),this.isNotificationsToastsVisible!==e&&(this.isNotificationsToastsVisible=e,i=!0),i&&this.updateNotificationsCenterStatusItem()}onDidChangeStatusMessage(t){const e=t.item;switch(t.kind){case TS.ADD:this.doSetStatusMessage(e);break;case TS.REMOVE:this.currentStatusMessage&&this.currentStatusMessage[0]===e&&(ai(this.currentStatusMessage[1]),this.currentStatusMessage=void 0);break}}doSetStatusMessage(t){const e=t.message,i=t.options&&typeof t.options.showAfter=="number"?t.options.showAfter:0,s=t.options&&typeof t.options.hideAfter=="number"?t.options.hideAfter:-1;this.currentStatusMessage&&ai(this.currentStatusMessage[1]);let n,o=setTimeout(()=>{n=this.statusbarService.addEntry({name:c("status.message","Status Message"),text:e,ariaLabel:e},"status.message",N0.LEFT,-Number.MAX_VALUE),o=null},i),r;const a={dispose:QT(()=>{o&&clearTimeout(o),r&&clearTimeout(r),n?.dispose()},"dispose")};s>0&&(r=setTimeout(()=>a.dispose(),s)),this.currentStatusMessage=[t,a]}};OS=Kse([JT(1,t5),JT(2,Ns)],OS);var _7=Object.defineProperty,Gse=Object.getOwnPropertyDescriptor,ek=(t,e)=>_7(t,"name",{value:e,configurable:!0}),jse=(t,e,i,s)=>{for(var n=s>1?void 0:s?Gse(e,i):e,o=t.length-1,r;o>=0;o--)(r=t[o])&&(n=(s?r(e,i,n):r(n))||n);return s&&n&&_7(e,i,n),n},Mc=(t,e)=>(i,s)=>e(i,s,t);let Hl=class extends w1{constructor(t,e,i,s,n,o,r,a,l){super(n),this.container=t,this.model=e,this.instantiationService=i,this.layoutService=s,this.editorGroupService=o,this.contextKeyService=r,this.lifecycleService=a,this.hostService=l,this.registerListeners()}static{ek(this,"NotificationsToasts")}static MAX_WIDTH=450;static MAX_NOTIFICATIONS=3;static PURGE_TIMEOUT={[qs.Info]:15e3,[qs.Warning]:18e3,[qs.Error]:2e4};static SPAM_PROTECTION={interval:800,limit:this.MAX_NOTIFICATIONS};_onDidChangeVisibility=this._register(new I);onDidChangeVisibility=this._onDidChangeVisibility.event;_isVisible=!1;get isVisible(){return!!this._isVisible}notificationsToastsContainer;workbenchDimensions;isNotificationsCenterVisible;mapNotificationToToast=new Map;mapNotificationToDisposable=new Map;notificationsToastsVisibleContextKey=Da.bindTo(this.contextKeyService);addedToastsIntervalCounter=new bF(Hl.SPAM_PROTECTION.interval);registerListeners(){this._register(this.layoutService.onDidLayoutMainContainer(t=>this.layout(Vt.lift(t)))),this.lifecycleService.when(Xt.Restored).then(()=>{this.model.notifications.forEach(t=>this.addToast(t)),this._register(this.model.onDidChangeNotification(t=>this.onDidChangeNotification(t)))}),this._register(this.model.onDidChangeFilter(({global:t,sources:e})=>{if(t===Zt.ERROR)this.hide();else if(e)for(const[i]of this.mapNotificationToToast)typeof i.sourceId=="string"&&e.get(i.sourceId)===Zt.ERROR&&i.severity!==qs.Error&&i.priority!==Yn.URGENT&&this.removeToast(i)}))}onDidChangeNotification(t){switch(t.kind){case Vr.ADD:return this.addToast(t.item);case Vr.REMOVE:return this.removeToast(t.item)}}addToast(t){if(this.isNotificationsCenterVisible||t.priority===Yn.SILENT||this.addedToastsIntervalCounter.increment()>Hl.SPAM_PROTECTION.limit)return;const e=new Z;this.mapNotificationToDisposable.set(t,e),e.add(no(be(this.container),()=>this.doAddToast(t,e)))}doAddToast(t,e){let i=this.notificationsToastsContainer;i||(i=this.notificationsToastsContainer=document.createElement("div"),i.classList.add("notifications-toasts"),this.container.appendChild(i)),i.classList.add("visible");const s=document.createElement("div");s.classList.add("notification-toast-container");const n=i.firstChild;n?i.insertBefore(s,n):i.appendChild(s);const o=document.createElement("div");o.classList.add("notification-toast"),s.appendChild(o);const r=this.instantiationService.createInstance(jw,o,{verticalScrollMode:Jt.Hidden,widgetAriaLabel:t.source?c("notificationWithSourceAriaLabel","{0}, source: {1}, notification",t.message.raw,t.source):c("notificationAriaLabel","{0}, notification",t.message.raw)});e.add(r);const a={item:t,list:r,container:s,toast:o};this.mapNotificationToToast.set(t,a),e.add(Se(()=>this.updateToastVisibility(a,!1))),r.show();const l=this.computeMaxDimensions();this.layoutLists(l.width),r.updateNotificationsList(0,0,[t]),this.layoutContainer(l.height),e.add(t.onDidChangeExpansion(()=>{r.updateNotificationsList(0,1,[t])})),e.add(t.onDidChangeContent(h=>{switch(h.kind){case Ya.ACTIONS:r.updateNotificationsList(0,1,[t]);break;case Ya.MESSAGE:t.expanded&&r.updateNotificationHeight(t);break}})),R.once(t.onDidClose)(()=>{this.removeToast(t)}),this.purgeNotification(t,s,r,e),this.updateStyles(),this.notificationsToastsVisibleContextKey.set(!0),o.classList.add("notification-fade-in"),e.add(N(o,"transitionend",()=>{o.classList.remove("notification-fade-in"),o.classList.add("notification-fade-in-done")})),t.updateVisibility(!0),this._isVisible||(this._isVisible=!0,this._onDidChangeVisibility.fire())}purgeNotification(t,e,i,s){let n=!1;s.add(N(e,U.MOUSE_OVER,()=>n=!0)),s.add(N(e,U.MOUSE_OUT,()=>n=!1));let o,r;const a=ek(()=>{o=setTimeout(()=>{this.hostService.hasFocus?t.sticky||i.hasFocus()||n?a():this.removeToast(t):r||(r=this.hostService.onDidChangeFocus(l=>{l&&a()}),s.add(r))},Hl.PURGE_TIMEOUT[t.severity])},"hideAfterTimeout");a(),s.add(Se(()=>clearTimeout(o)))}removeToast(t){let e=!1;const i=this.mapNotificationToToast.get(t);i&&(xh(i.container)&&(e=!(this.focusNext()||this.focusPrevious())),this.mapNotificationToToast.delete(t));const s=this.mapNotificationToDisposable.get(t);s&&(ai(s),this.mapNotificationToDisposable.delete(t)),this.mapNotificationToToast.size>0?this.layout(this.workbenchDimensions):(this.doHide(),e&&this.editorGroupService.activeGroup.focus())}removeToasts(){this.mapNotificationToToast.clear(),this.mapNotificationToDisposable.forEach(t=>ai(t)),this.mapNotificationToDisposable.clear(),this.doHide()}doHide(){this.notificationsToastsContainer?.classList.remove("visible"),this.notificationsToastsVisibleContextKey.set(!1),this._isVisible&&(this._isVisible=!1,this._onDidChangeVisibility.fire())}hide(){const t=this.notificationsToastsContainer?xh(this.notificationsToastsContainer):!1;this.removeToasts(),t&&this.editorGroupService.activeGroup.focus()}focus(){const t=this.getToasts(2);return t.length>0?(t[0].list.focusFirst(),!0):!1}focusNext(){const t=this.getToasts(2);for(let e=0;e<t.length;e++)if(t[e].list.hasFocus()){const s=t[e+1];if(s)return s.list.focusFirst(),!0;break}return!1}focusPrevious(){const t=this.getToasts(2);for(let e=0;e<t.length;e++)if(t[e].list.hasFocus()){const s=t[e-1];if(s)return s.list.focusFirst(),!0;break}return!1}focusFirst(){const t=this.getToasts(2)[0];return t?(t.list.focusFirst(),!0):!1}focusLast(){const t=this.getToasts(2);return t.length>0?(t[t.length-1].list.focusFirst(),!0):!1}update(t){this.isNotificationsCenterVisible!==t&&(this.isNotificationsCenterVisible=t,this.isNotificationsCenterVisible&&this.removeToasts())}updateStyles(){this.mapNotificationToToast.forEach(({toast:t})=>{const e=this.getColor(Bd);t.style.background=e||"";const i=this.getColor(ng);t.style.boxShadow=i?`0 0 8px 2px ${i}`:"";const s=this.getColor(bH);t.style.border=s?`1px solid ${s}`:""})}getToasts(t){const e=[];return this.mapNotificationToToast.forEach(i=>{switch(t){case 0:e.push(i);break;case 1:this.isToastInDOM(i)||e.push(i);break;case 2:this.isToastInDOM(i)&&e.push(i);break}}),e.reverse()}layout(t){this.workbenchDimensions=t;const e=this.computeMaxDimensions();e.height&&this.layoutContainer(e.height),this.layoutLists(e.width)}computeMaxDimensions(){const t=Hl.MAX_WIDTH;let e=t,i;return this.workbenchDimensions&&(e=this.workbenchDimensions.width,e-=2*8,i=this.workbenchDimensions.height,this.layoutService.isVisible(P.STATUSBAR_PART,Q)&&(i-=22),this.layoutService.isVisible(P.TITLEBAR_PART,Q)&&(i-=22),i-=2*12),i=typeof i=="number"?Math.round(i*.618):0,new Vt(Math.min(t,e),i)}layoutLists(t){this.mapNotificationToToast.forEach(({list:e})=>e.layout(t))}layoutContainer(t){let e=0;for(const i of this.getToasts(0)){i.container.style.opacity="0",this.updateToastVisibility(i,!0),t-=i.container.offsetHeight;let s=!1;e===Hl.MAX_NOTIFICATIONS?s=!1:t>=0&&(s=!0),this.updateToastVisibility(i,s),i.container.style.opacity="",s&&e++}}updateToastVisibility(t,e){if(this.isToastInDOM(t)===e)return;const i=di(this.notificationsToastsContainer);e?i.appendChild(t.container):t.container.remove(),t.item.updateVisibility(e)}isToastInDOM(t){return!!t.container.parentElement}};Hl=jse([Mc(2,rt),Mc(3,lt),Mc(4,Vi),Mc(5,Dm),Mc(6,Qe),Mc(7,Xr),Mc(8,ho)],Hl);var qse=Object.defineProperty,tk=(t,e)=>qse(t,"name",{value:e,configurable:!0});class ore extends iie{constructor(e,i,s,n){super(e),this.options=i,this.serviceCollection=s,Mt("code/willStartWorkbench"),this.registerErrorHandler(n)}static{tk(this,"Workbench")}_onWillShutdown=this._register(new I);onWillShutdown=this._onWillShutdown.event;_onDidShutdown=this._register(new I);onDidShutdown=this._onDidShutdown.event;registerErrorHandler(e){Q.addEventListener("unhandledrejection",i=>{ss(i.reason),i.preventDefault()}),ok(i=>this.handleUnexpectedError(i,e))}previousUnexpectedError={message:void 0,time:0};handleUnexpectedError(e,i){const s=mc(e,!0);if(!s)return;const n=Date.now();s===this.previousUnexpectedError.message&&n-this.previousUnexpectedError.time<=1e3||(this.previousUnexpectedError.time=n,this.previousUnexpectedError.message=s,i.error(s))}startup(){try{this._register(Sk(175));const e=this.initServices(this.serviceCollection);return e.invokeFunction(i=>{const s=i.get(Xr),n=i.get(as),o=i.get(Ke),r=i.get(ho),a=i.get(Ss),l=i.get(rl),h=i.get(Ns);dP((d,u)=>e.createInstance(h0,d,u,{})),hP(a),this.initLayout(i),ui.as(lp.Workbench).start(i),ui.as(vD.EditorFactory).start(i),this._register(e.createInstance(C0)),this.registerListeners(s,n,o,r,l),this.renderWorkbench(e,h,n,o),this.createWorkbenchLayout(),this.layout(),this.restore(s)}),e}catch(e){throw ss(e),e}}initServices(e){e.set(lt,this);const i=k4();for(const[n,o]of i)e.set(n,o);const s=new Kv(e,!0);return s.invokeFunction(n=>{const o=n.get(Xr),r=n.get(Ke);typeof r.acquireInstantiationService=="function"&&r.acquireInstantiationService(s),o.phase=Xt.Ready}),s}registerListeners(e,i,s,n,o){this._register(s.onDidChangeConfiguration(r=>this.updateFontAliasing(r,s))),dn?this._register(i.onWillSaveState(r=>{r.reason===oR.SHUTDOWN&&this.storeFontInfo(i)})):this._register(e.onWillShutdown(()=>this.storeFontInfo(i))),this._register(e.onWillShutdown(r=>this._onWillShutdown.fire(r))),this._register(e.onDidShutdown(()=>{this._onDidShutdown.fire(),this.dispose()})),this._register(n.onDidChangeFocus(r=>{r||i.flush()})),this._register(o.onWillShowDialog(()=>this.mainContainer.classList.add("modal-dialog-visible"))),this._register(o.onDidShowDialog(()=>this.mainContainer.classList.remove("modal-dialog-visible")))}fontAliasing;updateFontAliasing(e,i){if(!He||e&&!e.affectsConfiguration("workbench.fontAliasing"))return;const s=i.getValue("workbench.fontAliasing");if(this.fontAliasing===s)return;this.fontAliasing=s;const n=["antialiased","none","auto"];this.mainContainer.classList.remove(...n.map(o=>`monaco-font-aliasing-${o}`)),n.some(o=>o===s)&&this.mainContainer.classList.add(`monaco-font-aliasing-${s}`)}restoreFontInfo(e,i){const s=e.get("editorFontInfo",_e.APPLICATION);if(s)try{const n=JSON.parse(s);Array.isArray(n)&&My.restoreFontInfo(Q,n)}catch{}My.readFontInfo(Q,sh.createFromRawSettings(i.getValue("editor"),q_.getInstance(Q).value))}storeFontInfo(e){const i=My.serializeFontInfo(Q);i&&e.store("editorFontInfo",JSON.stringify(i),_e.APPLICATION,Pt.MACHINE)}renderWorkbench(e,i,s,n){lP(this.mainContainer),gP((a,l)=>e.createInstance(l0,a,l));const o=Lt?"windows":Ni?"linux":"mac",r=Tn(["monaco-workbench",o,Qt?"web":void 0,Zw?"chromium":Ah?"firefox":$p?"safari":void 0,...this.getLayoutClasses(),...this.options?.extraClasses?this.options.extraClasses:[]]);this.mainContainer.classList.add(...r),Q.document.body.classList.add(o),Qt&&Q.document.body.classList.add("web"),this.updateFontAliasing(void 0,n),this.restoreFontInfo(s,n);for(const{id:a,role:l,classes:h,options:d}of[{id:P.TITLEBAR_PART,role:"none",classes:["titlebar"]},{id:P.BANNER_PART,role:"banner",classes:["banner"]},{id:P.ACTIVITYBAR_PART,role:"none",classes:["activitybar",this.getSideBarPosition()===Je.LEFT?"left":"right"]},{id:P.SIDEBAR_PART,role:"none",classes:["sidebar",this.getSideBarPosition()===Je.LEFT?"left":"right"]},{id:P.EDITOR_PART,role:"main",classes:["editor"],options:{restorePreviousState:this.willRestoreEditors()}},{id:P.PANEL_PART,role:"none",classes:["panel","basepanel",In(this.getPanelPosition())]},{id:P.AUXILIARYBAR_PART,role:"none",classes:["auxiliarybar","basepanel",this.getSideBarPosition()===Je.LEFT?"right":"left"]},{id:P.STATUSBAR_PART,role:"status",classes:["statusbar"]}]){const u=this.createPart(a,l,h);Mt(`code/willCreatePart/${a}`),this.getPart(a).create(u,d),Mt(`code/didCreatePart/${a}`)}this.createNotificationsHandlers(e,i),this.parent.appendChild(this.mainContainer)}createPart(e,i,s){const n=document.createElement(i==="status"?"footer":"div");return n.classList.add("part",...s),n.id=e,n.setAttribute("role",i),i==="status"&&n.setAttribute("aria-live","off"),n}createNotificationsHandlers(e,i){const s=this._register(e.createInstance(uh,this.mainContainer,i.model)),n=this._register(e.createInstance(Hl,this.mainContainer,i.model));this._register(e.createInstance(Lse,i.model));const o=e.createInstance(OS,i.model);this._register(e.createInstance(kS)),this._register(s.onDidChangeVisibility(()=>{o.update(s.isVisible,n.isVisible),n.update(s.isVisible)})),this._register(n.onDidChangeVisibility(()=>{o.update(s.isVisible,n.isVisible)})),h7(s,n,i.model),mU.register(new Tse),this.registerNotifications({onDidChangeNotificationsVisibility:R.map(R.any(n.onDidChangeVisibility,s.onDidChangeVisibility),()=>n.isVisible||s.isVisible)})}restore(e){try{this.restoreParts()}catch(i){ss(i)}this.whenReady.finally(()=>Promise.race([this.whenRestored,Za(2e3)]).finally(()=>{function i(){Mt("code/didStartWorkbench"),performance.measure("perf: workbench create & restore","code/didLoadWorkbenchMain","code/didStartWorkbench")}tk(i,"markDidStartWorkbench"),this.isRestored()?i():this.whenRestored.finally(()=>i()),e.phase=Xt.Restored,this._register(new Ls(()=>{this._register(wC(Q,()=>e.phase=Xt.Eventually,2500))},2500)).schedule()}))}}});export default Yse();
